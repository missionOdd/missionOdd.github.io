<!DOCTYPE html>
<html>
<!--
„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ  „ÄÄ„ÄÄ„ÄÄ/„ÉΩ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ/„ÉΩ
„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ „ÄÄ„ÄÄ „ÄÄ„ÄÄ/ „ÄÄ„ÉΩ„ÄÄ„ÄÄ„ÄÄ „ÄÄ / „ÄÄ„ÉΩ
„ÄÄ   „ÄÄÔºøÔºøÔºøÔºøÔºøÔºø / „ÄÄ „ÄÄ „ÉΩÔºøÔºø/„ÄÄ „ÄÄ „ÄÄ„ÉΩ
„ÄÄ   „ÄÄ|„ÄÄÔºøÔºøÔºøÔºøÔºè„ÄÄ„ÄÄ„ÄÄ „ÄÄ „ÄÄ „ÄÄ„ÄÄ   :::::::::Ôºº
  „ÄÄ„ÄÄ| |„ÄÄ„ÄÄ„ÄÄ„ÄÄ / Ôºè„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄÔºº „ÄÄ „ÄÄ::::::::::::|
„ÄÄ „ÄÄ| |„ÄÄQQ„ÄÄ„ÄÄ„ÄÄ| Ôºà ‚óèÔºâ„ÄÄ„ÄÄ„ÄÄ Ôºà‚óèÔºâ  „ÄÄ ::::::::::::|
„ÄÄ„ÄÄ| |191965461 |„ÄÄ „ÄÄ„ÄÄ„ÄÄ „ÄÄ„ÄÄ„ÄÄ„ÄÄ  „ÄÄ:::::::::::::|    Êú¨‰∫∫‰∏Ä‰ª£Á†ÅËèúÈÄº
„ÄÄ„ÄÄ| |„ÄÄ„ÄÄ„ÄÄ„ÄÄ „ÄÄ|„ÄÄ „ÄÄÔºà__‰∫∫__‰∏ø   „ÄÄ.....:::::::::::::/   1998Áîü
   | |ÔºøÔºøÔºøÔºø„ÄÄ„ÉΩ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ    .....::::::::::::::::::::<    ÂÆÖ
„ÄÄ ‚îîÔºøÔºøÔºøÔºèÔø£Ôø£„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ    „ÄÄ:::::::::::::::::::::::::|  Ê¨¢ËøéÂãæÊê≠
„ÄÄ„ÄÄ|Ôºº„ÄÄ„ÄÄ„ÄÄ |„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ:::::::::::::::::::::|
„ÄÄ„ÄÄÔºº Ôºº„ÄÄ„ÄÄÔººÔºøÔºøÔºø„ÄÄ„ÄÄ„ÄÄ„ÄÄ „ÄÄ„ÄÄ ::::::::::::::::::::::::|

-->
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    
    <title>Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ | üéâ Missionary&#39;s Blog üòÜ | Missionary ‰∏≠ÂõΩ üëã</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="java,ÊäÄÊúØ,Èù¢ËØï,Â§ç‰π†">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.css">
    <link rel="stylesheet" href="/css/style.css?v=1.4.4">

    
        <link rel="stylesheet" href="/css/third-party/gitment.css?v=1.4.4">
    
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false,"app_id":"7yVfPXhFH02yrjkOWJ2agpo6-gzGzoHsz","app_key":"CGsuOukhiIkc4nE75fKtUtXy","icon":true}'),
            v: JSON.parse('{"enable":true,"appid":"7yVfPXhFH02yrjkOWJ2agpo6-gzGzoHsz","appkey":"CGsuOukhiIkc4nE75fKtUtXy","notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar","highlight":true}'),
            g: JSON.parse('{"enable":true,"lazy":true,"owner":"missionOdd","repo":"FAQ","oauth":{"client_id":"3dffefee0452a0a23205","client_secret":"1b1394230850e312a0a178bdd41c4e70893d759f"},"perPage":6}'),
            d: JSON.parse('{"app_id":"8997440a"}')
        };
    </script>
    <script type="text/javascript">
        window.lazyScripts=[];
    </script>
    
        <script type="text/javascript" src="/js/plugins/daovoice.js?v=1.4.4"></script>
    

<link rel="alternate" href="/atom.xml" title="üéâ Missionary's Blog üòÜ" type="application/atom+xml">
</head>

<script src="//cdnjs.cat.net/ajax/libs/pace/1.0.2/pace.min.js"></script>
<link href="//cdnjs.cat.net/ajax/libs/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<link rel="stylesheet" href="//cdnjs.loli.net/ajax/libs/mdui/0.4.1/css/mdui.min.css">
<link rel="stylesheet"  href="//cdnjs.cat.net/ajax/libs/animate.css/3.5.2/animate.min.css">
<link rel="stylesheet" href="/css/custom.css?v=1.4.4">
<link href="//cdnjs.cat.net/ajax/libs/photoswipe/4.1.2/photoswipe.css" rel="stylesheet">
<link href="//cdnjs.cat.net/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.css" rel="stylesheet">

<body>
    <div id="loading" class="active mdui-progress">
  <div class="mdui-progress-determinate"></div>
</div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light rubberBand ">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Missionary</h5>
          <a href="mailto:z1165996866@hotmail.com" title="z1165996866@hotmail.com" class="mail">
            
              <span>z</span>
            
              <span>1</span>
            
              <span>1</span>
            
              <span>6</span>
            
              <span>5</span>
            
              <span>9</span>
            
              <span>9</span>
            
              <span>6</span>
            
              <span>8</span>
            
              <span>6</span>
            
              <span>6</span>
            
              <span>@</span>
            
              <span>h</span>
            
              <span>o</span>
            
              <span>t</span>
            
              <span>m</span>
            
              <span>a</span>
            
              <span>i</span>
            
              <span>l</span>
            
              <span>.</span>
            
              <span>c</span>
            
              <span>o</span>
            
              <span>m</span>
            
          </a>
          <a href="/atom.xml" rel="alternate" class="mdui-btn mdui-btn-dense mdui-color-theme-accent mdui-ripple">
              <i class="fa fa-rss"></i>
              RSSËÆ¢ÈòÖ
            </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://github.com/missionOdd" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://leetcode-cn.com/u/missionary" target="_blank">
                  <i class="icon icon-lg icon-gg-circle"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/" >
                <i class="icon icon-lg icon-home"></i>
                HOME
              </a>
            </li>
        
            <li class="">
              <a href="/photos" >
                <i class="icon icon-lg icon-camera"></i>
                PHOTOS
              </a>
            </li>
        
            <li class="">
              <a href="/books" >
                <i class="icon icon-lg icon-book"></i>
                BOOKS
              </a>
            </li>
        
            <li class="">
              <a href="/categories" >
                <i class="icon icon-lg icon-th-list"></i>
                CATEGORIES
              </a>
            </li>
        
            <li class="">
              <a href="/tags" >
                <i class="icon icon-lg icon-tags"></i>
                TAGS
              </a>
            </li>
        
            <li class="">
              <a href="/archives" >
                <i class="icon icon-lg icon-archives"></i>
                ARCHIVES
              </a>
            </li>
        
            <li class="">
              <a href="/about" >
                <i class="icon icon-lg icon-user"></i>
                ABOUT
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/missionOdd" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                GITHUB
              </a>
            </li>
        
            <li class="">
              <a href="https://leetcode-cn.com/u/missionary/" target="_blank">
                <i class="icon icon-lg icon-gg-circle"></i>
                LEETCODE
              </a>
            </li>
        
            <li class="">
              <a href="http://weibo.com/missionodd" target="_blank">
                <i class="icon icon-lg icon-weibo"></i>
                WEIBO
              </a>
            </li>
        
            <li class="">
              <a href="/custom" >
                <i class="icon icon-lg icon-plus-square"></i>
                LINKS
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ</span>
            
        </div>
        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg">
    <div class="container fade-scale">
        <h1 class="title animated tada delay-5s">Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ</h1>
        <h5 class="subtitle animated swing delay-5s">
            
                <time datetime="2022-01-03T05:50:37.000Z" itemprop="datePublished" class="page-time">
  2022-01-03
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ÊäÄÊúØ/">ÊäÄÊúØ</a></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>



<div class="container body-wrap">
    <article id="post-java-design"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ</h1>
        <div class="post-meta">
          
            <time class="post-time" title="2022-01-03 13:50:37" datetime="2022-01-03T05:50:37.000Z"  itemprop="datePublished">2022-01-03</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ÊäÄÊúØ/">ÊäÄÊúØ</a></li></ul>



            

            
<span class="post-comments-counter" id="/2022/01/03/java-design/">
    <span class="post-meta-item-icon">
        <i class="icon icon-comment-o"></i>
    </span>
    
    <a href="/2022/01/03/java-design/#gitment-display-button" onclick="ShowGitment()">
        <span class="post-comments-count gitment-comments-count" itemprop="commentsCount"></span>
    </a>
</span>



    <span class="leancloud-comment">
        <i class="icon icon-comment-o"></i>
        <a href="/2022/01/03/java-design/#comment">
            <span class="valine-comment-count" data-xid="/2022/01/03/java-design/"></span>
        </a>
    </span>


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <ul>
<li><a href="#‰∏ÄesÁØá">‰∏Ä„ÄÅESÁØá</a><ul>
<li><a href="#1Ê¶ÇËø∞">1„ÄÅÊ¶ÇËø∞</a><ul>
<li><a href="#ÁâπÁÇπ">ÁâπÁÇπ</a></li>
<li><a href="#ÂäüËÉΩ">ÂäüËÉΩ</a></li>
<li><a href="#Âú∫ÊôØ">Âú∫ÊôØ</a></li>
<li><a href="#Á´ûÂìÅÂàÜÊûê">Á´ûÂìÅÂàÜÊûê</a></li>
<li><a href="#ÂØπÊØî">ÂØπÊØî</a></li>
</ul>
</li>
<li><a href="#2Âü∫Êú¨Ê¶ÇÂøµ">2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ</a><ul>
<li><a href="#ikÂàÜËØçÂô®">IKÂàÜËØçÂô®</a></li>
<li><a href="#Á¥¢ÂºïÁ±ªÊï∞ÊçÆÂ∫ì">Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ</a></li>
<li><a href="#Êò†Â∞ÑÁ±ªË°®ËÆæËÆ°">Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ</a></li>
<li><a href="#ÊñáÊ°£Êï∞ÊçÆ">ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ</a></li>
</ul>
</li>
<li><a href="#3È´òÁ∫ßÁâπÊÄß">3„ÄÅÈ´òÁ∫ßÁâπÊÄß</a><ul>
<li><a href="#Êò†Â∞ÑÈ´òÁ∫ß">Êò†Â∞ÑÈ´òÁ∫ß</a><ul>
<li><a href="#Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã"><strong>Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã</strong></a></li>
<li><a href="#Âä®ÊÄÅÊò†Â∞Ñ">Âä®ÊÄÅÊò†Â∞Ñ</a></li>
</ul>
</li>
<li><a href="#dslÈ´òÁ∫ß">DSLÈ´òÁ∫ß</a></li>
<li><a href="#ËÅöÂêàÂàÜÊûê"><strong>ËÅöÂêàÂàÜÊûê</strong></a></li>
<li><a href="#Êô∫ËÉΩÊêúÁ¥¢"><strong>Êô∫ËÉΩÊêúÁ¥¢</strong></a></li>
</ul>
</li>
<li><a href="#4ÂÆûÊàò">4„ÄÅÂÆûÊàò</a><ul>
<li><a href="#ÂÜô‰ºòÂåñ">ÂÜô‰ºòÂåñ</a></li>
<li><a href="#ËØª‰ºòÂåñ">ËØª‰ºòÂåñ</a></li>
<li><a href="#Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à">Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à</a></li>
<li><a href="#deeppagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à">DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#‰∫ådockerk8sÁØá">‰∫åÔºöDocker&amp;K8SÁØá</a><ul>
<li><a href="#why-docker">Why Docker</a></li>
<li><a href="#Ê†∏ÂøÉÊ¶ÇÂøµ">Ê†∏ÂøÉÊ¶ÇÂøµ</a></li>
<li><a href="#Âü∫Êú¨Êìç‰Ωú">Âü∫Êú¨Êìç‰Ωú</a></li>
<li><a href="#ÂÆûÊàò">ÂÆûÊàò</a></li>
</ul>
</li>
<li><a href="#‰∏ânettyÁØá">‰∏â„ÄÅNettyÁØá</a><ul>
<li><a href="#Ê†∏ÂøÉÁªÑ‰ª∂">Ê†∏ÂøÉÁªÑ‰ª∂</a><ul>
<li><a href="#1Êï¥‰ΩìÁªìÊûÑ">1„ÄÅÊï¥‰ΩìÁªìÊûÑ</a></li>
<li><a href="#2ÈÄªËæëÊû∂ÊûÑ">2„ÄÅÈÄªËæëÊû∂ÊûÑ</a></li>
</ul>
</li>
<li><a href="#ÁΩëÁªú‰º†Ëæì">ÁΩëÁªú‰º†Ëæì</a><ul>
<li><a href="#1‰∫îÁßçioÊ®°ÂûãÁöÑÂå∫Âà´"><strong>1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´</strong></a></li>
<li><a href="#2reactorÂ§öÁ∫øÁ®ãÊ®°Âûã">2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã</a></li>
<li><a href="#3ÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò">3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò</a></li>
<li><a href="#4Ëá™ÂÆö‰πâÂçèËÆÆ">4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ</a></li>
<li><a href="#5writeandflush">5„ÄÅWriteAndFlush</a></li>
</ul>
</li>
<li><a href="#ÂÜÖÂ≠òÁÆ°ÁêÜ">ÂÜÖÂ≠òÁÆ°ÁêÜ</a><ul>
<li><a href="#1Â†ÜÂ§ñÂÜÖÂ≠ò">1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò</a></li>
<li><a href="#2Êï∞ÊçÆËΩΩ‰Ωìbytebuf">2„ÄÅ<strong>Êï∞ÊçÆËΩΩ‰ΩìByteBuf</strong></a></li>
<li><a href="#3ÂÜÖÂ≠òÂàÜÈÖçjemalloc">3„ÄÅ<strong>ÂÜÖÂ≠òÂàÜÈÖçjemalloc</strong></a></li>
<li><a href="#4jemalloc-Êû∂ÊûÑ">4„ÄÅjemalloc Êû∂ÊûÑ</a></li>
<li><a href="#5ÂÜÖÂ≠òÊ±†ËÆæËÆ°ÂæÖË°•ÂÖÖ">5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ</a></li>
<li><a href="#6recycleÂØπË±°Ê±†ÂæÖË°•ÂÖÖ">6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ</a></li>
<li><a href="#7Èõ∂Êã∑Ë¥ùÊäÄÊúØ">7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ</a></li>
</ul>
</li>
<li><a href="#È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ">È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ</a><ul>
<li><a href="#1fastthreadlocal">1„ÄÅFastThreadLocal</a></li>
<li><a href="#2hashedtimerwheel">2„ÄÅ<strong>HashedTimerWheel</strong></a></li>
<li><a href="#3mpscqueue">3„ÄÅMpscQueue</a></li>
<li><a href="#4selectpollepollÁöÑÂå∫Âà´">4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Âõõleetcode">Âõõ„ÄÅLEETCODE</a><ul>
<li><a href="#pythonËØ≠Ê≥ï">„ÄêPythonËØ≠Ê≥ï„Äë</a></li>
<li><a href="#ËÉåÂåÖÊ®°Êùø">„ÄêËÉåÂåÖÊ®°Êùø„Äë</a></li>
<li><a href="#ÂõûÊ∫ØÊ®°Êùø">„ÄêÂõûÊ∫ØÊ®°Êùø„Äë</a></li>
<li><a href="#Âπ∂Êü•ÈõÜÊ®°Êùø">„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë</a></li>
<li><a href="#ÊãìÊâëÊéíÂ∫èÊ®°Êùø">„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë</a></li>
<li><a href="#ÂçïË∞ÉÊ†àÊ®°Êùø"><strong>„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë</strong></a></li>
<li><a href="#‰∫åÂàÜÊ®°Êùø">„Äê‰∫åÂàÜÊ®°Êùø„Äë</a></li>
<li><a href="#Âä®ÊÄÅËßÑÂàíÊ®°Êùø">„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë</a><ul>
<li><a href="#Âçï‰∏≤ÈóÆÈ¢ò">„Äå<strong>Âçï‰∏≤ÈóÆÈ¢ò</strong>„Äç</a></li>
<li><a href="#Âçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò">„Äå<strong>Âçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò</strong>„Äç</a></li>
<li><a href="#ÁªèÂÖ∏Âèå‰∏≤lcsÈóÆÈ¢ò">„Äå<strong>ÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò</strong>„Äç</a></li>
<li><a href="#Âå∫Èó¥Âä®ÊÄÅËßÑÂàí">„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç</a></li>
<li><a href="#Âå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí"><strong>„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç</strong></a></li>
</ul>
</li>
<li><a href="#ÊªëÂä®Á™óÂè£">„ÄêÊªëÂä®Á™óÂè£„Äë</a></li>
<li><a href="#ÂâçÁºÄÂíå">„ÄêÂâçÁºÄÂíå„Äë</a></li>
<li><a href="#ÂèåÊåáÈíà">„ÄêÂèåÊåáÈíà„Äë</a></li>
<li><a href="#Ê∑±Â∫¶‰ºòÂÖà">„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë</a></li>
<li><a href="#ÂπøÂ∫¶‰ºòÂÖà">„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë</a></li>
<li><a href="#ÂõæËÆ∫">„ÄêÂõæËÆ∫„Äë</a></li>
</ul>
</li>
<li><a href="#‰∫îÂÆûÊàòÁÆóÊ≥ïÁØá">‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá</a><ul>
<li><a href="#1urlÈªëÂêçÂçïÂ∏ÉÈöÜËøáÊª§Âô®"><strong>1„ÄÅ</strong>URLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ</a></li>
<li><a href="#2ËØçÈ¢ëÁªüËÆ°ÂàÜÊñá‰ª∂">2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ</a></li>
<li><a href="#3Êú™Âá∫Áé∞ÁöÑÊï∞bitÊï∞ÁªÑ"><strong>3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞</strong>ÔºàbitÊï∞ÁªÑÔºâ</a></li>
<li><a href="#4ÈáçÂ§çurlÂàÜÊú∫Âô®"><strong>4„ÄÅÈáçÂ§çURL</strong>ÔºàÂàÜÊú∫Âô®Ôºâ</a></li>
<li><a href="#5topkÊêúÁ¥¢Â∞èÊ†πÂ†Ü"><strong>5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ</strong></a></li>
<li><a href="#6‰∏≠‰ΩçÊï∞ÂçïÂêë‰∫åÂàÜÊü•Êâæ"><strong>6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ</strong></a></li>
<li><a href="#7Áü≠ÂüüÂêçÁ≥ªÁªüÁºìÂ≠ò"><strong>7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ</strong></a></li>
<li><a href="#8Êµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÊ∂àÊÅØÈòüÂàó"><strong>8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ</strong></a></li>
<li><a href="#9Âú®Á∫øÂπ∂ÂèëÁî®Êà∑Êï∞redis"><strong>9„ÄÅÂú®Á∫ø/Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ</strong></a></li>
<li><a href="#10ÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÂâçÁºÄÊ†ë">10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ</a></li>
<li><a href="#11Á∫¢ÂåÖÁÆóÊ≥ï">11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï</a></li>
<li><a href="#11ÊâãÂÜôÂø´Êéí">11„ÄÅÊâãÂÜôÂø´Êéí</a></li>
<li><a href="#12ÊâãÂÜôÂΩíÂπ∂">12„ÄÅÊâãÂÜôÂΩíÂπ∂</a></li>
<li><a href="#13ÊâãÂÜôÂ†ÜÊéí">13„ÄÅÊâãÂÜôÂ†ÜÊéí</a></li>
<li><a href="#14ÊâãÂÜôÂçï‰æã">14„ÄÅÊâãÂÜôÂçï‰æã</a></li>
<li><a href="#15ÊâãÂÜôlrucache">15„ÄÅÊâãÂÜôLRUcache</a></li>
<li><a href="#16ÊâãÂÜôÁ∫øÁ®ãÊ±†"><strong>16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†</strong></a></li>
<li><a href="#17ÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè"><strong>17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè</strong></a></li>
<li><a href="#18ÊâãÂÜôÈòªÂ°ûÈòüÂàó"><strong>18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó</strong></a></li>
<li><a href="#19ÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞abc"><strong>19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC</strong></a></li>
<li><a href="#20‰∫§ÊõøÊâìÂç∞foobar">20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar</a></li>
</ul>
</li>
<li><a href="#ÂÖ≠‰∏™‰∫∫È°πÁõÆ"><strong>ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ</strong></a><ul>
<li><a href="#‰∏Ä‰∏ÄÁ´ôÂà∞Â∫ï"><strong>‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï</strong></a><ul>
<li><a href="#1Â¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú">1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú</a><ul>
<li><a href="#ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã">ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã</a></li>
<li><a href="#ÊñπÊ°à‰ºòÂåñËøáÁ®ã">ÊñπÊ°à‰ºòÂåñËøáÁ®ã</a></li>
<li><a href="#ÊñπÊ°à1ÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÂΩìÊó•Ê±áËÅöË¥πÊó∂Èó¥">ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ</a></li>
<li><a href="#ÊñπÊ°à2ÂÖ®Â±Än‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôË¥πÁ©∫Èó¥">ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ</a></li>
<li><a href="#ÊñπÊ°à3ÂÆûÊó∂Êõ¥Êñ∞Â∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú">ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú</a></li>
</ul>
</li>
<li><a href="#2Â¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò">2„ÄÅ<strong>Â¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò</strong></a></li>
<li><a href="#3‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î"><strong>3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î</strong></a></li>
<li><a href="#4Â¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç"><strong>4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç</strong></a></li>
<li><a href="#5Â¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°"><strong>5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°</strong></a></li>
<li><a href="#6Â¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû"><strong>6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû</strong></a></li>
</ul>
</li>
<li><a href="#‰∫åÁßíÊùÄÈ°πÁõÆ">‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ</a><ul>
<li><a href="#ÊäÄÊúØÈÄâÂûã"><strong>ÊäÄÊúØÈÄâÂûã</strong></a></li>
<li><a href="#ÊñπÊ°àËÆæËÆ°">ÊñπÊ°àËÆæËÆ°</a></li>
<li><a href="#1Â¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñ"><strong>1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü</strong></a></li>
<li><a href="#2Â¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçï"><strong>2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü</strong></a></li>
<li><a href="#3Â¶Ç‰ΩïÈò≤Âà∑"><strong>3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü</strong></a></li>
<li><a href="#4ÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥"><strong>4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü</strong></a></li>
<li><a href="#5Â∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç"><strong>5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç</strong></a></li>
<li><a href="#6Â∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç"><strong>6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç</strong></a></li>
<li><a href="#7Â¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß"><strong>7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß</strong></a></li>
<li><a href="#8ÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú">8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú**</a></li>
<li><a href="#9ÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó">9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó</a></li>
</ul>
</li>
<li><a href="#‰∏âÂç≥Êó∂ÈÄö‰ø°">‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°</a><ul>
<li><a href="#1ÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì">1„ÄÅ<strong>ÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì</strong></a></li>
<li><a href="#2Áæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç"><strong>2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç</strong></a></li>
<li><a href="#3Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß">3„ÄÅ<strong>Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß</strong></a></li>
<li><a href="#4Êé®ÊãâÁªìÂêà"><strong>4ÔºöÊé®ÊãâÁªìÂêà</strong></a></li>
<li><a href="#5Â•ΩÂèãÊé®Ëçê">5„ÄÅÂ•ΩÂèãÊé®Ëçê</a></li>
</ul>
</li>
<li><a href="#ÂõõÊô∫ÊÖßÁ§æÂå∫">Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫</a><ul>
<li><a href="#Áâ©ËÅîÁΩëÊû∂ÊûÑ"><strong>Áâ©ËÅîÁΩëÊû∂ÊûÑ</strong></a><ul>
<li><a href="#dcmÁ≥ªÁªüÊû∂ÊûÑ">DCMÁ≥ªÁªüÊû∂ÊûÑ</a></li>
<li><a href="#‰∏âË¶ÅÁ¥†"><strong>‰∏âË¶ÅÁ¥†</strong></a></li>
<li><a href="#‰∫ë--Ëæπ--Á´ØÂçèÂêå">‰∫ë / Ëæπ / Á´ØÂçèÂêå</a></li>
<li><a href="#Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•">Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•</a></li>
<li><a href="#Èó®ÈîÅÊé•ÂÖ•">Èó®ÈîÅÊé•ÂÖ•</a></li>
<li><a href="#ÂêÑÁßçÂçèËÆÆ">ÂêÑÁßçÂçèËÆÆ</a></li>
</ul>
</li>
<li><a href="#iotÊµÅÈáèÊ¥™Â≥∞">IOTÊµÅÈáèÊ¥™Â≥∞</a></li>
<li><a href="#Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß">Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß</a><ul>
<li><a href="#‰∫ßÂìÅÁöÑËÉåÊôØ"><strong>‰∫ßÂìÅÁöÑËÉåÊôØ</strong></a></li>
<li><a href="#Èù¢‰∏¥ÁöÑÊåëÊàò">Èù¢‰∏¥ÁöÑÊåëÊàò</a></li>
<li><a href="#ÂçèËÆÆÁöÑÊØîËæÉ">ÂçèËÆÆÁöÑÊØîËæÉ</a></li>
<li><a href="#Êï¥‰ΩìÊµÅÁ®ã">Êï¥‰ΩìÊµÅÁ®ã</a></li>
<li><a href="#Áõ¥Êí≠ÊµÅÁ®ã"><strong>Áõ¥Êí≠ÊµÅÁ®ã</strong></a></li>
<li><a href="#Êí≠ÊîæÊµÅÁ®ã">Êí≠ÊîæÊµÅÁ®ã</a></li>
</ul>
</li>
<li><a href="#Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à"><strong>Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à</strong></a></li>
<li><a href="#ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à"><strong>ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à</strong></a></li>
<li><a href="#ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï">ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#‰∏ÉÊû∂ÊûÑËÆæËÆ°"><strong>‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°</strong></a><ul>
<li><a href="#1Á§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ">1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ</a></li>
<li><a href="#2ÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®">2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®</a></li>
<li><a href="#3ÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß">3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß</a></li>
<li><a href="#4Áî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•">4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•</a></li>
<li><a href="#5ÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°">5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°</a></li>
<li><a href="#6ÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞"><strong>6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞</strong></a></li>
<li><a href="#7Á≥ªÁªüËÆæËÆ°---ÂæÆËΩØ">7„ÄÅÁ≥ªÁªüËÆæËÆ° - ÂæÆËΩØ</a><ul>
<li><a href="#1ÈúÄÊ±ÇÊî∂ÈõÜ"><strong>1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ</strong></a></li>
<li><a href="#2È°∂Â±ÇËÆæËÆ°"><strong>2„ÄÅÈ°∂Â±ÇËÆæËÆ°</strong></a></li>
<li><a href="#3Á≥ªÁªüÊ†∏ÂøÉÊåáÊ†á"><strong>3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á</strong></a></li>
<li><a href="#4Êï∞ÊçÆÂ≠òÂÇ®">4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®</a></li>
</ul>
</li>
<li><a href="#7Â¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö">7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö</a></li>
</ul>
</li>
<li><a href="#ÂÖ´È¢ÜÂüüÊ®°ÂûãËêΩÂú∞">ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞</a><ul>
<li><a href="#1ÊãÜÂàÜÂæÆÊúçÂä°">1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°</a></li>
<li><a href="#2ÂÖ≥ËÅîÂæÆÊúçÂä°">2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°</a></li>
<li><a href="#3ÂæÆÊúçÂä°ÁöÑËêΩÂú∞"><strong>3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞</strong></a></li>
<li><a href="#4È¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ">4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ</a></li>
<li><a href="#5ÊàòÁï•Âª∫Ê®°">5„ÄÅÊàòÁï•Âª∫Ê®°</a></li>
<li><a href="#6Áõ∏ÂÖ≥ÂêçËØç"><strong>6„ÄÅÁõ∏ÂÖ≥ÂêçËØç</strong></a></li>
</ul>
</li>
</ul>
<h1 id="‰∏Ä„ÄÅESÁØá"><a href="#‰∏Ä„ÄÅESÁØá" class="headerlink" title="‰∏Ä„ÄÅESÁØá"></a>‰∏Ä„ÄÅESÁØá</h1><blockquote>
<p>ElasticsearchÂèØ‰ª•ÂÆûÁé∞<strong>ÁßíÁ∫ß</strong>ÁöÑÊêúÁ¥¢ÔºåclusterÊòØ‰∏ÄÁßçÂàÜÂ∏ÉÂºèÁöÑÈÉ®ÁΩ≤ÔºåÊûÅ<strong>ÊòìÊâ©Â±ï(scale )</strong>ËøôÊ†∑ÂæàÂÆπÊòì‰ΩøÂÆÉÂ§ÑÁêÜPBÁ∫ßÁöÑÊï∞ÊçÆÂ∫ìÂÆπÈáè„ÄÇÊúÄÈáçË¶ÅÁöÑÊòØElasticsearchÊòØÂÆÉÊêúÁ¥¢ÁöÑÁªìÊûúÂèØ‰ª•ÊåâÁÖßÂàÜÊï∞ËøõË°åÊéíÂ∫èÔºåÂÆÉËÉΩÊèê‰æõÊàë‰ª¨ÊúÄ<strong>Áõ∏ÂÖ≥</strong>ÁöÑÊêúÁ¥¢ÁªìÊûúÔºà<strong>relevance</strong>) „ÄÇ</p>
</blockquote>
<h2 id="1„ÄÅÊ¶ÇËø∞"><a href="#1„ÄÅÊ¶ÇËø∞" class="headerlink" title="1„ÄÅÊ¶ÇËø∞"></a>1„ÄÅÊ¶ÇËø∞</h2><h3 id="ÁâπÁÇπ"><a href="#ÁâπÁÇπ" class="headerlink" title="ÁâπÁÇπ"></a>ÁâπÁÇπ</h3><ol>
<li><p><strong>ÂÆâË£ÖÊñπ‰æø</strong>ÔºöÊ≤°ÊúâÂÖ∂‰ªñ‰æùËµñÔºå‰∏ãËΩΩÂêéÂÆâË£ÖÈùûÂ∏∏Êñπ‰æøÔºõÂè™Áî®‰øÆÊîπÂá†‰∏™ÂèÇÊï∞Â∞±ÂèØ‰ª•Êê≠Âª∫Ëµ∑Êù•‰∏Ä‰∏™ÈõÜÁæ§</p>
</li>
<li><p><strong>JSON</strong>ÔºöËæìÂÖ•/ËæìÂá∫Ê†ºÂºè‰∏∫ JSONÔºåÊÑèÂë≥ÁùÄ‰∏çÈúÄË¶ÅÂÆö‰πâ SchemaÔºåÂø´Êç∑Êñπ‰æø</p>
</li>
<li><p><strong>RESTful</strong>ÔºöÂü∫Êú¨ÊâÄÊúâÊìç‰Ωú ( Á¥¢Âºï„ÄÅÊü•ËØ¢„ÄÅÁîöËá≥ÊòØÈÖçÁΩÆ ) ÈÉΩÂèØ‰ª•ÈÄöËøá HTTP Êé•Âè£ËøõË°å</p>
</li>
<li><p><strong>ÂàÜÂ∏ÉÂºè</strong>ÔºöËäÇÁÇπÂØπÂ§ñË°®Áé∞ÂØπÁ≠âÔºàÊØè‰∏™ËäÇÁÇπÈÉΩÂèØ‰ª•Áî®Êù•ÂÅöÂÖ•Âè£Ôºâ Âä†ÂÖ•ËäÇÁÇπËá™Âä®Ë¥üËΩΩÂùáË°°</p>
</li>
<li><p><strong>Â§öÁßüÊà∑</strong>ÔºöÂèØÊ†πÊçÆ‰∏çÂêåÁöÑÁî®ÈÄîÂàÜÁ¥¢ÂºïÔºåÂèØ‰ª•ÂêåÊó∂Êìç‰ΩúÂ§ö‰∏™Á¥¢Âºï</p>
</li>
<li><p><strong>ÊîØÊåÅË∂ÖÂ§ßÊï∞ÊçÆ</strong>Ôºö ÂèØ‰ª•Êâ©Â±ïÂà∞ PB Á∫ßÁöÑÁªìÊûÑÂåñÂíåÈùûÁªìÊûÑÂåñÊï∞ÊçÆ Êµ∑ÈáèÊï∞ÊçÆÁöÑËøëÂÆûÊó∂Â§ÑÁêÜ</p>
</li>
</ol>
<h3 id="ÂäüËÉΩ"><a href="#ÂäüËÉΩ" class="headerlink" title="ÂäüËÉΩ"></a>ÂäüËÉΩ</h3><ul>
<li><p><strong>ÂàÜÂ∏ÉÂºèÁöÑÊêúÁ¥¢ÂºïÊìé</strong></p>
<p>ÂàÜÂ∏ÉÂºèÔºöElasticsearchËá™Âä®Â∞ÜÊµ∑ÈáèÊï∞ÊçÆÂàÜÊï£Âà∞Â§öÂè∞ÊúçÂä°Âô®‰∏äÂéªÂ≠òÂÇ®ÂíåÊ£ÄÁ¥¢</p>
</li>
<li><p><strong>ÂÖ®ÊñáÊ£ÄÁ¥¢</strong></p>
<p>Êèê‰æõÊ®°Á≥äÊêúÁ¥¢Á≠âËá™Âä®Â∫¶ÂæàÈ´òÁöÑÊü•ËØ¢ÊñπÂºèÔºåÂπ∂ËøõË°åÁõ∏ÂÖ≥ÊÄßÊéíÂêçÔºåÈ´ò‰∫ÆÁ≠âÂäüËÉΩ</p>
</li>
<li><p><strong>Êï∞ÊçÆÂàÜÊûêÂºïÊìéÔºàÂàÜÁªÑËÅöÂêàÔºâ</strong></p>
<p>Á§æÂå∫ÁΩëÁ´ôÔºåÊúÄËøë‰∏ÄÂë®Áî®Êà∑ÁôªÂΩï„ÄÅÊúÄËøë‰∏Ä‰∏™ÊúàÂêÑÂäüËÉΩ‰ΩøÁî®ÊÉÖÂÜµ</p>
</li>
<li><p><strong>ÂØπÊµ∑ÈáèÊï∞ÊçÆËøõË°åËøëÂÆûÊó∂ÔºàÁßíÁ∫ßÔºâÁöÑÂ§ÑÁêÜ</strong></p>
<p>Êµ∑ÈáèÊï∞ÊçÆÁöÑÂ§ÑÁêÜÔºöÂõ†‰∏∫ÊòØÂàÜÂ∏ÉÂºèÊû∂ÊûÑÔºåÂèØ‰ª•ÈááÁî®Â§ßÈáèÁöÑÊúçÂä°Âô®ÂéªÂ≠òÂÇ®ÂíåÊ£ÄÁ¥¢Êï∞ÊçÆ</p>
</li>
</ul>
<h3 id="Âú∫ÊôØ"><a href="#Âú∫ÊôØ" class="headerlink" title="Âú∫ÊôØ"></a>Âú∫ÊôØ</h3><ul>
<li><p><strong>ÊêúÁ¥¢Á±ª</strong>Âú∫ÊôØ</p>
<p>ÊØîÂ¶ÇËØ¥‰∫∫ÂëòÊ£ÄÁ¥¢„ÄÅËÆæÂ§áÊ£ÄÁ¥¢„ÄÅAppÂÜÖÁöÑÊêúÁ¥¢„ÄÅËÆ¢ÂçïÊêúÁ¥¢„ÄÇ</p>
</li>
<li><p><strong>Êó•ÂøóÂàÜÊûê</strong>Á±ªÂú∫ÊôØ</p>
<p>ÁªèÂÖ∏ÁöÑELKÁªÑÂêàÔºà<strong>Elasticsearch</strong>/<strong>Logstash</strong>/<strong>Kibana</strong>ÔºâÔºåÂÆûÁé∞<strong>Êó•ÂøóÊî∂ÈõÜ</strong>Ôºå<strong>Êó•ÂøóÂ≠òÂÇ®</strong>Ôºå<strong>Êó•ÂøóÂàÜÊûê</strong></p>
</li>
<li><p><strong>Êï∞ÊçÆÈ¢ÑË≠¶Âπ≥Âè∞</strong>ÂèäÊï∞ÊçÆÂàÜÊûêÂú∫ÊôØ</p>
<p>‰æãÂ¶ÇÁ§æÂå∫Âõ¢Ë¥≠ÊèêÁ§∫ÔºåÂΩì‰ºòÊÉ†ÁöÑ‰ª∑Ê†º‰Ωé‰∫éÊüê‰∏™ÂÄºÊó∂ÔºåËá™Âä®Ëß¶ÂèëÈÄöÁü•Ê∂àÊÅØÔºåÈÄöÁü•Áî®Êà∑Ë¥≠‰π∞„ÄÇ</p>
<p>ÂàÜÊûêÁ´û‰∫âÂØπÊâãÂïÜÂìÅÈîÄÈáèTop10Ôºå‰æõËøêËê•ÂàÜÊûêÁ≠âÁ≠â„ÄÇ</p>
</li>
<li><p><strong>ÂïÜ‰∏öBI(Business Intelligence)</strong>Á≥ªÁªü</p>
<p>ÊØîÂ¶ÇÁ§æÂå∫Âë®ËæπÔºåÈúÄË¶ÅÂàÜÊûêÊüê‰∏ÄÂú∞Âå∫Áî®Êà∑Ê∂àË¥πÈáëÈ¢ùÂèäÂïÜÂìÅÁ±ªÂà´ÔºåËæìÂá∫Áõ∏Â∫îÁöÑÊä•Ë°®Êï∞ÊçÆÔºåÂπ∂È¢ÑÊµãËØ•Âú∞Âå∫ÁöÑÁÉ≠ÂçñÂïÜÂìÅÔºåÈÄöËøáÂå∫ÂüüÂíå‰∫∫Áæ§ÁâπÂæÅÂàíÂàÜËøõË°åÂÆöÂêëÊé®Ëçê„ÄÇElasticsearchÊâßË°åÊï∞ÊçÆÂàÜÊûêÂíåÊåñÊéòÔºåKibanaÂÅöÊï∞ÊçÆÂèØËßÜÂåñ„ÄÇ</p>
</li>
</ul>
<h3 id="Á´ûÂìÅÂàÜÊûê"><a href="#Á´ûÂìÅÂàÜÊûê" class="headerlink" title="Á´ûÂìÅÂàÜÊûê"></a>Á´ûÂìÅÂàÜÊûê</h3><p><strong>Lucene</strong></p>
<p>JavaÁºñÂÜôÁöÑ‰ø°ÊÅØÊêúÁ¥¢Â∑•ÂÖ∑ÂåÖÔºàJarÂåÖÔºâÔºåLuceneÂè™ÊòØ‰∏Ä‰∏™Ê°ÜÊû∂ÔºåÁÜüÁªÉËøêÁî®LuceneÈùûÂ∏∏Â§çÊùÇ„ÄÇ</p>
<p><strong>Solr</strong></p>
<p>Âü∫‰∫é<strong>Lucene</strong>ÁöÑHTTPÊé•Âè£Êü•ËØ¢ÊúçÂä°Âô®ÔºåÊòØ‰∏Ä‰∏™Â∞ÅË£Ö‰∫ÜÂæàÂ§öLuceneÁªÜËäÇÊêúÁ¥¢ÂºïÊìéÁ≥ªÁªü</p>
<p><strong>Elasticsearch</strong></p>
<p>Âü∫‰∫é<strong>Lucene</strong>ÂàÜÂ∏ÉÂºèÊµ∑ÈáèÊï∞ÊçÆËøëÂÆûÊó∂ÊêúÁ¥¢ÂºïÊìé„ÄÇÈááÁî®ÁöÑÁ≠ñÁï•ÊòØÂ∞ÜÊØè‰∏Ä‰∏™Â≠óÊÆµÈÉΩÁºñÂÖ•Á¥¢ÂºïÔºå‰ΩøÂÖ∂ÂèØ‰ª•Ë¢´ÊêúÁ¥¢„ÄÇ</p>
<h3 id="ÂØπÊØî"><a href="#ÂØπÊØî" class="headerlink" title="ÂØπÊØî"></a>ÂØπÊØî</h3><p>1ÔºâSolrÂà©Áî®ZookeeperËøõË°åÂàÜÂ∏ÉÂºèÁÆ°ÁêÜÔºåËÄåElasticsearchËá™Ë∫´Â∏¶ÊúâÂàÜÂ∏ÉÂºèÂçèË∞ÉÁÆ°ÁêÜÂäüËÉΩ</p>
<p>2ÔºâSolrÊØîElasticsearchÂÆûÁé∞Êõ¥Âä†ÂÖ®Èù¢ÔºåËÄåElasticsearchÊú¨Ë∫´Êõ¥Ê≥®Èáç‰∫éÊ†∏ÂøÉÂäüËÉΩÔºå È´òÁ∫ßÂäüËÉΩÂ§öÁî±Á¨¨‰∏âÊñπÊèí‰ª∂Êèê‰æõ</p>
<p>3ÔºâSolrÂú®‰º†ÁªüÁöÑÊêúÁ¥¢Â∫îÁî®‰∏≠Ë°®Áé∞Â•Ω‰∫éElasticsearchÔºåËÄåElasticsearchÂú®ÂÆûÊó∂ÊêúÁ¥¢Â∫îÁî®ÊñπÈù¢ÊØîSolrË°®Áé∞Â•Ω</p>
<p>ÁõÆÂâç‰∏ªÊµÅ‰æùÁÑ∂ÊòØ<strong>Elasticsearch</strong>7.x ÊúÄÊñ∞ÁöÑÊòØ7.8</p>
<p>‚Äã    ‰ºòÂåñÔºö<strong>ÈªòËÆ§ÈõÜÊàêJDK</strong>„ÄÅÂçáÁ∫ßLucene8Â§ßÂπÖÊèêÂçá<strong>TopKÊÄßËÉΩ</strong>„ÄÅÂºïÂÖ•ÁÜîÊñ≠Êú∫Âà∂<strong>ÈÅøÂÖçOOM</strong>ÂèëÁîü</p>
<h2 id="2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ"><a href="#2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ" class="headerlink" title="2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ"></a>2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ</h2><h3 id="IKÂàÜËØçÂô®"><a href="#IKÂàÜËØçÂô®" class="headerlink" title="IKÂàÜËØçÂô®"></a>IKÂàÜËØçÂô®</h3><p>IKAnalyzerÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÔºåÂü∫‰∫éjavaËØ≠Ë®ÄÂºÄÂèëÁöÑËΩªÈáèÁ∫ßÁöÑ‰∏≠ÊñáÂàÜËØçÂ∑•ÂÖ∑ÂåÖ„ÄÇÊñ∞ÁâàÊú¨ÁöÑIKAnalyzer3.0ÂàôÂèëÂ±ï‰∏∫ Èù¢ÂêëJavaÁöÑÂÖ¨Áî®ÂàÜËØçÁªÑ‰ª∂ÔºåÁã¨Á´ã‰∫éLuceneÈ°πÁõÆÔºåÂêåÊó∂Êèê‰æõ‰∫ÜÂØπLuceneÁöÑÈªòËÆ§‰ºòÂåñÂÆûÁé∞„ÄÇ</p>
<p>IKÂàÜËØçÂô®3.0ÁöÑÁâπÊÄßÂ¶Ç‰∏ãÔºö</p>
<ol>
<li>ÈááÁî®‰∫ÜÁâπÊúâÁöÑ‚ÄúÊ≠£ÂêëËø≠‰ª£<strong>ÊúÄÁªÜÁ≤íÂ∫¶</strong>ÂàáÂàÜÁÆóÊ≥ï‚ÄúÔºåÂÖ∑Êúâ<strong>60‰∏á</strong>Â≠ó/ÁßíÁöÑÈ´òÈÄüÂ§ÑÁêÜËÉΩÂäõ„ÄÇ</li>
<li>ÈááÁî®‰∫Ü<strong>Â§öÂ≠êÂ§ÑÁêÜÂô®</strong>ÂàÜÊûêÊ®°ÂºèÔºåÊîØÊåÅÔºöËã±ÊñáÂ≠óÊØçÔºàIPÂú∞ÂùÄ„ÄÅEmail„ÄÅURLÔºâ„ÄÅÊï∞Â≠óÔºàÊó•ÊúüÔºåÂ∏∏Áî®‰∏≠ÊñáÊï∞ÈáèËØçÔºåÁΩóÈ©¨Êï∞Â≠óÔºåÁßëÂ≠¶ËÆ°Êï∞Ê≥ïÔºâÔºå‰∏≠ÊñáËØçÊ±áÔºàÂßìÂêç„ÄÅÂú∞ÂêçÂ§ÑÁêÜÔºâÁ≠âÂàÜËØçÂ§ÑÁêÜ„ÄÇ</li>
<li>ÊîØÊåÅ<strong>‰∏™‰∫∫ËØçÊù°ÁöÑ‰ºòÂåñ</strong>ÁöÑËØçÂÖ∏Â≠òÂÇ®ÔºåÊõ¥Â∞èÁöÑÂÜÖÂ≠òÂç†Áî®„ÄÇ</li>
<li>ÈíàÂØπLucene<strong>ÂÖ®ÊñáÊ£ÄÁ¥¢‰ºòÂåñ</strong>ÁöÑÊü•ËØ¢ÂàÜÊûêÂô®IKQueryParserÔºõÈááÁî®Ê≠ß‰πâÂàÜÊûêÁÆóÊ≥ï‰ºòÂåñÊü•ËØ¢ÂÖ≥ÈîÆÂ≠óÁöÑÊêúÁ¥¢</li>
<li>ÊéíÂàóÁªÑÂêàÔºåËÉΩÊûÅÂ§ßÁöÑÊèêÈ´òLuceneÊ£ÄÁ¥¢ÁöÑÂëΩ‰∏≠Áéá„ÄÇ</li>
</ol>
<ul>
<li><strong>Êâ©Â±ïËØçÂÖ∏</strong>Ôºöext_dict</li>
<li><strong>ÂÅúÁî®ËØçÂÖ∏</strong>Ôºöstop_dict</li>
<li><strong>Âêå‰πâËØçÂÖ∏</strong>Ôºösame_dict</li>
</ul>
<h3 id="Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ"><a href="#Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ" class="headerlink" title="Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ"></a>Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ</h3><p>settingsÔºöËÆæÁΩÆÁ¥¢ÂºïÂ∫ìÔºåÂÆö‰πâÁ¥¢ÂºïÂ∫ìÁöÑÂàÜÁâáÊï∞ÂâØÊú¨Êï∞Á≠â</p>
<h3 id="Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ"><a href="#Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ" class="headerlink" title="Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ"></a>Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ</h3><ul>
<li>Â≠óÊÆµÁöÑÊï∞ÊçÆÁ±ªÂûã</li>
<li>ÂàÜËØçÂô®Á±ªÂûã</li>
<li>ÊòØÂê¶Ë¶ÅËøõË°åÂ≠òÂÇ®ÊàñËÄÖÂàõÈÄ†Á¥¢Âºï</li>
</ul>
<h3 id="ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ"><a href="#ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ" class="headerlink" title="ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ"></a>ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ</h3><ul>
<li>ÂÖ®ÈáèÊõ¥Êñ∞Áî®Put</li>
<li>Â±ÄÈÉ®Êõ¥Êñ∞Áî®Post</li>
</ul>
<h2 id="3„ÄÅÈ´òÁ∫ßÁâπÊÄß"><a href="#3„ÄÅÈ´òÁ∫ßÁâπÊÄß" class="headerlink" title="3„ÄÅÈ´òÁ∫ßÁâπÊÄß"></a>3„ÄÅÈ´òÁ∫ßÁâπÊÄß</h2><h3 id="Êò†Â∞ÑÈ´òÁ∫ß"><a href="#Êò†Â∞ÑÈ´òÁ∫ß" class="headerlink" title="Êò†Â∞ÑÈ´òÁ∫ß"></a>Êò†Â∞ÑÈ´òÁ∫ß</h3><h4 id="Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã"><a href="#Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã" class="headerlink" title="Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã"></a><strong>Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã</strong></h4><blockquote>
<p>Âú∞ÁêÜÂùêÊ†áÁÇπÊòØÊåáÂú∞ÁêÉË°®Èù¢ÂèØ‰ª•Áî®ÁªèÁ∫¨Â∫¶ÊèèËø∞ÁöÑ‰∏Ä‰∏™ÁÇπ„ÄÇ Âú∞ÁêÜÂùêÊ†áÁÇπÂèØ‰ª•Áî®Êù•ËÆ°ÁÆó‰∏§‰∏™ÂùêÊ†áÈó¥ÁöÑË∑ùÁ¶ªÔºåËøòÂèØ‰ª•Âà§Êñ≠‰∏Ä‰∏™ÂùêÊ†áÊòØÂê¶Âú®‰∏Ä‰∏™Âå∫Âüü‰∏≠„ÄÇÂú∞ÁêÜÂùêÊ†áÁÇπÈúÄË¶ÅÊòæÂºèÂ£∞ÊòéÂØπÂ∫îÂ≠óÊÆµÁ±ªÂûã‰∏∫ geo_point</p>
</blockquote>
<h4 id="Âä®ÊÄÅÊò†Â∞Ñ"><a href="#Âä®ÊÄÅÊò†Â∞Ñ" class="headerlink" title="Âä®ÊÄÅÊò†Â∞Ñ"></a>Âä®ÊÄÅÊò†Â∞Ñ</h4><blockquote>
<p>‰ΩøÁî®dynamic mapping Êù•Á°ÆÂÆöÂ≠óÊÆµÁöÑÊï∞ÊçÆÁ±ªÂûãÂπ∂Ëá™Âä®ÊääÊñ∞ÁöÑÂ≠óÊÆµÊ∑ªÂä†Âà∞Á±ªÂûãÊò†Â∞Ñ</p>
</blockquote>
<h3 id="DSLÈ´òÁ∫ß"><a href="#DSLÈ´òÁ∫ß" class="headerlink" title="DSLÈ´òÁ∫ß"></a>DSLÈ´òÁ∫ß</h3><ul>
<li><strong>Êü•ËØ¢ÊâÄÊúâ(match_all query)</strong></li>
<li><p><strong>ÂÖ®ÊñáÊêúÁ¥¢(full-text query)</strong></p>
<ul>
<li>ÂåπÈÖçÊêúÁ¥¢(match query)</li>
<li>Áü≠ËØ≠ÊêúÁ¥¢(match phrase query)</li>
<li>ÈªòËÆ§Êü•ËØ¢(query string)</li>
<li>Â§öÂ≠óÊÆµÂåπÈÖçÊêúÁ¥¢(multi match query)</li>
</ul>
</li>
<li><p><strong>ËØçÊù°Á∫ßÊêúÁ¥¢(term-level query)</strong></p>
<ul>
<li>Á≤æÁ°ÆÊêúÁ¥¢term</li>
<li>ÈõÜÂêàÊêúÁ¥¢idx</li>
<li>ËåÉÂõ¥ÊêúÁ¥¢range</li>
<li>ÂâçÁºÄÊêúÁ¥¢prefix</li>
<li>ÈÄöÈÖçÁ¨¶ÊêúÁ¥¢wildcard</li>
<li>Ê≠£ÂàôÊêúÁ¥¢regexp</li>
<li>Ê®°Á≥äÊêúÁ¥¢fuzzy</li>
</ul>
</li>
<li><p>Â§çÂêàÊêúÁ¥¢</p>
</li>
<li>ÊéíÂ∫è<strong>sort</strong>&amp;ÂàÜÈ°µ<strong>size</strong>&amp;È´ò‰∫Æ<strong>highLight</strong>&amp;ÊâπÈáè<strong>bluk</strong></li>
</ul>
<h3 id="ËÅöÂêàÂàÜÊûê"><a href="#ËÅöÂêàÂàÜÊûê" class="headerlink" title="ËÅöÂêàÂàÜÊûê"></a><strong>ËÅöÂêàÂàÜÊûê</strong></h3><blockquote>
<p>ËÅöÂêàÂàÜÊûêÊòØÊï∞ÊçÆÂ∫ì‰∏≠ÈáçË¶ÅÁöÑÂäüËÉΩÁâπÊÄßÔºåÂÆåÊàêÂØπ‰∏Ä‰∏™Êü•ËØ¢ÁöÑÊï∞ÊçÆÈõÜ‰∏≠Êï∞ÊçÆÁöÑËÅöÂêàËÆ°ÁÆóÔºåÂ¶ÇÔºöÊâæÂá∫ÊüêÂ≠óÊÆµÔºàÊàñËÆ°ÁÆóË°®ËææÂºèÁöÑÁªìÊûúÔºâÁöÑÊúÄÂ§ßÂÄº„ÄÅÊúÄÂ∞èÂÄºÔºåËÆ°ÁÆóÂíå„ÄÅÂπ≥ÂùáÂÄºÁ≠â</p>
</blockquote>
<ul>
<li>ÂØπ‰∏Ä‰∏™Êï∞ÊçÆÈõÜÊ±ÇÊúÄÂ§ß„ÄÅÊúÄÂ∞è„ÄÅÂíå„ÄÅÂπ≥ÂùáÂÄºÁ≠âÊåáÊ†áÁöÑËÅöÂêàÔºåÂú®ES‰∏≠Áß∞‰∏∫<strong>ÊåáÊ†áËÅöÂêà</strong> <strong>metric</strong></li>
<li>ÂØπÊü•ËØ¢Âá∫ÁöÑÊï∞ÊçÆËøõË°å<strong>ÂàÜÊ°∂</strong>group byÔºåÂÜçÂú®<strong>Ê°∂</strong>‰∏äËøõË°åÊåáÊ†á<strong>Ê°∂ËÅöÂêà</strong> <strong>bucketing</strong></li>
</ul>
<h3 id="Êô∫ËÉΩÊêúÁ¥¢"><a href="#Êô∫ËÉΩÊêúÁ¥¢" class="headerlink" title="Êô∫ËÉΩÊêúÁ¥¢"></a><strong>Êô∫ËÉΩÊêúÁ¥¢</strong></h3><ul>
<li>Term Suggester</li>
<li>Phrase Suggester</li>
<li>Completion Suggester</li>
<li>Context Suggester</li>
</ul>
<p>Â¶ÇÊûú<strong>Completion Suggester</strong>Â∑≤ÁªèÂà∞‰∫ÜÈõ∂ÂåπÈÖçÔºåÂèØ‰ª•ÁåúÊµãÁî®Êà∑ÊúâËæìÂÖ•ÈîôËØØÔºåËøôÊó∂ÂÄôÂèØ‰ª•Â∞ùËØï‰∏Ä‰∏ã<strong>Phrase Suggester</strong>„ÄÇÂ¶ÇÊûúËøòÊòØÊú™ÂåπÈÖçÂàôÂ∞ùËØï<strong>Term Suggester</strong>„ÄÇ</p>
<p>Á≤æÂáÜÁ®ãÂ∫¶‰∏ä(<strong>Precision</strong>)ÁúãÔºö <strong>Completion &gt; Phrase &gt; Term</strong>Ôºå ËÄåÂè¨ÂõûÁéá‰∏ä(Recall)ÂàôÂèç‰πã„ÄÇ</p>
<p>‰ªéÊÄßËÉΩ‰∏äÁúãÔºåCompletion SuggesterÊòØÊúÄÂø´ÁöÑÔºåÂ¶ÇÊûúËÉΩÊª°Ë∂≥‰∏öÂä°ÈúÄÊ±ÇÔºåÂè™Áî®Completion SuggesterÂÅöÂâçÁºÄÂåπÈÖçÊòØÊúÄÁêÜÊÉ≥ÁöÑ„ÄÇ PhraseÂíåTermÁî±‰∫éÊòØÂÅöÂÄíÊéíÁ¥¢ÂºïÁöÑÊêúÁ¥¢ÔºåÁõ∏ÊØîËæÉËÄåË®ÄÊÄßËÉΩÂ∫îËØ•Ë¶Å‰Ωé‰∏çÂ∞ëÔºåÂ∫îÂ∞ΩÈáèÊéßÂà∂SuggesterÁî®Âà∞ÁöÑÁ¥¢ÂºïÁöÑÊï∞ÊçÆÈáèÔºåÊúÄÁêÜÊÉ≥ÁöÑÁä∂ÂÜµÊòØÁªèËøá‰∏ÄÂÆöÊó∂Èó¥È¢ÑÁÉ≠ÂêéÔºåÁ¥¢ÂºïÂèØ‰ª•ÂÖ®ÈáèmapÂà∞ÂÜÖÂ≠ò„ÄÇ</p>
<h2 id="4„ÄÅÂÆûÊàò"><a href="#4„ÄÅÂÆûÊàò" class="headerlink" title="4„ÄÅÂÆûÊàò"></a>4„ÄÅÂÆûÊàò</h2><h3 id="ÂÜô‰ºòÂåñ"><a href="#ÂÜô‰ºòÂåñ" class="headerlink" title="ÂÜô‰ºòÂåñ"></a>ÂÜô‰ºòÂåñ</h3><ul>
<li><p><strong>ÂâØÊú¨Êï∞Èáè</strong>0</p>
<p>È¶ñÊ¨° ÂàùÂßãÂåñÊï∞ÊçÆÊó∂ÔºåÂ∞ÜÂâØÊú¨ËÆæÁΩÆ‰∏∫0ÔºåÂÜôÂÖ•ÂÆåÊØïÂÜçÊîπÂõûÔºåÈÅøÂÖç‰∫ÜÂâØÊú¨Âª∫Á´ãÁ¥¢ÂºïÁöÑËøáÁ®ã</p>
</li>
<li><p><strong>Ëá™Âä®ÁîüÊàêid</strong></p>
<p>ÂèØ‰ª•ÈÅøÂÖçÂÜôÂâçÂà§Êñ≠ÊòØÂê¶Â≠òÂú®ÁöÑËøáÁ®ã</p>
</li>
<li><p><strong>ÂêàÁêÜ‰ΩøÁî®ÂàÜËØçÂô®</strong></p>
<p>binaryÁ±ªÂûã‰∏çÈÄÇÁî®ÔºåtitleÂíåtext‰ΩøÁî®‰∏çÂêåÁöÑÂàÜËØçÂô®Âä†Âø´ÈÄüÂ∫¶</p>
</li>
<li><p><strong>Á¶ÅÁî®ËØÑÂàÜÔºåÂª∂ÈïøÁ¥¢ÂºïÂà∑Êñ∞Èó¥Èöî</strong></p>
</li>
<li><p><strong>Â∞ÜÂ§ö‰∏™Á¥¢ÂºïÊìç‰ΩúÊîæÂÖ•Âà∞batchËøõË°åÂ§ÑÁêÜ</strong></p>
</li>
</ul>
<h3 id="ËØª‰ºòÂåñ"><a href="#ËØª‰ºòÂåñ" class="headerlink" title="ËØª‰ºòÂåñ"></a>ËØª‰ºòÂåñ</h3><ul>
<li><p>‰ΩøÁî®<strong>Filter</strong>‰ª£ÊõøQueryÔºåÂáèÂ∞ëÊâìÂàÜÁºìËß£Ôºå‰ΩøÁî®<strong>bool</strong>ÁªÑÂêàqueryÂíåfilterÊü•ËØ¢</p>
</li>
<li><p>ÂØπÊï∞ÊçÆËøõË°å<strong>ÂàÜÁªÑ</strong>ÔºåÊåâÁÖßÊó•ÔºåÊúàÔºåÂπ¥‰∏çÂêåÁª¥Â∫¶ÂàÜÁªÑÔºåÊü•ËØ¢ÂèØÈõÜ‰∏≠Âú®Â±ÄÈÉ®index‰∏≠</p>
</li>
</ul>
<h3 id="Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à"><a href="#Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à" class="headerlink" title="Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à"></a>Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à</h3><ul>
<li><p><strong>Â§ñÈÉ®Êï∞ÊçÆÂØºÂÖ•</strong></p>
<ul>
<li>ÈÄöËøáMQÁöÑwebÊéßÂà∂Âè∞ÊàñcliÂëΩ‰ª§Ë°åÔºåÂèëÈÄÅÊåáÂÆöÁöÑMQÊ∂àÊÅØ</li>
<li>MQÊ∂àÊÅØË¢´ÂæÆÊúçÂä°Ê®°ÂùóÁöÑÊ∂àË¥πËÄÖÊ∂àË¥πÔºåËß¶ÂèëESÊï∞ÊçÆÈáçÊñ∞ÂØºÂÖ•ÂäüËÉΩ</li>
<li>ÂæÆÊúçÂä°Ê®°Âùó‰ªéÊï∞ÊçÆÂ∫ìÈáåÊü•ËØ¢Êï∞ÊçÆÁöÑÊÄªÊï∞ÂèäÂàÜÈ°µ‰ø°ÊÅØÔºåÂπ∂ÂèëÈÄÅËá≥MQ</li>
<li>ÂæÆÊúçÂä°‰ªéMQ‰∏≠Ê†πÊçÆÂàÜÈ°µ‰ø°ÊÅØ‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÂà∞Êï∞ÊçÆÂêéÔºåÊ†πÊçÆÁ¥¢ÂºïÁªìÊûÑÁöÑÂÆö‰πâÔºåÂ∞ÜÊï∞ÊçÆÁªÑË£ÖÊàêESÊîØÊåÅÁöÑJSONÊ†ºÂºèÔºåÂπ∂ÈÄöËøábulkÂëΩ‰ª§Â∞ÜÊï∞ÊçÆÂèëÈÄÅÁªôElasticsearchÈõÜÁæ§ËøõË°åÁ¥¢ÂºïÁöÑÈáçÂª∫Â∑•‰Ωú„ÄÇ</li>
</ul>
</li>
<li><p><strong>Âü∫‰∫éScroll+bulk+Á¥¢ÂºïÂà´ÂêçÁöÑÊñπÊ°à</strong></p>
<ul>
<li><p>Êñ∞Âª∫Á¥¢Âºïbook_newÔºåÂ∞Ümapping‰ø°ÊÅØÔºåsettings‰ø°ÊÅØÁ≠âÊåâÊñ∞ÁöÑË¶ÅÊ±ÇÂÖ®ÈÉ®ÂÆö‰πâÂ•Ω</p>
</li>
<li><p>‰ΩøÁî®scroll apiÂ∞ÜÊï∞ÊçÆÊâπÈáèÊü•ËØ¢Âá∫Êù•ÔºåÊåáÂÆöscrollÊü•ËØ¢ÊåÅÁª≠Êó∂Èó¥</p>
</li>
<li><p>ÈááÁî®bulk apiÂ∞ÜscollÊü•Âá∫Êù•ÁöÑ‰∏ÄÊâπÊï∞ÊçÆÔºåÊâπÈáèÂÜôÂÖ•Êñ∞Á¥¢Âºï</p>
</li>
<li><p>Êü•ËØ¢‰∏ÄÊâπÂØºÂÖ•‰∏ÄÊâπÔºåÊ≥®ÊÑèÊØèÊ¨°ÈÉΩ‰ΩøÁî®‰∏äÊ¨°ÁªìÊùüÊó∂ÁöÑscoll_id</p>
</li>
<li><p>ÂàáÊç¢Âà´Âêçbook_aliasÂà∞Êñ∞ÁöÑÁ¥¢Âºïbook_new‰∏äÈù¢ÔºåÊ≠§Êó∂JavaÂÆ¢Êà∑Á´Ø‰ªçÁÑ∂‰ΩøÁî®Âà´ÂêçËÆøÈóÆÔºå‰πü‰∏çÈúÄË¶Å‰øÆ</p>
<p>Êîπ‰ªª‰Ωï‰ª£Á†ÅÔºå‰∏çÈúÄË¶ÅÂÅúÊú∫„ÄÇÈ™åËØÅÂà´ÂêçÊü•ËØ¢ÁöÑÊòØÂê¶‰∏∫Êñ∞Á¥¢ÂºïÁöÑÊï∞ÊçÆ</p>
</li>
</ul>
</li>
<li><p><strong>Reindex APIÊñπÊ°à</strong></p>
<ul>
<li>Elasticsearch v6.3.1Â∑≤ÁªèÊîØÊåÅReindex APIÔºåÂÆÉÂØπscroll„ÄÅbulkÂÅö‰∫Ü‰∏ÄÂ±ÇÂ∞ÅË£ÖÔºåËÉΩÂ§ü ÂØπÊñáÊ°£ÈáçÂª∫Á¥¢ÂºïËÄå‰∏çÈúÄË¶Å‰ªª‰ΩïÊèí‰ª∂ÊàñÂ§ñÈÉ®Â∑•ÂÖ∑„ÄÇ</li>
</ul>
</li>
</ul>
<p><strong>ÂèÇ‰∏éÂ∫¶</strong> &amp; <strong>ÁÅµÊ¥ªÊÄß</strong>ÔºöËá™Á†î &gt; scroll+bulk &gt; reindex</p>
<p><strong>Á®≥ÂÆöÊÄß</strong> &amp; <strong>ÂèØÈù†ÊÄß</strong>ÔºöËá™Á†î &lt; scroll+bulk &lt; reindex</p>
<h3 id="DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à"><a href="#DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à" class="headerlink" title="DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à"></a>DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à</h3><blockquote>
<p>ÊØîÂ¶ÇË∂ÖÁ∫ßÁÆ°ÁêÜÂëòÔºåË¶ÅÁªôÊüê‰∏™ÁúÅ‰ªΩÁî®Êà∑ÂèëÈÄÅÂÖ¨ÂëäÊàñËÄÖÂπøÂëäÔºåÊúÄÂÆπÊòìÊÉ≥Âà∞ÁöÑÂ∞±ÊòØÂà©Áî® from + size Êù•ÂÆûÁé∞Ôºå‰ΩÜËøôÊòØ‰∏çÁé∞ÂÆûÁöÑ</p>
</blockquote>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1gne4vx9hu4j30x60gw0w5.jpg" title="image-20210206212712493" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gne4vx9hu4j30x60gw0w5.jpg" alt="image-20210206212712493" style="zoom:60%;"></a></p>
<h1 id="‰∫åÔºöDocker-amp-K8SÁØá"><a href="#‰∫åÔºöDocker-amp-K8SÁØá" class="headerlink" title="‰∫åÔºöDocker&amp;K8SÁØá"></a>‰∫åÔºöDocker&amp;K8SÁØá</h1><blockquote>
<p>chroot ÊòØÂú® Unix Âíå Linux Á≥ªÁªüÁöÑ‰∏Ä‰∏™Êìç‰ΩúÔºåÈíàÂØπÊ≠£Âú®Ëøê‰ΩúÁöÑËΩØ‰ª∂Ë°åÁ®ãÂíåÂÆÉÁöÑÂ≠êËøõÁ®ãÔºåÊîπÂèòÂÆÉÂ§ñÊòæÁöÑÊ†πÁõÆÂΩï„ÄÇ‰∏Ä‰∏™ËøêË°åÂú®Ëøô‰∏™ÁéØÂ¢É‰∏ãÔºåÁªèÁî± chroot ËÆæÁΩÆÊ†πÁõÆÂΩïÁöÑÁ®ãÂ∫èÔºåÂÆÉ‰∏çËÉΩÂ§üÂØπËøô‰∏™ÊåáÂÆöÊ†πÁõÆÂΩï‰πãÂ§ñÁöÑÊñá‰ª∂ËøõË°åËÆøÈóÆÂä®‰ΩúÔºå‰∏çËÉΩËØªÂèñÔºå‰πü‰∏çËÉΩÊõ¥ÊîπÂÆÉÁöÑÂÜÖÂÆπ„ÄÇ</p>
</blockquote>
<p><strong>ËôöÊãüÂåñÊäÄÊúØ_VMware „ÄÅVirtualBox„ÄÅKVM</strong></p>
<p>ËôöÊãüÂåñÊäÄÊúØÂ∞±ÊòØÂú®Êìç‰ΩúÁ≥ªÁªü‰∏äÂ§öÂä†‰∫Ü‰∏Ä‰∏™ËôöÊãüÂåñÂ±ÇÔºàHypervisorÔºâÔºåÂèØ‰ª•Â∞ÜÁâ©ÁêÜÊú∫ÁöÑCPU„ÄÅÂÜÖÂ≠ò„ÄÅÁ°¨Áõò„ÄÅÁΩëÁªúÁ≠âËµÑÊ∫êËøõË°åËôöÊãüÂåñÔºåÂÜçÈÄöËøáËôöÊãüÂåñÂá∫Êù•ÁöÑÁ©∫Èó¥‰∏äÂÆâË£ÖÊìç‰ΩúÁ≥ªÁªüÔºåÊûÑÂª∫ËôöÊãüÁöÑÂ∫îÁî®Á®ãÂ∫èÊâßË°åÁéØÂ¢É„ÄÇËøôÂ∞±ÊòØÊàë‰ª¨ÈÄöÂ∏∏ËØ¥ÁöÑËôöÊãüÊú∫„ÄÇ</p>
<p>ËôöÊãüÊú∫ÁöÑ‰ºòÁÇπÔºö</p>
<ul>
<li>ÊèêÂçáITÊïàÁéá„ÄÅÈôç‰ΩéËøêÁª¥ÊàêÊú¨</li>
<li>Êõ¥Âø´Âú∞ÈÉ®ÁΩ≤Â∑•‰ΩúË¥üË¥£</li>
<li>ÊèêÈ´òÊúçÂä°Âô®ÂèØÁî®ÊÄß</li>
</ul>
<p>ËôöÊãüÊú∫ÁöÑÁº∫ÁÇπÔºö</p>
<ul>
<li>Âç†Áî®ËµÑÊ∫êËæÉÂ§ö„ÄÅÊÄßËÉΩËæÉÂ∑Æ</li>
<li>Êâ©Â±ï„ÄÅËøÅÁßªËÉΩÂäõËæÉÂ∑Æ</li>
</ul>
<h3 id="Why-Docker"><a href="#Why-Docker" class="headerlink" title="Why Docker"></a>Why Docker</h3><p><strong>Âú∫ÊôØ</strong></p>
<ul>
<li>ÂºÄÂèë‰∫∫ÂëòÂú®Êú¨Âú∞ÁºñÂÜô‰ª£Á†ÅÔºåÂπ∂‰ΩøÁî®DockerÂÆπÂô®‰∏éÂÖ∂‰ªñÂêå‰∫ãÂÖ±‰∫´Âä≥Âä®ÊàêÊûú„ÄÇ</li>
<li>‰ΩøÁî®DockerÂ∞ÜÂ∫îÁî®Á®ãÂ∫èÊé®ÈÄÅÂà∞ÊµãËØïÁéØÂ¢É‰∏≠ÔºåÂπ∂ÊâßË°åËá™Âä®ÂíåÊâãÂä®ÊµãËØï„ÄÇ</li>
<li>ÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Âú®ÂºÄÂèëÁéØÂ¢É‰∏≠ÂØπÂÖ∂ËøõË°å‰øÆÂ§çÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ÈáçÊñ∞ÈÉ®ÁΩ≤Âà∞ÊµãËØïÁéØÂ¢É‰∏≠‰ª•ËøõË°åÊµãËØïÂíåÈ™åËØÅ„ÄÇ</li>
<li>ÊµãËØïÂÆåÊàêÂêéÔºåÂ∞Ü‰øÆË°•Á®ãÂ∫èÊé®ÈÄÅÁªôÁîü‰∫ßÁéØÂ¢ÉÂ∞±ÂÉèÂ∞ÜÊõ¥Êñ∞ÁöÑÈïúÂÉèÊé®ÈÄÅÂà∞Áîü‰∫ßÁéØÂ¢É‰∏ÄÊ†∑ÁÆÄÂçï„ÄÇ</li>
</ul>
<p><strong>ÈúÄÊ±Ç</strong></p>
<blockquote>
<p>Âø´ÈÄüÔºå‰∏ÄËá¥Âú∞‰∫§‰ªòÂ∫îÁî®Á®ãÂ∫è„ÄÅÈïúÂÉèÊâìÂåÖÁéØÂ¢ÉÔºåÈÅøÂÖç‰∫ÜÁéØÂ¢É‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢òÔºåÁÆÄÂåñÂºÄÂèëÁöÑÁîüÂëΩÂë®ÊúüÔºåÈÄÇÂêà‰∫éÂø´ÈÄüËø≠‰ª£ÊïèÊç∑ÂºÄÂèëÁöÑÂú∫ÊôØ</p>
</blockquote>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://i.loli.net/2021/02/20/7hx2RcvUPKgXpma.png" title="image-20210220140837929" data-fancybox="images"><img src="https://i.loli.net/2021/02/20/7hx2RcvUPKgXpma.png" alt="image-20210220140837929" style="zoom: 50%;"></a></p>
<h3 id="Ê†∏ÂøÉÊ¶ÇÂøµ"><a href="#Ê†∏ÂøÉÊ¶ÇÂøµ" class="headerlink" title="Ê†∏ÂøÉÊ¶ÇÂøµ"></a>Ê†∏ÂøÉÊ¶ÇÂøµ</h3><p><strong>DockerÂºïÊìé-ÂÆàÊä§ËøõÁ®ã</strong></p>
<p>‚Äã    Docker‰ΩøÁî®C / SÊû∂ÊûÑ ÔºöÁî®Êà∑ÈÄöËøá<strong>DockerÂÆ¢Êà∑Á´Ø</strong>‰∏éDockerÂÆàÊä§ËøõÁ®ãÔºàDockerÂºïÊìéÔºâÈÄöËøáUnixÂ•óÊé•Â≠óÊàñËÄÖRESTAPIËøõË°åÈÄö‰ø°Ôºå<strong>DockerÂºïÊìé</strong>ÂÆåÊàê‰∫ÜÊûÑÂª∫ÔºåËøêË°åÂíåÂàÜÂèëDockerÂÆπÂô®ÁöÑÁπÅÈáçÂ∑•‰Ωú</p>
<p><strong>DockerÈïúÂÉè-Dockerfile</strong></p>
<p>‚Äã    DockerÈïúÂÉèÁ±ª‰ºº‰∫éËôöÊãüÊú∫ÈïúÂÉèÔºåÊòØ‰∏Ä‰∏™Âè™ËØªÁöÑÊ®°ÊùøÔºåÊòØÂàõÂª∫DockerÂÆπÂô®ÁöÑÂü∫Á°Ä</p>
<p>‚Äã    ÈïúÂÉèÊòØÂü∫‰∫éËÅîÂêàÔºàUnionÔºâÊñá‰ª∂Á≥ªÁªüÁöÑ‰∏ÄÁßçÂ±ÇÂºèÁöÑÁªìÊûÑÔºåÁî±‰∏ÄÁ≥ªÂàóÊåá‰ª§‰∏ÄÊ≠•‰∏ÄÊ≠•ÊûÑÂª∫Âá∫Êù•„ÄÇ</p>
<p>‚Äã    ÊØîÂ¶ÇÔºöÊã∑Ë¥ùÊñá‰ª∂„ÄÅÊâßË°åÂëΩ‰ª§</p>
<p><strong>Docker‰ªìÂ∫ì-Hub</strong></p>
<p>Docker‰ªìÂ∫ìÂèØ‰ª•ÂàÜ‰∏∫<strong>ÂÖ¨ÂºÄ‰ªìÂ∫ì ÔºàPublicÔºâ</strong>Âíå<strong>ÁßÅÊúâ‰ªìÂ∫ìÔºàPrivateÔºâ</strong>‰∏§ÁßçÂΩ¢Âºè„ÄÇ</p>
<p>ÊúÄÂ§ßÁöÑÂÖ¨ÂºÄ‰ªìÂ∫ìÊòØÂÆòÊñπÊèê‰æõÁöÑ<strong>Docker Hub</strong>ÔºåÂÖ∂‰∏≠Â≠òÊîæ‰∫ÜÊï∞ÈáèÂ∫ûÂ§ßÁöÑÈïúÂÉè‰æõÁî®Êà∑‰∏ãËΩΩ„ÄÇ</p>
<h3 id="Âü∫Êú¨Êìç‰Ωú"><a href="#Âü∫Êú¨Êìç‰Ωú" class="headerlink" title="Âü∫Êú¨Êìç‰Ωú"></a>Âü∫Êú¨Êìç‰Ωú</h3><p><strong>ÈïúÂÉè</strong></p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker pull mysql:5.7.30</span></span><br><span class="line"><span class="number">5.7</span>.<span class="number">30</span>: Pulling <span class="keyword">from</span> library/mysql ‚Ä¶‚Ä¶</span><br><span class="line">[root@localhost ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY TAG IMAGE ID CREATED SIZE</span><br><span class="line">mysql <span class="number">5.7</span>.<span class="number">30</span> <span class="number">9</span>cfcce23593a <span class="number">6</span> weeks ago <span class="number">448</span>MB</span><br><span class="line">[root@localhost ~]<span class="comment"># docker tag mysql:5.7.30 mysql5</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY TAG IMAGE ID CREATED SIZE</span><br><span class="line">mysql5 latest <span class="number">9</span>cfcce23593a <span class="number">6</span> weeks ago <span class="number">448</span>MB</span><br><span class="line">mysql <span class="number">5.7</span>.<span class="number">30</span> <span class="number">9</span>cfcce23593a <span class="number">6</span> weeks ago <span class="number">448</span>MB</span><br><span class="line">[root@localhost ~]<span class="comment"># docker inspect mysql:5.7.30</span></span><br><span class="line">[&#123;ÊòæÁ§∫docker ËØ¶ÁªÜ‰ø°ÊÅØ&#125;]</span><br><span class="line">[root@localhost ~]<span class="comment"># docker search mysql</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker rmi mysql:5.7.30</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker push mysql[:TAG]</span></span><br></pre></td></tr></table></figure>
<p><strong>ÂÆπÂô®</strong></p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker create -it nginx</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker start 9cfcce23593a</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Êü•ÁúãËøêË°åÁöÑÂÆπÂô®</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker ps</span></span><br><span class="line"><span class="comment">#Êü•ÁúãÊâÄÊúâÂÆπÂô®</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker ps -a</span></span><br><span class="line"><span class="comment">#Êñ∞Âª∫Âπ∂ÂêØÂä®ÂÆπÂô®</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker run -it --rm --network host tomcat:8.5.56-jdk8-openjdk</span></span><br></pre></td></tr></table></figure>
<h3 id="ÂÆûÊàò"><a href="#ÂÆûÊàò" class="headerlink" title="ÂÆûÊàò"></a>ÂÆûÊàò</h3><ol>
<li><p>ÂàõÂª∫‰∏Ä‰∏™Âç∑ÔºåÂæÖÂêéËæπ‰ΩøÁî®</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">volume</span><span class="bash"> create test_volume</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ÂàÜÂà´ÂêØÂä®2‰∏™ÂÆπÂô®ÊåÇÂú®‰∏äÂç∑,</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Âú®<span class="number">2</span>‰∏™ÁªàÁ´ØÁ™óÂè£ÂêØÂä®<span class="number">2</span>‰∏™ÂÆπÂô®</span><br><span class="line">docker <span class="keyword">run</span><span class="bash"> -it --rm -v test_volume:/<span class="built_in">test</span> nginx:latest /bin/bash</span></span><br><span class="line">docker <span class="keyword">run</span><span class="bash"> -it --rm -v test_volume:/<span class="built_in">test</span> nginx:latest /bin/bash</span></span><br><span class="line">cd /test;</span><br><span class="line">touch a.txt</span><br><span class="line">ls /test <span class="comment"># Âú®‰∏§‰∏™ÂÆπÂô®‰∏≠Êàë‰ª¨ÂùáÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÂàõÂª∫ÁöÑÊñá‰ª∂ÔºåshixianÂú®Â§ö‰∏™ÂÆπÂô®‰πãÈó¥ÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>ÊåÇËΩΩÂú®ÂÆπÂô® /test ÁõÆÂΩïÂÜÖÂàõÂª∫„ÄÇ Docker <strong>‰∏çÊîØÊåÅÂÆπÂô®ÂÜÖÂÆâË£ÖÁÇπÁöÑÁõ∏ÂØπË∑ØÂæÑ</strong>„ÄÇ Â§ö‰∏™ÂÆπÂô®ÂèØ‰ª•Âú®Âêå‰∏ÄÊó∂Èó¥ÊÆµÂÜÖ‰ΩøÁî®Áõ∏ÂêåÁöÑÂç∑„ÄÇÂ¶ÇÊûú‰∏§‰∏™ÂÆπÂô®ÈúÄË¶ÅËÆøÈóÆÂÖ±‰∫´Êï∞ÊçÆÔºå‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÂÆπÂô®ÂÜôÂÖ•ËÄåÂè¶‰∏Ä‰∏™ÂÆπÂô®ËØªÂèñÊï∞ÊçÆ„ÄÇ Âç∑Âêç Âú®È©±Âä®Á®ãÂ∫ètestÂøÖÈ°ªÂîØ‰∏Ä„ÄÇËøôÊÑèÂë≥ÁùÄ‰∏çËÉΩÂ∞Ü<strong>Áõ∏ÂêåÁöÑÂç∑Âêç</strong>‰∏é‰∏§‰∏™‰∏çÂêåÁöÑÈ©±Âä®Á®ãÂ∫è‰∏ÄËµ∑‰ΩøÁî®„ÄÇ Â¶ÇÊûúÊàë‰ª¨ÊåáÂÆö‰∫ÜÂΩìÂâçtest_volumeÁ®ãÂ∫è‰∏äÂ∑≤Âú®‰ΩøÁî®ÁöÑÂç∑ÂêçÔºåÂàôDocker‰ºöÂÅáÂÆöÊàë‰ª¨Ë¶ÅÈáçÁî®Áé∞ÊúâÂç∑ÔºåÂπ∂‰∏î‰∏ç‰ºöËøîÂõûÈîôËØØ„ÄÇÂ¶ÇÊûúÂºÄÂßãÊó† test_volume Âàô‰ºöÂàõÂª∫Ëøô‰∏™Âç∑ÂΩìÁÑ∂Èô§‰∫Ü‰ΩøÁî®Âç∑Ôºå‰πüÂèØ‰ª•‰ΩøÁî®Â∞ÜÂÆø‰∏ªÊú∫ÁöÑÊñá‰ª∂Êò†Â∞ÑÂà∞ÂÆπÂô®ÁöÑÂç∑ÔºåÂëΩ‰ª§Á±ª‰ººÔºåÂè™‰∏çËøá‰∏çÁî®ÊèêÂâçÂàõÂª∫Âç∑ÔºåËÄå‰∏îÊï∞ÊçÆ‰ºöÊò†Â∞ÑÂà∞ÂÆø‰∏ªÊú∫‰∏äÊ≥®ÊÑèÂ¶ÇÊûúÂÆø‰∏ªÊú∫‰∏äÁöÑÁõÆÂΩïÂèØ‰ª•‰∏çÂ≠òÂú®Ôºå‰ºöÂú®ÂêØÂä®ÂÆπÂô®ÁöÑÊó∂ÂÄôÂàõÂª∫</p>
<h1 id="‰∏â„ÄÅNettyÁØá"><a href="#‰∏â„ÄÅNettyÁØá" class="headerlink" title="‰∏â„ÄÅNettyÁØá"></a>‰∏â„ÄÅNettyÁØá</h1><h3 id="Ê†∏ÂøÉÁªÑ‰ª∂"><a href="#Ê†∏ÂøÉÁªÑ‰ª∂" class="headerlink" title="Ê†∏ÂøÉÁªÑ‰ª∂"></a>Ê†∏ÂøÉÁªÑ‰ª∂</h3><h4 id="1„ÄÅÊï¥‰ΩìÁªìÊûÑ"><a href="#1„ÄÅÊï¥‰ΩìÁªìÊûÑ" class="headerlink" title="1„ÄÅÊï¥‰ΩìÁªìÊûÑ"></a>1„ÄÅÊï¥‰ΩìÁªìÊûÑ</h4><p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ijej9w7j30p00doaim.jpg" title="image-20210504171606057" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ijej9w7j30p00doaim.jpg" alt="image-20210504171606057" style="zoom:50%;"></a></p>
<p>‚Äã</p>
<p>‚Äã    <strong>Core Ê†∏ÂøÉÂ±Ç</strong><br>‚Äã    Core Ê†∏ÂøÉÂ±ÇÊòØ Netty ÊúÄÁ≤æÂçéÁöÑÂÜÖÂÆπÔºåÂÆÉÊèê‰æõ‰∫ÜÂ∫ïÂ±ÇÁΩëÁªúÈÄö‰ø°ÁöÑÈÄöÁî®ÊäΩË±°ÂíåÂÆûÁé∞ÔºåÂåÖÊã¨‰∫ã‰ª∂Ê®°Âûã„ÄÅÈÄöÁî®API„ÄÅÊîØÊåÅÈõ∂Êã∑Ë¥ùÁöÑ ByteBuf Á≠â„ÄÇ</p>
<p>‚Äã    <strong>Protocol Support ÂçèËÆÆÊîØÊåÅÂ±Ç</strong><br>‚Äã    ÂçèËÆÆÊîØÊåÅÂ±ÇÂü∫Êú¨‰∏äË¶ÜÁõñ‰∫Ü‰∏ªÊµÅÂçèËÆÆÁöÑÁºñËß£Á†ÅÂÆûÁé∞ÔºåÂ¶Ç HTTP„ÄÅProtobuf„ÄÅWebSocket„ÄÅ‰∫åËøõÂà∂Á≠â‰∏ªÊµÅÂçèËÆÆÔºåÊ≠§Â§ñ Netty ËøòÊîØÊåÅËá™ÂÆö‰πâÂ∫îÁî®Â±ÇÂçèËÆÆ„ÄÇNetty ‰∏∞ÂØåÁöÑÂçèËÆÆÊîØÊåÅÈôç‰Ωé‰∫ÜÁî®Êà∑ÁöÑÂºÄÂèëÊàêÊú¨ÔºåÂü∫‰∫é Netty Êàë‰ª¨ÂèØ‰ª•Âø´ÈÄüÂºÄÂèë HTTP„ÄÅWebSocket Á≠âÊúçÂä°„ÄÇ</p>
<p>‚Äã    <strong>Transport Service ‰º†ËæìÊúçÂä°Â±Ç</strong><br>‚Äã    ‰º†ËæìÊúçÂä°Â±ÇÊèê‰æõ‰∫ÜÁΩëÁªú‰º†ËæìËÉΩÂäõÁöÑÂÆö‰πâÂíåÂÆûÁé∞ÊñπÊ≥ï„ÄÇÂÆÉÊîØÊåÅ Socket„ÄÅHTTP ÈößÈÅì„ÄÅËôöÊãüÊú∫ÁÆ°ÈÅìÁ≠â‰º†ËæìÊñπÂºè„ÄÇNetty ÂØπ TCP„ÄÅUDP Á≠âÊï∞ÊçÆ‰º†ËæìÂÅö‰∫ÜÊäΩË±°ÂíåÂ∞ÅË£ÖÔºåÁî®Êà∑ÂèØ‰ª•Êõ¥ËÅöÁÑ¶Âú®‰∏öÂä°ÈÄªËæëÂÆûÁé∞‰∏äÔºåËÄå‰∏çÂøÖÂÖ≥Á≥ªÂ∫ïÂ±ÇÊï∞ÊçÆ‰º†ËæìÁöÑÁªÜËäÇ„ÄÇ</p>
<h4 id="2„ÄÅÈÄªËæëÊû∂ÊûÑ"><a href="#2„ÄÅÈÄªËæëÊû∂ÊûÑ" class="headerlink" title="2„ÄÅÈÄªËæëÊû∂ÊûÑ"></a>2„ÄÅÈÄªËæëÊû∂ÊûÑ</h4><p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6iiju6h8j30ry0o6dj0.jpg" title="image-20210504171514089" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6iiju6h8j30ry0o6dj0.jpg" alt="image-20210504171514089" style="zoom:50%;"></a></p>
<p>‚Äã        </p>
<p>‚Äã    <strong>ÁΩëÁªúÈÄö‰ø°Â±Ç</strong><br>‚Äã    ÁΩëÁªúÈÄö‰ø°Â±ÇÁöÑËÅåË¥£ÊòØÊâßË°åÁΩëÁªú I/O ÁöÑÊìç‰Ωú„ÄÇÂÆÉÊîØÊåÅÂ§öÁßçÁΩëÁªúÂçèËÆÆÂíå I/O Ê®°ÂûãÁöÑËøûÊé•Êìç‰Ωú„ÄÇÂΩìÁΩëÁªúÊï∞ÊçÆËØªÂèñÂà∞ÂÜÖÊ†∏ÁºìÂÜ≤Âå∫ÂêéÔºå‰ºöËß¶ÂèëÂêÑÁßçÁΩëÁªú‰∫ã‰ª∂ÔºåËøô‰∫õÁΩëÁªú‰∫ã‰ª∂‰ºöÂàÜÂèëÁªô‰∫ã‰ª∂Ë∞ÉÂ∫¶Â±ÇËøõË°åÂ§ÑÁêÜ„ÄÇ</p>
<p>ÁΩëÁªúÈÄö‰ø°Â±ÇÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂåÖÂê´<strong>BootStrap„ÄÅServerBootStrap„ÄÅChannel</strong>‰∏â‰∏™ÁªÑ‰ª∂„ÄÇ</p>
<p>‚Äã    Bootstrap ÊòØ‚ÄúÂºïÂØº‚ÄùÁöÑÊÑèÊÄùÔºåË¥üË¥£ Netty <strong>ÂÆ¢Êà∑Á´ØÁ®ãÂ∫è</strong>ÁöÑÂêØÂä®„ÄÅÂàùÂßãÂåñ„ÄÅÊúçÂä°Âô®ËøûÊé•Á≠âËøáÁ®ãÔºå‰∏≤ËÅî‰∫Ü Netty ÁöÑÂÖ∂‰ªñÊ†∏ÂøÉÁªÑ‰ª∂„ÄÇ</p>
<p>‚Äã    ServerBootStrap Áî®‰∫é<strong>ÊúçÂä°Á´ØÂêØÂä®</strong>ÁªëÂÆöÊú¨Âú∞Á´ØÂè£Ôºå‰ºöÁªëÂÆöBoss Âíå Worker‰∏§‰∏™ EventLoopGroup„ÄÇ</p>
<p>‚Äã    Channel ÁöÑÊòØ‚Äú<strong>ÈÄöÈÅì</strong>‚ÄùÔºåNetty ChannelÊèê‰æõ‰∫ÜÂü∫‰∫éNIOÊõ¥È´òÂ±ÇÊ¨°ÁöÑÊäΩË±°ÔºåÂ¶Ç register„ÄÅbind„ÄÅconnect„ÄÅread„ÄÅwrite„ÄÅflush Á≠â„ÄÇ</p>
<p>‚Äã</p>
<p>‚Äã    <strong>‰∫ã‰ª∂Ë∞ÉÂ∫¶Â±Ç</strong><br>‚Äã    ‰∫ã‰ª∂Ë∞ÉÂ∫¶Â±ÇÁöÑËÅåË¥£ÊòØÈÄöËøá Reactor Á∫øÁ®ãÊ®°ÂûãÂØπÂêÑÁ±ª‰∫ã‰ª∂ËøõË°åËÅöÂêàÂ§ÑÁêÜÔºåÈÄöËøá Selector ‰∏ªÂæ™ÁéØÁ∫øÁ®ãÈõÜÊàêÂ§öÁßç‰∫ã‰ª∂Ôºà I/O ‰∫ã‰ª∂„ÄÅ‰ø°Âè∑‰∫ã‰ª∂„ÄÅÂÆöÊó∂‰∫ã‰ª∂Á≠âÔºâÔºåÂÆûÈôÖÁöÑ‰∏öÂä°Â§ÑÁêÜÈÄªËæëÊòØ‰∫§Áî±ÊúçÂä°ÁºñÊéíÂ±Ç‰∏≠Áõ∏ÂÖ≥ÁöÑ Handler ÂÆåÊàê„ÄÇ</p>
<p>‰∫ã‰ª∂Ë∞ÉÂ∫¶Â±ÇÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂåÖÊã¨ <strong>EventLoopGroup„ÄÅEventLoop</strong>„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ijuqesxj30ke0ekgpj.jpg" title="image-20210504171631793" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ijuqesxj30ke0ekgpj.jpg" alt="image-20210504171631793" style="zoom:50%;"></a></p>
<p>‚Äã                        </p>
<p>‚Äã    <strong>EventLoop</strong> Ë¥üË¥£Â§ÑÁêÜ Channel ÁîüÂëΩÂë®ÊúüÂÜÖÁöÑÊâÄÊúâ I/O ‰∫ã‰ª∂ÔºåÂ¶Ç accept„ÄÅconnect„ÄÅread„ÄÅwrite Á≠â I/O ‰∫ã‰ª∂</p>
<p>‚Äã        ‚ë†‰∏Ä‰∏™ EventLoopGroup ÂæÄÂæÄÂåÖÂê´<strong>‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™</strong> EventLoop„ÄÇ</p>
<p>‚Äã        ‚ë°EventLoop Âêå‰∏ÄÊó∂Èó¥‰ºö‰∏é‰∏Ä‰∏™ChannelÁªëÂÆöÔºåÊØè‰∏™ EventLoop Ë¥üË¥£<strong>Â§ÑÁêÜ‰∏ÄÁßçÁ±ªÂûã Channel</strong>„ÄÇ</p>
<p>‚Äã        ‚ë¢Channel Âú®ÁîüÂëΩÂë®ÊúüÂÜÖÂèØ‰ª•ÂØπÂíåÂ§ö‰∏™ EventLoop ËøõË°å<strong>Â§öÊ¨°ÁªëÂÆöÂíåËß£Áªë</strong>„ÄÇ        </p>
<p>‚Äã    <strong>EventLoopGroup</strong> ÊòØNetty ÁöÑ<strong>Ê†∏ÂøÉÂ§ÑÁêÜÂºïÊìé</strong>ÔºåÊú¨Ë¥®ÊòØ‰∏Ä‰∏™Á∫øÁ®ãÊ±†Ôºå‰∏ªË¶ÅË¥üË¥£Êé•Êî∂ I/O ËØ∑Ê±ÇÔºåÂπ∂ÂàÜÈÖçÁ∫øÁ®ãÊâßË°åÂ§ÑÁêÜËØ∑Ê±Ç„ÄÇÈÄöËøáÂàõÂª∫‰∏çÂêåÁöÑ EventLoopGroup ÂèÇÊï∞ÈÖçÁΩÆÔºåÂ∞±ÂèØ‰ª•ÊîØÊåÅ Reactor ÁöÑ‰∏âÁßçÁ∫øÁ®ãÊ®°ÂûãÔºö</p>
<p>‚Äã        <strong>ÂçïÁ∫øÁ®ãÊ®°Âûã</strong>ÔºöEventLoopGroup Âè™ÂåÖÂê´‰∏Ä‰∏™ EventLoopÔºåBoss Âíå Worker ‰ΩøÁî®Âêå‰∏Ä‰∏™EventLoopGroupÔºõ</p>
<p>‚Äã        <strong>Â§öÁ∫øÁ®ãÊ®°Âûã</strong>ÔºöEventLoopGroup ÂåÖÂê´Â§ö‰∏™ EventLoopÔºåBoss Âíå Worker ‰ΩøÁî®Âêå‰∏Ä‰∏™EventLoopGroupÔºõ</p>
<p>‚Äã        <strong>‰∏ª‰ªéÂ§öÁ∫øÁ®ãÊ®°Âûã</strong>ÔºöEventLoopGroup ÂåÖÂê´Â§ö‰∏™ EventLoopÔºåBoss ÊòØ‰∏ª ReactorÔºåWorker ÊòØ‰ªé ReactorÔºåÂÆÉ‰ª¨ÂàÜÂà´‰ΩøÁî®‰∏çÂêåÁöÑ EventLoopGroupÔºå‰∏ª Reactor Ë¥üË¥£Êñ∞ÁöÑÁΩëÁªúËøûÊé• Channel ÂàõÂª∫ÔºåÁÑ∂ÂêéÊää Channel Ê≥®ÂÜåÂà∞‰ªé Reactor„ÄÇ</p>
<p>‚Äã    <strong>ÊúçÂä°ÁºñÊéíÂ±Ç</strong><br>‚Äã    ÊúçÂä°ÁºñÊéíÂ±ÇÁöÑËÅåË¥£ÊòØË¥üË¥£ÁªÑË£ÖÂêÑÁ±ªÊúçÂä°ÔºåÂÆÉÊòØ Netty ÁöÑÊ†∏ÂøÉÂ§ÑÁêÜÈìæÔºåÁî®‰ª•ÂÆûÁé∞ÁΩëÁªú‰∫ã‰ª∂ÁöÑÂä®ÊÄÅÁºñÊéíÂíåÊúâÂ∫è‰º†Êí≠„ÄÇ</p>
<p>ÊúçÂä°ÁºñÊéíÂ±ÇÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂåÖÊã¨ <strong>ChannelPipeline„ÄÅChannelHandler„ÄÅChannelHandlerContext</strong>„ÄÇ</p>
<p>‚Äã    <strong>ChannelPipeline</strong> ÊòØ Netty ÁöÑÊ†∏ÂøÉÁºñÊéíÁªÑ‰ª∂ÔºåË¥üË¥£ÁªÑË£ÖÂêÑÁßç ChannelHandlerÔºåChannelPipeline ÂÜÖÈÉ®ÈÄöËøáÂèåÂêëÈìæË°®Â∞Ü‰∏çÂêåÁöÑ ChannelHandler ÈìæÊé•Âú®‰∏ÄËµ∑„ÄÇÂΩì I/O ËØªÂÜô‰∫ã‰ª∂Ëß¶ÂèëÊó∂ÔºåPipeline ‰ºö‰æùÊ¨°Ë∞ÉÁî® Handler ÂàóË°®ÂØπ Channel ÁöÑÊï∞ÊçÆËøõË°åÊã¶Êà™ÂíåÂ§ÑÁêÜ„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6il759apj313s068abj.jpg" title="image-20210504171749533" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6il759apj313s068abj.jpg" alt="image-20210504171749533" style="zoom:50%;"></a></p>
<p>‚Äã</p>
<p>‚Äã    ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈÉΩÊúâÂêÑËá™ÁöÑ ChannelPipeline„ÄÇÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´Ø‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑËØ∑Ê±ÇÔºöÂÆ¢Êà∑Á´ØÂá∫Á´ôÔºàEncoder ËØ∑Ê±ÇÊï∞ÊçÆÔºâ„ÄÅÊúçÂä°Á´ØÂÖ•Á´ôÔºàDecoderÊé•Êî∂Êï∞ÊçÆÂπ∂ÊâßË°å‰∏öÂä°ÈÄªËæëÔºâ„ÄÅÊúçÂä°Á´ØÂá∫Á´ôÔºàEncoderÂìçÂ∫îÁªìÊûúÔºâ„ÄÇ</p>
<p>‚Äã    <strong>ChannelHandler</strong> ÂÆåÊàêÊï∞ÊçÆÁöÑÁºñËß£Á†Å‰ª•ÂèäÂ§ÑÁêÜÂ∑•‰Ωú„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ilvuhupj30ye08e0vd.jpg" title="image-20210504171829071" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ilvuhupj30ye08e0vd.jpg" alt="image-20210504171829071" style="zoom:50%;"></a></p>
<p>‚Äã    <strong>ChannelHandlerContext</strong> Áî®‰∫é‰øùÂ≠òHandler ‰∏ä‰∏ãÊñáÔºåÈÄöËøá HandlerContext Êàë‰ª¨ÂèØ‰ª•Áü•ÈÅì Pipeline Âíå Handler ÁöÑÂÖ≥ËÅîÂÖ≥Á≥ª„ÄÇHandlerContext ÂèØ‰ª•ÂÆûÁé∞ Handler ‰πãÈó¥ÁöÑ‰∫§‰∫íÔºåHandlerContext ÂåÖÂê´‰∫Ü Handler ÁîüÂëΩÂë®ÊúüÁöÑÊâÄÊúâ‰∫ã‰ª∂ÔºåÂ¶Ç connect„ÄÅbind„ÄÅread„ÄÅflush„ÄÅwrite„ÄÅclose Á≠â„ÄÇÂêåÊó∂ÔºåHandlerContext ÂÆûÁé∞‰∫ÜHandlerÈÄöÁî®ÁöÑÈÄªËæëÁöÑÊ®°ÂûãÊäΩË±°„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6imu2khlj31080gu0xc.jpg" title="image-20210504171924019" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6imu2khlj31080gu0xc.jpg" alt="image-20210504171924019" style="zoom:50%;"></a></p>
<h3 id="ÁΩëÁªú‰º†Ëæì"><a href="#ÁΩëÁªú‰º†Ëæì" class="headerlink" title="ÁΩëÁªú‰º†Ëæì"></a>ÁΩëÁªú‰º†Ëæì</h3><h4 id="1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´"><a href="#1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´" class="headerlink" title="1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´"></a><strong>1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´</strong></h4><p><strong>ÈòªÂ°ûI/OÔºöÔºàBIOÔºâ</strong></p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ingki0yj30kw0d6gmr.jpg" title="image-20210504171959821" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ingki0yj30kw0d6gmr.jpg" alt="image-20210504171959821" style="zoom:50%;"></a></p>
<p>‚Äã</p>
<p>‚Äã        Â∫îÁî®ËøõÁ®ãÂêëÂÜÖÊ†∏ÂèëËµ∑ I/O ËØ∑Ê±ÇÔºåÂèëËµ∑Ë∞ÉÁî®ÁöÑÁ∫øÁ®ã‰∏ÄÁõ¥Á≠âÂæÖÂÜÖÊ†∏ËøîÂõûÁªìÊûú„ÄÇ‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑ I/O ËØ∑Ê±ÇÁß∞‰∏∫BIOÔºàBlocking IOÔºåÈòªÂ°û I/OÔºâÔºåÊâÄ‰ª• BIO Âú®ÂÆûÁé∞ÂºÇÊ≠•Êìç‰ΩúÊó∂ÔºåÂè™ËÉΩ‰ΩøÁî®Â§öÁ∫øÁ®ãÊ®°ÂûãÔºå‰∏Ä‰∏™ËØ∑Ê±ÇÂØπÂ∫î‰∏Ä‰∏™Á∫øÁ®ã„ÄÇ‰ΩÜÊòØÔºå<strong>Á∫øÁ®ãÁöÑËµÑÊ∫êÊòØÊúâÈôê‰∏îÂÆùË¥µÁöÑÔºåÂàõÂª∫ËøáÂ§öÁöÑÁ∫øÁ®ã‰ºöÂ¢ûÂä†Á∫øÁ®ãÂàáÊç¢ÁöÑÂºÄÈîÄ„ÄÇ</strong></p>
<p><strong>ÂêåÊ≠•ÈùûÈòªÂ°ûI/OÔºàNIOÔºâÔºö</strong></p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6inzsk9xj30lg0cign1.jpg" title="image-20210504172029418" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6inzsk9xj30lg0cign1.jpg" alt="image-20210504172029418" style="zoom:50%;"></a></p>
<p>‚Äã        </p>
<p>‚Äã        Â∫îÁî®ËøõÁ®ãÂêëÂÜÖÊ†∏ÂèëËµ∑ I/O ËØ∑Ê±ÇÂêé‰∏çÂÜç‰ºöÂêåÊ≠•Á≠âÂæÖÁªìÊûúÔºåËÄåÊòØ‰ºöÁ´ãÂç≥ËøîÂõûÔºåÈÄöËøáËΩÆËØ¢ÁöÑÊñπÂºèËé∑ÂèñËØ∑Ê±ÇÁªìÊûú„ÄÇNIO Áõ∏ÊØî BIO ËôΩÁÑ∂Â§ßÂπÖÊèêÂçá‰∫ÜÊÄßËÉΩÔºå‰ΩÜÊòØËΩÆËØ¢ËøáÁ®ã‰∏≠Â§ßÈáèÁöÑÁ≥ªÁªüË∞ÉÁî®ÂØºËá¥‰∏ä‰∏ãÊñáÂàáÊç¢ÂºÄÈîÄÂæàÂ§ß„ÄÇÊâÄ‰ª•ÔºåÂçïÁã¨‰ΩøÁî®ÈùûÈòªÂ°û I/O Êó∂ÊïàÁéáÂπ∂‰∏çÈ´òÔºåËÄå‰∏î<strong>ÈöèÁùÄÂπ∂ÂèëÈáèÁöÑÊèêÂçáÔºåÈùûÈòªÂ°û I/O ‰ºöÂ≠òÂú®‰∏•ÈáçÁöÑÊÄßËÉΩÊµ™Ë¥π„ÄÇ</strong></p>
<p><strong>Â§öË∑ØÂ§çÁî®I/OÔºàselectÂíåpollÔºâÔºö</strong></p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6iogl9x0j30ja0cqdh7.jpg" title="image-20210504172057237" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6iogl9x0j30ja0cqdh7.jpg" alt="image-20210504172057237" style="zoom:50%;"></a></p>
<p>‚Äã        </p>
<p>‚Äã        Â§öË∑ØÂ§çÁî®ÂÆûÁé∞‰∫Ü<strong>‰∏Ä‰∏™Á∫øÁ®ãÂ§ÑÁêÜÂ§ö‰∏™ I/O Âè•ÊüÑÁöÑÊìç‰Ωú</strong>„ÄÇÂ§öË∑ØÊåáÁöÑÊòØÂ§ö‰∏™Êï∞ÊçÆÈÄöÈÅìÔºåÂ§çÁî®ÊåáÁöÑÊòØ‰ΩøÁî®‰∏Ä‰∏™ÊàñÂ§ö‰∏™Âõ∫ÂÆöÁ∫øÁ®ãÊù•Â§ÑÁêÜÊØè‰∏Ä‰∏™ Socket„ÄÇselect„ÄÅpoll„ÄÅepoll ÈÉΩÊòØ I/O Â§öË∑ØÂ§çÁî®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåÁ∫øÁ®ã‰∏ÄÊ¨° select Ë∞ÉÁî®ÂèØ‰ª•Ëé∑ÂèñÂÜÖÊ†∏ÊÄÅ‰∏≠Â§ö‰∏™Êï∞ÊçÆÈÄöÈÅìÁöÑÊï∞ÊçÆÁä∂ÊÄÅ„ÄÇÂÖ∂‰∏≠ÔºåselectÂè™Ë¥üË¥£Á≠âÔºårecvfromÂè™Ë¥üË¥£Êã∑Ë¥ùÔºåÈòªÂ°ûIO‰∏≠ÂèØ‰ª•ÂØπÂ§ö‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ËøõË°åÈòªÂ°ûÁõëÂê¨ÔºåÊòØ‰∏ÄÁßçÈùûÂ∏∏È´òÊïàÁöÑ I/O Ê®°Âûã„ÄÇ</p>
<p><strong>‰ø°Âè∑È©±Âä®I/OÔºàSIGIOÔºâÔºö</strong></p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ioxthajj30ii0cemyk.jpg" title="image-20210504172124965" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ioxthajj30ii0cemyk.jpg" alt="image-20210504172124965" style="zoom:50%;"></a></p>
<p>‚Äã        </p>
<p>‚Äã        ‰ø°Âè∑È©±Âä®IOÊ®°ÂûãÔºåÂ∫îÁî®ËøõÁ®ãÂëäËØâÂÜÖÊ†∏ÔºöÂΩìÊï∞ÊçÆÊä•ÂáÜÂ§áÂ•ΩÁöÑÊó∂ÂÄôÔºåÁªôÊàëÂèëÈÄÅ‰∏Ä‰∏™‰ø°Âè∑ÔºåÂØπSIGIO‰ø°Âè∑ËøõË°åÊçïÊçâÔºåÂπ∂‰∏îË∞ÉÁî®ÊàëÁöÑ‰ø°Âè∑Â§ÑÁêÜÂáΩÊï∞Êù•Ëé∑ÂèñÊï∞ÊçÆÊä•„ÄÇ</p>
<p><strong>ÂºÇÊ≠•I/OÔºàPosix.1ÁöÑaio_Á≥ªÂàóÂáΩÊï∞ÔºâÔºö</strong></p>
<p>‚Äã        <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ipcc12jj30lg0coabe.jpg" title="image-20210504172148095" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ipcc12jj30lg0coabe.jpg" alt="image-20210504172148095" style="zoom:50%;"></a></p>
<p>‚Äã        ÂΩìÂ∫îÁî®Á®ãÂ∫èË∞ÉÁî®aio_readÊó∂ÔºåÂÜÖÊ†∏‰∏ÄÊñπÈù¢ÂéªÂèñÊï∞ÊçÆÊä•ÂÜÖÂÆπËøîÂõûÔºåÂè¶‰∏ÄÊñπÈù¢Â∞ÜÁ®ãÂ∫èÊéßÂà∂ÊùÉËøòÁªôÂ∫îÁî®ËøõÁ®ãÔºåÂ∫îÁî®ËøõÁ®ãÁªßÁª≠Â§ÑÁêÜÂÖ∂‰ªñ‰∫ãÊÉÖÔºåÊòØ‰∏ÄÁßçÈùûÈòªÂ°ûÁöÑÁä∂ÊÄÅ„ÄÇÂΩìÂÜÖÊ†∏‰∏≠ÊúâÊï∞ÊçÆÊä•Â∞±Áª™Êó∂ÔºåÁî±ÂÜÖÊ†∏Â∞ÜÊï∞ÊçÆÊä•Êã∑Ë¥ùÂà∞Â∫îÁî®Á®ãÂ∫è‰∏≠ÔºåËøîÂõûaio_read‰∏≠ÂÆö‰πâÂ•ΩÁöÑÂáΩÊï∞Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ</p>
<h4 id="2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã"><a href="#2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã" class="headerlink" title="2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã"></a>2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã</h4><p>‚Äã        Netty ÁöÑ I/O Ê®°ÂûãÊòØÂü∫‰∫é<strong>ÈùûÈòªÂ°û I/O</strong> ÂÆûÁé∞ÁöÑÔºåÂ∫ïÂ±Ç‰æùËµñÁöÑÊòØ NIO Ê°ÜÊû∂ÁöÑ<strong>Â§öË∑ØÂ§çÁî®Âô® Selector</strong>„ÄÇÈááÁî® <strong>epoll Ê®°Âºè</strong>ÂêéÔºåÂè™ÈúÄË¶Å‰∏Ä‰∏™Á∫øÁ®ãË¥üË¥£ Selector ÁöÑËΩÆËØ¢„ÄÇÂΩìÊúâÊï∞ÊçÆÂ§Ñ‰∫éÂ∞±Áª™Áä∂ÊÄÅÂêéÔºåÈúÄË¶Å‰∏Ä‰∏™<strong>‰∫ã‰ª∂ÂàÜÂèëÂô®</strong>ÔºàEvent DispatherÔºâÔºåÂÆÉË¥üË¥£Â∞ÜËØªÂÜô‰∫ã‰ª∂ÂàÜÂèëÁªôÂØπÂ∫îÁöÑËØªÂÜô<strong>‰∫ã‰ª∂Â§ÑÁêÜÂô®</strong>ÔºàEvent HandlerÔºâ„ÄÇ‰∫ã‰ª∂ÂàÜÂèëÂô®Êúâ‰∏§ÁßçËÆæËÆ°Ê®°ÂºèÔºö<strong>Reactor Âíå Proactor</strong>ÔºåReactor ÈááÁî®ÂêåÊ≠• I/OÔºå Proactor ÈááÁî®ÂºÇÊ≠• I/O„ÄÇ</p>
<p>‚Äã</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ipob6wjj30we0i4jz2.jpg" title="image-20210504172207142" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ipob6wjj30we0i4jz2.jpg" alt="image-20210504172207142" style="zoom:50%;"></a></p>
<p>‚Äã        Reactor ÂÆûÁé∞Áõ∏ÂØπÁÆÄÂçïÔºåÈÄÇÂêàÂ§ÑÁêÜËÄóÊó∂Áü≠ÁöÑÂú∫ÊôØÔºåÂØπ‰∫éËÄóÊó∂ÈïøÁöÑ I/O Êìç‰ΩúÂÆπÊòìÈÄ†ÊàêÈòªÂ°û„ÄÇProactor ÊÄßËÉΩÊõ¥È´òÔºå‰ΩÜÊòØÂÆûÁé∞ÈÄªËæëÈùûÂ∏∏Â§çÊùÇÔºåÈÄÇÂêàÂõæÁâáÊàñËßÜÈ¢ëÊµÅÂàÜÊûêÊúçÂä°Âô®ÔºåÁõÆÂâç‰∏ªÊµÅÁöÑ‰∫ã‰ª∂È©±Âä®Ê®°ÂûãËøòÊòØ‰æùËµñ <strong>select Êàñ epoll</strong> Êù•ÂÆûÁé∞„ÄÇ</p>
<h4 id="3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò"><a href="#3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò" class="headerlink" title="3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò"></a>3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò</h4><p><strong>ÊãÜÂåÖ</strong>TCP ‰º†ËæìÂçèËÆÆÊòØÈù¢ÂêëÊµÅÁöÑÔºåÊ≤°ÊúâÊï∞ÊçÆÂåÖÁïåÈôê„ÄÇ<br><strong>MTUÔºàMaxitum Transmission UnitÔºâ</strong> ÊòØÈìæË∑ØÂ±Ç‰∏ÄÊ¨°ÊúÄÂ§ß‰º†ËæìÊï∞ÊçÆÁöÑÂ§ßÂ∞è„ÄÇMTU ‰∏ÄËà¨Êù•ËØ¥Â§ßÂ∞è‰∏∫ 1500 byte„ÄÇ<strong>MSSÔºàMaximum Segement SizeÔºâ</strong> ÊòØÊåá TCP ÊúÄÂ§ßÊä•ÊñáÊÆµÈïøÂ∫¶ÔºåÂÆÉÊòØ‰º†ËæìÂ±Ç‰∏ÄÊ¨°ÂèëÈÄÅÊúÄÂ§ßÊï∞ÊçÆÁöÑÂ§ßÂ∞è„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6iq4xdjtj30q407egnk.jpg" title="image-20210504172233844" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6iq4xdjtj30q407egnk.jpg" alt="image-20210504172233844" style="zoom:50%;"></a></p>
<p>Â¶Ç‰∏äÂõæÊâÄÁ§∫ÔºåÂ¶ÇÊûú MSS + TCP È¶ñÈÉ® + IP È¶ñÈÉ® &gt; MTUÔºåÈÇ£‰πàÊï∞ÊçÆÂåÖÂ∞Ü‰ºöË¢´ÊãÜÂàÜ‰∏∫Â§ö‰∏™ÂèëÈÄÅ„ÄÇËøôÂ∞±ÊòØ<strong>ÊãÜÂåÖÁé∞Ë±°</strong>„ÄÇ</p>
<p><strong>Nagle ÁÆóÊ≥ï</strong><br>Nagle ÁÆóÊ≥ïÂèØ‰ª•ÁêÜËß£‰∏∫ÊâπÈáèÂèëÈÄÅÔºå‰πüÊòØÊàë‰ª¨Âπ≥Êó∂ÁºñÁ®ã‰∏≠ÁªèÂ∏∏Áî®Âà∞ÁöÑ‰ºòÂåñÊÄùË∑ØÔºåÂÆÉÊòØÂú®Êï∞ÊçÆÊú™ÂæóÂà∞Á°ÆËÆ§‰πãÂâçÂÖàÂÜôÂÖ•ÁºìÂÜ≤Âå∫ÔºåÁ≠âÂæÖÊï∞ÊçÆÁ°ÆËÆ§ÊàñËÄÖÁºìÂÜ≤Âå∫ÁßØÊîíÂà∞‰∏ÄÂÆöÂ§ßÂ∞èÂÜçÊääÊï∞ÊçÆÂåÖÂèëÈÄÅÂá∫Âéª„ÄÇNetty ‰∏≠‰∏∫‰∫Ü‰ΩøÊï∞ÊçÆ<strong>‰º†ËæìÂª∂ËøüÊúÄÂ∞èÂåñ</strong>ÔºåÂ∞±ÈªòËÆ§<strong>Á¶ÅÁî®‰∫Ü Nagle ÁÆóÊ≥ï</strong>„ÄÇ</p>
<p><strong>ÊãÜÂåÖ/Á≤òÂåÖÁöÑËß£ÂÜ≥ÊñπÊ°à</strong></p>
<p>Âú®ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈÄö‰ø°ÁöÑËøáÁ®ã‰∏≠ÔºåÊúçÂä°Á´Ø‰∏ÄÊ¨°ËØªÂà∞ÁöÑÊï∞ÊçÆÂ§ßÂ∞èÊòØ‰∏çÁ°ÆÂÆöÁöÑ„ÄÇÈúÄË¶ÅÁ°ÆÂÆöËæπÁïåÔºö</p>
<p><strong>Ê∂àÊÅØÈïøÂ∫¶Âõ∫ÂÆö</strong><br><strong>ÁâπÂÆöÂàÜÈöîÁ¨¶</strong><br><strong>Ê∂àÊÅØÈïøÂ∫¶ + Ê∂àÊÅØÂÜÖÂÆπ</strong>(Netty)</p>
<h4 id="4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ"><a href="#4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ" class="headerlink" title="4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ"></a>4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ</h4><p>Netty Â∏∏Áî®ÁºñÁ†ÅÂô®Á±ªÂûãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MessageToByteEncoder <span class="comment">//ÂØπË±°ÁºñÁ†ÅÊàêÂ≠óËäÇÊµÅÔºõ</span></span><br><span class="line"></span><br><span class="line">MessageToMessageEncoder <span class="comment">//‰∏ÄÁßçÊ∂àÊÅØÁ±ªÂûãÁºñÁ†ÅÊàêÂè¶Â§ñ‰∏ÄÁßçÊ∂àÊÅØÁ±ªÂûã„ÄÇ</span></span><br></pre></td></tr></table></figure>
<p>Netty Â∏∏Áî®Ëß£Á†ÅÂô®Á±ªÂûãÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ByteToMessageDecoder/ReplayingDecoder <span class="comment">//Â∞ÜÂ≠óËäÇÊµÅËß£Á†Å‰∏∫Ê∂àÊÅØÂØπË±°Ôºõ</span></span><br><span class="line"></span><br><span class="line">MessageToMessageDecoder <span class="comment">//Â∞Ü‰∏ÄÁßçÊ∂àÊÅØÁ±ªÂûãËß£Á†Å‰∏∫Âè¶Â§ñ‰∏ÄÁßçÊ∂àÊÅØÁ±ªÂûã„ÄÇ</span></span><br></pre></td></tr></table></figure>
<p>ÁºñËß£Á†ÅÂô®ÂèØ‰ª•ÂàÜ‰∏∫<strong>‰∏ÄÊ¨°Ëß£Á†ÅÂô®</strong>Âíå<strong>‰∫åÊ¨°Ëß£Á†ÅÂô®</strong>Ôºå‰∏ÄÊ¨°Ëß£Á†ÅÂô®Áî®‰∫éËß£ÂÜ≥ <strong>TCP ÊãÜÂåÖ/Á≤òÂåÖÈóÆÈ¢ò</strong>ÔºåÊåâÂçèËÆÆËß£ÊûêÂêéÂæóÂà∞ÁöÑÂ≠óËäÇÊï∞ÊçÆ„ÄÇÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂØπËß£ÊûêÂêéÁöÑ<strong>Â≠óËäÇÊï∞ÊçÆÂÅöÂØπË±°Ê®°Âûã</strong>ÁöÑËΩ¨Êç¢ÔºåËøôÊó∂ÂÄô‰æøÈúÄË¶ÅÁî®Âà∞‰∫åÊ¨°Ëß£Á†ÅÂô®ÔºåÂêåÁêÜÁºñÁ†ÅÂô®ÁöÑËøáÁ®ãÊòØÂèçËøáÊù•ÁöÑ„ÄÇ</p>
<p><strong>NettyËá™ÂÆö‰πâÂçèËÆÆÂÜÖÂÆπÔºö</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">+---------------------------------------------------------------+</span></span><br><span class="line"><span class="comment">| È≠îÊï∞ 2byte | ÂçèËÆÆÁâàÊú¨Âè∑ 1byte | Â∫èÂàóÂåñÁÆóÊ≥ï 1byte | Êä•ÊñáÁ±ªÂûã 1byte¬† |</span></span><br><span class="line"><span class="comment">+---------------------------------------------------------------+</span></span><br><span class="line"><span class="comment">| Áä∂ÊÄÅ 1byte |¬† ¬† ¬† ¬† ‰øùÁïôÂ≠óÊÆµ 4byte¬† ¬† ¬†|¬† ¬† ¬† Êï∞ÊçÆÈïøÂ∫¶ 4byte¬† ¬† ¬†|¬†</span></span><br><span class="line"><span class="comment">+---------------------------------------------------------------+</span></span><br><span class="line"><span class="comment">|¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†Êï∞ÊçÆÂÜÖÂÆπ ÔºàÈïøÂ∫¶‰∏çÂÆöÔºâ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† |</span></span><br><span class="line"><span class="comment">+---------------------------------------------------------------+</span></span><br><span class="line"><span class="comment">¬†*/</span></span><br></pre></td></tr></table></figure>
<p>Â¶Ç‰ΩïÂà§Êñ≠ ByteBuf ÊòØÂê¶Â≠òÂú®ÂÆåÊï¥ÁöÑÊä•ÊñáÔºüÊúÄÂ∏∏Áî®ÁöÑÂÅöÊ≥ïÂ∞±ÊòØÈÄöËøáËØªÂèñÊ∂àÊÅØÈïøÂ∫¶ dataLength ËøõË°åÂà§Êñ≠„ÄÇÂ¶ÇÊûú ByteBuf ÁöÑÂèØËØªÊï∞ÊçÆÈïøÂ∫¶Â∞è‰∫é dataLengthÔºåËØ¥Êòé ByteBuf Ëøò‰∏çÂ§üËé∑Âèñ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊä•Êñá„ÄÇ</p>
<h4 id="5„ÄÅWriteAndFlush"><a href="#5„ÄÅWriteAndFlush" class="headerlink" title="5„ÄÅWriteAndFlush"></a>5„ÄÅWriteAndFlush</h4><p>‚Äã        <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6iqnas8fj31400lkaj2.jpg" title="image-20210504172303465" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6iqnas8fj31400lkaj2.jpg" alt="image-20210504172303465" style="zoom:50%;"></a></p>
<p>‚Äã    ‚ë†writeAndFlush Â±û‰∫éÂá∫Á´ôÊìç‰ΩúÔºåÂÆÉÊòØ‰ªé Pipeline ÁöÑ Tail ËäÇÁÇπÂºÄÂßãËøõË°å‰∫ã‰ª∂‰º†Êí≠Ôºå‰∏ÄÁõ¥ÂêëÂâç‰º†Êí≠Âà∞ Head ËäÇÁÇπ„ÄÇ‰∏çÁÆ°Âú® write ËøòÊòØ flush ËøáÁ®ãÔºåHead ËäÇÁÇπÈÉΩ‰∏≠ÊâÆÊºîÁùÄÈáçË¶ÅÁöÑËßíËâ≤„ÄÇ</p>
<p>‚Äã    ‚ë°write ÊñπÊ≥ïÂπ∂Ê≤°ÊúâÂ∞ÜÊï∞ÊçÆÂÜôÂÖ• Socket ÁºìÂÜ≤Âå∫ÔºåÂè™ÊòØÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Âà∞ ChannelOutboundBuffer ÁºìÂ≠ò‰∏≠ÔºåChannelOutboundBuffer ÁºìÂ≠òÂÜÖÈÉ®ÊòØÁî±ÂçïÂêëÈìæË°®ÂÆûÁé∞ÁöÑ„ÄÇ</p>
<p>‚Äã    ‚ë¢flush ÊñπÊ≥ïÊâçÊúÄÁªàÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Âà∞ Socket ÁºìÂÜ≤Âå∫„ÄÇ</p>
<h3 id="ÂÜÖÂ≠òÁÆ°ÁêÜ"><a href="#ÂÜÖÂ≠òÁÆ°ÁêÜ" class="headerlink" title="ÂÜÖÂ≠òÁÆ°ÁêÜ"></a>ÂÜÖÂ≠òÁÆ°ÁêÜ</h3><h4 id="1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò"><a href="#1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò" class="headerlink" title="1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò"></a>1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò</h4><p>‚Äã    Âú® Java ‰∏≠ÂØπË±°ÈÉΩÊòØÂú®Â†ÜÂÜÖÂàÜÈÖçÁöÑÔºåÈÄöÂ∏∏Êàë‰ª¨ËØ¥ÁöÑ<strong>JVM ÂÜÖÂ≠ò</strong>‰πüÂ∞±ÊåáÁöÑ<strong>Â†ÜÂÜÖÂÜÖÂ≠ò</strong>Ôºå<strong>Â†ÜÂÜÖÂÜÖÂ≠ò</strong>ÂÆåÂÖ®Ë¢´<strong>JVM ËôöÊãüÊú∫</strong>ÊâÄÁÆ°ÁêÜÔºåJVM ÊúâËá™Â∑±ÁöÑÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ïÔºåÂØπ‰∫é‰ΩøÁî®ËÄÖÊù•ËØ¥‰∏çÂøÖÂÖ≥ÂøÉÂØπË±°ÁöÑÂÜÖÂ≠òÂ¶Ç‰ΩïÂõûÊî∂„ÄÇ<strong>Â†ÜÂ§ñÂÜÖÂ≠ò</strong>‰∏éÂ†ÜÂÜÖÂÜÖÂ≠òÁõ∏ÂØπÂ∫îÔºåÂØπ‰∫éÊï¥‰∏™Êú∫Âô®ÂÜÖÂ≠òËÄåË®ÄÔºåÈô§<strong>Â†ÜÂÜÖÂÜÖÂ≠ò‰ª•Â§ñÈÉ®ÂàÜÂç≥‰∏∫Â†ÜÂ§ñÂÜÖÂ≠ò</strong>„ÄÇÂ†ÜÂ§ñÂÜÖÂ≠ò‰∏çÂèó JVM ËôöÊãüÊú∫ÁÆ°ÁêÜÔºåÁõ¥Êé•Áî±Êìç‰ΩúÁ≥ªÁªüÁÆ°ÁêÜ„ÄÇ‰ΩøÁî®Â†ÜÂ§ñÂÜÖÂ≠òÊúâÂ¶Ç‰∏ãÂá†‰∏™‰ºòÁÇπÔºö</p>
<ol>
<li>Â†ÜÂÜÖÂÜÖÂ≠òÁî± JVM GC Ëá™Âä®ÂõûÊî∂ÂÜÖÂ≠òÔºåÈôç‰Ωé‰∫Ü Java Áî®Êà∑ÁöÑ‰ΩøÁî®ÂøÉÊô∫ÔºåÂ†ÜÂ§ñÂÜÖÂ≠òÁî±‰∫é‰∏çÂèó JVM ÁÆ°ÁêÜÔºåÊâÄ‰ª•Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÂèØ‰ª•Èôç‰Ωé GC ÂØπÂ∫îÁî®ËøêË°åÊó∂Â∏¶Êù•ÁöÑÂΩ±Âìç„ÄÇ</li>
<li>Â†ÜÂ§ñÂÜÖÂ≠òÈúÄË¶ÅÊâãÂä®ÈáäÊîæÔºåËøô‰∏ÄÁÇπË∑ü C/C++ ÂæàÂÉèÔºåÁ®çÊúâ‰∏çÊÖéÂ∞±‰ºöÈÄ†ÊàêÂ∫îÁî®Á®ãÂ∫èÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂΩìÂá∫Áé∞ÂÜÖÂ≠òÊ≥ÑÊºèÈóÆÈ¢òÊó∂ÊéíÊü•Ëµ∑Êù•‰ºöÁõ∏ÂØπÂõ∞Èöæ„ÄÇ</li>
<li>ÂΩìËøõË°åÁΩëÁªú I/O Êìç‰Ωú„ÄÅÊñá‰ª∂ËØªÂÜôÊó∂ÔºåÂ†ÜÂÜÖÂÜÖÂ≠òÈÉΩÈúÄË¶ÅËΩ¨Êç¢‰∏∫Â†ÜÂ§ñÂÜÖÂ≠òÔºåÁÑ∂ÂêéÂÜç‰∏éÂ∫ïÂ±ÇËÆæÂ§áËøõË°å‰∫§‰∫íÔºåÊâÄ‰ª•Áõ¥Êé•‰ΩøÁî®Â†ÜÂ§ñÂÜÖÂ≠òÂèØ‰ª•ÂáèÂ∞ë‰∏ÄÊ¨°ÂÜÖÂ≠òÊã∑Ë¥ù„ÄÇ</li>
<li>Â†ÜÂ§ñÂÜÖÂ≠òÂèØ‰ª•Êñπ‰æøÂÆûÁé∞ËøõÁ®ã‰πãÈó¥„ÄÅJVM Â§öÂÆû‰æã‰πãÈó¥ÁöÑÊï∞ÊçÆÂÖ±‰∫´„ÄÇ</li>
</ol>
<p>‚Äã    Âú®Â†ÜÂÜÖÂ≠òÊîæÁöÑ DirectByteBuffer ÂØπË±°Âπ∂‰∏çÂ§ßÔºå‰ªÖ‰ªÖÂåÖÂê´Â†ÜÂ§ñÂÜÖÂ≠òÁöÑÂú∞ÂùÄ„ÄÅÂ§ßÂ∞èÁ≠âÂ±ûÊÄßÔºåÂêåÊó∂Ëøò‰ºöÂàõÂª∫ÂØπÂ∫îÁöÑ Cleaner ÂØπË±°ÔºåÈÄöËøá ByteBuffer ÂàÜÈÖçÁöÑÂ†ÜÂ§ñÂÜÖÂ≠ò‰∏çÈúÄË¶ÅÊâãÂä®ÂõûÊî∂ÔºåÂÆÉÂèØ‰ª•Ë¢´ JVM Ëá™Âä®ÂõûÊî∂„ÄÇÂΩìÂ†ÜÂÜÖÁöÑ DirectByteBuffer ÂØπË±°Ë¢´ GC ÂõûÊî∂Êó∂ÔºåCleaner Â∞±‰ºöÁî®‰∫éÂõûÊî∂ÂØπÂ∫îÁöÑÂ†ÜÂ§ñÂÜÖÂ≠ò„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ir0d0cmj30qw0hw41z.jpg" title="image-20210504172324820" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ir0d0cmj30qw0hw41z.jpg" alt="image-20210504172324820" style="zoom:50%;"></a></p>
<p>‚Äã    ‰ªé DirectByteBuffer ÁöÑÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÁúüÊ≠£ÂàÜÈÖçÂ†ÜÂ§ñÂÜÖÂ≠òÁöÑÈÄªËæëËøòÊòØÈÄöËøá unsafe.allocateMemory(size)ÔºåUnsafe ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏‰∏çÂÆâÂÖ®ÁöÑÁ±ªÔºåÂÆÉÁî®‰∫éÊâßË°åÂÜÖÂ≠òËÆøÈóÆ„ÄÅÂàÜÈÖç„ÄÅ‰øÆÊîπÁ≠â<strong>ÊïèÊÑüÊìç‰Ωú</strong>ÔºåÂèØ‰ª•Ë∂äËøá JVM ÈôêÂà∂ÁöÑÊû∑ÈîÅ„ÄÇUnsafe ÊúÄÂàùÂπ∂‰∏çÊòØ‰∏∫ÂºÄÂèëËÄÖËÆæËÆ°ÁöÑÔºå‰ΩøÁî®ÂÆÉÊó∂ËôΩÁÑ∂ÂèØ‰ª•Ëé∑ÂèñÂØπÂ∫ïÂ±ÇËµÑÊ∫êÁöÑÊéßÂà∂ÊùÉÔºå‰ΩÜ‰πüÂ§±Âéª‰∫ÜÂÆâÂÖ®ÊÄßÁöÑ‰øùËØÅÔºå‰ΩøÁî® Unsafe ‰∏ÄÂÆöË¶ÅÊÖéÈáçÔºàJava ‰∏≠ÊòØ‰∏çËÉΩÁõ¥Êé•‰ΩøÁî® Unsafe ÁöÑÔºå‰ΩÜÊòØÂèØ‰ª•ÈÄöËøáÂèçÂ∞ÑËé∑Âèñ Unsafe ÂÆû‰æãÔºâ„ÄÇNetty ‰∏≠‰æùËµñ‰∫Ü Unsafe Â∑•ÂÖ∑Á±ªÔºåÊòØÂõ†‰∏∫ Netty ÈúÄË¶Å‰∏éÂ∫ïÂ±Ç Socket ËøõË°å‰∫§‰∫íÔºåUnsafe ÊèêÂçá Netty ÁöÑÊÄßËÉΩ</p>
<p>‚Äã     Âõ†‰∏∫DirectByteBuffer ÂØπË±°ÁöÑÂõûÊî∂ÈúÄË¶Å‰æùËµñ Old GC ÊàñËÄÖ Full GC ÊâçËÉΩËß¶ÂèëÊ∏ÖÁêÜÔºåÂ¶ÇÊûúÈïøÊó∂Èó¥Ê≤°Êúâ GCÊâßË°åÔºåÈÇ£‰πàÂ†ÜÂ§ñÂÜÖÂ≠òÂç≥‰Ωø‰∏çÂÜç‰ΩøÁî®Ôºå‰πü‰ºö‰∏ÄÁõ¥Âú®Âç†Áî®ÂÜÖÂ≠ò‰∏çÈáäÊîæÔºåÂæàÂÆπÊòìÂ∞ÜÊú∫Âô®ÁöÑÁâ©ÁêÜÂÜÖÂ≠òËÄóÂ∞Ω„ÄÇ-XX:MaxDirectMemorySize ÊåáÂÆöÂ†ÜÂ§ñÂÜÖÂ≠òÁöÑ‰∏äÈôêÂ§ßÂ∞èÔºåË∂ÖÂá∫Êó∂Ëß¶ÂèëGCÔºå‰ªçÊó†Ê≥ïÈáäÊîæÊäõÂá∫OOMÂºÇÂ∏∏„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ir0d0cmj30qw0hw41z.jpg" title="image-20210504172324820" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ir0d0cmj30qw0hw41z.jpg" alt="image-20210504172324820" style="zoom:50%;"></a></p>
<p>‚Äã    ÂΩìÂàùÂßãÂåñÂ†ÜÂ§ñÂÜÖÂ≠òÊó∂ÔºåÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°ÂºïÁî®ÊÉÖÂÜµÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºåfirst ÊòØ Cleaner Á±ª‰∏≠ÁöÑÈùôÊÄÅÂèòÈáèÔºåCleaner ÂØπË±°Âú®ÂàùÂßãÂåñÊó∂‰ºöÂä†ÂÖ• Cleaner ÈìæË°®‰∏≠„ÄÇDirectByteBuffer ÂØπË±°ÂåÖÂê´Â†ÜÂ§ñÂÜÖÂ≠òÁöÑÂú∞ÂùÄ„ÄÅÂ§ßÂ∞è‰ª•Âèä Cleaner ÂØπË±°ÁöÑÂºïÁî®ÔºåReferenceQueue Áî®‰∫é‰øùÂ≠òÈúÄË¶ÅÂõûÊî∂ÁöÑ Cleaner ÂØπË±°„ÄÇ</p>
<p>‚Äã</p>
<h4 id="2„ÄÅÊï∞ÊçÆËΩΩ‰ΩìByteBuf"><a href="#2„ÄÅÊï∞ÊçÆËΩΩ‰ΩìByteBuf" class="headerlink" title="2„ÄÅÊï∞ÊçÆËΩΩ‰ΩìByteBuf"></a>2„ÄÅ<strong>Êï∞ÊçÆËΩΩ‰ΩìByteBuf</strong></h4><p>JDK NIO ÁöÑ <strong>ByteBuffer</strong></p>
<ul>
<li>markÔºö‰∏∫Êüê‰∏™ËØªÂèñËøáÁöÑÂÖ≥ÈîÆ‰ΩçÁΩÆÂÅöÊ†áËÆ∞ÔºåÊñπ‰æøÂõûÈÄÄÂà∞ËØ•‰ΩçÁΩÆÔºõ</li>
<li>positionÔºöÂΩìÂâçËØªÂèñÁöÑ‰ΩçÁΩÆÔºõ</li>
<li>limitÔºöbuffer ‰∏≠ÊúâÊïàÁöÑÊï∞ÊçÆÈïøÂ∫¶Â§ßÂ∞èÔºõ</li>
<li>capacityÔºöÂàùÂßãÂåñÊó∂ÁöÑÁ©∫Èó¥ÂÆπÈáè„ÄÇ</li>
</ul>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6irlptv0j30z408wabn.jpg" title="image-20210504172358702" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6irlptv0j30z408wabn.jpg" alt="image-20210504172358702" style="zoom:50%;"></a></p>
<p>‚Äã    Á¨¨‰∏ÄÔºåByteBuffer ÂàÜÈÖçÁöÑÈïøÂ∫¶ÊòØÂõ∫ÂÆöÁöÑÔºåÊó†Ê≥ïÂä®ÊÄÅÊâ©Áº©ÂÆπÔºåÊØèÊ¨°Âú®Â≠òÊîæÊï∞ÊçÆÁöÑÊó∂ÂÄôÂØπÂÆπÈáèÂ§ßÂ∞èÂÅöÊ†°È™åÔºåÊâ©ÂÆπÈúÄË¶ÅÂ∞ÜÂ∑≤ÊúâÁöÑÊï∞ÊçÆËøÅÁßª„ÄÇ</p>
<p>‚Äã    Á¨¨‰∫åÔºåByteBuffer Âè™ËÉΩÈÄöËøá position Ëé∑ÂèñÂΩìÂâçÂèØÊìç‰ΩúÁöÑ‰ΩçÁΩÆÔºåÂõ†‰∏∫ËØªÂÜôÂÖ±Áî®ÁöÑ position ÊåáÈíàÔºåÊâÄ‰ª•ÈúÄË¶ÅÈ¢ëÁπÅË∞ÉÁî® flip„ÄÅrewind ÊñπÊ≥ïÂàáÊç¢ËØªÂÜôÁä∂ÊÄÅ„ÄÇ</p>
<p>Netty‰∏≠ÁöÑByteBuf</p>
<ul>
<li><strong>Â∫üÂºÉÂ≠óËäÇ</strong>ÔºåË°®Á§∫Â∑≤Áªè‰∏¢ÂºÉÁöÑÊó†ÊïàÂ≠óËäÇÊï∞ÊçÆ„ÄÇ</li>
<li><strong>ÂèØËØªÂ≠óËäÇ</strong>ÔºåË°®Á§∫ ByteBuf ‰∏≠ÂèØ‰ª•Ë¢´ËØªÂèñÁöÑÂ≠óËäÇÂÜÖÂÆπÔºåÂèØ‰ª•ÈÄöËøá writeIndex - readerIndex ËÆ°ÁÆóÂæóÂá∫„ÄÇÂΩìËØªÂÜô‰ΩçÁΩÆÈáçÂè†Êó∂Êó∂ÔºåË°®Á§∫ ByteBuf Â∑≤Áªè‰∏çÂèØËØª„ÄÇ</li>
<li><strong>ÂèØÂÜôÂ≠óËäÇ</strong>ÔºåÂêë ByteBuf ‰∏≠ÂÜôÂÖ•Êï∞ÊçÆÈÉΩ‰ºöÂ≠òÂÇ®Âà∞ÂèØÂÜôÂ≠óËäÇÂå∫Âüü„ÄÇÂΩì writeIndex Ë∂ÖËøá capacityÔºåË°®Á§∫ ByteBuf ÂÆπÈáè‰∏çË∂≥ÔºåÈúÄË¶ÅÊâ©ÂÆπ„ÄÇ</li>
<li><strong>ÂèØÊâ©ÂÆπÂ≠óËäÇ</strong>ÔºåË°®Á§∫ ByteBuf ÊúÄÂ§öËøòÂèØ‰ª•Êâ©ÂÆπÂ§öÂ∞ëÂ≠óËäÇÔºåÊúÄÂ§öÊâ©ÂÆπÂà∞ maxCapacity ‰∏∫Ê≠¢ÔºåË∂ÖËøá maxCapacity ÂÜçÂÜôÂÖ•Â∞±‰ºöÂá∫Èîô„ÄÇ</li>
</ul>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6j1t85zuj31020ds42m.jpg" title="image-20210504173347000" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j1t85zuj31020ds42m.jpg" alt="image-20210504173347000" style="zoom:50%;"></a></p>
<p><strong>ÂºïÁî®ËÆ°Êï∞</strong></p>
<p>‚Äã    ÂΩìbyteBufÂΩìÂºïÁî®ËÆ°Êï∞‰∏∫ 0ÔºåËØ• ByteBuf ÂèØ‰ª•Ë¢´ÊîæÂÖ•Âà∞ÂØπË±°Ê±†‰∏≠ÔºåÈÅøÂÖçÊØèÊ¨°‰ΩøÁî® ByteBuf ÈÉΩÈáçÂ§çÂàõÂª∫„ÄÇ</p>
<p>‚Äã    JVM Âπ∂‰∏çÁü•ÈÅì Netty ÁöÑÂºïÁî®ËÆ°Êï∞ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºåÂΩì ByteBuf ÂØπË±°‰∏çÂèØËææÊó∂Ôºå‰∏ÄÊ†∑‰ºöË¢´ GC ÂõûÊî∂ÊéâÔºå‰ΩÜÊòØÂ¶ÇÊûúÊ≠§Êó∂ ByteBuf ÁöÑÂºïÁî®ËÆ°Êï∞‰∏ç‰∏∫ 0ÔºåÈÇ£‰πàËØ•ÂØπË±°Â∞±‰∏ç‰ºöÈáäÊîæÊàñËÄÖË¢´ÊîæÂÖ•ÂØπË±°Ê±†Ôºå‰ªéËÄåÂèëÁîü‰∫ÜÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇNetty ‰ºöÂØπÂàÜÈÖçÁöÑ ByteBuf ËøõË°åÊäΩÊ†∑ÂàÜÊûêÔºåÊ£ÄÊµã ByteBuf ÊòØÂê¶Â∑≤Áªè‰∏çÂèØËææ‰∏îÂºïÁî®ËÆ°Êï∞Â§ß‰∫é 0ÔºåÂà§ÂÆöÂÜÖÂ≠òÊ≥ÑÊºèÁöÑ‰ΩçÁΩÆÂπ∂ËæìÂá∫Âà∞Êó•Âøó‰∏≠Ôºå<strong>ÈÄöËøáÂÖ≥Ê≥®Êó•Âøó‰∏≠ LEAK ÂÖ≥ÈîÆÂ≠óÂèØ‰ª•ÊâæÂà∞ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÂÖ∑‰ΩìÂØπË±°</strong>„ÄÇ</p>
<h4 id="3„ÄÅÂÜÖÂ≠òÂàÜÈÖçjemalloc"><a href="#3„ÄÅÂÜÖÂ≠òÂàÜÈÖçjemalloc" class="headerlink" title="3„ÄÅÂÜÖÂ≠òÂàÜÈÖçjemalloc"></a>3„ÄÅ<strong>ÂÜÖÂ≠òÂàÜÈÖçjemalloc</strong></h4><p>‚Äã    ‰∏∫‰∫ÜÂáèÂ∞ëÂàÜÈÖçÊó∂‰∫ßÁîüÁöÑÂÜÖÈÉ®Á¢éÁâáÂíåÂ§ñÈÉ®Á¢éÁâáÔºåÂ∏∏ËßÅÁöÑÂÜÖÂ≠òÂàÜÈÖçÁÆóÊ≥ï<strong>Âä®ÊÄÅÂÜÖÂ≠òÂàÜÈÖç</strong>„ÄÅ<strong>‰ºô‰º¥ÁÆóÊ≥ï</strong>Âíå<strong>Slab ÁÆóÊ≥ï</strong></p>
<p><strong>Âä®ÊÄÅÂÜÖÂ≠òÂàÜÈÖçÔºàDMAÔºâ</strong></p>
<p>‚Äã    <strong>‚æ∏Ê¨°ÈÄÇÂ∫îÁÆóÊ≥ïÔºàfirst fitÔºâ</strong>ÔºåÁ©∫Èó≤ÂàÜÂå∫Èìæ‰ª•Âú∞ÂùÄÈÄíÂ¢ûÁöÑÈ°∫Â∫èÂ∞ÜÁ©∫Èó≤ÂàÜÂå∫‰ª•ÂèåÂêëÈìæË°®ÁöÑÂΩ¢ÂºèËøûÊé•Âú®‰∏ÄËµ∑Ôºå‰ªéÁ©∫Èó≤ÂàÜÂå∫Èìæ‰∏≠ÊâæÂà∞Á¨¨‰∏Ä‰∏™Êª°Ë∂≥ÂàÜÈÖçÊù°‰ª∂ÁöÑÁ©∫Èó≤ÂàÜÂå∫ÔºåÁÑ∂Âêé‰ªéÁ©∫Èó≤ÂàÜÂå∫‰∏≠ÂàíÂàÜÂá∫‰∏ÄÂùóÂèØÁî®ÂÜÖÂ≠òÁªôËØ∑Ê±ÇËøõÁ®ãÔºåÂâ©‰ΩôÁöÑÁ©∫Èó≤ÂàÜÂå∫‰ªçÁÑ∂‰øùÁïôÂú®Á©∫Èó≤ÂàÜÂå∫Èìæ‰∏≠„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6j26fh88j30ni0ea41c.jpg" title="image-20210504173407923" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j26fh88j30ni0ea41c.jpg" alt="image-20210504173407923" style="zoom:50%;"></a></p>
<p>‚Äã    <strong>Âæ™ÁéØÈ¶ñÊ¨°ÈÄÇÂ∫îÁÆóÊ≥ïÔºànext fitÔºâ</strong>‰∏çÂÜçÊòØÊØèÊ¨°‰ªéÈìæË°®ÁöÑÂºÄÂßãËøõË°åÊü•ÊâæÔºåËÄåÊòØ‰ªé‰∏äÊ¨°ÊâæÂà∞ÁöÑÁ©∫Èó≤ÂàÜÂå∫ÁöÑ‰ª•ÂêéÂºÄÂßãÊü•Êâæ„ÄÇÊü•ÊâæÊïàÁéáÊèêÂçáÔºå‰ºö‰∫ßÁîüÊõ¥Â§öÁöÑÁ¢éÁâá„ÄÇ</p>
<p>‚Äã    <strong>ÊúÄ‰Ω≥ÈÄÇÂ∫îÁÆóÊ≥ïÔºàbest fitÔºâ</strong>ÔºåÁ©∫Èó≤ÂàÜÂå∫Èìæ‰ª•Á©∫Èó≤ÂàÜÂå∫Â§ßÂ∞èÈÄíÂ¢ûÁöÑÈ°∫Â∫èÂ∞ÜÁ©∫Èó≤ÂàÜÂå∫‰ª•ÂèåÂêëÈìæË°®ÁöÑÂΩ¢ÂºèËøûÊé•Âú®‰∏ÄËµ∑ÔºåÊØèÊ¨°‰ªéÁ©∫Èó≤ÂàÜÂå∫ÈìæÁöÑÂºÄÂ§¥ËøõË°åÊü•Êâæ„ÄÇ</p>
<p><strong>‰ºô‰º¥ÁÆóÊ≥ï</strong>ÔºàÂ§ñÈÉ®Á¢éÁâáÂ∞ëÔºåÂÜÖÈÉ®Á¢éÁâáÂ§öÔºâ</p>
<p>‚Äã    ÊòØ‰∏ÄÁßçÈùûÂ∏∏ÁªèÂÖ∏ÁöÑÂÜÖÂ≠òÂàÜÈÖçÁÆóÊ≥ïÔºåÂÆÉÈááÁî®‰∫Ü<strong>ÂàÜÁ¶ªÈÄÇÈÖçÁöÑËÆæËÆ°ÊÄùÊÉ≥</strong>ÔºåÂ∞ÜÁâ©ÁêÜÂÜÖÂ≠òÊåâÁÖß 2 ÁöÑÊ¨°ÂπÇËøõË°åÂàíÂàÜÔºåÂÜÖÂ≠òÂàÜÈÖçÊó∂‰πüÊòØÊåâÁÖß 2 ÁöÑÊ¨°ÂπÇÂ§ßÂ∞èËøõË°åÊåâÈúÄÂàÜÈÖç</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6j2m0rr1j30ly0iugnk.jpg" title="image-20210504173433749" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j2m0rr1j30ly0iugnk.jpg" alt="image-20210504173433749" style="zoom:50%;"></a></p>
<ol>
<li>È¶ñÂÖàÈúÄË¶ÅÊâæÂà∞Â≠òÂÇ® 2^4 ËøûÁª≠ Page ÊâÄÂØπÂ∫îÁöÑÈìæË°®ÔºåÂç≥Êï∞ÁªÑ‰∏ãÊ†á‰∏∫ 4Ôºõ</li>
<li>Êü•Êâæ 2^4 ÈìæË°®‰∏≠ÊòØÂê¶ÊúâÁ©∫Èó≤ÁöÑÂÜÖÂ≠òÂùóÔºåÂ¶ÇÊûúÊúâÂàôÂàÜÈÖçÊàêÂäüÔºõ</li>
<li>Â¶ÇÊûú 2^4 ÈìæË°®‰∏çÂ≠òÂú®Á©∫Èó≤ÁöÑÂÜÖÂ≠òÂùóÔºåÂàôÁªßÁª≠Ê≤øÊï∞ÁªÑÂêë‰∏äÊü•ÊâæÔºåÂç≥ÂÆö‰ΩçÂà∞Êï∞ÁªÑ‰∏ãÊ†á‰∏∫ 5 ÁöÑÈìæË°®ÔºåÈìæË°®‰∏≠ÊØè‰∏™ËäÇÁÇπÂ≠òÂÇ® 2^5 ÁöÑËøûÁª≠ PageÔºõ</li>
<li>Â¶ÇÊûú 2^5 ÈìæË°®‰∏≠Â≠òÂú®Á©∫Èó≤ÁöÑÂÜÖÂ≠òÂùóÔºåÂàôÂèñÂá∫ËØ•ÂÜÖÂ≠òÂùóÂπ∂Â∞ÜÂÆÉÂàÜÂâ≤‰∏∫ 2 ‰∏™ 2^4 Â§ßÂ∞èÁöÑÂÜÖÂ≠òÂùóÔºåÂÖ∂‰∏≠‰∏ÄÂùóÂàÜÈÖçÁªôËøõÁ®ã‰ΩøÁî®ÔºåÂâ©‰ΩôÁöÑ‰∏ÄÂùóÈìæÊé•Âà∞ 2^4 ÈìæË°®‰∏≠„ÄÇ</li>
</ol>
<p><strong>Slab ÁÆóÊ≥ïÔºàËß£ÂÜ≥‰ºô‰º¥ÁÆóÊ≥ïÂÜÖÈÉ®Á¢éÁâáÈóÆÈ¢òÔºâ</strong></p>
<p>‚Äã    Slab ÁÆóÊ≥ïÂú®‰ºô‰º¥ÁÆóÊ≥ïÁöÑÂü∫Á°Ä‰∏äÔºåÂØπÂ∞èÂÜÖÂ≠òÁöÑÂú∫ÊôØ‰∏ìÈó®ÂÅö‰∫Ü‰ºòÂåñÔºåÈááÁî®‰∫ÜÂÜÖÂ≠òÊ±†ÁöÑÊñπÊ°àÔºåËß£ÂÜ≥ÂÜÖÈÉ®Á¢éÁâáÈóÆÈ¢ò„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6j3160yuj30rw0eo77o.jpg" title="image-20210504173454562" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j3160yuj30rw0eo77o.jpg" alt="image-20210504173454562" style="zoom:50%;"></a></p>
<p>Âú® Slab ÁÆóÊ≥ï‰∏≠Áª¥Êä§ÁùÄÂ§ßÂ∞è‰∏çÂêåÁöÑ Slab ÈõÜÂêàÔºåÂ∞ÜËøôÂùóÂÜÖÂ≠òÂàíÂàÜ‰∏∫Â§ßÂ∞èÁõ∏ÂêåÁöÑ slotÔºå‰∏ç‰ºöÂØπÂÜÖÂ≠òÂùóÂÜçËøõË°åÂêàÂπ∂ÔºåÂêåÊó∂‰ΩøÁî®‰ΩçÂõæ bitmap ËÆ∞ÂΩïÊØè‰∏™ slot ÁöÑ‰ΩøÁî®ÊÉÖÂÜµ„ÄÇ</p>
<p>‚Äã    kmem_cache ‰∏≠ÂåÖÂê´‰∏â‰∏™ Slab ÈìæË°®Ôºö<strong>ÂÆåÂÖ®ÂàÜÈÖç‰ΩøÁî® slab_full</strong>„ÄÅ<strong>ÈÉ®ÂàÜÂàÜÈÖç‰ΩøÁî® slab_partial</strong>Âíå<strong>ÂÆåÂÖ®Á©∫Èó≤ slabs_empty</strong>ÔºåËøô‰∏â‰∏™ÈìæË°®Ë¥üË¥£ÂÜÖÂ≠òÁöÑÂàÜÈÖçÂíåÈáäÊîæ„ÄÇSlab ÁÆóÊ≥ïÊòØÂü∫‰∫éÂØπË±°ËøõË°åÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÔºåÂÆÉÊääÁõ∏ÂêåÁ±ªÂûãÁöÑÂØπË±°ÂàÜ‰∏∫‰∏ÄÁ±ª„ÄÇÂΩìÂàÜÈÖçÂÜÖÂ≠òÊó∂Ôºå‰ªé Slab ÈìæË°®‰∏≠ÂàíÂàÜÁõ∏Â∫îÁöÑÂÜÖÂ≠òÂçïÂÖÉÔºõÂçï‰∏™ Slab ÂèØ‰ª•Âú®‰∏çÂêåÁöÑÈìæË°®‰πãÈó¥ÁßªÂä®Ôºå‰æãÂ¶ÇÂΩì‰∏Ä‰∏™ Slab Ë¢´ÂàÜÈÖçÂÆåÔºåÂ∞±‰ºö‰ªé slab_partial ÁßªÂä®Âà∞ slabs_fullÔºåÂΩì‰∏Ä‰∏™ Slab ‰∏≠ÊúâÂØπË±°Ë¢´ÈáäÊîæÂêéÔºåÂ∞±‰ºö‰ªé slab_full ÂÜçÊ¨°ÂõûÂà∞ slab_partialÔºåÊâÄÊúâÂØπË±°ÈÉΩË¢´ÈáäÊîæÂÆåÁöÑËØùÔºåÂ∞±‰ºö‰ªé slab_partial ÁßªÂä®Âà∞ slab_empty„ÄÇÂΩì<strong>ÈáäÊîæÂÜÖÂ≠òÊó∂ÔºåSlab ÁÆóÊ≥ïÂπ∂‰∏ç‰ºö‰∏¢ÂºÉÂ∑≤ÁªèÂàÜÈÖçÁöÑÂØπË±°ÔºåËÄåÊòØÂ∞ÜÂÆÉ‰øùÂ≠òÂú®ÁºìÂ≠ò‰∏≠ÔºåÂΩì‰∏ãÊ¨°ÂÜç‰∏∫ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠òÊó∂ÔºåÁõ¥Êé•‰ºö‰ΩøÁî®ÊúÄËøëÈáäÊîæÁöÑÂÜÖÂ≠òÂùó</strong>„ÄÇ</p>
<h4 id="4„ÄÅjemalloc-Êû∂ÊûÑ"><a href="#4„ÄÅjemalloc-Êû∂ÊûÑ" class="headerlink" title="4„ÄÅjemalloc Êû∂ÊûÑ"></a>4„ÄÅjemalloc Êû∂ÊûÑ</h4><ul>
<li>ÂÜÖÂ≠òÊòØÁî±‰∏ÄÂÆöÊï∞ÈáèÁöÑ arenas Ë¥üË¥£ÁÆ°ÁêÜÔºåÁ∫øÁ®ãÂùáÂåÄÂàÜÂ∏ÉÂú® arenas ÂΩì‰∏≠Ôºõ</li>
<li>ÊØè‰∏™ arena ÈÉΩÂåÖÂê´‰∏Ä‰∏™ bin Êï∞ÁªÑÔºåÊØè‰∏™ bin ÁÆ°ÁêÜ‰∏çÂêåÊ°£‰ΩçÁöÑÂÜÖÂ≠òÂùóÔºõ</li>
<li>ÊØè‰∏™ arena Ë¢´ÂàíÂàÜ‰∏∫Ëã•Âπ≤‰∏™ chunksÔºåÊØè‰∏™ chunk ÂèàÂåÖÂê´Ëã•Âπ≤‰∏™ runsÔºåÊØè‰∏™ run Áî±ËøûÁª≠ÁöÑ Page ÁªÑÊàêÔºårun ÊâçÊòØÂÆûÈôÖÂàÜÈÖçÂÜÖÂ≠òÁöÑÊìç‰ΩúÂØπË±°Ôºõ</li>
<li>ÊØè‰∏™ run ‰ºöË¢´ÂàíÂàÜ‰∏∫‰∏ÄÂÆöÊï∞ÈáèÁöÑ regionsÔºåÂú®Â∞èÂÜÖÂ≠òÁöÑÂàÜÈÖçÂú∫ÊôØÔºåregion Áõ∏ÂΩì‰∫éÁî®Êà∑ÂÜÖÂ≠òÔºõ</li>
<li>ÊØè‰∏™ tcache ÂØπÂ∫î‰∏Ä‰∏™ arenaÔºåtcache ‰∏≠ÂåÖÂê´Â§öÁßçÁ±ªÂûãÁöÑ bin„ÄÇ</li>
</ul>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6j3160yuj30rw0eo77o.jpg" title="image-20210504173454562" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j3160yuj30rw0eo77o.jpg" alt="image-20210504173454562" style="zoom:50%;"></a></p>
<p><strong>ÂÜÖÂ≠òÁÆ°ÁêÜArena</strong> ÔºåÂÜÖÂ≠òÁî±‰∏ÄÂÆöÊï∞ÈáèÁöÑ arenas Ë¥üË¥£ÁÆ°ÁêÜ„ÄÇÊØè‰∏™Áî®Êà∑Á∫øÁ®ãÈááÁî® round-robin ËΩÆËØ¢ÁöÑÊñπÂºèÈÄâÊã©ÂèØÁî®ÁöÑ arena ËøõË°åÂÜÖÂ≠òÂàÜÈÖç„ÄÇ</p>
<p><strong>ÂàÜÁ∫ßÁÆ°ÁêÜBin</strong>ÔºåÊØè‰∏™ bin ÁÆ°ÁêÜÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÊòØÊåâÂàÜÁ±ª‰æùÊ¨°ÈÄíÂ¢û„ÄÇ<strong>jemalloc ‰∏≠Â∞èÂÜÖÂ≠òÁöÑÂàÜÈÖçÊòØÂü∫‰∫é Slab ÁÆóÊ≥ï</strong>ÂÆåÊàêÁöÑÔºå‰ºö‰∫ßÁîü‰∏çÂêåÁ±ªÂà´ÁöÑÂÜÖÂ≠òÂùó„ÄÇ</p>
<p><strong>PageÈõÜÂêàchunk</strong>Ôºåchunk ‰ª• Page ‰∏∫Âçï‰ΩçÁÆ°ÁêÜÂÜÖÂ≠ò„ÄÇÊØè‰∏™ chunk ÂèØË¢´Áî®‰∫éÂ§öÊ¨°Â∞èÂÜÖÂ≠òÁöÑÁî≥ËØ∑Ôºå‰ΩÜÊòØÂú®Â§ßÂÜÖÂ≠òÂàÜÈÖçÁöÑÂú∫ÊôØ‰∏ãÂè™ËÉΩÂàÜÈÖç‰∏ÄÊ¨°„ÄÇ</p>
<p><strong>ÂÆûÈôÖÂàÜÈÖçÂçï‰Ωçrun</strong>Ôºårun ÁªìÊûÑÂÖ∑‰ΩìÁöÑÂ§ßÂ∞èÁî±‰∏çÂêåÁöÑ bin ÂÜ≥ÂÆöÔºå‰æãÂ¶Ç 8 Â≠óËäÇÁöÑ bin ÂØπÂ∫îÁöÑ run Âè™Êúâ‰∏Ä‰∏™ PageÔºåÂèØ‰ª•‰ªé‰∏≠ÈÄâÂèñ 8 Â≠óËäÇÁöÑÂùóËøõË°åÂàÜÈÖç„ÄÇ</p>
<p><strong>run ÁªÜÂàÜregion</strong>ÔºåÊØè‰∏™ run ‰ºöÂ∞ÜÂàíÂàÜ‰∏∫Ëã•Âπ≤‰∏™Á≠âÈïøÁöÑ regionÔºåÊØèÊ¨°ÂÜÖÂ≠òÂàÜÈÖç‰πüÊòØÊåâÁÖß region ËøõË°åÂàÜÂèë„ÄÇ</p>
<p><strong>tcache ÊòØÊØè‰∏™Á∫øÁ®ãÁßÅÊúâÁöÑÁºìÂ≠ò</strong>Ôºåtcache ÊØèÊ¨°‰ªé arena Áî≥ËØ∑‰∏ÄÊâπÂÜÖÂ≠òÔºåÂú®ÂàÜÈÖçÂÜÖÂ≠òÊó∂È¶ñÂÖàÂú® tcache Êü•ÊâæÔºåÈÅøÂÖçÈîÅÁ´û‰∫âÔºåÂàÜÈÖçÂ§±Ë¥•Êâç‰ºöÈÄöËøá run ÊâßË°åÂÜÖÂ≠òÂàÜÈÖç„ÄÇ</p>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gx2u1jn9b3j31e80hqjt5.jpg" title="image-20211205121406792" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gx2u1jn9b3j31e80hqjt5.jpg" alt="image-20211205121406792" title class></a>
                <p>image-20211205121406792</p>
            </figure>
<p>Small Âú∫ÊôØÔºåÂ¶ÇÊûúËØ∑Ê±ÇÂàÜÈÖçÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÂ∞è‰∫é arena ‰∏≠ÁöÑÊúÄÂ∞èÁöÑ binÔºåÈÇ£‰πà‰ºòÂÖà‰ªéÁ∫øÁ®ã‰∏≠ÂØπÂ∫îÁöÑ tcache ‰∏≠ËøõË°åÂàÜÈÖç„ÄÇÈ¶ñÂÖàÁ°ÆÂÆöÊü•ÊâæÂØπÂ∫îÁöÑ tbin ‰∏≠ÊòØÂê¶Â≠òÂú®ÁºìÂ≠òÁöÑÂÜÖÂ≠òÂùóÔºåÂ¶ÇÊûúÂ≠òÂú®ÂàôÂàÜÈÖçÊàêÂäüÔºåÂê¶ÂàôÊâæÂà∞ tbin ÂØπÂ∫îÁöÑ arenaÔºå‰ªé arena ‰∏≠ÂØπÂ∫îÁöÑ bin ‰∏≠ÂàÜÈÖç region ‰øùÂ≠òÂú® tbin ÁöÑ avail Êï∞ÁªÑ‰∏≠ÔºåÊúÄÁªà‰ªé availl Êï∞ÁªÑ‰∏≠ÈÄâÂèñ‰∏Ä‰∏™Âú∞ÂùÄËøõË°åÂÜÖÂ≠òÂàÜÈÖçÔºåÂΩìÂÜÖÂ≠òÈáäÊîæÊó∂‰πü‰ºöÂ∞ÜË¢´ÂõûÊî∂ÁöÑÂÜÖÂ≠òÂùóËøõË°åÁºìÂ≠ò„ÄÇ</p>
<p>Large Âú∫ÊôØÁöÑÂÜÖÂ≠òÂàÜÈÖç‰∏é Smalll Á±ª‰ººÔºåÂ¶ÇÊûúËØ∑Ê±ÇÂàÜÈÖçÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÂ§ß‰∫é arena ‰∏≠ÁöÑÊúÄÂ∞èÁöÑ binÔºå‰ΩÜÊòØ‰∏çÂ§ß‰∫é tcache ‰∏≠ËÉΩÂ§üÁºìÂ≠òÁöÑÊúÄÂ§ßÂùóÔºå‰æùÁÑ∂‰ºöÈÄöËøá tcache ËøõË°åÂàÜÈÖçÔºå‰ΩÜÊòØ‰∏çÂêåÁöÑÊòØÊ≠§Êó∂‰ºöÂàÜÈÖç chunk ‰ª•ÂèäÊâÄÂØπÂ∫îÁöÑ runÔºå‰ªé chunk ‰∏≠ÊâæÂà∞Áõ∏Â∫îÁöÑÂÜÖÂ≠òÁ©∫Èó¥ËøõË°åÂàÜÈÖç„ÄÇÂÜÖÂ≠òÈáäÊîæÊó∂‰πüË∑ü samll Âú∫ÊôØÁ±ª‰ººÔºå‰ºöÊääÈáäÊîæÁöÑÂÜÖÂ≠òÂùóÁºìÂ≠òÂú® tacache ÁöÑ tbin ‰∏≠„ÄÇÊ≠§Â§ñËøòÊúâ‰∏ÄÁßçÊÉÖÂÜµÔºåÂΩìËØ∑Ê±ÇÂàÜÈÖçÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÂ§ß‰∫étcache ‰∏≠ËÉΩÂ§üÁºìÂ≠òÁöÑÊúÄÂ§ßÂùóÔºå‰ΩÜÊòØ‰∏çÂ§ß‰∫é chunk ÁöÑÂ§ßÂ∞èÔºåÈÇ£‰πàÂ∞Ü‰∏ç‰ºöÈááÁî® tcache Êú∫Âà∂ÔºåÁõ¥Êé•Âú® chunk ‰∏≠ËøõË°åÂÜÖÂ≠òÂàÜÈÖç„ÄÇ</p>
<p>Huge Âú∫ÊôØÔºåÂ¶ÇÊûúËØ∑Ê±ÇÂàÜÈÖçÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÂ§ß‰∫é chunk ÁöÑÂ§ßÂ∞èÔºåÈÇ£‰πàÁõ¥Êé•ÈÄöËøá mmap ËøõË°åÂàÜÈÖçÔºåË∞ÉÁî® munmap ËøõË°åÂõûÊî∂„ÄÇ</p>
<h4 id="5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ"><a href="#5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ" class="headerlink" title="5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ"></a>5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ</h4><h4 id="6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ"><a href="#6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ" class="headerlink" title="6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ"></a>6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ</h4><h4 id="7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ"><a href="#7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ" class="headerlink" title="7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ"></a>7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ</h4><ol>
<li>ÂΩìÁî®Êà∑ËøõÁ®ãÂèëËµ∑ read() Ë∞ÉÁî®ÂêéÔºå‰∏ä‰∏ãÊñá‰ªéÁî®Êà∑ÊÄÅÂàáÊç¢Ëá≥ÂÜÖÊ†∏ÊÄÅ„ÄÇDMA ÂºïÊìé‰ªéÊñá‰ª∂‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÂπ∂Â≠òÂÇ®Âà∞ÂÜÖÊ†∏ÊÄÅÁºìÂÜ≤Âå∫ÔºåËøôÈáåÊòØ<strong>Á¨¨‰∏ÄÊ¨°Êï∞ÊçÆÊã∑Ë¥ù</strong>„ÄÇ</li>
<li>ËØ∑Ê±ÇÁöÑÊï∞ÊçÆ‰ªéÂÜÖÊ†∏ÊÄÅÁºìÂÜ≤Âå∫Êã∑Ë¥ùÂà∞Áî®Êà∑ÊÄÅÁºìÂÜ≤Âå∫ÔºåÁÑ∂ÂêéËøîÂõûÁªôÁî®Êà∑ËøõÁ®ã„ÄÇ<strong>Á¨¨‰∫åÊ¨°Êï∞ÊçÆÊã∑Ë¥ù</strong>ÁöÑËøáÁ®ãÂêåÊó∂Ôºå‰ºöÂØºËá¥‰∏ä‰∏ãÊñá‰ªéÂÜÖÊ†∏ÊÄÅÂÜçÊ¨°ÂàáÊç¢Âà∞Áî®Êà∑ÊÄÅ„ÄÇ</li>
<li>Áî®Êà∑ËøõÁ®ãË∞ÉÁî® send() ÊñπÊ≥ïÊúüÊúõÂ∞ÜÊï∞ÊçÆÂèëÈÄÅÂà∞ÁΩëÁªú‰∏≠ÔºåÁî®Êà∑ÊÄÅ‰ºöÂÜçÊ¨°ÂàáÊç¢Âà∞ÂÜÖÊ†∏ÊÄÅÔºå<strong>Á¨¨‰∏âÊ¨°Êï∞ÊçÆÊã∑Ë¥ù</strong>ËØ∑Ê±ÇÁöÑÊï∞ÊçÆ‰ªéÁî®Êà∑ÊÄÅÁºìÂÜ≤Âå∫Ë¢´Êã∑Ë¥ùÂà∞ Socket ÁºìÂÜ≤Âå∫„ÄÇ</li>
<li>ÊúÄÁªà send() Á≥ªÁªüË∞ÉÁî®ÁªìÊùüËøîÂõûÁªôÁî®Êà∑ËøõÁ®ãÔºåÂèëÁîü‰∫ÜÁ¨¨ÂõõÊ¨°‰∏ä‰∏ãÊñáÂàáÊç¢„ÄÇ<strong>Á¨¨ÂõõÊ¨°Êã∑Ë¥ù‰ºöÂºÇÊ≠•ÊâßË°å</strong>Ôºå‰ªé Socket ÁºìÂÜ≤Âå∫Êã∑Ë¥ùÂà∞ÂçèËÆÆÂºïÊìé‰∏≠„ÄÇ</li>
</ol>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jlghxe0j30t00fsjtw.jpg" title="image-20210504175240348" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jlghxe0j30t00fsjtw.jpg" alt="image-20210504175240348" style="zoom:50%;"></a></p>
<p>‚Äã    <strong>Âú® Linux ‰∏≠</strong>Á≥ªÁªüË∞ÉÁî® sendfile() ÂèØ‰ª•ÂÆûÁé∞Â∞ÜÊï∞ÊçÆ‰ªé‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶‰º†ËæìÂà∞Âè¶‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶Ôºå‰ªéËÄåÂÆûÁé∞‰∫ÜÈõ∂Êã∑Ë¥ùÊäÄÊúØ„ÄÇ</p>
<p>‚Äã    <strong>Âú® Java ‰∏≠</strong>‰πü‰ΩøÁî®‰∫ÜÈõ∂Êã∑Ë¥ùÊäÄÊúØÔºåÂÆÉÂ∞±ÊòØ NIO FileChannel Á±ª‰∏≠ÁöÑ transferTo() ÊñπÊ≥ïÔºåÂÆÉÂèØ‰ª•Â∞ÜÊï∞ÊçÆ‰ªé FileChannel Áõ¥Êé•‰º†ËæìÂà∞Âè¶Â§ñ‰∏Ä‰∏™ Channel„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jm8q3yej311c0h6q7v.jpg" title="image-20210504175323875" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jm8q3yej311c0h6q7v.jpg" alt="image-20210504175323875" style="zoom:50%;"></a></p>
<p><strong>Netty ‰∏≠ÁöÑÈõ∂Êã∑Ë¥ù</strong>ÊäÄÊúØÈô§‰∫ÜÊìç‰ΩúÁ≥ªÁªüÁ∫ßÂà´ÁöÑÂäüËÉΩÂ∞ÅË£ÖÔºåÊõ¥Â§öÁöÑÊòØÈù¢ÂêëÁî®Êà∑ÊÄÅÁöÑÊï∞ÊçÆÊìç‰Ωú‰ºòÂåñÔºå‰∏ªË¶Å‰ΩìÁé∞Âú®‰ª•‰∏ã 5 ‰∏™ÊñπÈù¢Ôºö</p>
<ul>
<li>Â†ÜÂ§ñÂÜÖÂ≠òÔºåÈÅøÂÖç JVM Â†ÜÂÜÖÂ≠òÂà∞Â†ÜÂ§ñÂÜÖÂ≠òÁöÑÊï∞ÊçÆÊã∑Ë¥ù„ÄÇ</li>
<li>CompositeByteBuf Á±ªÔºåÂèØ‰ª•ÁªÑÂêàÂ§ö‰∏™ Buffer ÂØπË±°ÂêàÂπ∂Êàê‰∏Ä‰∏™ÈÄªËæë‰∏äÁöÑÂØπË±°ÔºåÈÅøÂÖçÈÄöËøá‰º†ÁªüÂÜÖÂ≠òÊã∑Ë¥ùÁöÑÊñπÂºèÂ∞ÜÂá†‰∏™ Buffer ÂêàÂπ∂Êàê‰∏Ä‰∏™Â§ßÁöÑ Buffer„ÄÇ</li>
<li>ÈÄöËøá Unpooled.wrappedBuffer ÂèØ‰ª•Â∞Ü byte Êï∞ÁªÑÂåÖË£ÖÊàê ByteBuf ÂØπË±°ÔºåÂåÖË£ÖËøáÁ®ã‰∏≠‰∏ç‰ºö‰∫ßÁîüÂÜÖÂ≠òÊã∑Ë¥ù„ÄÇ</li>
<li>ByteBuf.slice Ôºåslice Êìç‰ΩúÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ ByteBuf ÂØπË±°ÂàáÂàÜÊàêÂ§ö‰∏™ ByteBuf ÂØπË±°ÔºåÂàáÂàÜËøáÁ®ã‰∏≠‰∏ç‰ºö‰∫ßÁîüÂÜÖÂ≠òÊã∑Ë¥ùÔºåÂ∫ïÂ±ÇÂÖ±‰∫´‰∏Ä‰∏™ byte Êï∞ÁªÑÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇ</li>
<li>Netty ‰ΩøÁî® Â∞ÅË£Ö‰∫ÜtransferTo() ÊñπÊ≥ï FileRegionÔºåÂèØ‰ª•Â∞ÜÊñá‰ª∂ÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆÁõ¥Êé•‰º†ËæìÂà∞ÁõÆÊ†á ChannelÔºåÈÅøÂÖçÂÜÖÊ†∏ÁºìÂÜ≤Âå∫ÂíåÁî®Êà∑ÊÄÅÁºìÂÜ≤Âå∫‰πãÈó¥ÁöÑÊï∞ÊçÆÊã∑Ë¥ù„ÄÇ</li>
</ul>
<h3 id="È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ"><a href="#È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ" class="headerlink" title="È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ"></a>È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ</h3><h4 id="1„ÄÅFastThreadLocal"><a href="#1„ÄÅFastThreadLocal" class="headerlink" title="1„ÄÅFastThreadLocal"></a>1„ÄÅFastThreadLocal</h4><p>‚Äã    ThreadLocal ÂèØ‰ª•ÁêÜËß£‰∏∫Á∫øÁ®ãÊú¨Âú∞ÂèòÈáè„ÄÇThreadLocal ‰∏∫ÂèòÈáèÂú®ÊØè‰∏™Á∫øÁ®ã‰∏≠ÈÉΩÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂâØÊú¨ÔºåËØ•ÂâØÊú¨Âè™ËÉΩË¢´ÂΩìÂâçÁ∫øÁ®ãËÆøÈóÆÔºåÂ§öÁ∫øÁ®ã‰πãÈó¥ÊòØÈöîÁ¶ªÁöÑÔºåÂèòÈáè‰∏çËÉΩÂú®Â§öÁ∫øÁ®ã‰πãÈó¥ÂÖ±‰∫´„ÄÇËøôÊ†∑ÊØè‰∏™Á∫øÁ®ã‰øÆÊîπÂèòÈáèÂâØÊú¨Êó∂Ôºå‰∏ç‰ºöÂØπÂÖ∂‰ªñÁ∫øÁ®ã‰∫ßÁîüÂΩ±Âìç„ÄÇ</p>
<p>‚Äã    Êó¢ÁÑ∂Â§öÁ∫øÁ®ãËÆøÈóÆ ThreadLocal ÂèòÈáèÊó∂ÈÉΩ‰ºöÊúâËá™Â∑±Áã¨Á´ãÁöÑÂÆû‰æãÂâØÊú¨ÔºåÈÇ£‰πàÂæàÂÆπÊòìÊÉ≥Âà∞ÁöÑÊñπÊ°àÂ∞±ÊòØÂú® ThreadLocal ‰∏≠Áª¥Êä§‰∏Ä‰∏™ MapÔºåËÆ∞ÂΩïÁ∫øÁ®ã‰∏éÂÆû‰æã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇÂΩìÊñ∞Â¢ûÁ∫øÁ®ãÂíåÈîÄÊØÅÁ∫øÁ®ãÊó∂ÈÉΩÈúÄË¶ÅÊõ¥Êñ∞ Map ‰∏≠ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂõ†‰∏∫‰ºöÂ≠òÂú®Â§öÁ∫øÁ®ãÂπ∂Âèë‰øÆÊîπÔºåÊâÄ‰ª•ÈúÄË¶Å‰øùËØÅ Map ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ‰ΩÜÊòØÂú®È´òÂπ∂ÂèëÁöÑÂú∫ÊôØÂπ∂Âèë‰øÆÊîπ Map ÈúÄË¶ÅÂä†ÈîÅÔºåÂäøÂøÖ‰ºöÈôç‰ΩéÊÄßËÉΩ„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jmqtl1hj30q60dmtck.jpg" title="image-20210504175349901" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jmqtl1hj30q60dmtck.jpg" alt="image-20210504175349901" style="zoom:50%;"></a></p>
<p>‚Äã    JDK ‰∏∫‰∫ÜÈÅøÂÖçÂä†ÈîÅÔºåÈááÁî®‰∫ÜÁõ∏ÂèçÁöÑËÆæËÆ°ÊÄùË∑Ø„ÄÇ‰ª• Thread ÂÖ•ÊâãÔºåÂú® Thread ‰∏≠Áª¥Êä§‰∏Ä‰∏™ MapÔºåËÆ∞ÂΩï ThreadLocal ‰∏éÂÆû‰æã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåËøôÊ†∑Âú®Âêå‰∏Ä‰∏™Á∫øÁ®ãÂÜÖÔºåMap Â∞±‰∏çÈúÄË¶ÅÂä†ÈîÅ‰∫Ü„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jmyxnylj30ns06adgu.jpg" title="image-20210504175406824" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jmyxnylj30ns06adgu.jpg" alt="image-20210504175406824" style="zoom:50%;"></a></p>
<p>‚Äã    ThreadLocalMap ÊòØ‰∏ÄÁßç‰ΩøÁî®Á∫øÊÄßÊé¢ÊµãÊ≥ïÂÆûÁé∞ÁöÑÂìàÂ∏åË°®ÔºåÂ∫ïÂ±ÇÈááÁî®Êï∞ÁªÑÂ≠òÂÇ®Êï∞ÊçÆÔºåÈÄöËøáÈ≠îÊï∞0x61c88647Êù•‰ΩøÊï£ÂàóÊõ¥Âä†Âπ≥Ë°°„ÄÇThreadLocalMap ÂàùÂßãÂåñ‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫ 16 ÁöÑ Entry Êï∞ÁªÑ„ÄÇ‰∏é HashMap ‰∏çÂêåÁöÑÊòØÔºåEntry ÁöÑ key Â∞±ÊòØ ThreadLocalÂØπË±°Êú¨Ë∫´Ôºåvalue Â∞±ÊòØÁî®Êà∑ÂÖ∑‰ΩìÈúÄË¶ÅÂ≠òÂÇ®ÁöÑÂÄº„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jncecy1j30yy0eejtq.jpg" title="image-20210504175428964" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jncecy1j30yy0eejtq.jpg" alt="image-20210504175428964" style="zoom:50%;"></a></p>
<p>‚Äã    Entry ÁªßÊâøËá™Âº±ÂºïÁî®Á±ª WeakReferenceÔºåEntry ÁöÑ key ÊòØÂº±ÂºïÁî®Ôºåvalue ÊòØÂº∫ÂºïÁî®„ÄÇÂú® JVM ÂûÉÂúæÂõûÊî∂Êó∂ÔºåÂè™Ë¶ÅÂèëÁé∞‰∫ÜÂº±ÂºïÁî®ÁöÑÂØπË±°Ôºå‰∏çÁÆ°ÂÜÖÂ≠òÊòØÂê¶ÂÖÖË∂≥ÔºåÈÉΩ‰ºöË¢´ÂõûÊî∂„ÄÇÈÇ£‰πà‰∏∫‰ªÄ‰πà Entry ÁöÑ key Ë¶ÅËÆæËÆ°ÊàêÂº±ÂºïÁî®Âë¢ÔºüÂ¶ÇÊûú key ÈÉΩÊòØÂº∫ÂºïÁî®ÔºåÂΩìÁ∫ø ThreadLocal ‰∏çÂÜç‰ΩøÁî®Êó∂ÔºåÁÑ∂ËÄå ThreadLocalMap ‰∏≠ËøòÊòØÂ≠òÂú®ÂØπ ThreadLocal ÁöÑÂº∫ÂºïÁî®ÔºåÈÇ£‰πà GC ÊòØÊó†Ê≥ïÂõûÊî∂ÁöÑÔºå‰ªéËÄåÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/0081Kckwly1gm4umi0759j30hi0a03zd.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm4umi0759j30hi0a03zd.jpg" alt="img" style="zoom: 67%;"></a></p>
<p>‚Äã    ËôΩÁÑ∂ Entry ÁöÑ key ËÆæËÆ°Êàê‰∫ÜÂº±ÂºïÁî®Ôºå‰ΩÜÊòØÂΩì ThreadLocal‰∏çÂÜç‰ΩøÁî®(<strong>‰∏öÂä°ÈÄªËæëËµ∞ÂÆåÔºå‰ΩÜÊòØÁî±‰∫éÁ∫øÁ®ãÂ§çÁî®ÂØºËá¥Á∫øÁ®ãÂπ∂Ê≤°ÊúâÁªìÊùü</strong>)Ë¢´ GC ÂõûÊî∂ÂêéÔºåThreadLocalMap ‰∏≠ÂèØËÉΩÂá∫Áé∞ Entry ÁöÑ key ‰∏∫ NULLÔºåÈÇ£‰πà Entry ÁöÑ value ‰∏ÄÁõ¥‰ºöÂº∫ÂºïÁî®Êï∞ÊçÆËÄåÂæó‰∏çÂà∞ÈáäÊîæÔºåÂè™ËÉΩÁ≠âÂæÖÁ∫øÁ®ãÈîÄÊØÅ„ÄÇÈÇ£‰πàÂ∫îËØ•Â¶Ç‰ΩïÈÅøÂÖç ThreadLocalMap ÂÜÖÂ≠òÊ≥ÑÊºèÂë¢ÔºüThreadLocal Â∑≤ÁªèÂ∏ÆÂä©Êàë‰ª¨ÂÅö‰∫Ü‰∏ÄÂÆöÁöÑ‰øùÊä§Êé™ÊñΩÔºåÂú®ÊâßË°å ThreadLocal.set()/get() ÊñπÊ≥ïÊó∂ÔºåThreadLocal ‰ºöÊ∏ÖÈô§ ThreadLocalMap ‰∏≠ key ‰∏∫ NULL ÁöÑ Entry ÂØπË±°ÔºåËÆ©ÂÆÉËøòËÉΩÂ§üË¢´ GC ÂõûÊî∂„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÂΩìÁ∫øÁ®ã‰∏≠Êüê‰∏™ ThreadLocal ÂØπË±°‰∏çÂÜç‰ΩøÁî®Êó∂ÔºåÁ´ãÂç≥Ë∞ÉÁî® remove() ÊñπÊ≥ïÂà†Èô§ Entry ÂØπË±°„ÄÇÂ¶ÇÊûúÊòØÂú®ÂºÇÂ∏∏ÁöÑÂú∫ÊôØ‰∏≠ÔºåÂ∫îÂú® finally ‰ª£Á†ÅÂùó‰∏≠ËøõË°åÊ∏ÖÁêÜÔºå‰øùÊåÅËâØÂ•ΩÁöÑÁºñÁ†ÅÊÑèËØÜ„ÄÇÂú®Netty‰∏≠ÔºåÂèØ‰ª•Êñπ‰æøÁöÑ‰ΩøÁî®FashThreadLocalÊù•Èò≤Ê≠¢ÂÜÖÂ≠òÊ≥ÑÊºè</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/0081Kckwly1gm4ux5gohpj30hs0ajjs1.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm4ux5gohpj30hs0ajjs1.jpg" alt="img" style="zoom:67%;"></a></p>
<p><strong>FastThreadLocal</strong></p>
<p>‚Äã    FastThreadLocal ‰ΩøÁî® Object Êï∞ÁªÑÊõø‰ª£‰∫Ü Entry Êï∞ÁªÑÔºåObject[0] Â≠òÂÇ®ÁöÑÊòØ‰∏Ä‰∏™Set&lt;FastThreadLocal&lt;?&gt;&gt; ÈõÜÂêàÔºå‰ªéÊï∞ÁªÑ‰∏ãÊ†á 1 ÂºÄÂßãÈÉΩÊòØÁõ¥Êé•Â≠òÂÇ®ÁöÑ value Êï∞ÊçÆÔºå‰∏çÂÜçÈááÁî® ThreadLocal ÁöÑÈîÆÂÄºÂØπÂΩ¢ÂºèËøõË°åÂ≠òÂÇ®„ÄÇ‰∏ªË¶ÅÊòØÈíàÂØπsetÊñπÊ≥ïÔºåÂ¢ûÂä†‰∫Ü‰∏§‰∏™È¢ùÂ§ñÁöÑË°å‰∏∫„ÄÇ</p>
<ol>
<li>ÊâæÂà∞Êï∞ÁªÑ‰∏ãÊ†á index ‰ΩçÁΩÆÔºåËÆæÁΩÆÊñ∞ÁöÑ value„ÄÇ</li>
<li>Â∞Ü <strong>FastThreadLocal ÂØπË±°‰øùÂ≠òÂà∞ÂæÖÊ∏ÖÁêÜÁöÑ Set ‰∏≠</strong>„ÄÇ</li>
</ol>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jnu8l6aj315k060wfi.jpg" title="image-20210504175457264" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jnu8l6aj315k060wfi.jpg" alt="image-20210504175457264" style="zoom:50%;"></a></p>
<ul>
<li><strong>È´òÊïàÊü•Êâæ</strong>„ÄÇFastThreadLocal Âú®ÂÆö‰ΩçÊï∞ÊçÆÁöÑÊó∂ÂÄôÂèØ‰ª•Áõ¥Êé•Ê†πÊçÆÊï∞ÁªÑ‰∏ãÊ†á index Ëé∑ÂèñÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ O(1)„ÄÇËÄå JDK ÂéüÁîüÁöÑ ThreadLocal Âú®Êï∞ÊçÆËæÉÂ§öÊó∂ÂìàÂ∏åË°®ÂæàÂÆπÊòìÂèëÁîü Hash ÂÜ≤Á™ÅÔºåÁ∫øÊÄßÊé¢ÊµãÊ≥ïÂú®Ëß£ÂÜ≥ Hash ÂÜ≤Á™ÅÊó∂ÈúÄË¶Å‰∏çÂÅúÂú∞Âêë‰∏ãÂØªÊâæÔºåÊïàÁéáËæÉ‰Ωé„ÄÇÊ≠§Â§ñÔºåFastThreadLocal Áõ∏ÊØî ThreadLocal Êï∞ÊçÆÊâ©ÂÆπÊõ¥Âä†ÁÆÄÂçïÈ´òÊïàÔºåFastThreadLocal ‰ª• index ‰∏∫Âü∫ÂáÜÂêë‰∏äÂèñÊï¥Âà∞ 2 ÁöÑÊ¨°ÂπÇ‰Ωú‰∏∫Êâ©ÂÆπÂêéÂÆπÈáèÔºåÁÑ∂ÂêéÊääÂéüÊï∞ÊçÆÊã∑Ë¥ùÂà∞Êñ∞Êï∞ÁªÑ„ÄÇËÄå ThreadLocal Áî±‰∫éÈááÁî®ÁöÑÂìàÂ∏åË°®ÔºåÊâÄ‰ª•Âú®Êâ©ÂÆπÂêéÈúÄË¶ÅÂÜçÂÅö‰∏ÄËΩÆ rehash„ÄÇ</li>
<li><strong>ÂÆâÂÖ®ÊÄßÊõ¥È´ò</strong>„ÄÇJDK ÂéüÁîüÁöÑ ThreadLocal ‰ΩøÁî®‰∏çÂΩìÂèØËÉΩÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂè™ËÉΩÁ≠âÂæÖÁ∫øÁ®ãÈîÄÊØÅ„ÄÇÂú®‰ΩøÁî®Á∫øÁ®ãÊ±†ÁöÑÂú∫ÊôØ‰∏ãÔºåThreadLocal Âè™ËÉΩÈÄöËøá‰∏ªÂä®Ê£ÄÊµãÁöÑÊñπÂºèÈò≤Ê≠¢ÂÜÖÂ≠òÊ≥ÑÊºèÔºå‰ªéËÄåÈÄ†Êàê‰∫Ü‰∏ÄÂÆöÁöÑÂºÄÈîÄ„ÄÇÁÑ∂ËÄå FastThreadLocal ‰∏ç‰ªÖÊèê‰æõ‰∫Ü remove() ‰∏ªÂä®Ê∏ÖÈô§ÂØπË±°ÁöÑÊñπÊ≥ïÔºåËÄå‰∏îÂú®Á∫øÁ®ãÊ±†Âú∫ÊôØ‰∏≠ Netty ËøòÂ∞ÅË£Ö‰∫Ü FastThreadLocalRunnableÔºå<strong>‰ªªÂä°ÊâßË°åÂÆåÊØïÂêé‰∏ÄÂÆö‰ºöÊâßË°å FastThreadLocal.removeAll() Â∞Ü Set ÈõÜÂêà‰∏≠ÊâÄÊúâ FastThreadLocal ÂØπË±°ÈÉΩÊ∏ÖÁêÜÊéâ</strong></li>
</ul>
<h4 id="2„ÄÅHashedTimerWheel"><a href="#2„ÄÅHashedTimerWheel" class="headerlink" title="2„ÄÅHashedTimerWheel"></a>2„ÄÅ<strong>HashedTimerWheel</strong></h4><p>‚Äã    ÁîüÊàêÊúàÁªüËÆ°Êä•Ë°®„ÄÅÊØèÊó•ÂæóÂàÜÁªìÁÆó„ÄÅÈÇÆ‰ª∂ÂÆöÊó∂Êé®ÈÄÅ</p>
<p>‚Äã    ÂÆöÊó∂‰ªªÂä°‰∏âÁßçÂΩ¢ÂºèÔºö</p>
<p>‚Äã        1„ÄÅÊåâÂõ∫ÂÆöÂë®ÊúüÂÆöÊó∂ÊâßË°å</p>
<p>‚Äã        2„ÄÅÂª∂Ëøü‰∏ÄÂÆöÊó∂Èó¥ÂêéÊâßË°å</p>
<p>‚Äã        3„ÄÅÊåáÂÆöÊüê‰∏™Êó∂ÂàªÊâßË°å</p>
<p>‚Äã    ÂÆöÊó∂‰ªªÂä°ÁöÑ‰∏â‰∏™ÂÖ≥ÈîÆÊñπÊ≥ïÔºö</p>
<p>‚Äã        Schedule Êñ∞Â¢û‰ªªÂä°Ëá≥‰ªªÂä°ÈõÜÂêàÔºõ</p>
<p>‚Äã        Cancel ÂèñÊ∂àÊüê‰∏™‰ªªÂä°Ôºõ</p>
<p>‚Äã        Run ÊâßË°åÂà∞ÊúüÁöÑ‰ªªÂä°</p>
<p>JDKËá™Â∏¶ÁöÑ‰∏âÁßçÂÆöÊó∂Âô®Ôºö<strong>Timer</strong>„ÄÅ<strong>DelayedQueue</strong> Âíå <strong>ScheduledThreadPoolExecutor</strong></p>
<pre><code>TimerÂ∞èÊ†πÂ†ÜÈòüÂàóÔºådeadline ‰ªªÂä°‰Ωç‰∫éÂ†ÜÈ°∂Á´ØÔºåÂºπÂá∫ÁöÑÂßãÁªàÊòØÊúÄ‰ºòÂÖàË¢´ÊâßË°åÁöÑ‰ªªÂä°„ÄÇRun Êìç‰ΩúÊó∂Èó¥Â§çÊùÇÂ∫¶ O(1)ÔºåSchedule ÂíåCancel Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØ O(logn)„ÄÇ
</code></pre><p>‰∏çËÆ∫ÊúâÂ§öÂ∞ë‰ªªÂä°Ë¢´Âä†ÂÖ•Êï∞ÁªÑÔºåÂßãÁªàÁî± ÂºÇÊ≠•Á∫øÁ®ãTimerThread Ë¥üË¥£Â§ÑÁêÜ„ÄÇTimerThread ‰ºöÂÆöÊó∂ËΩÆËØ¢ TaskQueue ‰∏≠ÁöÑ‰ªªÂä°ÔºåÂ¶ÇÊûúÂ†ÜÈ°∂ÁöÑ‰ªªÂä°ÁöÑ deadline Â∑≤Âà∞ÔºåÈÇ£‰πàÊâßË°å‰ªªÂä°ÔºõÂ¶ÇÊûúÊòØÂë®ÊúüÊÄß‰ªªÂä°ÔºåÊâßË°åÂÆåÊàêÂêéÈáçÊñ∞ËÆ°ÁÆó‰∏ã‰∏ÄÊ¨°‰ªªÂä°ÁöÑ deadlineÔºåÂπ∂ÂÜçÊ¨°ÊîæÂÖ•Â∞èÊ†πÂ†ÜÔºõÂ¶ÇÊûúÊòØÂçïÊ¨°ÊâßË°åÁöÑ‰ªªÂä°ÔºåÊâßË°åÁªìÊùüÂêé‰ºö‰ªé TaskQueue ‰∏≠Âà†Èô§„ÄÇ</p>
<p>‚Äã</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DelayedQueue ÈááÁî®‰ºòÂÖàÁ∫ßÈòüÂàó PriorityQueueÂª∂ËøüËé∑ÂèñÂØπË±°ÁöÑÈòªÂ°ûÈòüÂàó„ÄÇDelayQueue‰∏≠ÁöÑÊØè‰∏™ÂØπË±°ÈÉΩÂøÖÈ°ªÂÆûÁé∞Delayed Êé•Âè£ÔºåÂπ∂ÈáçÂÜô compareTo Âíå getDelay ÊñπÊ≥ï„ÄÇ</span><br></pre></td></tr></table></figure>
<p>DelayQueue Êèê‰æõ‰∫Ü put() Âíå take() ÁöÑÈòªÂ°ûÊñπÊ≥ïÔºåÂèØ‰ª•ÂêëÈòüÂàó‰∏≠Ê∑ªÂä†ÂØπË±°ÂíåÂèñÂá∫ÂØπË±°„ÄÇÂØπË±°Ë¢´Ê∑ªÂä†Âà∞ DelayQueue ÂêéÔºå‰ºöÊ†πÊçÆ compareTo() ÊñπÊ≥ïËøõË°å‰ºòÂÖàÁ∫ßÊéíÂ∫è„ÄÇgetDelay() ÊñπÊ≥ïÁî®‰∫éËÆ°ÁÆóÊ∂àÊÅØÂª∂ËøüÁöÑÂâ©‰ΩôÊó∂Èó¥ÔºåÂè™Êúâ getDelay &lt;=0 Êó∂ÔºåËØ•ÂØπË±°ÊâçËÉΩ‰ªé DelayQueue ‰∏≠ÂèñÂá∫„ÄÇ</p>
<p>DelayQueue Âú®Êó•Â∏∏ÂºÄÂèë‰∏≠ÊúÄÂ∏∏Áî®ÁöÑÂú∫ÊôØÂ∞±ÊòØÂÆûÁé∞ÈáçËØïÊú∫Âà∂„ÄÇ‰æãÂ¶ÇÔºåÊé•Âè£Ë∞ÉÁî®Â§±Ë¥•ÊàñËÄÖËØ∑Ê±ÇË∂ÖÊó∂ÂêéÔºåÂèØ‰ª•Â∞ÜÂΩìÂâçËØ∑Ê±ÇÂØπË±°ÊîæÂÖ• DelayQueueÔºåÈÄöËøá‰∏Ä‰∏™ÂºÇÊ≠•Á∫øÁ®ã take() ÂèñÂá∫ÂØπË±°ÁÑ∂ÂêéÁªßÁª≠ËøõË°åÈáçËØï„ÄÇÂ¶ÇÊûúËøòÊòØËØ∑Ê±ÇÂ§±Ë¥•ÔºåÁªßÁª≠ÊîæÂõû DelayQueue„ÄÇÂèØ‰ª•ËÆæÁΩÆÈáçËØïÁöÑÊúÄÂ§ßÊ¨°Êï∞‰ª•ÂèäÈááÁî®ÊåáÊï∞ÈÄÄÈÅøÁÆóÊ≥ïËÆæÁΩÆÂØπË±°ÁöÑ deadlineÔºåÂ¶Ç 2s„ÄÅ4s„ÄÅ8s„ÄÅ16s ‚Ä¶‚Ä¶‰ª•Ê≠§Á±ªÊé®„ÄÇDelayQueueÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂíåTimerÂü∫Êú¨‰∏ÄËá¥„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">‰∏∫‰∫ÜËß£ÂÜ≥ Timer ÁöÑËÆæËÆ°Áº∫Èô∑ÔºåJDK Êèê‰æõ‰∫ÜÂäüËÉΩÊõ¥Âä†‰∏∞ÂØåÁöÑ ScheduledThreadPoolExecutorÔºåÂ§öÁ∫øÁ®ã„ÄÅÁõ∏ÂØπÊó∂Èó¥„ÄÅÂØπÂºÇÂ∏∏</span><br></pre></td></tr></table></figure>
<p>‚Äã    Timer ÊòØÂçïÁ∫øÁ®ãÊ®°Âºè„ÄÇÂ¶ÇÊûúÊüê‰∏™ TimerTask ÊâßË°åÊó∂Èó¥Âæà‰πÖÔºå‰ºöÂΩ±ÂìçÂÖ∂‰ªñ‰ªªÂä°ÁöÑË∞ÉÂ∫¶„ÄÇ</p>
<p>‚Äã    Timer ÁöÑ‰ªªÂä°Ë∞ÉÂ∫¶ÊòØÂü∫‰∫éÁ≥ªÁªüÁªùÂØπÊó∂Èó¥ÁöÑÔºåÂ¶ÇÊûúÁ≥ªÁªüÊó∂Èó¥‰∏çÊ≠£Á°ÆÔºåÂèØËÉΩ‰ºöÂá∫Áé∞ÈóÆÈ¢ò„ÄÇ</p>
<p>‚Äã    TimerTask Â¶ÇÊûúÊâßË°åÂá∫Áé∞ÂºÇÂ∏∏ÔºåTimer Âπ∂‰∏ç‰ºöÊçïËé∑Ôºå‰ºöÂØºËá¥Á∫øÁ®ãÁªàÊ≠¢ÔºåÂÖ∂‰ªñ‰ªªÂä°Ê∞∏Ëøú‰∏ç‰ºöÊâßË°å„ÄÇ</p>
<p><strong>Êó∂Èó¥ËΩÆÂéüÁêÜÂàÜÊûê</strong></p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jo7abpbj30wi0ciacs.jpg" title="image-20210504175518335" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jo7abpbj30wi0ciacs.jpg" alt="image-20210504175518335" style="zoom:50%;"></a></p>
<p>Ê†πÊçÆ‰ªªÂä°ÁöÑÂà∞ÊúüÊó∂Èó¥ËøõË°åÂèñ‰ΩôÂíåÂèñÊ®°ÔºåÁÑ∂ÂêéÊ†πÊçÆÂèñ‰ΩôÁªìÊûúÂ∞Ü‰ªªÂä°ÂàÜÂ∏ÉÂà∞‰∏çÂêåÁöÑ slot ‰∏≠ÔºåÊØè‰∏™slot‰∏≠Ê†πÊçÆroundÂÄºÂÜ≥ÂÆöÊòØÂê¶Êìç‰ΩúÔºåÊØèÊ¨°ËΩÆËØ¢Âà∞ÊåáÂÆöslotÊó∂ÔºåÊÄªÊó∂ÈÅçÂéÜÊúÄÂ∞ëroundÁöÑÂØπË±°ËøõË°åÊâßË°åÔºåËøôÊ†∑Êñ∞Â¢û„ÄÅÊâßË°å‰∏§‰∏™Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩËøë‰ººO(1)„ÄÇÂ¶ÇÊûúÂÜ≤Á™ÅËæÉÂ§ßÂèØ‰ª•Â¢ûÂä†Êï∞ÁªÑÈïøÂ∫¶ÔºåÊàñËÄÖÈááÁî®Â§öÁ∫ßÊó∂Èó¥ËΩÆÁöÑÊñπÂºèÂ§ÑÁêÜ„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashedWheelTimer</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† ThreadFactory threadFactory, //Á∫øÁ®ãÊ±†Ôºå‰ΩÜÊòØÂè™ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Á∫øÁ®ã</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† <span class="keyword">long</span> tickDuration,¬†//Êó∂ÈíàÊØèÊ¨° tick ÁöÑÊó∂Èó¥ÔºåÁõ∏ÂΩì‰∫éÊó∂ÈíàÈó¥ÈöîÂ§ö‰πÖËµ∞Âà∞‰∏ã‰∏Ä‰∏™ slot</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† TimeUnit unit,¬†			//Ë°®Á§∫ tickDuration ÁöÑÊó∂Èó¥Âçï‰ΩçÔºåtickDuration * unit</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† <span class="keyword">int</span> ticksPerWheel,¬† //Êó∂Èó¥ËΩÆ‰∏ä‰∏ÄÂÖ±ÊúâÂ§öÂ∞ë‰∏™ slotÔºåÈªòËÆ§ <span class="number">512</span> ‰∏™„ÄÇ</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† <span class="keyword">boolean</span> leakDetection,</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† <span class="keyword">long</span> maxPendingTimeouts)</span> </span>&#123;<span class="comment">//ÊúÄÂ§ßÂÖÅËÆ∏Á≠âÂæÖ‰ªªÂä°Êï∞</span></span><br><span class="line">¬† ¬† <span class="comment">// ÁúÅÁï•ÂÖ∂‰ªñ‰ª£Á†Å</span></span><br><span class="line">¬† ¬† wheel = createWheel(ticksPerWheel); <span class="comment">// ÂàõÂª∫Êó∂Èó¥ËΩÆÁöÑÁéØÂΩ¢Êï∞ÁªÑÁªìÊûÑ</span></span><br><span class="line">¬† ¬† mask = wheel.length - <span class="number">1</span>; <span class="comment">// Áî®‰∫éÂø´ÈÄüÂèñÊ®°ÁöÑÊé©Á†Å</span></span><br><span class="line">¬† ¬† <span class="keyword">long</span> duration = unit.toNanos(tickDuration); <span class="comment">// ËΩ¨Êç¢ÊàêÁ∫≥ÁßíÂ§ÑÁêÜ</span></span><br><span class="line">¬† ¬† workerThread = threadFactory.newThread(worker); <span class="comment">// ÂàõÂª∫Â∑•‰ΩúÁ∫øÁ®ã</span></span><br><span class="line">¬† ¬† leak = leakDetection || !workerThread.isDaemon() ? leakDetector.track(<span class="keyword">this</span>) : <span class="keyword">null</span>; <span class="comment">// ÊòØÂê¶ÂºÄÂêØÂÜÖÂ≠òÊ≥ÑÊºèÊ£ÄÊµã</span></span><br><span class="line">¬† ¬† <span class="keyword">this</span>.maxPendingTimeouts = maxPendingTimeouts; <span class="comment">// ÊúÄÂ§ßÂÖÅËÆ∏Á≠âÂæÖ‰ªªÂä°Êï∞ÔºåHashedWheelTimer ‰∏≠‰ªªÂä°Ë∂ÖÂá∫ËØ•ÈòàÂÄºÊó∂‰ºöÊäõÂá∫ÂºÇÂ∏∏</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jofq9r4j315i0fmq96.jpg" title="image-20210504175531294" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jofq9r4j315i0fmq96.jpg" alt="image-20210504175531294" style="zoom:50%;"></a></p>
<p>‚Äã    <strong>Êó∂Èó¥ËΩÆÁ©∫Êé®ËøõÈóÆÈ¢ò</strong></p>
<p>‚Äã    Netty ‰∏≠ÁöÑÊó∂Èó¥ËΩÆÊòØÈÄöËøáÂõ∫ÂÆöÁöÑÊó∂Èó¥Èó¥Èöî tickDuration ËøõË°åÊé®Âä®ÁöÑÔºåÂ¶ÇÊûúÈïøÊó∂Èó¥Ê≤°ÊúâÂà∞Êúü‰ªªÂä°ÔºåÈÇ£‰πà‰ºöÂ≠òÂú®Êó∂Èó¥ËΩÆÁ©∫Êé®ËøõÁöÑÁé∞Ë±°Ôºå‰ªéËÄåÈÄ†Êàê‰∏ÄÂÆöÁöÑÊÄßËÉΩÊçüËÄó„ÄÇÊ≠§Â§ñÔºåÂ¶ÇÊûú‰ªªÂä°ÁöÑÂà∞ÊúüÊó∂Èó¥Ë∑®Â∫¶ÂæàÂ§ßÔºå‰æãÂ¶Ç A ‰ªªÂä° 1s ÂêéÊâßË°åÔºåB ‰ªªÂä° 6 Â∞èÊó∂‰πãÂêéÊâßË°åÔºå‰πü‰ºöÈÄ†ÊàêÁ©∫Êé®ËøõÁöÑÈóÆÈ¢ò„ÄÇ</p>
<p><strong>KafkaËß£ÂÜ≥ÊñπÊ°à</strong></p>
<p>‚Äã    <strong>‰∏∫‰∫ÜËß£ÂÜ≥Á©∫Êé®ËøõÁöÑÈóÆÈ¢ò</strong>ÔºåKafka ÂÄüÂä© JDK ÁöÑ DelayQueue Êù•Ë¥üË¥£Êé®ËøõÊó∂Èó¥ËΩÆ„ÄÇDelayQueue ‰øùÂ≠ò‰∫ÜÊó∂Èó¥ËΩÆ‰∏≠ÁöÑÊØè‰∏™ BucketÔºåÂπ∂‰∏îÊ†πÊçÆ Bucket ÁöÑÂà∞ÊúüÊó∂Èó¥ËøõË°åÊéíÂ∫èÔºåÊúÄËøëÁöÑÂà∞ÊúüÊó∂Èó¥Ë¢´ÊîæÂú® DelayQueue ÁöÑÈòüÂ§¥„ÄÇKafka ‰∏≠‰ºöÊúâ‰∏Ä‰∏™Á∫øÁ®ãÊù•ËØªÂèñ DelayQueue ‰∏≠ÁöÑ‰ªªÂä°ÂàóË°®Ôºå<strong>Â¶ÇÊûúÊó∂Èó¥Ê≤°ÊúâÂà∞ÔºåÈÇ£‰πà DelayQueue ‰ºö‰∏ÄÁõ¥Â§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅ</strong>Ôºå‰ªéËÄåËß£ÂÜ≥Á©∫Êé®ËøõÁöÑÈóÆÈ¢ò„ÄÇËôΩÁÑ∂DelayQueue ÊèíÂÖ•ÂíåÂà†Èô§ÁöÑÊÄßËÉΩ‰∏çÊòØÂæàÂ•ΩÔºå‰ΩÜËøôÂÖ∂ÂÆûÂ∞±ÊòØ‰∏ÄÁßçÊùÉË°°ÁöÑÁ≠ñÁï•Ôºå‰ΩÜÊòØDelayQueue Âè™Â≠òÊîæ‰∫Ü BucketÔºåBucket ÁöÑÊï∞ÈáèÂπ∂‰∏çÂ§öÔºåÁõ∏ÊØîÁ©∫Êé®ËøõÂ∏¶Êù•ÁöÑÂΩ±ÂìçÊòØÂà©Â§ß‰∫éÂºäÁöÑ„ÄÇ</p>
<p>‚Äã    <strong>‰∏∫‰∫ÜËß£ÂÜ≥‰ªªÂä°Êó∂Èó¥Ë∑®Â∫¶ÂæàÂ§ßÁöÑÈóÆÈ¢ò</strong>ÔºåKafka ÂºïÂÖ•‰∫ÜÂ±ÇÁ∫ßÊó∂Èó¥ËΩÆÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫„ÄÇÂΩì‰ªªÂä°ÁöÑ deadline Ë∂ÖÂá∫ÂΩìÂâçÊâÄÂú®Â±ÇÁöÑÊó∂Èó¥ËΩÆË°®Á§∫ËåÉÂõ¥Êó∂ÔºåÂ∞±‰ºöÂ∞ùËØïÂ∞Ü‰ªªÂä°Ê∑ªÂä†Âà∞‰∏ä‰∏ÄÂ±ÇÊó∂Èó¥ËΩÆ‰∏≠ÔºåË∑üÈíüË°®ÁöÑÊó∂Èíà„ÄÅÂàÜÈíà„ÄÅÁßíÈíàÁöÑËΩ¨Âä®ËßÑÂàôÊòØÂêå‰∏Ä‰∏™ÈÅìÁêÜ„ÄÇ</p>
<h4 id="3„ÄÅMpscQueue"><a href="#3„ÄÅMpscQueue" class="headerlink" title="3„ÄÅMpscQueue"></a>3„ÄÅMpscQueue</h4><h4 id="4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´"><a href="#4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´" class="headerlink" title="4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´"></a>4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´</h4><p><strong>select</strong> ÔºàwindowsÔºâ<strong>poll </strong>(linux)Êú¨Ë¥®‰∏äÂíåselectÊ≤°ÊúâÂå∫Âà´ÔºåÊü•ËØ¢ÊØè‰∏™fdÂØπÂ∫îÁöÑËÆæÂ§áÁä∂ÊÄÅÔºåÂ¶ÇÊûúËÆæÂ§áÂ∞±Áª™ÂàôÂú®ËÆæÂ§áÁ≠âÂæÖÈòüÂàó‰∏≠Âä†ÂÖ•‰∏ÄÈ°πÂπ∂ÁªßÁª≠ÈÅçÂéÜÔºåÂ¶ÇÊûúÈÅçÂéÜÂÆåÊâÄÊúâfdÂêéÊ≤°ÊúâÂèëÁé∞Â∞±Áª™ËÆæÂ§áÔºåÂàôÊåÇËµ∑ÂΩìÂâçËøõÁ®ãÔºåÁõ¥Âà∞ËÆæÂ§áÂ∞±Áª™ÊàñËÄÖ‰∏ªÂä®Ë∂ÖÊó∂ÔºåË¢´Âî§ÈÜíÂêéÂÆÉÂèàË¶ÅÂÜçÊ¨°ÈÅçÂéÜfd„ÄÇ</p>
<p><strong>epoll </strong>ÊîØÊåÅÊ∞¥Âπ≥Ëß¶ÂèëÂíåËæπÁºòËß¶ÂèëÔºåÊúÄÂ§ßÁöÑÁâπÁÇπÂú®‰∫éËæπÁºòËß¶ÂèëÔºåÂÆÉÂè™ÂëäËØâËøõÁ®ãÂì™‰∫õfdÂàöÂàöÂèò‰∏∫Â∞±Áª™ÊÄÅÔºåÂπ∂‰∏îÂè™‰ºöÈÄöÁü•‰∏ÄÊ¨°„ÄÇËøòÊúâ‰∏Ä‰∏™ÁâπÁÇπÊòØÔºåepoll‰ΩøÁî®‚Äú‰∫ã‰ª∂‚ÄùÁöÑÂ∞±Áª™ÈÄöÁü•ÊñπÂºèÔºåÈÄöËøáepoll_ctlÊ≥®ÂÜåfdÔºå‰∏ÄÊó¶ËØ•fdÂ∞±Áª™ÔºåÂÜÖÊ†∏Â∞±‰ºöÈááÁî®Á±ª‰ººcallbackÁöÑÂõûË∞ÉÊú∫Âà∂Êù•ÊøÄÊ¥ªËØ•fdÔºåepoll_wait‰æøÂèØ‰ª•Êî∂Âà∞ÈÄöÁü•„ÄÇ</p>
<p><strong>EpollÁ©∫ËΩÆËØ¢ÊºèÊ¥û</strong></p>
<p>Âú® JDK ‰∏≠Ôºå Epoll ÁöÑÂÆûÁé∞ÊòØÂ≠òÂú®ÊºèÊ¥ûÁöÑÔºåÂç≥‰Ωø Selector ËΩÆËØ¢ÁöÑ‰∫ã‰ª∂ÂàóË°®‰∏∫Á©∫ÔºåNIO Á∫øÁ®ã‰∏ÄÊ†∑ÂèØ‰ª•Ë¢´Âî§ÈÜíÔºåÂØºËá¥ CPU 100% Âç†Áî®„ÄÇÂÆûÈôÖ‰∏ä Netty Âπ∂Ê≤°Êúâ‰ªéÊ†πÊ∫ê‰∏äËß£ÂÜ≥ËØ•ÈóÆÈ¢òÔºåËÄåÊòØÂ∑ßÂ¶ôÂú∞ËßÑÈÅø‰∫ÜËøô‰∏™ÈóÆÈ¢ò„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> time = System.nanoTime();</span><br><span class="line"><span class="keyword">if</span> (<span class="comment">/*‰∫ã‰ª∂ËΩÆËØ¢ÁöÑÊåÅÁª≠Êó∂Èó¥Â§ß‰∫éÁ≠â‰∫é timeoutMillis*/</span>) &#123;</span><br><span class="line">    selectCnt = <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="comment">/*‰∏çÊ≠£Â∏∏ÁöÑÊ¨°Êï∞ selectCnt ËææÂà∞ÈòàÂÄº 512*/</span>) &#123;</span><br><span class="line">    <span class="comment">//ÈáçÂª∫SelectÂπ∂‰∏îSelectionKeyÈáçÊñ∞Ê≥®ÂÜåÂà∞Êñ∞Selector‰∏ä</span></span><br><span class="line">  	selector = selectRebuildSelector(selectCnt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>NioEventLoop Á∫øÁ®ãÁöÑÂèØÈù†ÊÄßËá≥ÂÖ≥ÈáçË¶ÅÔºå‰∏ÄÊó¶ NioEventLoop ÂèëÁîüÈòªÂ°ûÊàñËÄÖÈô∑ÂÖ•Á©∫ËΩÆËØ¢ÔºåÂ∞±‰ºöÂØºËá¥Êï¥‰∏™Á≥ªÁªü‰∏çÂèØÁî®„ÄÇ</p>
<h1 id="Âõõ„ÄÅLEETCODE"><a href="#Âõõ„ÄÅLEETCODE" class="headerlink" title="Âõõ„ÄÅLEETCODE"></a>Âõõ„ÄÅLEETCODE</h1><h3 id="„ÄêPythonËØ≠Ê≥ï„Äë"><a href="#„ÄêPythonËØ≠Ê≥ï„Äë" class="headerlink" title="„ÄêPythonËØ≠Ê≥ï„Äë"></a>„ÄêPythonËØ≠Ê≥ï„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line">reduce(function, iterable[, initializer])</span><br><span class="line">    reduce(<span class="keyword">lambda</span> x,y:x * y,ns) <span class="comment"># Êï∞ÁªÑ‰πã‰πòÁßØ (ns[0] * ns[1]) * ns[2]</span></span><br><span class="line">    reduce(<span class="keyword">lambda</span> x,y:x + y,ns) <span class="comment"># Êï∞ÁªÑ‰πãÂíå</span></span><br><span class="line"><span class="comment"># ËÆ∞ÂøÜÂåñÊêúÁ¥¢</span></span><br><span class="line"><span class="meta">@functools.lru_cache(None)</span></span><br><span class="line">res = helper(<span class="number">0</span>,N,<span class="number">0</span>)</span><br><span class="line">helper.cache_clear()</span><br><span class="line">tuple(ns) ÂèØ‰ª•hashÂÅöÂèÇÊï∞</span><br><span class="line"><span class="comment"># Â§ßÊ†πÂ†Ü</span></span><br><span class="line">q = list(map(<span class="keyword">lambda</span> x:-x,ns))</span><br><span class="line">heapq.heapify(q)</span><br><span class="line">key = -heapq.heappop(q)</span><br><span class="line"><span class="comment"># ËøáÊª§ÂáΩÊï∞</span></span><br><span class="line">filter(function, iterable)</span><br><span class="line">    filter(<span class="keyword">lambda</span> x: <span class="number">2</span> &lt; x &lt; <span class="number">10</span> <span class="keyword">and</span> x % <span class="number">2</span> == <span class="number">0</span>, range(<span class="number">18</span>))</span><br><span class="line">    filter(dfs, range(len(graph)))</span><br><span class="line"><span class="comment"># Èô§Êï∞</span></span><br><span class="line">div, mod = divmod(sum(ns), <span class="number">4</span>)</span><br><span class="line">random.randint(i,len(self.ns)<span class="number">-1</span>)</span><br><span class="line"><span class="comment">#Á¨¨‰∏Ä‰∏™ÈôçÂ∫èÔºåÁ¨¨‰∫å‰∏™ÂçáÂ∫è</span></span><br><span class="line">sorted(pss,key = <span class="keyword">lambda</span> x:[x[<span class="number">0</span>],-x[<span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ‰∏çÂèØÂèòstr Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">split(sep=<span class="literal">None</span>, maxsplit=<span class="number">-1</span>)  <span class="comment"># ‰ª•sepÊù•ÂàÜÂâ≤Â≠óÁ¨¶‰∏≤</span></span><br><span class="line">strip([chars])  <span class="comment"># ÂéªÈô§È¶ñÊú´‰∏§Á´ØÁöÑÂ≠óÁ¨¶, ÈªòËÆ§ÊòØ \r,\n," "</span></span><br><span class="line">join(iterable)  <span class="comment"># Â∞ÜiterableÂÜÖÁöÑÂÖÉÁ¥†ÊãºÊé•ÊàêÂ≠óÁ¨¶‰∏≤,Â¶Ç','.join(['leet', 'code'])="leet,code"</span></span><br><span class="line">replace(old, new[, count])  <span class="comment"># Â≠óÁ¨¶‰∏≤ÊõøÊç¢, old to new</span></span><br><span class="line">count(sub[, start[, end]])  <span class="comment"># ÁªüËÆ°Â≠êÂ≠óÁ¨¶‰∏≤subÁöÑ‰∏™Êï∞</span></span><br><span class="line">startswith(prefix[, start[, end]])  <span class="comment"># ‰ª•prefixÂºÄÂßãÁöÑÂ≠óÁ¨¶‰∏≤</span></span><br><span class="line">endswith(suffix[, start[, end]])  <span class="comment"># ‰ª•suffixÁªìÊùüÁöÑÂ≠óÁ¨¶‰∏≤</span></span><br><span class="line">cs <span class="keyword">in</span> chrs: <span class="comment"># chrs ‰∏≠ÂåÖÂê´ cs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># deque Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">queue = deque([iterable[, maxlen]])</span><br><span class="line">queue.append(val)  <span class="comment"># ÂæÄÂè≥ËæπÊ∑ªÂä†‰∏Ä‰∏™ÂÖÉÁ¥†</span></span><br><span class="line">queue.appendleft(val)  <span class="comment"># ÂæÄÂ∑¶ËæπÊ∑ªÂä†‰∏Ä‰∏™ÂÖÉÁ¥†</span></span><br><span class="line">queue.clear()  <span class="comment"># Ê∏ÖÁ©∫ÈòüÂàó</span></span><br><span class="line">queue.count(val)  <span class="comment"># ËøîÂõûÊåáÂÆöÂÖÉÁ¥†ÁöÑÂá∫Áé∞Ê¨°Êï∞</span></span><br><span class="line">queue.insert(val[, start[, stop]])  <span class="comment"># Âú®ÊåáÂÆö‰ΩçÁΩÆÊèíÂÖ•ÂÖÉÁ¥†</span></span><br><span class="line">queue.pop()  <span class="comment"># Ëé∑ÂèñÊúÄÂè≥Ëæπ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Âú®ÈòüÂàó‰∏≠Âà†Èô§</span></span><br><span class="line">queue.popleft()  <span class="comment"># Ëé∑ÂèñÊúÄÂ∑¶Ëæπ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Âú®ÈòüÂàó‰∏≠Âà†Èô§</span></span><br><span class="line">queue.reverse()  <span class="comment"># ÈòüÂàóÂèçËΩ¨</span></span><br><span class="line">queue.remove(val)  <span class="comment"># Âà†Èô§ÊåáÂÆöÂÖÉÁ¥†</span></span><br><span class="line">queue.rotate(n=<span class="number">1</span>)  <span class="comment"># ÊääÂè≥ËæπÂÖÉÁ¥†ÊîæÂà∞Â∑¶Ëæπ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">lst.sort(*, key=<span class="literal">None</span>, reverse=<span class="literal">False</span>)</span><br><span class="line">lst.append(val)  <span class="comment"># ‰πüÂèØ‰ª• lst = lst + [val]</span></span><br><span class="line">lst.clear()  <span class="comment"># Ê∏ÖÁ©∫ÂàóË°®</span></span><br><span class="line">lst.count(val)  <span class="comment"># val‰∏™Êï∞</span></span><br><span class="line">lst.pop(val=lst[<span class="number">-1</span>])  <span class="comment"># (ÈªòËÆ§)‰ªéÊú´Á´ØÁßªÈô§‰∏Ä‰∏™ÂÄº</span></span><br><span class="line">lst.remove(val)  <span class="comment"># ÁßªÈô§ val</span></span><br><span class="line">lst.reverse()  <span class="comment"># ÂèçËΩ¨</span></span><br><span class="line">lst.insert(i, val)  <span class="comment"># Âú® i Â§ÑÊèíÂÖ• val</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Â≠óÂÖ∏dict Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">d = defaultdict(<span class="keyword">lambda</span> : value) <span class="comment"># ÂèñÂà∞‰∏çÂ≠òÂú®ÁöÑÂÄºÊó∂‰∏ç‰ºöÊä•ÈîôÔºåÁî®&#123;&#125;Êó∂„ÄÅÈúÄË¶ÅËÆæÁΩÆgetÁöÑdefaultÂÄº</span></span><br><span class="line">pop(key[, default])  <span class="comment"># ÈÄöËøáÈîÆÂéªÂà†Èô§ÈîÆÂÄºÂØπ(Ëã•Ê≤°ÊúâËØ•ÈîÆÂàôËøîÂõûdefault(Ê≤°ÊúâËÆæÁΩÆdefaultÂàôÊä•Èîô))</span></span><br><span class="line">setdefault(key[, default])  <span class="comment"># ËÆæÁΩÆÈªòËÆ§ÂÄº</span></span><br><span class="line">update([other])  <span class="comment"># ÊâπÈáèÊ∑ªÂä†</span></span><br><span class="line">get(key[, default])  <span class="comment"># ÈÄöËøáÈîÆËé∑ÂèñÂÄº(Ëã•Ê≤°ÊúâËØ•ÈîÆÂèØËÆæÁΩÆÈªòËÆ§ÂÄº, È¢ÑÈò≤Êä•Èîô)</span></span><br><span class="line">clear()  <span class="comment"># Ê∏ÖÁ©∫Â≠óÂÖ∏</span></span><br><span class="line">keys()  <span class="comment"># Â∞ÜÂ≠óÂÖ∏ÁöÑÈîÆÁªÑÊàêÊñ∞ÁöÑÂèØËø≠‰ª£ÂØπË±°</span></span><br><span class="line">values()  <span class="comment"># Â∞ÜÂ≠óÂÖ∏‰∏≠ÁöÑÂÄºÁªÑÊàêÊñ∞ÁöÑÂèØËø≠‰ª£ÂØπË±°</span></span><br><span class="line">items()  <span class="comment"># Â∞ÜÂ≠óÂÖ∏ÁöÑÈîÆÂÄºÂØπÂáëÊàê‰∏Ä‰∏™‰∏™ÂÖÉÁªÑ, ÁªÑÊàêÊñ∞ÁöÑÂèØËø≠‰ª£ÂØπË±°</span></span><br><span class="line">dict1 = dict2 <span class="comment">#‰∏§‰∏™Â≠óÂÖ∏ÂÆåÂÖ®Áõ∏Á≠âÔºåÊªëÁ™óÊó∂ÂèØÁî®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ÈõÜÂêàset Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">s = set(<span class="keyword">lambda</span> : value)</span><br><span class="line">add(elem)  <span class="comment"># ÂêëÈõÜÂêà‰∏≠Ê∑ªÂä†Êï∞ÊçÆ</span></span><br><span class="line">update(*others)  <span class="comment"># Ëø≠‰ª£ÁùÄÂ¢ûÂä†</span></span><br><span class="line">clear()  <span class="comment"># Ê∏ÖÁ©∫ÈõÜÂêà</span></span><br><span class="line">discard(elem)  <span class="comment"># Âà†Èô§ÈõÜÂêà‰∏≠ÊåáÂÆöÁöÑÂÄº(‰∏çÂ≠òÂú®Âàô‰∏çÂà†Èô§)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Â†Üheapq Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">heap = []  <span class="comment"># Âª∫Â†Ü</span></span><br><span class="line">heapq.heappush(heap,item)  <span class="comment"># ÂæÄÂ†Ü‰∏≠ÊèíÂÖ•Êñ∞ÂÄº</span></span><br><span class="line">heapq.heappop(heap)  <span class="comment"># ÂºπÂá∫ÊúÄÂ∞èÁöÑÂÄº</span></span><br><span class="line">heap[<span class="number">0</span>]  <span class="comment"># Êü•ÁúãÂ†Ü‰∏≠ÊúÄÂ∞èÁöÑÂÄº, ‰∏çÂºπÂá∫</span></span><br><span class="line">heapq.heapify(x)  <span class="comment"># ‰ª•Á∫øÊÄßÊó∂Èó¥Â∞Ü‰∏Ä‰∏™ÂàóË°®ËΩ¨‰∏∫Â†Ü</span></span><br><span class="line">heapq.heappoppush(heap, item)  <span class="comment"># ÂºπÂá∫ÊúÄÂ∞èÁöÑÂÄº.Âπ∂‰∏îÂ∞ÜÊñ∞ÁöÑÂÄºÊèíÂÖ•ÂÖ∂‰∏≠.</span></span><br><span class="line">heapq.merge(*iterables, key=<span class="literal">None</span>, reverse=<span class="literal">False</span>)  <span class="comment"># Â∞ÜÂ§ö‰∏™Â†ÜËøõË°åÂêàÂπ∂</span></span><br><span class="line">heapq.nlargest(n, iterable, key=<span class="literal">None</span>)  <span class="comment"># ‰ªéÂ†Ü‰∏≠ÊâæÂá∫ÊúÄÂ§ßÁöÑ n ‰∏™Êï∞ÔºåkeyÁöÑ‰ΩúÁî®Âíåsorted( )ÊñπÊ≥ïÈáåÈù¢ÁöÑkeyÁ±ª‰ºº, Áî®ÂàóË°®ÂÖÉÁ¥†ÁöÑÊüê‰∏™Â±ûÊÄßÂíåÂáΩÊï∞‰Ωú‰∏∫ÂÖ≥ÈîÆÂ≠ó</span></span><br><span class="line">heapq.nsmallest(n, iterable, key=<span class="literal">None</span>)  <span class="comment"># ‰ªéÂ†Ü‰∏≠ÊâæÂá∫ÊúÄÂ∞èÁöÑ n ‰∏™Êï∞, ‰∏é nlargest Áõ∏Âèç</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ‰∫åÂàÜÊü•ÊâæÂáΩÊï∞</span></span><br><span class="line">bisect.bisect_left(ps, T, L=<span class="number">0</span>, R=len(ns))  <span class="comment">#‰∫åÂàÜÂ∑¶ËæπÁïå</span></span><br><span class="line">bisect.bisect_right(ps, T, L=<span class="number">0</span>, R=len(ns)) <span class="comment">#‰∫åÂàÜÂè≥ËæπÁïå</span></span><br><span class="line">bisect.insort_left(a, x, lo=<span class="number">0</span>, hi=len(a))  <span class="comment"># ‰∫åÂàÜÊèíÂÖ•Âà∞Â∑¶‰æß</span></span><br><span class="line">bisect.insort_right(a, x, lo=<span class="number">0</span>, hi=len(a)) <span class="comment"># ‰∫åÂàÜÊèíÂÖ•Âà∞Âè≥‰æß</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># bitÊìç‰Ωú</span></span><br><span class="line">&amp; Á¨¶Âè∑Ôºåx &amp; y Ôºå‰ºöÂ∞Ü‰∏§‰∏™ÂçÅËøõÂà∂Êï∞Âú®‰∫åËøõÂà∂‰∏ãËøõË°å‰∏éËøêÁÆó</span><br><span class="line">| Á¨¶Âè∑Ôºåx | y Ôºå‰ºöÂ∞Ü‰∏§‰∏™ÂçÅËøõÂà∂Êï∞Âú®‰∫åËøõÂà∂‰∏ãËøõË°åÊàñËøêÁÆó</span><br><span class="line">^ Á¨¶Âè∑Ôºåx ^ y Ôºå‰ºöÂ∞Ü‰∏§‰∏™ÂçÅËøõÂà∂Êï∞Âú®‰∫åËøõÂà∂‰∏ãËøõË°åÂºÇÊàñËøêÁÆó</span><br><span class="line">&lt;&lt; Á¨¶Âè∑Ôºåx &lt;&lt; y Â∑¶ÁßªÊìç‰ΩúÔºåÊúÄÂè≥ËæπÁî® <span class="number">0</span> Â°´ÂÖÖ</span><br><span class="line">&gt;&gt; Á¨¶Âè∑Ôºåx &gt;&gt; y Âè≥ÁßªÊìç‰ΩúÔºåÊúÄÂ∑¶ËæπÁî® <span class="number">0</span> Â°´ÂÖÖ</span><br><span class="line">~ Á¨¶Âè∑Ôºå~x ÔºåÊåâ‰ΩçÂèñÂèçÊìç‰ΩúÔºåÂ∞Ü x Âú®‰∫åËøõÂà∂‰∏ãÁöÑÊØè‰∏Ä‰ΩçÂèñÂèç</span><br><span class="line"></span><br><span class="line"><span class="comment"># Êï¥Êï∞ÈõÜÂêàset‰ΩçËøêÁÆó</span></span><br><span class="line"><span class="comment"># Êï¥Êï∞ÈõÜÂêàÂÅöÊ†áÂøóÊó∂ÔºåÂèØ‰ª•ÂÅöÂèÇÊï∞Âä†ÈÄüËøêÁÆó</span></span><br><span class="line">vstd ËÆøÈóÆ i Ôºövstd | (<span class="number">1</span> &lt;&lt; i)</span><br><span class="line">vstd Á¶ªÂºÄ i Ôºövstd &amp; ~(<span class="number">1</span> &lt;&lt; i)</span><br><span class="line">vstd ‰∏çÂåÖÂê´ i : <span class="keyword">not</span> vstd &amp; (<span class="number">1</span> &lt;&lt; i)</span><br><span class="line"></span><br><span class="line">Âπ∂ÈõÜ ÔºöA | B</span><br><span class="line">‰∫§ÈõÜ ÔºöA &amp; B</span><br><span class="line">ÂÖ®ÈõÜ Ôºö(<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span></span><br><span class="line">Ë°•ÈõÜ Ôºö((<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>) ^ A</span><br><span class="line">Â≠êÈõÜ Ôºö(A &amp; B) == B</span><br><span class="line">Âà§Êñ≠ÊòØÂê¶ÊòØ <span class="number">2</span> ÁöÑÂπÇ ÔºöA &amp; (A - <span class="number">1</span>) == <span class="number">0</span></span><br><span class="line">ÊúÄ‰Ωé‰ΩçÁöÑ <span class="number">1</span> Âèò‰∏∫ <span class="number">0</span> Ôºön &amp;= (n - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            n &amp;= n - <span class="number">1</span></span><br><span class="line">            ret += <span class="number">1</span></span><br><span class="line">ÊúÄ‰Ωé‰ΩçÁöÑ <span class="number">1</span>ÔºöA &amp; (-A)ÔºåÊúÄ‰Ωé‰ΩçÁöÑ <span class="number">1</span> ‰∏ÄËà¨ËÆ∞‰∏∫ lowbit(A)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ^     ÔºöÂåπÈÖçÂ≠óÁ¨¶‰∏≤ÂºÄÂ§¥</span></span><br><span class="line"><span class="comment"># [\+\-]Ôºö‰ª£Ë°®‰∏Ä‰∏™+Â≠óÁ¨¶Êàñ-Â≠óÁ¨¶</span></span><br><span class="line"><span class="comment"># ?     ÔºöÂâçÈù¢‰∏Ä‰∏™Â≠óÁ¨¶ÂèØÊúâÂèØÊó†</span></span><br><span class="line"><span class="comment"># \d    Ôºö‰∏Ä‰∏™Êï∞Â≠ó</span></span><br><span class="line"><span class="comment"># +     ÔºöÂâçÈù¢‰∏Ä‰∏™Â≠óÁ¨¶ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™</span></span><br><span class="line"><span class="comment"># \D    Ôºö‰∏Ä‰∏™ÈùûÊï∞Â≠óÂ≠óÁ¨¶</span></span><br><span class="line"><span class="comment"># *     ÔºöÂâçÈù¢‰∏Ä‰∏™Â≠óÁ¨¶ÁöÑ0‰∏™ÊàñÂ§ö‰∏™</span></span><br><span class="line">matches = re.match(<span class="string">'[ ]*([+-]?\d+)'</span>, s)</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêËÉåÂåÖÊ®°Êùø„Äë"><a href="#„ÄêËÉåÂåÖÊ®°Êùø„Äë" class="headerlink" title="„ÄêËÉåÂåÖÊ®°Êùø„Äë"></a>„ÄêËÉåÂåÖÊ®°Êùø„Äë</h3><p><strong>„ÄåÂäõÊâ£„Äç‰∏äÁöÑ 0-1 ËÉåÂåÖÈóÆÈ¢òÔºö</strong></p>
<ul>
<li><p>ÁªÑÂêàÈóÆÈ¢òÊ®°Êùø</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#0-1ËÉåÂåÖÔºå‰∏çÂèØÈáçÂ§ç</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> ns:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(T, n<span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">        dp[i] = max(dp[i], dp[i - n] + ws[i])</span><br><span class="line"><span class="comment">#ÂÆåÂÖ®ËÉåÂåÖÔºåÂèØÈáçÂ§çÔºåÊó†Â∫èÔºåÁÆóÈáçÈáè</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> ns:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n, T+<span class="number">1</span>):</span><br><span class="line">        dp[i] = max(dp[i], dp[i - n] + ws[i])</span><br><span class="line"><span class="comment">#ÂÆåÂÖ®ËÉåÂåÖÔºåÂèØÈáçÂ§çÔºåÊúâÂ∫èÔºåÁÆóÊ¨°Êï∞     </span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, T+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> ns:</span><br><span class="line">		dp[i] += dp[i-n]</span><br></pre></td></tr></table></figure>
<p><strong>‚úÖ377</strong> ÁªÑÂêàÊÄªÂíå ‚Ö£<br>‚úÖ<strong>494</strong> ÁõÆÊ†áÂíå<br>‚úÖ<strong>518</strong> Èõ∂Èí±ÂÖëÊç¢ II</p>
</li>
<li><p>True„ÄÅFalseÈóÆÈ¢ò</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp[i] |= dp[i-num]</span><br></pre></td></tr></table></figure>
<p><strong>‚úÖ139</strong> ÂçïËØçÊãÜÂàÜ<br><strong>‚úÖ416</strong> ÂàÜÂâ≤Á≠âÂíåÂ≠êÈõÜ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ÁâπÊÆäÁöÑÂèØ‰ª•‰ΩøÁî®bitÊï∞ÁªÑ</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ÊúÄÂ§ßÊúÄÂ∞èÈóÆÈ¢òÔºö</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dp[i] = min(dp[i], dp[i-num]+<span class="number">1</span>)</span><br><span class="line">dp[i] = max(dp[i], dp[i-num]+<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>‚úÖ<strong>474</strong> ‰∏ÄÂíåÈõ∂<br>‚úÖ<strong>322</strong> Èõ∂Èí±ÂÖëÊç¢</p>
</li>
</ul>
<p>„ÄåÂäõÊâ£„ÄçÁ¨¨ <strong>879</strong> È¢òÔºöÁõàÂà©ËÆ°ÂàíÔºàÂõ∞ÈöæÔºâÔºõ<br>„ÄåÂäõÊâ£„ÄçÁ¨¨ <strong>1449</strong> È¢òÔºöÊï∞‰ΩçÊàêÊú¨Âíå‰∏∫ÁõÆÊ†áÂÄºÁöÑÊúÄÂ§ßÊï∞Â≠óÔºàÂõ∞ÈöæÔºâ„ÄÇ</p>
<h3 id="„ÄêÂõûÊ∫ØÊ®°Êùø„Äë"><a href="#„ÄêÂõûÊ∫ØÊ®°Êùø„Äë" class="headerlink" title="„ÄêÂõûÊ∫ØÊ®°Êùø„Äë"></a>„ÄêÂõûÊ∫ØÊ®°Êùø„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÂõûÊ∫ØÁÆóÊ≥ïÔºåÂ§çÊùÇÂ∫¶ËæÉÈ´ò2^nÊàñËÄÖNÔºÅÔºåÂõ†‰∏∫ÂõûÊ∫ØÁÆóÊ≥ïÂ∞±ÊòØÊö¥ÂäõÁ©∑‰∏æÔºåÂèØÁî®lruÂâ™Êûù</span></span><br><span class="line"><span class="meta">@functools.lru_cache(None)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(Ë∑ØÂæÑ, ÈÄâÊã©ÂàóË°®)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> Êª°Ë∂≥ÁªìÊùüÊù°‰ª∂:</span><br><span class="line">        ÁªìÊûú.append(Ë∑ØÂæÑ)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">for</span> ÈÄâÊã© <span class="keyword">in</span> ÈÄâÊã©ÂàóË°®:    <span class="comment"># Ê†∏ÂøÉ‰ª£Á†ÅÊÆµ</span></span><br><span class="line">      	<span class="keyword">if</span> vst[i]:   <span class="comment"># ËæÖÂä©Êï∞ÁªÑÔºåÂáèÊûù</span></span><br><span class="line">          <span class="keyword">continue</span></span><br><span class="line">        ÂÅöÂá∫ÈÄâÊã©</span><br><span class="line">        ÈÄíÂΩíÊâßË°åbacktrack</span><br><span class="line">        Êí§ÈîÄÈÄâÊã©</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>Ââ™Êûù</strong>„ÄçÁ¨¨ <strong>46</strong> È¢ò ÂÖ®ÊéíÂàó Á¨¨ <strong>47</strong> È¢ò ÂÖ®ÊéíÂàó‚ë°</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ââ™Êûù</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(temp_list, length)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> length == n:</span><br><span class="line">      res.append(temp_list)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> visited[i]:</span><br><span class="line">          visited[i] = <span class="number">1</span></span><br><span class="line">          backtrack(temp_list + [nums[i]], length + <span class="number">1</span>)</span><br><span class="line">          visited[i] = <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>„Äå<strong>Á¥¢ÂºïÈÅçÂéÜ</strong>„ÄçÁ¨¨ <strong>78</strong> È¢ò Â≠êÈõÜ | Á¨¨ <strong>47</strong> È¢ò Â≠êÈõÜ‚ë° | Á¨¨ <strong>131</strong> È¢ò ÂàÜÂâ≤Â≠óÁ¨¶‰∏≤</p>
<pre><code>Á¨¨ **39 **È¢ò ÁªÑÂêà | Á¨¨ **40** È¢ò ÁªÑÂêà‚ë°  | Á¨¨ **216** È¢ò ÁªÑÂêà‚ë¢
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¥¢ÂºïÈÅçÂéÜ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">helper1</span><span class="params">(idx, n, temp_list)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> temp_list <span class="keyword">not</span> <span class="keyword">in</span> res:</span><br><span class="line">    res.append(temp_list)</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(idx, n):</span><br><span class="line">    helper1(i + <span class="number">1</span>, n, temp_list + [nums[i]])</span><br></pre></td></tr></table></figure>
<p>„Äå <strong>ËµÑÊ∫êÊ∂àËÄó</strong>„ÄçÁ¨¨ <strong>22</strong> È¢ò Â§∏Âè∑ÁîüÊàê</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ËµÑÊ∫êÊ∂àËÄó</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(S, L, R)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> L <span class="keyword">and</span> <span class="keyword">not</span> R:</span><br><span class="line">    ans.append(<span class="string">''</span>.join(S))</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  <span class="keyword">if</span> L :     backtrack(S + [<span class="string">'('</span>], L<span class="number">-1</span>, R)</span><br><span class="line">  <span class="keyword">if</span> R &gt; L : backtrack(S + [<span class="string">')'</span>], L, R<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>ËµÑÊ∫êÊ∂àËÄó</strong>„ÄçÁ¨¨ <strong>93</strong> È¢ò Â§çÂéüIP</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ËµÑÊ∫êÊ∂àËÄó</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(i, tmp, flag)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> i == n <span class="keyword">and</span> flag == <span class="number">0</span>:</span><br><span class="line">    res.append(tmp[:<span class="number">-1</span>])</span><br><span class="line">  <span class="keyword">elif</span> i&lt;n <span class="keyword">and</span> s[i] == <span class="string">'0'</span>:</span><br><span class="line">    backtrack(i + <span class="number">1</span>, tmp + s[i] + <span class="string">"."</span>, flag - <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">elif</span> flag :</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i, min(n,i + <span class="number">3</span>)):</span><br><span class="line">      <span class="keyword">if</span> <span class="number">0</span> &lt; int(s[i:j + <span class="number">1</span>]) &lt;= <span class="number">255</span>:</span><br><span class="line">        backtrack(j + <span class="number">1</span>, tmp + s[i:j + <span class="number">1</span>] + <span class="string">"."</span>, flag - <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>ËµÑÊ∫êÊ∂àËÄó</strong>„ÄçÁ¨¨ <strong>17</strong> È¢ò ÁîµËØùÂè∑Á†Å</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ËµÑÊ∫êÊ∂àËÄó</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(path, remains)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> remains:</span><br><span class="line">    res.append(path[:])</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(len(remains)):</span><br><span class="line">    dfs(path + [remains[i]], remains[:i] + remains[i+<span class="number">1</span>:])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Â•óÊ®°Êùø</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(pth,idx)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> idx == len(ds):</span><br><span class="line">        res.append(pth)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> dic[ds[idx]]:</span><br><span class="line">        dfs(pth + c, idx + <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>Â§öÈáçÈôêÂà∂</strong>„ÄçÁ¨¨ <strong>37</strong> È¢ò Ëß£Êï∞Áã¨  | Á¨¨ <strong>51</strong> È¢ò NÁöáÂêé</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Â§öÈáçÈôêÂà∂</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(pos)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> pos == n:</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">  i, j = empty[pos]</span><br><span class="line">  <span class="keyword">for</span> num <span class="keyword">in</span> row[i] &amp; col[j] &amp; block[bidx(i, j)]:</span><br><span class="line">    row[i].remove(num)</span><br><span class="line">    col[j].remove(num)</span><br><span class="line">    block[bidx(i, j)].remove(num)</span><br><span class="line">    board[i][j] = str(num)</span><br><span class="line">    <span class="keyword">if</span> backtrack(pos + <span class="number">1</span>): <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    row[i].add(num)</span><br><span class="line">    col[j].add(num)</span><br><span class="line">    block[bidx(i, j)].add(num)</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>ÈÄíÂΩí</strong>„ÄçÁ¨¨ <strong>10</strong> È¢ò Ê≠£ÂàôÂåπÈÖç</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÈÄíÂΩí</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isMatch</span><span class="params">(self, s: str, p: str)</span> -&gt; bool:</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> p:</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">not</span> s</span><br><span class="line">  f = bool(s <span class="keyword">and</span> p[<span class="number">0</span>] <span class="keyword">in</span> &#123;s[<span class="number">0</span>],<span class="string">'.'</span>&#125;)</span><br><span class="line">  <span class="keyword">if</span> len(p) &gt;= <span class="number">2</span> <span class="keyword">and</span> p[<span class="number">1</span>] == <span class="string">"*"</span>:</span><br><span class="line">    <span class="keyword">return</span> self.isMatch(s, p[<span class="number">2</span>:]) <span class="keyword">or</span> f <span class="keyword">and</span> self.isMatch(s[<span class="number">1</span>:], p)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">return</span> f <span class="keyword">and</span> self.isMatch(s[<span class="number">1</span>:], p[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë"><a href="#„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë" class="headerlink" title="„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë"></a>„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ËôöÊãüËäÇÁÇπÁî®‰ª•ËøûÊé•Êüê‰∏ÄÁâπÂæÅÁöÑÂÖ®ÈÉ®ËäÇÁÇπÔºåÁ±ª‰ºº‰∫éÈìæË°®ÁöÑpreHead</span></span><br><span class="line">dummy</span><br><span class="line">parent = &#123;&#125;</span><br><span class="line">size = collections.defaultdict(<span class="keyword">lambda</span>:<span class="number">1</span>)</span><br><span class="line">cnt = <span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(x)</span>:</span></span><br><span class="line">    parent.setdefault(x,x)</span><br><span class="line">    <span class="keyword">while</span> x != parent[x]:</span><br><span class="line">        x = parent[x]</span><br><span class="line">        <span class="comment">#Ë∑ØÂæÑÂéãÁº© parent[x] = parent[parent[x]];</span></span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(x,y)</span>:</span></span><br><span class="line">    <span class="keyword">nonlocal</span> cnt</span><br><span class="line">    <span class="keyword">if</span> connected(x,y): <span class="keyword">return</span></span><br><span class="line">    <span class="comment"># Â∞èÁöÑÊ†ëÊåÇÂà∞Â§ßÁöÑÊ†ë‰∏äÔºå ‰ΩøÊ†ëÂ∞ΩÈáèÂπ≥Ë°°</span></span><br><span class="line">    xP = find(x)</span><br><span class="line">    yP = find(y)</span><br><span class="line">    <span class="keyword">if</span> size[hP] &lt; size[yP]:</span><br><span class="line">        parent[xP] = yP</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        parent[yP] = xP</span><br><span class="line">    size[xP] += size[yP]</span><br><span class="line">    <span class="comment"># ‰ºòÂåñÁªìÊùü</span></span><br><span class="line">    parent[find(x)] = find(y)</span><br><span class="line">    <span class="comment"># ‰∏ç‰ºòÂåñ</span></span><br><span class="line">    cnt -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> size[xP]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connected</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> find(x) == find(y)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self,x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> parent:</span><br><span class="line">        parent[x] = <span class="literal">None</span></span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line"><span class="comment"># Ê£ÄÊü•ÊòØÂê¶ÊúâÁéØ</span></span><br><span class="line"><span class="keyword">for</span> a, b <span class="keyword">in</span> edges:</span><br><span class="line">    <span class="keyword">if</span> connected(a, b):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    union(a, b)</span><br><span class="line"><span class="comment"># Â∞ÜÊØè‰∏™ÈõÜÂêàÁªÑÊàê‰ª•Â§¥‰∏∫keyÁöÑÂ≠óÂÖ∏</span></span><br><span class="line">res = collections.defaultdict(list)</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> e2n:</span><br><span class="line">    res[uf.find(e)].append(e)</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë"><a href="#„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë" class="headerlink" title="„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë"></a>„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># „ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë</span></span><br><span class="line">ins = [<span class="number">0</span>] * n</span><br><span class="line">ous = collections.defaultdict(list)</span><br><span class="line"><span class="keyword">for</span> cur, pre <span class="keyword">in</span> ps:</span><br><span class="line">    ins[cur] += <span class="number">1</span>  			<span class="comment">#ÂÖ•Â∫¶</span></span><br><span class="line">    ous[pre].append(cur)	<span class="comment">#Âá∫Â∫¶</span></span><br><span class="line">res = list(filter(<span class="keyword">lambda</span> x:ins[x]==<span class="number">0</span>, range(n)))</span><br><span class="line">q = collections.deque(res)</span><br><span class="line"><span class="keyword">while</span> q:</span><br><span class="line">    pre = q.popleft()</span><br><span class="line">    <span class="keyword">for</span> cur <span class="keyword">in</span> ous[pre]:   <span class="comment">#ÈáäÊîæÂá∫Â∫¶ÈòüÂàó</span></span><br><span class="line">        ins[cur] -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ins[cur]:</span><br><span class="line">            q.append(cur)  <span class="comment">#ÂÖ•Â∫¶‰∏∫0Ëß£ÈîÅ</span></span><br><span class="line">            res.append(cur)</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë"><a href="#„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë" class="headerlink" title="„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë"></a><strong>„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># s‰∏≠‰∏ÄËà¨Â≠òÁ¥¢Âºï</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(ns):</span><br><span class="line">    <span class="keyword">while</span> stack <span class="keyword">and</span> ns[stack[<span class="number">-1</span>]] &lt;= ns[i]: <span class="comment"># ÂçïË∞ÉÈÄíÂáèÊ†à</span></span><br><span class="line">        stack.pop()</span><br><span class="line">    <span class="comment"># ‰∏öÂä°ÈÄªËæë</span></span><br><span class="line">    stack.append(i)</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>ÂçïË∞ÉÈÄíÂ¢û</strong>„ÄçÁ¨¨ <strong>84</strong> È¢ò Ê±ÇÊúÄÂ§ßÁü©ÂΩ¢</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¨¨ **84** È¢ò Ê±ÇÊúÄÂ§ßÁü©ÂΩ¢</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(hs)):</span><br><span class="line">    <span class="keyword">while</span> s <span class="keyword">and</span> hs[i] &lt; hs[s[<span class="number">-1</span>]]:</span><br><span class="line">        base = s.pop()</span><br><span class="line">        <span class="keyword">if</span> s:</span><br><span class="line">            H = hs[base]</span><br><span class="line">            W = i - s[<span class="number">-1</span>] - <span class="number">1</span> <span class="comment"># ÂΩìÂâçÂºπÂá∫ÁöÑÂÅöÈ´òÔºåÂΩìÂâç‰∏éÊ¨°Â∞èÂÅöÂÆΩ</span></span><br><span class="line">            res = max(res, H * W)</span><br><span class="line">    s.append(i)</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>ÂçïË∞ÉÈÄíÂ¢û,ËÄÉËôëÂâ©‰Ωô</strong>„ÄçÁ¨¨ <strong>316</strong> È¢ò ÂéªÈô§ÈáçÂ§çÂ≠óÁ¨¶</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¨¨ **316** È¢ò ÂéªÈô§ÈáçÂ§çÂ≠óÁ¨¶</span></span><br><span class="line"><span class="keyword">for</span> i,c <span class="keyword">in</span> enumerate(ss):</span><br><span class="line">    <span class="keyword">if</span> c <span class="keyword">not</span> <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">while</span> s <span class="keyword">and</span> c &lt; s[<span class="number">-1</span>] <span class="keyword">and</span> s[<span class="number">-1</span>] <span class="keyword">in</span> ss[i:]:</span><br><span class="line">            s.pop()</span><br><span class="line">        s.append(c)</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>ÂçïË∞ÉÈÄíÂáè</strong>„ÄçÁ¨¨ <strong>42</strong> È¢ò Êé•Èõ®Ê∞¥</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¨¨ **42** È¢ò Êé•Èõ®Ê∞¥</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(hgt)):</span><br><span class="line">    <span class="keyword">while</span> stack <span class="keyword">and</span> hgt[i] &gt; hgt[stack[<span class="number">-1</span>]]: <span class="comment">#ÈÄíÂáèÊ†à</span></span><br><span class="line">        base = stack.pop()</span><br><span class="line">        <span class="keyword">if</span> stack:</span><br><span class="line">            LH = hgt[stack[<span class="number">-1</span>]]</span><br><span class="line">            W = i - stack[<span class="number">-1</span>] - <span class="number">1</span></span><br><span class="line">            H = min(LH,hgt[i]) - hgt[base]</span><br><span class="line">            res += W * H</span><br><span class="line">    stack.append(i)</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>ÂçïË∞ÉÈÄíÂáè</strong>„ÄçÁ¨¨ <strong>739</strong> È¢ò ÊØèÊó•Ê∏©Â∫¶</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¨¨ **739** È¢ò ÊØèÊó•Ê∏©Â∫¶</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(T)<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">    <span class="keyword">while</span> s <span class="keyword">and</span> T[s[<span class="number">-1</span>]] &lt;= T[i] :   <span class="comment">#ÈÄíÂáèÊ†à</span></span><br><span class="line">        s.pop()</span><br><span class="line">    res[i] = s[<span class="number">-1</span>] - i <span class="keyword">if</span> s <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">    s.append(i)</span><br></pre></td></tr></table></figure>
<h3 id="„Äê‰∫åÂàÜÊ®°Êùø„Äë"><a href="#„Äê‰∫åÂàÜÊ®°Êùø„Äë" class="headerlink" title="„Äê‰∫åÂàÜÊ®°Êùø„Äë"></a>„Äê‰∫åÂàÜÊ®°Êùø„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1355579 T=5 =&gt; 13(5)55579 ËøîÂõû2</span></span><br><span class="line"><span class="comment"># ps[i-1] &lt; ps[i] &lt;= ps[i+1]</span></span><br><span class="line">bisect.bisect_left(ps, T, L=<span class="number">0</span>, R=len(ns))  </span><br><span class="line"><span class="comment"># 1355579 T=5 =&gt; 13555(5)79 ËøîÂõû5</span></span><br><span class="line"><span class="comment"># ps[i-1] &lt;= ps[i] &lt; ps[i+1]</span></span><br><span class="line">bisect.bisect_right(ps, T, L=<span class="number">0</span>, R=len(ns))  </span><br><span class="line">bisect.bisect(ps, T, L=<span class="number">0</span>, R=len(ns))</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>‰∏≠‰ΩçËøîÂõû</strong>„ÄçÁ¨¨ <strong>33</strong> È¢ò ÊêúÁ¥¢ÊóãËΩ¨ÊéíÂ∫èÊï∞ÁªÑ | Á¨¨<strong>374</strong>È¢ò ÁåúÊï∞Â≠óÂ§ßÂ∞è | Á¨¨<strong>69</strong>È¢ò  xÂπ≥ÊñπÊ†π</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ‰∏≠‰ΩçËøîÂõû</span></span><br><span class="line"><span class="keyword">while</span> L &lt;= R:</span><br><span class="line">    M = (L + R) // <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> nums[M] == T:</span><br><span class="line">        <span class="keyword">return</span> M</span><br><span class="line">    <span class="keyword">elif</span> nums[M] &lt; T:</span><br><span class="line">        L = M + <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        R = M - <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>„Äå<strong>Âå∫ÂüüÂéãÁº©</strong>„ÄçÁ¨¨<strong>278</strong>È¢ò Á¨¨‰∏Ä‰∏™ÈîôËØØÁâàÊú¨| Á¨¨<strong>162</strong>È¢ò ÂØªÊâæÂ≥∞ÂÄº | Á¨¨<strong>153</strong>È¢ò ÂØªÊâæÊï∞ÁªÑÊúÄÂ∞èÂÄº</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Âå∫ÂüüÂéãÁº©</span></span><br><span class="line"><span class="keyword">while</span> L &lt; R:</span><br><span class="line">    M = (L + R) // <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> need <span class="keyword">in</span> s[L:M]:</span><br><span class="line">        R = M</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        L = M + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë"><a href="#„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë" class="headerlink" title="„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë"></a>„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë</h3><h4 id="„ÄåÂçï‰∏≤ÈóÆÈ¢ò„Äç"><a href="#„ÄåÂçï‰∏≤ÈóÆÈ¢ò„Äç" class="headerlink" title="„ÄåÂçï‰∏≤ÈóÆÈ¢ò„Äç"></a>„Äå<strong>Âçï‰∏≤ÈóÆÈ¢ò</strong>„Äç</h4><ul>
<li>70 Áà¨Ê•ºÊ¢ØÈóÆÈ¢ò</li>
<li>801 ‰ΩøÂ∫èÂàóÈÄíÂ¢ûÁöÑÊúÄÂ∞è‰∫§Êç¢Ê¨°Êï∞</li>
<li>746 ‰ΩøÁî®ÊúÄÂ∞èËä±Ë¥πÁà¨Ê•ºÊ¢Ø</li>
<li>300 ÊúÄÈïø‰∏äÂçáÂ≠êÂ∫èÂàó</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ‰æùËµñÂâçÂçï‰∏™ÂÖÉÁ¥†</span></span><br><span class="line">dp[i] = dp[i<span class="number">-1</span>] + ns[i]</span><br><span class="line"><span class="comment"># ‰æùËµñÂâçÈÉ®Âå∫ÂüüÂÖÉÁ¥†</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i)</span><br><span class="line">        dp[i] = min(dp[i], f(dp[j])</span><br></pre></td></tr></table></figure>
<h4 id="„ÄåÂçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò„Äç"><a href="#„ÄåÂçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò„Äç" class="headerlink" title="„ÄåÂçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò„Äç"></a>„Äå<strong>Âçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò</strong>„Äç</h4><ul>
<li><p>887 È∏°ËõãÊéâËêΩ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># È∏°ËõãÊéâËêΩ</span></span><br><span class="line"><span class="keyword">while</span> cur[K] &lt; N:             <span class="comment"># ËøòÂâ© j ‰∏™Ëõã Êµã ans Ê¨° Ë¶ÜÁõñÂ§öÂ∞ëÂ±Ç</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, K + <span class="number">1</span>): <span class="comment"># Ë¶ÜÁõñÊÄªÂ±ÇÊï∞ Á¢é‰∫Ü -1 Ê¨°Â±ÇÊï∞ + 1 + Ê≤°Á¢é -1 Ê¨°Â±ÇÊï∞</span></span><br><span class="line">        cur[j] = prev[j - <span class="number">1</span>] + <span class="number">1</span> + prev[j]</span><br><span class="line">    ans += <span class="number">1</span></span><br><span class="line">    prev = copy.deepcopy(cur)</span><br></pre></td></tr></table></figure>
</li>
<li><p>813 ÊúÄÂ§ßÂπ≥ÂùáÂÄºÂàÜÁªÑ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 813 ÊúÄÂ§ßÂπ≥ÂùáÂÄºÂàÜÁªÑ</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(K<span class="number">-1</span>):            <span class="comment">#Âæ™ÁéØkÊ¨°</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(N):          <span class="comment">#ÊØèÊ¨°Âùá‰æùËµñ‰∏äÊ¨°ÁöÑÁªìÊûú</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, N):</span><br><span class="line">            dp[i] = max(dp[i], avrg(i, j) + dp[j])</span><br></pre></td></tr></table></figure>
</li>
<li><p>410 ÂàÜÂâ≤Êï∞ÁªÑÊúÄÂ§ßÂÄº</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 410 ÂàÜÂâ≤Êï∞ÁªÑÊúÄÂ§ßÂÄº</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">1</span>,K):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(N):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i):</span><br><span class="line">            <span class="comment"># 0~i‰∏≠ÂàÜ k ÊÆµÊúÄÂ§ß Âç≥‰∏∫</span></span><br><span class="line">            <span class="comment"># 0~j‰∏≠ÂàÜk-1ÊÆµÊúÄÂ§ß Âíå jÂà∞iÁöÑÂâçÁºÄÂíåÁöÑÊúÄÂ§ß</span></span><br><span class="line">            dp[i][k] = min(dp[i][k], max(dp[j][k<span class="number">-1</span>], ps[i+<span class="number">1</span>] - ps[j+<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="„ÄåÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò„Äç"><a href="#„ÄåÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò„Äç" class="headerlink" title="„ÄåÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò„Äç"></a>„Äå<strong>ÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò</strong>„Äç</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò</span></span><br><span class="line">dp = [[<span class="number">0</span>] * (M+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(N+<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(N):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(M):</span><br><span class="line">        <span class="keyword">if</span> t1[i] == t2[j] : dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i][j] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span> : dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = max(dp[i][j+<span class="number">1</span>],dp[i+<span class="number">1</span>][j])</span><br></pre></td></tr></table></figure>
<h4 id="„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç"><a href="#„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç" class="headerlink" title="„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç"></a>„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç</h4><ul>
<li>5 ÊúÄÈïøÂõûÊñáÂ≠ê‰∏≤</li>
<li>647 ÊúÄÂ§öÂõûÊñáÂ≠ê‰∏≤</li>
<li>516 ÊúÄÈïøÂõûÊñáÂ≠êÂ∫èÂàó</li>
<li>1312 ÊúÄÈïøÂõûÊñáÊèíÂÖ•Ê¨°Êï∞</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dp[i][j] ‰ª£Ë°®‰ªé i Âà∞ j ÁöÑÊúÄÈïøÂ≠ê‰∏≤Êª°Ë∂≥Êù°‰ª∂ÁöÑÊï∞Èáè</span></span><br><span class="line"><span class="comment"># i-- &lt; j++  ==&gt; i Âú® 0~j ËåÉÂõ¥ÂÜÖ --</span></span><br><span class="line">dp = [[<span class="number">0</span>] * (N) <span class="keyword">for</span> _ <span class="keyword">in</span> range(N)]</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(N):</span><br><span class="line">    dp[j][j] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(j<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">        <span class="keyword">if</span> ss[i] == ss[j]:</span><br><span class="line">            dp[i][j] = dp[i+<span class="number">1</span>][j<span class="number">-1</span>] +<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            dp[i][j] = max(dp[i+<span class="number">1</span>][j],dp[i][j<span class="number">-1</span>])</span><br></pre></td></tr></table></figure>
<h4 id="„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç"><a href="#„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç" class="headerlink" title="„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç"></a><strong>„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç</strong></h4><p><a href="https://leetcode-cn.com/problems/predict-the-winner/" target="_blank" rel="noopener">486 È¢ÑÊµãËµ¢ÂÆ∂</a></p>
<p><a href="***https://leetcode-cn.com/problems/burst-balloons/***">312 Êà≥Ê∞îÁêÉ</a></p>
<p><a href="***https://leetcode-cn.com/problems/strange-printer/***">664 Â•áÊÄ™ÁöÑÊâìÂç∞Êú∫</a></p>
<p><a href="***https://leetcode-cn.com/problems/remove-boxes/***">546 ÁßªÈô§ÁõíÂ≠ê</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Âå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, ns: List[int])</span> :</span></span><br><span class="line">    N = len(ns)</span><br><span class="line">    dp = [[<span class="number">0</span>] * N <span class="keyword">for</span> _ <span class="keyword">in</span> range(N+<span class="number">1</span>)]</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(N): <span class="comment"># ÈïøÂ∫¶‰ªéÂ∞èÂà∞Â§ß</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(N-l): <span class="comment"># ‰ª• i ‰∏∫ ÂºÄÂ§¥</span></span><br><span class="line">            j = i + l           <span class="comment"># ‰ª• j ‰∏∫ ÁªàÁÇπ</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(i,j): <span class="comment"># ‰ª• k ‰∏∫ÂàÜÂâ≤ÁÇπÔºåËøõË°åÂàÜÊ≤ª         </span></span><br><span class="line">                // Todo ‰∏öÂä°ÈÄªËæë</span><br></pre></td></tr></table></figure>
<p>„Äå<strong>Âç°ÁâπÂÖ∞Êï∞</strong>„Äç</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Âç°ÁâπÂÖ∞Êï∞</span></span><br><span class="line">g(n) = g(<span class="number">0</span>)*g(n<span class="number">-1</span>) + g(<span class="number">1</span>)*g(n<span class="number">-2</span>) ...g(n<span class="number">-1</span>)*g(<span class="number">0</span>)</span><br><span class="line">dp=[<span class="number">1</span>] + [<span class="number">0</span>] * n</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,i+<span class="number">1</span>):</span><br><span class="line">        dp[i] += dp[j<span class="number">-1</span>] * dp[i-j]</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÊªëÂä®Á™óÂè£„Äë"><a href="#„ÄêÊªëÂä®Á™óÂè£„Äë" class="headerlink" title="„ÄêÊªëÂä®Á™óÂè£„Äë"></a>„ÄêÊªëÂä®Á™óÂè£„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""ÁªôÂÆöÂæÖÊü•‰∏≤sÂíåÁõÆÊ†á‰∏≤t"""</span></span><br><span class="line">nd, wd = &#123;&#125;, &#123;&#125;</span><br><span class="line">nd = collections.Counter(s1)</span><br><span class="line">L, R = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">cnt = <span class="number">0</span> <span class="comment"># Êª°Ë∂≥Êù°‰ª∂‰∏™Êï∞</span></span><br><span class="line"><span class="keyword">while</span> R &lt; len(s):        <span class="comment"># Á™óÂè£Âè≥ËæπÁïå‰∏çÊñ≠Êâ©Â§ßÔºåÊú¨Ë¥®ÊòØÊêúÁ¥¢ÈóÆÈ¢òÁöÑÂèØËÉΩËß£</span></span><br><span class="line">    c = s[R]      <span class="comment"># Âç≥Â∞ÜÂä†ÂÖ•Âà∞Á™óÂè£‰∏≠ÁöÑÂ≠óÁ¨¶</span></span><br><span class="line">    R += <span class="number">1</span></span><br><span class="line">    Êõ¥Êñ∞Á™óÂè£‰∏≠ÁöÑÊï∞ÊçÆ</span><br><span class="line">    <span class="keyword">while</span> Êª°Ë∂≥Á™óÂè£Êî∂Áº©Êù°‰ª∂Ôºö  <span class="comment"># Á™óÂè£ÁöÑÂ∑¶ËæπÁïåÊî∂Áº©ÔºåÊú¨Ë¥®ÊòØ‰ºòÂåñÂèØË°åËß£</span></span><br><span class="line">        ËÆ∞ÂΩïÊàñËøîÂõûÁªìÊûú</span><br><span class="line">        d = s[L]   <span class="comment"># Âç≥Â∞Ü‰ªéÁ™óÂè£‰∏≠Âà†Èô§ÁöÑÂ≠óÁ¨¶</span></span><br><span class="line">        L += <span class="number">1</span></span><br><span class="line">        Êõ¥Êñ∞Á™óÂè£‰∏≠ÁöÑÊï∞ÊçÆ</span><br><span class="line"><span class="keyword">return</span> ÁªìÊûú</span><br><span class="line"></span><br><span class="line"><span class="comment"># Âõ∫ÂÆöÁ™óÂè£ ,ÊØîÊªëÂä®Á™óÂè£Êõ¥Âø´‰∏Ä‰∫õ</span></span><br><span class="line">i = j = cnt = <span class="number">0</span>      </span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(A)):</span><br><span class="line">    <span class="keyword">if</span> A[j] == <span class="number">0</span>:</span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> cnt &gt; K: <span class="comment">#‰∏çÊª°Ë∂≥Êó∂ Âπ≥Áßª</span></span><br><span class="line">        <span class="keyword">if</span> A[i] == <span class="number">0</span>:</span><br><span class="line">            cnt -= <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> j - i + <span class="number">1</span>        </span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(A)):</span><br><span class="line">    <span class="keyword">if</span> A[j] == <span class="number">0</span>:</span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> cnt &gt; K:</span><br><span class="line">        <span class="keyword">if</span> A[i] == <span class="number">0</span>:</span><br><span class="line">            cnt -= <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    res = max(res, j - i + <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÂâçÁºÄÂíå„Äë"><a href="#„ÄêÂâçÁºÄÂíå„Äë" class="headerlink" title="„ÄêÂâçÁºÄÂíå„Äë"></a>„ÄêÂâçÁºÄÂíå„Äë</h3><p>„Äå<strong>Á¥ØÂä†ÂíåÂ≠ò‰ΩçÁΩÆ</strong>„Äç</p>
<p>1371 ÊúÄÈïøÂÅ∂Êï∞ÂÖÉÈü≥Â≠êÊï∞ÁªÑ</p>
<p>525 ÊúÄÈïøÁõ∏Á≠â01Â≠êÊï∞ÁªÑ</p>
<p>325 ÊúÄÈïøÂíå‰∏∫k Â≠êÊï∞ÁªÑ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÂâçÁºÄÂíåÂàùÂßãÂåñ</span></span><br><span class="line">psd = &#123;<span class="number">0</span>: <span class="number">-1</span>&#125;  </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">    t ^= cd.get(s[i], <span class="number">0</span>) <span class="comment"># ‰∏öÂä°ÈÄªËæë</span></span><br><span class="line">    <span class="keyword">if</span> t <span class="keyword">not</span> <span class="keyword">in</span> psd:</span><br><span class="line">        psd[t] = i       <span class="comment"># Á¨¨‰∏ÄÊ¨°Â≠òÂÖ•Êï∞ÁªÑ</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ans = max(ans, i - psd[t]) <span class="comment">#Â∑≤Â≠òÂÖ•ÂàôÂºÄÂßãËÆ°ÁÆó</span></span><br></pre></td></tr></table></figure>
<p>„Äå<strong>Á¥ØÂä†ÂíåÂ≠òÊï∞Èáè</strong>„Äç</p>
<p>560 Âíå‰∏∫KÁöÑÂ≠êÊï∞ÁªÑÊï∞Èáè</p>
<p> ÁªüËÆ°‰ºòÁæéÂ≠êÊï∞ÁªÑ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¥ØÂä†ÂíåÂ≠òÊï∞Èáè</span></span><br><span class="line">psd = &#123;<span class="number">0</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(ns)):</span><br><span class="line">    s += ns[i]</span><br><span class="line">    <span class="keyword">if</span> s - T <span class="keyword">in</span> psd:</span><br><span class="line">        ans += psd[s - T] <span class="comment"># Â≠òÊï∞Èáè</span></span><br><span class="line">    psd[s] = psd.get(s,<span class="number">0</span>) + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>„Äå<strong>Ê®°KÁä∂ÊÄÅÂâçÁºÄÂíå</strong>„Äç</p>
<p>523 ËøûÁª≠Âíå‰∏∫ k ÂÄç ÁöÑÂ≠êÊï∞ÁªÑÔºàÂ≠òÁ¥¢ÂºïÔºâ</p>
<p>974 ÂíåË¢´k Êï¥Èô§ Â≠êÊï∞ÁªÑÊï∞ÈáèÔºàÂ≠òÊï∞ÈáèÔºâ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ê®°KÁä∂ÊÄÅÂâçÁºÄÂíå</span></span><br><span class="line">psd = &#123;<span class="number">0</span>:<span class="number">-1</span>&#125;</span><br><span class="line">ans = s = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(ns)):</span><br><span class="line">    s += ns[i]				<span class="comment"># ‰∏öÂä°ÈÄªËæë</span></span><br><span class="line">    <span class="keyword">if</span> T != <span class="number">0</span>: s %= abs(T)	<span class="comment"># Ê®°kÁä∂ÊÄÅÂÅökeyÔºåÁ¥¢ÂºïÂÅöÂÄº</span></span><br><span class="line">    <span class="keyword">if</span> s <span class="keyword">not</span> <span class="keyword">in</span> psd:</span><br><span class="line">        psd[s] = i</span><br><span class="line">    <span class="keyword">elif</span> i - psd[s] &gt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p><strong>„ÄåÁü©ÈòµÂâçÁºÄÂíå„Äç</strong></p>
<ul>
<li>363 ‰∏çË∂ÖËøáKÁöÑÊúÄÂ§ßÊï∞ÂÄºÂíå</li>
<li>1074 Âíå‰∏∫ÁõÆÊ†áÂÄºÁöÑÂ≠êÁü©ÈòµÊï∞Èáè</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Áü©ÈòµÂâçÁºÄÂíå</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):        <span class="comment">#Âõ∫ÂÆöÂ∑¶ËæπÁïå</span></span><br><span class="line">    ps = [<span class="number">0</span>] * n</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i, m): <span class="comment">#Âõ∫ÂÆöÂè≥ËæπÁïå</span></span><br><span class="line">    	psS = <span class="number">0</span></span><br><span class="line">        dct = &#123;<span class="number">0</span>:<span class="number">1</span>&#125;       <span class="comment">#ÂàùÂßãÂè™Êúâ‰∏ÄÁßçÂèØËÉΩ</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(n): <span class="comment"># ‰ª•È´òÂÅöÂâçÁºÄÂíå</span></span><br><span class="line">            ps[k] += mtx[j][k]          <span class="comment"># ÊØèË°åÂâçÁºÄÂíå</span></span><br><span class="line">            psS += ps[k]                <span class="comment"># nË°åÂâçÁºÄÂíå</span></span><br><span class="line">            cnt += dct.get(psS - T, <span class="number">0</span>)  <span class="comment"># Êª°Ë∂≥Êù°‰ª∂cnt</span></span><br><span class="line">            dct[psS] = dct.get(psS,<span class="number">0</span>) + <span class="number">1</span> <span class="comment"># ‰øùÂ≠òÂΩìÂâçÁä∂ÊÄÅ</span></span><br><span class="line"><span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÂèåÊåáÈíà„Äë"><a href="#„ÄêÂèåÊåáÈíà„Äë" class="headerlink" title="„ÄêÂèåÊåáÈíà„Äë"></a>„ÄêÂèåÊåáÈíà„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÂèåÊåáÈíà</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeElement</span><span class="params">(self, ns: List[int], val: int)</span> -&gt; int:</span></span><br><span class="line">    slow = <span class="number">0</span></span><br><span class="line">    n = len(ns)</span><br><span class="line">    <span class="keyword">for</span> fast <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="keyword">if</span> ns[fast] != val:</span><br><span class="line">            ns[slow] = ns[fast]</span><br><span class="line">            slow += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> slow</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë"><a href="#„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë" class="headerlink" title="„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë"></a>„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë</h3><p>„Äå<strong>‰∫åÂèâÊ†ëÈÅçÂéÜÊ®°Êùø</strong>„Äç</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÈÄíÂΩí</span></span><br><span class="line"><span class="comment"># Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöO(n)Ôºån‰∏∫ËäÇÁÇπÊï∞ÔºåËÆøÈóÆÊØè‰∏™ËäÇÁÇπÊÅ∞Â•Ω‰∏ÄÊ¨°„ÄÇ</span></span><br><span class="line"><span class="comment"># Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöÁ©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(h)Ôºåh‰∏∫Ê†ëÁöÑÈ´òÂ∫¶„ÄÇÊúÄÂùèÊÉÖÂÜµ‰∏ãÈúÄË¶ÅÁ©∫Èó¥O(n)ÔºåÂπ≥ÂùáÊÉÖÂÜµ‰∏∫O(logn)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ÈÄíÂΩí1Ôºö‰∫åÂèâÊ†ëÈÅçÂéÜÊúÄÊòìÁêÜËß£ÂíåÂÆûÁé∞ÁâàÊú¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="comment"># ÂâçÂ∫èÈÄíÂΩí</span></span><br><span class="line">        <span class="keyword">return</span> [root.val] + self.preOrd(root.left) + self.preOrd(root.right)</span><br><span class="line">        <span class="comment"># # ‰∏≠Â∫èÈÄíÂΩí</span></span><br><span class="line">        <span class="comment"># return self.inOrd(root.left) + [root.val] + self.inOrd(root.right)</span></span><br><span class="line">        <span class="comment"># # ÂêéÂ∫èÈÄíÂΩí</span></span><br><span class="line">        <span class="comment"># return self.postOrd(root.left) + self.postOrd(root.right) + [root.val]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ÈÄíÂΩí2ÔºöÈÄöÁî®Ê®°ÊùøÔºåÂèØ‰ª•ÈÄÇÂ∫î‰∏çÂêåÁöÑÈ¢òÁõÆÔºåÊ∑ªÂä†ÂèÇÊï∞„ÄÅÂ¢ûÂä†ËøîÂõûÊù°‰ª∂„ÄÅ‰øÆÊîπËøõÂÖ•ÈÄíÂΩíÊù°‰ª∂„ÄÅËá™ÂÆö‰πâËøîÂõûÂÄº</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(cur)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> cur:</span><br><span class="line">                <span class="keyword">return</span>      </span><br><span class="line">            <span class="comment"># ÂâçÂ∫èÈÄíÂΩí</span></span><br><span class="line">            res.append(cur.val)</span><br><span class="line">            dfs(cur.left)</span><br><span class="line">            dfs(cur.right)</span><br><span class="line">            <span class="comment"># # ‰∏≠Â∫èÈÄíÂΩí</span></span><br><span class="line">            <span class="comment"># dfs(cur.left)</span></span><br><span class="line">            <span class="comment"># res.append(cur.val)</span></span><br><span class="line">            <span class="comment"># dfs(cur.right)</span></span><br><span class="line">            <span class="comment"># # ÂêéÂ∫èÈÄíÂΩí</span></span><br><span class="line">            <span class="comment"># dfs(cur.left)</span></span><br><span class="line">            <span class="comment"># dfs(cur.right)</span></span><br><span class="line">            <span class="comment"># res.append(cur.val)      </span></span><br><span class="line">        res = []</span><br><span class="line">        dfs(root)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëø≠‰ª£</span></span><br><span class="line"><span class="comment"># Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöO(n)Ôºån‰∏∫ËäÇÁÇπÊï∞ÔºåËÆøÈóÆÊØè‰∏™ËäÇÁÇπÊÅ∞Â•Ω‰∏ÄÊ¨°„ÄÇ</span></span><br><span class="line"><span class="comment"># Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(h)Ôºåh‰∏∫Ê†ëÁöÑÈ´òÂ∫¶„ÄÇÂèñÂÜ≥‰∫éÊ†ëÁöÑÁªìÊûÑÔºåÊúÄÂùèÊÉÖÂÜµÂ≠òÂÇ®Êï¥Ê£µÊ†ëÔºåÂç≥O(n)</span></span><br><span class="line"><span class="comment"># Ëø≠‰ª£1ÔºöÂâçÂ∫èÈÅçÂéÜÊúÄÂ∏∏Áî®Ê®°ÊùøÔºàÂêéÂ∫èÂêåÊ†∑ÂèØ‰ª•Áî®Ôºâ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []        </span><br><span class="line">        res = []</span><br><span class="line">        stack = [root]</span><br><span class="line">        <span class="comment"># # ÂâçÂ∫èËø≠‰ª£Ê®°ÊùøÔºöÊúÄÂ∏∏Áî®ÁöÑ‰∫åÂèâÊ†ëDFSËø≠‰ª£ÈÅçÂéÜÊ®°Êùø</span></span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            cur = stack.pop()</span><br><span class="line">            res.append(cur.val)</span><br><span class="line">            <span class="keyword">if</span> cur.right:</span><br><span class="line">                stack.append(cur.right)</span><br><span class="line">            <span class="keyword">if</span> cur.left:</span><br><span class="line">                stack.append(cur.left)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="comment"># # ÂêéÂ∫èËø≠‰ª£ÔºåÁõ∏ÂêåÊ®°ÊùøÔºöÂ∞ÜÂâçÂ∫èËø≠‰ª£ËøõÊ†àÈ°∫Â∫èÁ®ç‰Ωú‰øÆÊîπÔºåÊúÄÂêéÂæóÂà∞ÁöÑÁªìÊûúÂèçËΩ¨</span></span><br><span class="line">        <span class="comment"># while stack:</span></span><br><span class="line">        <span class="comment">#     cur = stack.pop()</span></span><br><span class="line">        <span class="comment">#     if cur.left:</span></span><br><span class="line">        <span class="comment">#         stack.append(cur.left)</span></span><br><span class="line">        <span class="comment">#     if cur.right:</span></span><br><span class="line">        <span class="comment">#         stack.append(cur.right)</span></span><br><span class="line">        <span class="comment">#     res.append(cur.val)</span></span><br><span class="line">        <span class="comment"># return res[::-1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëø≠‰ª£1ÔºöÂ±ÇÂ∫èÈÅçÂéÜÊúÄÂ∏∏Áî®Ê®°Êùø</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">levelOrder</span><span class="params">(self, root: TreeNode)</span> -&gt; List[List[int]]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        q = deque([root])</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">while</span> q :</span><br><span class="line">            l = []</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(len(q)) :</span><br><span class="line">                t = q.popleft()</span><br><span class="line">                l.append(t.val)</span><br><span class="line">                <span class="keyword">if</span> t.left : q.append(t.left)</span><br><span class="line">                <span class="keyword">if</span> t.right : q.append(t.right)</span><br><span class="line">            res.append(l)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëø≠‰ª£2ÔºöÂâç„ÄÅ‰∏≠„ÄÅÂêéÂ∫èÈÅçÂéÜÈÄöÁî®Ê®°ÊùøÔºàÂè™ÈúÄ‰∏Ä‰∏™Ê†àÁöÑÁ©∫Èó¥Ôºâ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line">        stack = []</span><br><span class="line">        cur = root</span><br><span class="line">        <span class="comment"># ‰∏≠Â∫èÔºåÊ®°ÊùøÔºöÂÖàÁî®ÊåáÈíàÊâæÂà∞ÊØèÈ¢óÂ≠êÊ†ëÁöÑÊúÄÂ∑¶‰∏ãËßíÔºåÁÑ∂ÂêéËøõË°åËøõÂá∫Ê†àÊìç‰Ωú</span></span><br><span class="line">        <span class="keyword">while</span> stack <span class="keyword">or</span> cur:</span><br><span class="line">            <span class="keyword">while</span> cur:</span><br><span class="line">                stack.append(cur)</span><br><span class="line">                cur = cur.left</span><br><span class="line">            cur = stack.pop()</span><br><span class="line">            res.append(cur.val)</span><br><span class="line">            cur = cur.right</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="comment"># # ÂâçÂ∫èÔºåÁõ∏ÂêåÊ®°Êùø</span></span><br><span class="line">        <span class="comment"># while stack or cur:</span></span><br><span class="line">        <span class="comment">#     while cur:</span></span><br><span class="line">        <span class="comment">#         res.append(cur.val)</span></span><br><span class="line">        <span class="comment">#         stack.append(cur)</span></span><br><span class="line">        <span class="comment">#         cur = cur.left</span></span><br><span class="line">        <span class="comment">#     cur = stack.pop()</span></span><br><span class="line">        <span class="comment">#     cur = cur.right</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># # ÂêéÂ∫èÔºåÁõ∏ÂêåÊ®°Êùø</span></span><br><span class="line">        <span class="comment"># while stack or cur:</span></span><br><span class="line">        <span class="comment">#     while cur:</span></span><br><span class="line">        <span class="comment">#         res.append(cur.val)</span></span><br><span class="line">        <span class="comment">#         stack.append(cur)</span></span><br><span class="line">        <span class="comment">#         cur = cur.right</span></span><br><span class="line">        <span class="comment">#     cur = stack.pop()</span></span><br><span class="line">        <span class="comment">#     cur = cur.left</span></span><br><span class="line">        <span class="comment"># return res[::-1]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëø≠‰ª£3ÔºöÊ†áËÆ∞Ê≥ïËø≠‰ª£ÔºàÈúÄË¶ÅÂèåÂÄçÁöÑÁ©∫Èó¥Êù•Â≠òÂÇ®ËÆøÈóÆÁä∂ÊÄÅÔºâÔºö</span></span><br><span class="line"><span class="comment"># Ââç„ÄÅ‰∏≠„ÄÅÂêé„ÄÅÂ±ÇÂ∫èÈÄöÁî®Ê®°ÊùøÔºåÂè™ÈúÄÊîπÂèòËøõÊ†àÈ°∫Â∫èÊàñÂç≥ÂèØÂÆûÁé∞ÂâçÂêé‰∏≠Â∫èÈÅçÂéÜÔºå</span></span><br><span class="line"><span class="comment"># ËÄåÂ±ÇÂ∫èÈÅçÂéÜÂàô‰ΩøÁî®ÈòüÂàóÂÖàËøõÂÖàÂá∫„ÄÇ0Ë°®Á§∫ÂΩìÂâçÊú™ËÆøÈóÆÔºå1Ë°®Á§∫Â∑≤ËÆøÈóÆ„ÄÇ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line">        stack = [(<span class="number">0</span>, root)]</span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            flag, cur = stack.pop()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> cur: <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> flag == <span class="number">0</span>:</span><br><span class="line">                <span class="comment"># ÂâçÂ∫èÔºåÊ†áËÆ∞Ê≥ï</span></span><br><span class="line">                stack.append((<span class="number">0</span>, cur.right))</span><br><span class="line">                stack.append((<span class="number">0</span>, cur.left))</span><br><span class="line">                stack.append((<span class="number">1</span>, cur))</span><br><span class="line"></span><br><span class="line">                <span class="comment"># # ÂêéÂ∫èÔºåÊ†áËÆ∞Ê≥ï</span></span><br><span class="line">                <span class="comment"># stack.append((1, cur))</span></span><br><span class="line">                <span class="comment"># stack.append((0, cur.right))</span></span><br><span class="line">                <span class="comment"># stack.append((0, cur.left))</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># # ‰∏≠Â∫èÔºåÊ†áËÆ∞Ê≥ï</span></span><br><span class="line">                <span class="comment"># stack.append((0, cur.right))</span></span><br><span class="line">                <span class="comment"># stack.append((1, cur))</span></span><br><span class="line">                <span class="comment"># stack.append((0, cur.left))  </span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res.append(cur.val)  </span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="comment"># # Â±ÇÂ∫èÔºåÊ†áËÆ∞Ê≥ï</span></span><br><span class="line">        <span class="comment"># res = []</span></span><br><span class="line">        <span class="comment"># queue = [(0, root)]</span></span><br><span class="line">        <span class="comment"># while queue:</span></span><br><span class="line">        <span class="comment">#     flag, cur = queue.pop(0)  # Ê≥®ÊÑèÊòØÈòüÂàóÔºåÂÖàËøõÂÖàÂá∫</span></span><br><span class="line">        <span class="comment">#     if not cur: continue</span></span><br><span class="line">        <span class="comment">#     if flag == 0:</span></span><br><span class="line">                  <span class="comment"># Â±ÇÂ∫èÈÅçÂéÜËøô‰∏â‰∏™ÁöÑÈ°∫Â∫èÊó†ÊâÄË∞ìÔºåÂõ†‰∏∫ÊòØÈòüÂàóÔºåÂè™ÂºπÂá∫ÈòüÈ¶ñÂÖÉÁ¥†</span></span><br><span class="line">        <span class="comment">#         queue.append((1, cur))</span></span><br><span class="line">        <span class="comment">#         queue.append((0, cur.left))</span></span><br><span class="line">        <span class="comment">#         queue.append((0, cur.right))</span></span><br><span class="line">        <span class="comment">#     else:</span></span><br><span class="line">        <span class="comment">#         res.append(cur.val)</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëé´ÈáåÊñØÈÅçÂéÜ</span></span><br><span class="line"><span class="comment"># Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöO(n)Ôºån‰∏∫ËäÇÁÇπÊï∞ÔºåÁúã‰ººË∂ÖËøáO(n)ÔºåÊúâÁöÑËäÇÁÇπÂèØËÉΩË¶ÅËÆøÈóÆ‰∏§Ê¨°ÔºåÂÆûÈôÖÂàÜÊûêËøòÊòØO(n)</span></span><br><span class="line"><span class="comment"># Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(1)ÔºåÂ¶ÇÊûúÂú®ÈÅçÂéÜËøáÁ®ã‰∏≠Â∞±ËæìÂá∫ËäÇÁÇπÂÄºÔºåÂàôÂè™ÈúÄÂ∏∏Êï∞Á©∫Èó¥Â∞±ËÉΩÂæóÂà∞‰∏≠Â∫èÈÅçÂéÜÁªìÊûúÔºåÁ©∫Èó¥Âè™ÈúÄ‰∏§‰∏™ÊåáÈíà„ÄÇ</span></span><br><span class="line"><span class="comment"># Â¶ÇÊûúÂ∞ÜÁªìÊûúÂÇ®Â≠òÊúÄÂêéËæìÂá∫ÔºåÂàôÁ©∫Èó¥Â§çÊùÇÂ∫¶ËøòÊòØO(n)„ÄÇ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># PSÔºöËé´ÈáåÊñØÈÅçÂéÜÂÆûÈôÖ‰∏äÊòØÂú®ÂéüÊúâ‰∫åÂèâÊ†ëÁöÑÁªìÊûÑÂü∫Á°Ä‰∏äÔºåÊûÑÈÄ†‰∫ÜÁ∫øÁ¥¢‰∫åÂèâÊ†ëÔºå</span></span><br><span class="line"><span class="comment"># Á∫øÁ¥¢‰∫åÂèâÊ†ëÂÆö‰πâ‰∏∫ÔºöÂéüÊú¨‰∏∫Á©∫ÁöÑÂè≥Â≠êËäÇÁÇπÊåáÂêë‰∫Ü‰∏≠Â∫èÈÅçÂéÜÈ°∫Â∫è‰πãÂêéÁöÑÈÇ£‰∏™ËäÇÁÇπÔºåÊääÊâÄÊúâÂéüÊú¨‰∏∫Á©∫ÁöÑÂ∑¶Â≠êËäÇÁÇπÈÉΩÊåáÂêë‰∫Ü‰∏≠Â∫èÈÅçÂéÜ‰πãÂâçÁöÑÈÇ£‰∏™ËäÇÁÇπ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ê≠§Â§ÑÂè™ÁªôÂá∫‰∏≠Â∫èÈÅçÂéÜÔºåÂâçÂ∫èÈÅçÂéÜÂè™ÈúÄ‰øÆÊîπËæìÂá∫È°∫Â∫èÂç≥ÂèØ</span></span><br><span class="line"><span class="comment"># ËÄåÂêéÂ∫èÈÅçÂéÜÔºåÁî±‰∫éÈÅçÂéÜÊòØ‰ªéÊ†πÂºÄÂßãÁöÑÔºåËÄåÁ∫øÁ¥¢‰∫åÂèâÊ†ëÊòØÂ∞Ü‰∏∫Á©∫ÁöÑÂ∑¶Âè≥Â≠êËäÇÁÇπËøûÊé•Âà∞Áõ∏Â∫îÁöÑÈ°∫Â∫è‰∏äÔºå‰ΩøÂÖ∂ËÉΩÂ§üÊåâÁÖßÁõ∏Â∫îÂáÜÂàôËæìÂá∫</span></span><br><span class="line"><span class="comment"># ‰ΩÜÊòØÂêéÂ∫èÈÅçÂéÜÁöÑÊ†πËäÇÁÇπÂç¥Â∑≤ÁªèÊ≤°ÊúâÈ¢ùÂ§ñÁöÑÁ©∫Èó¥Êù•Ê†áËÆ∞Ëá™Â∑±‰∏ã‰∏Ä‰∏™Â∫îËØ•ËÆøÈóÆÁöÑËäÇÁÇπÔºå</span></span><br><span class="line"><span class="comment"># ÊâÄ‰ª•ËøôÈáåÈúÄË¶ÅÂª∫Á´ã‰∏Ä‰∏™‰∏¥Êó∂ËäÇÁÇπdumpÔºå‰ª§ÂÖ∂Â∑¶Â≠©Â≠êÊòØroot„ÄÇÂπ∂‰∏îËøòÈúÄË¶Å‰∏Ä‰∏™Â≠êËøáÁ®ãÔºåÂ∞±ÊòØÂÄíÂ∫èËæìÂá∫Êüê‰∏§‰∏™ËäÇÁÇπ‰πãÈó¥Ë∑ØÂæÑ‰∏äÁöÑÂêÑ‰∏™ËäÇÁÇπ„ÄÇ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëé´ÈáåÊñØÈÅçÂéÜÔºåÂÄüÂä©Á∫øÁ¥¢‰∫åÂèâÊ†ë‰∏≠Â∫èÈÅçÂéÜÔºàÈôÑÂâçÂ∫èÈÅçÂéÜÔºâ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="comment"># cur = pre = TreeNode(None)</span></span><br><span class="line">        cur = root</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> cur.left:</span><br><span class="line">                res.append(cur.val)</span><br><span class="line">                <span class="comment"># print(cur.val)</span></span><br><span class="line">                cur = cur.right</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                pre = cur.left</span><br><span class="line">                <span class="keyword">while</span> pre.right <span class="keyword">and</span> pre.right != cur:</span><br><span class="line">                    pre = pre.right</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> pre.right:</span><br><span class="line">                    <span class="comment"># print(cur.val) ËøôÈáåÊòØÂâçÂ∫èÈÅçÂéÜÁöÑ‰ª£Á†ÅÔºåÂâçÂ∫è‰∏é‰∏≠Â∫èÁöÑÂîØ‰∏ÄÂ∑ÆÂà´</span></span><br><span class="line">                    pre.right = cur</span><br><span class="line">                    cur = cur.left</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    pre.right = <span class="literal">None</span></span><br><span class="line">                    res.append(cur.val)</span><br><span class="line">                    <span class="comment"># print(cur.val)</span></span><br><span class="line">                    cur = cur.right</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># NÂèâÊ†ëÈÅçÂéÜ</span></span><br><span class="line"><span class="comment"># Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºöO(M)ÔºåÂÖ∂‰∏≠ M ÊòØ N ÂèâÊ†ë‰∏≠ÁöÑËäÇÁÇπ‰∏™Êï∞„ÄÇÊØè‰∏™ËäÇÁÇπÂè™‰ºöÂÖ•Ê†àÂíåÂá∫Ê†àÂêÑ‰∏ÄÊ¨°„ÄÇ</span></span><br><span class="line"><span class="comment"># Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(M)„ÄÇÂú®ÊúÄÂùèÁöÑÊÉÖÂÜµ‰∏ãÔºåËøôÊ£µ N ÂèâÊ†ëÂè™Êúâ 2 Â±ÇÔºåÊâÄÊúâÁ¨¨ 2 Â±ÇÁöÑËäÇÁÇπÈÉΩÊòØÊ†πËäÇÁÇπÁöÑÂ≠©Â≠ê„ÄÇ</span></span><br><span class="line"><span class="comment"># Â∞ÜÊ†πËäÇÁÇπÊé®Âá∫Ê†àÂêéÔºåÈúÄË¶ÅÂ∞ÜËøô‰∫õËäÇÁÇπÈÉΩÊîæÂÖ•Ê†àÔºåÂÖ±Êúâ M‚àí1‰∏™ËäÇÁÇπÔºåÂõ†Ê≠§Ê†àÁöÑÂ§ßÂ∞è‰∏∫ O(M)„ÄÇ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># NÂèâÊ†ëÁÆÄÊ¥ÅÈÄíÂΩí</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorder</span><span class="params">(self, root: <span class="string">'Node'</span>)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> []</span><br><span class="line">        res = [root.val]</span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> root.children:</span><br><span class="line">            res.extend(self.preorder(node))</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># NÂèâÊ†ëÈÄöÁî®ÈÄíÂΩíÊ®°Êùø</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorder</span><span class="params">(self, root: <span class="string">'Node'</span>)</span> -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(root)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            res.append(root.val)</span><br><span class="line">            <span class="keyword">for</span> child <span class="keyword">in</span> root.children:</span><br><span class="line">                helper(child)</span><br><span class="line">        helper(root)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># NÂèâÊ†ëËø≠‰ª£ÊñπÊ≥ï</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorder</span><span class="params">(self, root: <span class="string">'Node'</span>)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        s = [root]</span><br><span class="line">        <span class="comment"># s.append(root)</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">while</span> s:</span><br><span class="line">            node = s.pop()</span><br><span class="line">            res.append(node.val)</span><br><span class="line">            <span class="comment"># for child in node.children[::-1]:</span></span><br><span class="line">            <span class="comment">#     s.append(child)</span></span><br><span class="line">            s.extend(node.children[::<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë"><a href="#„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë" class="headerlink" title="„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë"></a>„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># „Äå**Êó†ÂêëÂõæÁöÑÈÅçÂéÜ**„Äç</span></span><br><span class="line">q = collections.deque([i])</span><br><span class="line"><span class="keyword">while</span> q:</span><br><span class="line">    cur = q.popleft()</span><br><span class="line">    <span class="keyword">for</span> nxt <span class="keyword">in</span> dt[cur]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> vst[nxt]:</span><br><span class="line">            vstd[nxt] = <span class="literal">True</span></span><br><span class="line">            q.append(nxt)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># „Äå**‰∫åÂèâÊ†ëÂ±ÇÂ∫èÈÅçÂéÜ**„Äç</span></span><br><span class="line">q = deque([root])</span><br><span class="line">res = []</span><br><span class="line"><span class="keyword">while</span> q :</span><br><span class="line">    l = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(q)) :</span><br><span class="line">        t = q.popleft()</span><br><span class="line">        l.append(t.val)</span><br><span class="line">        <span class="keyword">if</span> t.left : q.append(t.left)</span><br><span class="line">        <span class="keyword">if</span> t.right : q.append(t.right)</span><br><span class="line">    res.append(l)</span><br><span class="line"><span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h3 id="„ÄêÂõæËÆ∫„Äë"><a href="#„ÄêÂõæËÆ∫„Äë" class="headerlink" title="„ÄêÂõæËÆ∫„Äë"></a>„ÄêÂõæËÆ∫„Äë</h3><hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#„ÄåDijkstraÊúÄÁü≠Ë∑ØÂæÑ„Äç</span></span><br><span class="line">dic = collections.defaultdict(list)</span><br><span class="line"><span class="keyword">for</span> u, v, w <span class="keyword">in</span> edges:</span><br><span class="line">    dic[u].append([v, w])</span><br><span class="line">    dic[v].append([u, w])</span><br><span class="line">q = [(<span class="number">0</span>, n)]</span><br><span class="line">dist = [<span class="number">-1</span>] * (n + <span class="number">1</span>)</span><br><span class="line"><span class="keyword">while</span> q:</span><br><span class="line">    dis, cur = heapq.heappop(q)</span><br><span class="line">    <span class="keyword">if</span> dist[cur] &lt; <span class="number">0</span>:</span><br><span class="line">        dist[cur] = dis</span><br><span class="line">        <span class="keyword">for</span> nxt, wi <span class="keyword">in</span> dic[cur]:</span><br><span class="line">            heapq.heappush(q, [dis + wi, nxt])</span><br></pre></td></tr></table></figure>
<p><strong>„ÄåFloyd Ê±ÇÂõæ‰∏≠Ë∑ØÂæÑ„Äç</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># FloydÁÆóÊ≥ï Ê±ÇÂõæ‰∏≠‰ªªÊÑè2ÁÇπË∑ùÁ¶ª</span></span><br><span class="line">ds = defaultdict(int)</span><br><span class="line">st = set()</span><br><span class="line"><span class="keyword">for</span> i, (x, y) <span class="keyword">in</span> enumerate(ess):</span><br><span class="line">    ds[(x, y)] = vs[i]</span><br><span class="line">    ds[(y, x)] = <span class="number">1</span> / vs[i]</span><br><span class="line">    st.update(&#123;x,y&#125;)</span><br><span class="line">arr = list(st)</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> arr:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> arr:</span><br><span class="line">            <span class="keyword">if</span> ds[(i, k)] <span class="keyword">and</span> ds[(k, j)]:</span><br><span class="line">                ds[(i, j)] = ds[(i, k)] * ds[(k, j)]</span><br></pre></td></tr></table></figure>
<h1 id="‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá"><a href="#‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá" class="headerlink" title="‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá"></a>‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá</h1><h3 id="1„ÄÅURLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ"><a href="#1„ÄÅURLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ" class="headerlink" title="1„ÄÅURLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ"></a><strong>1„ÄÅ</strong>URLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ</h3><p><strong>100‰∫øÈªëÂêçÂçïURLÔºåÊØè‰∏™64BÔºåÈóÆËøô‰∏™ÈªëÂêçÂçïË¶ÅÊÄé‰πàÂ≠òÔºüÂà§Êñ≠‰∏Ä‰∏™URLÊòØÂê¶Âú®ÈªëÂêçÂçï‰∏≠</strong></p>
<p>‚Äã    <strong>Êï£ÂàóË°®Ôºö</strong></p>
<p>‚Äã        Â¶ÇÊûúÊääÈªëÂêçÂçïÁúãÊàê‰∏Ä‰∏™ÈõÜÂêàÔºåÂ∞ÜÂÖ∂Â≠òÂú® hashmap ‰∏≠ÔºåË≤å‰ººÂ§™Â§ß‰∫ÜÔºåÈúÄË¶Å 640GÔºåÊòéÊòæ‰∏çÁßëÂ≠¶„ÄÇ</p>
<p>‚Äã    <strong>Â∏ÉÈöÜËøáÊª§Âô®Ôºö</strong></p>
<p>‚Äã        ÂÆÉÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ÂæàÈïøÁöÑ‰∫åËøõÂà∂Áü¢ÈáèÂíå‰∏ÄÁ≥ªÂàóÈöèÊú∫Êò†Â∞ÑÂáΩÊï∞„ÄÇ</p>
<p>‚Äã        ÂÆÉ<strong>ÂèØ‰ª•Áî®Êù•Âà§Êñ≠‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØÂê¶Âú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠</strong>„ÄÇÂÆÉÁöÑ‰ºòÂäøÊòØÂè™ÈúÄË¶ÅÂç†Áî®ÂæàÂ∞èÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰ª•ÂèäÊúâÁùÄÈ´òÊïàÁöÑÊü•ËØ¢ÊïàÁéá„ÄÇÂØπ‰∫éÂ∏ÉÈöÜËøáÊª§Âô®ËÄåË®ÄÔºåÂÆÉÁöÑÊú¨Ë¥®ÊòØ‰∏Ä‰∏™<strong>‰ΩçÊï∞ÁªÑ</strong>Ôºö‰ΩçÊï∞ÁªÑÂ∞±ÊòØÊï∞ÁªÑÁöÑÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÂè™Âç†Áî® 1 bit ÔºåÂπ∂‰∏îÊØè‰∏™ÂÖÉÁ¥†Âè™ËÉΩÊòØ 0 ÊàñËÄÖ 1„ÄÇ</p>
<p>‚Äã        Âú®Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏Ä‰ΩçÈÉΩÊòØ‰∫åËøõÂà∂‰Ωç„ÄÇÂ∏ÉÈöÜËøáÊª§Âô®Èô§‰∫Ü‰∏Ä‰∏™‰ΩçÊï∞ÁªÑÔºåËøòÊúâ K ‰∏™ÂìàÂ∏åÂáΩÊï∞„ÄÇÂΩì‰∏Ä‰∏™ÂÖÉÁ¥†Âä†ÂÖ•Â∏ÉÈöÜËøáÊª§Âô®‰∏≠ÁöÑÊó∂ÂÄôÔºå‰ºöËøõË°åÂ¶Ç‰∏ãÊìç‰ΩúÔºö</p>
<ul>
<li>‰ΩøÁî® K ‰∏™ÂìàÂ∏åÂáΩÊï∞ÂØπÂÖÉÁ¥†ÂÄºËøõË°å K Ê¨°ËÆ°ÁÆóÔºåÂæóÂà∞ K ‰∏™ÂìàÂ∏åÂÄº„ÄÇ</li>
<li>Ê†πÊçÆÂæóÂà∞ÁöÑÂìàÂ∏åÂÄºÔºåÂú®‰ΩçÊï∞ÁªÑ‰∏≠ÊääÂØπÂ∫î‰∏ãÊ†áÁöÑÂÄºÁΩÆ‰∏∫ 1„ÄÇ</li>
</ul>
<h3 id="2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ"><a href="#2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ" class="headerlink" title="2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ"></a>2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ</h3><p><strong>2GBÂÜÖÂ≠òÂú®20‰∫øÊï¥Êï∞‰∏≠ÊâæÂà∞Âá∫Áé∞Ê¨°Êï∞ÊúÄÂ§öÁöÑÊï∞</strong></p>
<p>‚Äã        ÈÄöÂ∏∏ÂÅöÊ≥ïÊòØ‰ΩøÁî®ÂìàÂ∏åË°®ÂØπÂá∫Áé∞ÁöÑÊØè‰∏Ä‰∏™Êï∞ÂÅöËØçÈ¢ëÁªüËÆ°ÔºåÂìàÂ∏åË°®ÁöÑkeyÊòØÊüê‰∏™Êï¥Êï∞ÔºåvalueËÆ∞ÂΩïÊï¥Êï∞Âá∫Áé∞ÁöÑÊ¨°Êï∞„ÄÇÊú¨È¢òÁöÑÊï∞ÊçÆÈáèÊòØ20‰∫øÔºåÊúâÂèØËÉΩ‰∏Ä‰∏™Êï∞Âá∫Áé∞20‰∫øÊ¨°ÔºåÂàô‰∏∫‰∫ÜÈÅøÂÖçÊ∫¢Âá∫ÔºåÂìàÂ∏åË°®ÁöÑkeyÊòØ32‰ΩçÔºà4BÔºâ,value‰πüÊòØ 32‰ΩçÔºà4BÔºâÔºåÈÇ£‰πà‰∏ÄÊù°ÂìàÂ∏åË°®ÁöÑËÆ∞ÂΩïÂ∞±ÈúÄË¶ÅÂç†Áî®8B„ÄÇ</p>
<p>‚Äã        ÂΩìÂìàÂ∏åË°®ËÆ∞ÂΩïÊï∞‰∏∫2‰∫ø‰∏™Êó∂ÔºåÈúÄË¶Å16‰∫ø‰∏™Â≠óËäÇÊï∞Ôºà8*2‰∫øÔºâÔºåÈúÄË¶ÅËá≥Â∞ë1.6GBÂÜÖÂ≠ò(16‰∫ø/2^30,1GB== 2 ^30‰∏™Â≠óËäÇ == 10‰∫ø)„ÄÇÂàô20‰∫ø‰∏™ËÆ∞ÂΩïÔºåËá≥Â∞ëÈúÄË¶Å16GBÁöÑÂÜÖÂ≠òÔºå‰∏çÁ¨¶ÂêàÈ¢òÁõÆË¶ÅÊ±Ç„ÄÇ</p>
<p>‚Äã        Ëß£ÂÜ≥ÂäûÊ≥ïÊòØÂ∞Ü20‰∫ø‰∏™Êï∞ÁöÑÂ§ßÊñá‰ª∂Âà©Áî®ÂìàÂ∏åÂáΩÊï∞ÂàÜÊàê16‰∏™Â∞èÊñá‰ª∂ÔºåÊ†πÊçÆÂìàÂ∏åÂáΩÊï∞ÂèØ‰ª•Êää20‰∫øÊù°Êï∞ÊçÆÂùáÂåÄÂàÜÂ∏ÉÂà∞16‰∏™Êñá‰ª∂‰∏äÔºåÂêå‰∏ÄÁßçÊï∞‰∏çÂèØËÉΩË¢´ÂìàÂ∏åÂáΩÊï∞ÂàÜÂà∞‰∏çÂêåÁöÑÂ∞èÊñá‰ª∂‰∏äÔºåÂÅáËÆæÂìàÂ∏åÂáΩÊï∞Â§üÂ•Ω„ÄÇÁÑ∂ÂêéÂØπÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂Áî®ÂìàÂ∏åÂáΩÊï∞Êù•ÁªüËÆ°ÂÖ∂‰∏≠ÊØèÁßçÊï∞Âá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂæóÂà∞16‰∏™Êñá‰ª∂‰∏≠Âá∫Áé∞Ê¨°Êï∞ÊúÄÂ§öÁöÑÊï∞ÔºåÊé•ÁùÄ‰ªé16‰∏™Êï∞‰∏≠ÈÄâÂá∫Ê¨°Êï∞ÊúÄÂ§ßÁöÑÈÇ£‰∏™keyÂç≥ÂèØ„ÄÇ</p>
<h3 id="3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞ÔºàbitÊï∞ÁªÑÔºâ"><a href="#3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞ÔºàbitÊï∞ÁªÑÔºâ" class="headerlink" title="3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞ÔºàbitÊï∞ÁªÑÔºâ"></a><strong>3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞</strong>ÔºàbitÊï∞ÁªÑÔºâ</h3><p><strong>40‰∫ø‰∏™ÈùûË¥üÊï¥Êï∞‰∏≠ÊâæÂà∞Ê≤°ÊúâÂá∫Áé∞ÁöÑÊï∞</strong></p>
<p>‚Äã        ÂØπ‰∫éÂéüÈóÆÈ¢òÔºåÂ¶ÇÊûú‰ΩøÁî®ÂìàÂ∏åË°®Êù•‰øùÂ≠òÂá∫Áé∞ËøáÁöÑÊï∞ÔºåÈÇ£‰πàÊúÄÂùèÊÉÖÂÜµ‰∏ãÊòØ40‰∫ø‰∏™Êï∞ÈÉΩ‰∏çÁõ∏ÂêåÔºåÈÇ£‰πàÂìàÂ∏åË°®ÂàôÈúÄË¶Å‰øùÂ≠ò40‰∫øÊù°Êï∞ÊçÆÔºå‰∏Ä‰∏™32‰ΩçÊï¥Êï∞ÈúÄË¶Å4BÔºåÈÇ£‰πà40‰∫ø*4B = 160‰∫ø‰∏™Â≠óËäÇÔºå‰∏ÄËà¨Â§ßÊ¶Ç10‰∫ø‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆÈúÄË¶Å1GÁöÑÁ©∫Èó¥ÔºåÈÇ£‰πàÂ§ßÊ¶ÇÈúÄË¶Å16GÁöÑÁ©∫Èó¥ÔºåËøô‰∏çÁ¨¶ÂêàË¶ÅÊ±Ç„ÄÇ</p>
<p>„ÄÄ„ÄÄÊàë‰ª¨Êç¢‰∏ÄÁßçÊñπÂºèÔºåÁî≥ËØ∑‰∏Ä‰∏™bitÊï∞ÁªÑÔºåÊï∞ÁªÑÂ§ßÂ∞è‰∏∫4294967295ÔºåÂ§ßÊ¶Ç‰∏∫40‰∫øbitÔºå40‰∫ø/8 = 5‰∫øÂ≠óËäÇÔºåÈÇ£‰πàÈúÄË¶Å0.5GÁ©∫Èó¥Ôºå bitÊï∞ÁªÑÁöÑÊØè‰∏™‰ΩçÁΩÆÊúâ‰∏§ÁßçÁä∂ÊÄÅ0Âíå1ÔºåÈÇ£‰πàÊÄé‰πà‰ΩøÁî®Ëøô‰∏™bitÊï∞ÁªÑÂë¢ÔºüÂëµÂëµÔºåÊï∞ÁªÑÁöÑÈïøÂ∫¶ÂàöÂ•ΩÊª°Ë∂≥Êàë‰ª¨Êï¥Êï∞ÁöÑ‰∏™Êï∞ËåÉÂõ¥ÔºåÈÇ£‰πàÊï∞ÁªÑÁöÑÊØè‰∏™‰∏ãÊ†áÂÄºÂØπÂ∫î4294967295‰∏≠ÁöÑ‰∏Ä‰∏™Êï∞ÔºåÈÄê‰∏™ÈÅçÂéÜ40‰∫ø‰∏™Êó†Á¨¶Âè∑Êï∞Ôºå‰æãÂ¶ÇÔºåÈÅáÂà∞20ÔºåÂàôbitArray[20] = 1ÔºõÈÅáÂà∞666ÔºåÂàôbitArray[666] = 1,ÈÅçÂéÜÂÆåÊâÄÊúâÁöÑÊï∞ÔºåÂ∞ÜÊï∞ÁªÑÁõ∏Â∫î‰ΩçÁΩÆÂèò‰∏∫1„ÄÇ</p>
<p><strong>40‰∫ø‰∏™ÈùûË¥üÊï¥Êï∞‰∏≠ÊâæÂà∞‰∏Ä‰∏™Ê≤°ÊúâÂá∫Áé∞ÁöÑÊï∞ÔºåÂÜÖÂ≠òÈôêÂà∂10MB</strong></p>
<p>‚Äã        10‰∫ø‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆÂ§ßÊ¶ÇÈúÄË¶Å1GBÁ©∫Èó¥Â§ÑÁêÜÔºåÈÇ£‰πà10MBÂÜÖÂ≠òÊç¢ÁÆóËøáÊù•Â∞±ÊòØÂèØ‰ª•Â§ÑÁêÜ1ÂçÉ‰∏áÂ≠óËäÇÁöÑÊï∞ÊçÆÔºå‰πüÂ∞±ÊòØ8ÂçÉ‰∏ábitÔºåÂØπ‰∫é40‰∫øÈùûË¥üÊï¥Êï∞Â¶ÇÊûúÁî≥ËØ∑bitÊï∞ÁªÑÁöÑËØùÔºå40‰∫øbit / 0.8‰∫øbit = 50ÔºåÈÇ£‰πàËøôÊ†∑ÊúÄÂ∞ë‰πüÂæóÂàÜ50ÂùóÊù•Â§ÑÁêÜÔºå‰∏ãÈù¢Â∞±‰ª•64ÂùóÊù•ËøõË°åÂàÜÊûêËß£Á≠îÂêß„ÄÇ</p>
<p><strong>ÊÄªÁªì‰∏Ä‰∏ãËøõÈò∂ÁöÑËß£Ê≥ïÔºö</strong></p>
<p>1ÔºéÊ†πÊçÆ10MBÁöÑÂÜÖÂ≠òÈôêÂà∂ÔºåÁ°ÆÂÆöÁªüËÆ°Âå∫Èó¥ÁöÑÂ§ßÂ∞èÔºåÂ∞±ÊòØÁ¨¨‰∫åÊ¨°ÈÅçÂéÜÊó∂ÁöÑbitArrÂ§ßÂ∞è„ÄÇ</p>
<p>2ÔºéÂà©Áî®Âå∫Èó¥ËÆ°Êï∞ÁöÑÊñπÂºèÔºåÊâæÂà∞ÈÇ£‰∏™ËÆ°Êï∞‰∏çË∂≥ÁöÑÂå∫Èó¥ÔºåËøô‰∏™Âå∫Èó¥‰∏äËÇØÂÆöÊúâÊ≤°Âá∫Áé∞ÁöÑÊï∞„ÄÇ</p>
<p>3ÔºéÂØπËøô‰∏™Âå∫Èó¥‰∏äÁöÑÊï∞ÂÅöbit mapÊò†Â∞ÑÔºåÂÜçÈÅçÂéÜbit mapÔºåÊâæÂà∞‰∏Ä‰∏™Ê≤°Âá∫Áé∞ÁöÑÊï∞Âç≥ÂèØ„ÄÇ</p>
<p><strong>Ëá™Â∑±ÁöÑÊÉ≥Ê≥ï</strong></p>
<p>Â¶ÇÊûúÂè™ÊòØÊâæ‰∏Ä‰∏™Êï∞ÔºåÂèØ‰ª•È´ò‰ΩçÊ®°ËøêÁÆóÔºåÂÜôÂà∞64‰∏™‰∏çÂêåÁöÑÊñá‰ª∂ÔºåÁÑ∂ÂêéÂú®ÊúÄÂ∞èÁöÑÊñá‰ª∂‰∏≠ÈÄöËøábitArray‰∏ÄÊ¨°Â§ÑÁêÜÊéâ„ÄÇ</p>
<p><strong>40‰∫ø‰∏™Êó†Á¨¶Âè∑Êï¥Êï∞Ôºå1GBÂÜÖÂ≠òÔºåÊâæÂà∞ÊâÄÊúâÂá∫Áé∞‰∏§Ê¨°ÁöÑÊï∞</strong></p>
<p>‚Äã        ÂØπ‰∫éÂéüÈóÆÈ¢òÔºåÂèØ‰ª•Áî®bit mapÁöÑÊñπÂºèÊù•Ë°®Á§∫Êï∞Âá∫Áé∞ÁöÑÊÉÖÂÜµ„ÄÇÂÖ∑‰ΩìÂú∞ËØ¥ÔºåÊòØÁî≥ËØ∑‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫4294967295√ó2ÁöÑbitÁ±ªÂûãÁöÑÊï∞ÁªÑbitArrÔºåÁî®2‰∏™‰ΩçÁΩÆË°®Á§∫‰∏Ä‰∏™Êï∞Âá∫Áé∞ÁöÑËØçÈ¢ëÔºå1BÂç†Áî®8‰∏™bitÔºåÊâÄ‰ª•ÈïøÂ∫¶‰∏∫4294967295√ó2ÁöÑbitÁ±ªÂûãÁöÑÊï∞ÁªÑÂç†Áî®1GBÁ©∫Èó¥„ÄÇÊÄé‰πà‰ΩøÁî®Ëøô‰∏™bitArrÊï∞ÁªÑÂë¢ÔºüÈÅçÂéÜËøô40‰∫ø‰∏™Êó†Á¨¶Âè∑Êï∞ÔºåÂ¶ÇÊûúÂàùÊ¨°ÈÅáÂà∞numÔºåÂ∞±ÊääbitArr[num<em>2 + 1]ÂíåbitArr[num</em>2]ËÆæÁΩÆ‰∏∫01ÔºåÂ¶ÇÊûúÁ¨¨‰∫åÊ¨°ÈÅáÂà∞numÔºåÂ∞±ÊääbitArr[num<em>2+1]ÂíåbitArr[num</em>2]ËÆæÁΩÆ‰∏∫10ÔºåÂ¶ÇÊûúÁ¨¨‰∏âÊ¨°ÈÅáÂà∞numÔºåÂ∞±ÊääbitArr[num<em>2+1]ÂíåbitArr[num</em>2]ËÆæÁΩÆ‰∏∫11„ÄÇ‰ª•ÂêéÂÜçÈÅáÂà∞numÔºåÂèëÁé∞Ê≠§Êó∂bitArr[num<em>2+1]ÂíåbitArr[num</em>2]Â∑≤ÁªèË¢´ËÆæÁΩÆ‰∏∫11ÔºåÂ∞±‰∏çÂÜçÂÅö‰ªª‰ΩïËÆæÁΩÆ„ÄÇÈÅçÂéÜÂÆåÊàêÂêéÔºåÂÜç‰æùÊ¨°ÈÅçÂéÜbitArrÔºåÂ¶ÇÊûúÂèëÁé∞bitArr[i<em>2+1]ÂíåbitArr[i</em>2]ËÆæÁΩÆ‰∏∫10ÔºåÈÇ£‰πài Â∞±ÊòØÂá∫Áé∞‰∫Ü‰∏§Ê¨°ÁöÑÊï∞„ÄÇ</p>
<h3 id="4„ÄÅÈáçÂ§çURLÔºàÂàÜÊú∫Âô®Ôºâ"><a href="#4„ÄÅÈáçÂ§çURLÔºàÂàÜÊú∫Âô®Ôºâ" class="headerlink" title="4„ÄÅÈáçÂ§çURLÔºàÂàÜÊú∫Âô®Ôºâ"></a><strong>4„ÄÅÈáçÂ§çURL</strong>ÔºàÂàÜÊú∫Âô®Ôºâ</h3><p><strong>ÊâæÂà∞100‰∫ø‰∏™URL‰∏≠ÈáçÂ§çÁöÑURL</strong></p>
<p>‚Äã        ÂéüÈóÆÈ¢òÁöÑËß£Ê≥ï‰ΩøÁî®Ëß£ÂÜ≥Â§ßÊï∞ÊçÆÈóÆÈ¢òÁöÑ‰∏ÄÁßçÂ∏∏ËßÑÊñπÊ≥ïÔºöÊääÂ§ßÊñá‰ª∂ÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÂàÜÈÖçÂà∞Êú∫Âô®ÔºåÊàñËÄÖÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÊääÂ§ßÊñá‰ª∂ÊãÜÊàêÂ∞èÊñá‰ª∂„ÄÇ‰∏ÄÁõ¥ËøõË°åËøôÁßçÂàíÂàÜÔºåÁõ¥Âà∞ÂàíÂàÜÁöÑÁªìÊûúÊª°Ë∂≥ËµÑÊ∫êÈôêÂà∂ÁöÑË¶ÅÊ±Ç„ÄÇÈ¶ñÂÖàÔºå‰Ω†Ë¶ÅÂêëÈù¢ËØïÂÆòËØ¢ÈóÆÂú®ËµÑÊ∫ê‰∏äÁöÑÈôêÂà∂ÊúâÂì™‰∫õÔºåÂåÖÊã¨ÂÜÖÂ≠ò„ÄÅËÆ°ÁÆóÊó∂Èó¥Á≠âË¶ÅÊ±Ç„ÄÇÂú®ÊòéÁ°Æ‰∫ÜÈôêÂà∂Ë¶ÅÊ±Ç‰πãÂêéÔºåÂèØ‰ª•Â∞ÜÊØèÊù°URLÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÂàÜÈÖçÂà∞Ëã•Âπ≤Êú∫Âô®ÊàñËÄÖÊãÜÂàÜÊàêËã•Âπ≤Â∞èÊñá‰ª∂ÔºåËøôÈáåÁöÑ‚ÄúËã•Âπ≤‚ÄùÁî±ÂÖ∑‰ΩìÁöÑËµÑÊ∫êÈôêÂà∂Êù•ËÆ°ÁÆóÂá∫Á≤æÁ°ÆÁöÑÊï∞Èáè„ÄÇ</p>
<p>‚Äã        ‰æãÂ¶ÇÔºåÂ∞Ü100‰∫øÂ≠óËäÇÁöÑÂ§ßÊñá‰ª∂ÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÂàÜÈÖçÂà∞100Âè∞Êú∫Âô®‰∏äÔºåÁÑ∂ÂêéÊØè‰∏ÄÂè∞Êú∫Âô®ÂàÜÂà´ÁªüËÆ°ÂàÜÁªôËá™Â∑±ÁöÑURL‰∏≠ÊòØÂê¶ÊúâÈáçÂ§çÁöÑURLÔºå<strong>ÂêåÊó∂ÂìàÂ∏åÂáΩÊï∞ÁöÑÊÄßË¥®ÂÜ≥ÂÆö‰∫ÜÂêå‰∏ÄÊù°URL‰∏çÂèØËÉΩÂàÜÁªô‰∏çÂêåÁöÑÊú∫Âô®Ôºõ</strong>ÊàñËÄÖÂú®ÂçïÊú∫‰∏äÂ∞ÜÂ§ßÊñá‰ª∂ÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÊãÜÊàê1000‰∏™Â∞èÊñá‰ª∂ÔºåÂØπÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂ÂÜçÂà©Áî®ÂìàÂ∏åË°®ÈÅçÂéÜÔºåÊâæÂá∫ÈáçÂ§çÁöÑURLÔºõÊàñËÄÖÂú®ÂàÜÁªôÊú∫Âô®ÊàñÊãÜÂÆåÊñá‰ª∂‰πãÂêéÔºåËøõË°åÊéíÂ∫èÔºåÊéíÂ∫èËøáÂêéÂÜçÁúãÊòØÂê¶ÊúâÈáçÂ§çÁöÑURLÂá∫Áé∞„ÄÇÊÄª‰πãÔºåÁâ¢ËÆ∞‰∏ÄÁÇπÔºåÂæàÂ§öÂ§ßÊï∞ÊçÆÈóÆÈ¢òÈÉΩÁ¶ª‰∏çÂºÄÂàÜÊµÅÔºåË¶Å‰πàÊòØÂìàÂ∏åÂáΩÊï∞ÊääÂ§ßÊñá‰ª∂ÁöÑÂÜÖÂÆπÂàÜÈÖçÁªô‰∏çÂêåÁöÑÊú∫Âô®ÔºåË¶Å‰πàÊòØÂìàÂ∏åÂáΩÊï∞ÊääÂ§ßÊñá‰ª∂ÊãÜÊàêÂ∞èÊñá‰ª∂ÔºåÁÑ∂ÂêéÂ§ÑÁêÜÊØè‰∏Ä‰∏™Â∞èÊï∞ÈáèÁöÑÈõÜÂêà„ÄÇ</p>
<h3 id="5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ"><a href="#5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ" class="headerlink" title="5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ"></a><strong>5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ</strong></h3><p><strong>Êµ∑ÈáèÊêúÁ¥¢ËØçÊ±áÔºåÊâæÂà∞ÊúÄÁÉ≠TOP100ËØçÊ±áÁöÑÊñπÊ≥ï</strong></p>
<p>‚Äã        ÊúÄÂºÄÂßãËøòÊòØÁî®ÂìàÂ∏åÂàÜÊµÅÁöÑÊÄùË∑ØÊù•Â§ÑÁêÜÔºåÊääÂåÖÂê´Áôæ‰∫øÊï∞ÊçÆÈáèÁöÑËØçÊ±áÊñá‰ª∂ÂàÜÊµÅÂà∞‰∏çÂêåÁöÑÊú∫Âô®‰∏äÔºåÂÖ∑‰ΩìÂ§öÂ∞ëÂè∞Êú∫Âô®Áî±Èù¢ËØïÂÆòËßÑÂÆöÊàñËÄÖÁî±Êõ¥Â§öÁöÑÈôêÂà∂Êù•ÂÜ≥ÂÆö„ÄÇÂØπÊØè‰∏ÄÂè∞Êú∫Âô®Êù•ËØ¥ÔºåÂ¶ÇÊûúÂàÜÂà∞ÁöÑÊï∞ÊçÆÈáè‰æùÁÑ∂ÂæàÂ§ßÔºåÊØîÂ¶ÇÔºåÂÜÖÂ≠ò‰∏çÂ§üÊàñÂÖ∂‰ªñÈóÆÈ¢òÔºåÂèØ‰ª•ÂÜçÁî®ÂìàÂ∏åÂáΩÊï∞ÊääÊØèÂè∞Êú∫Âô®ÁöÑÂàÜÊµÅÊñá‰ª∂ÊãÜÊàêÊõ¥Â∞èÁöÑÊñá‰ª∂Â§ÑÁêÜ„ÄÇ</p>
<p>‚Äã        Â§ÑÁêÜÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÂìàÂ∏åË°®ÁªüËÆ°ÊØèÁßçËØçÂèäÂÖ∂ËØçÈ¢ëÔºåÂìàÂ∏åË°®ËÆ∞ÂΩïÂª∫Á´ãÂÆåÊàêÂêéÔºåÂÜçÈÅçÂéÜÂìàÂ∏åË°®ÔºåÈÅçÂéÜÂìàÂ∏åË°®ÁöÑËøáÁ®ã‰∏≠‰ΩøÁî®Â§ßÂ∞è‰∏∫100ÁöÑÂ∞èÊ†πÂ†ÜÊù•ÈÄâÂá∫ÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂ÁöÑtop 100ÔºàÊï¥‰ΩìÊú™ÊéíÂ∫èÁöÑtop 100Ôºâ„ÄÇÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂ÈÉΩÊúâËá™Â∑±ËØçÈ¢ëÁöÑÂ∞èÊ†πÂ†ÜÔºàÊï¥‰ΩìÊú™ÊéíÂ∫èÁöÑtop 100ÔºâÔºåÂ∞ÜÂ∞èÊ†πÂ†ÜÈáåÁöÑËØçÊåâÁÖßËØçÈ¢ëÊéíÂ∫èÔºåÂ∞±ÂæóÂà∞‰∫ÜÊØè‰∏™Â∞èÊñá‰ª∂ÁöÑÊéíÂ∫èÂêétop 100„ÄÇÁÑ∂ÂêéÊääÂêÑ‰∏™Â∞èÊñá‰ª∂ÊéíÂ∫èÂêéÁöÑtop 100ËøõË°åÂ§ñÊéíÂ∫èÊàñËÄÖÁªßÁª≠Âà©Áî®Â∞èÊ†πÂ†ÜÔºåÂ∞±ÂèØ‰ª•ÈÄâÂá∫ÊØèÂè∞Êú∫Âô®‰∏äÁöÑtop 100„ÄÇ‰∏çÂêåÊú∫Âô®‰πãÈó¥ÁöÑtop100ÂÜçËøõË°åÂ§ñÊéíÂ∫èÊàñËÄÖÁªßÁª≠Âà©Áî®Â∞èÊ†πÂ†ÜÔºåÊúÄÁªàÊ±ÇÂá∫Êï¥‰∏™Áôæ‰∫øÊï∞ÊçÆÈáè‰∏≠ÁöÑtop 100„ÄÇÂØπ‰∫étop K ÁöÑÈóÆÈ¢òÔºåÈô§ÂìàÂ∏åÂáΩÊï∞ÂàÜÊµÅÂíåÁî®ÂìàÂ∏åË°®ÂÅöËØçÈ¢ëÁªüËÆ°‰πãÂ§ñÔºåËøòÁªèÂ∏∏Áî®Â†ÜÁªìÊûÑÂíåÂ§ñÊéíÂ∫èÁöÑÊâãÊÆµËøõË°åÂ§ÑÁêÜ„ÄÇ</p>
<h3 id="6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ"><a href="#6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ" class="headerlink" title="6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ"></a><strong>6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ</strong></h3><p><strong>10MBÂÜÖÂ≠òÔºåÊâæÂà∞100‰∫øÊï¥Êï∞ÁöÑ‰∏≠‰ΩçÊï∞</strong></p>
<p>‚ë†ÂÜÖÂ≠òÂ§üÔºöÂÜÖÂ≠òÂ§üËøòÊÖå‰ªÄ‰πàÂïäÔºåÁõ¥Êé•Êää100‰∫ø‰∏™ÂÖ®ÈÉ®ÊéíÂ∫è‰∫ÜÔºå‰Ω†Áî®ÂÜíÊ≥°ÈÉΩÂèØ‰ª•‚Ä¶ÁÑ∂ÂêéÊâæÂà∞‰∏≠Èó¥ÈÇ£‰∏™Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ‰ΩÜÊòØ‰Ω†‰ª•‰∏∫Èù¢ËØïÂÆò‰ºöÁªô‰Ω†ÂÜÖÂ≠òÔºüÔºü</p>
<p>‚ë°ÂÜÖÂ≠ò‰∏çÂ§üÔºöÈ¢òÁõÆËØ¥ÊòØÊï¥Êï∞ÔºåÊàë‰ª¨ËÆ§‰∏∫ÊòØÂ∏¶Á¨¶Âè∑ÁöÑint,ÊâÄ‰ª•4Â≠óËäÇÔºåÂç†32‰Ωç„ÄÇ</p>
<p>  ÂÅáËÆæ100‰∫ø‰∏™Êï∞Â≠ó‰øùÂ≠òÂú®‰∏Ä‰∏™Â§ßÊñá‰ª∂‰∏≠Ôºå‰æùÊ¨°ËØª‰∏ÄÈÉ®ÂàÜÊñá‰ª∂Âà∞ÂÜÖÂ≠ò(‰∏çË∂ÖËøáÂÜÖÂ≠òÁöÑÈôêÂà∂)ÔºåÂ∞ÜÊØè‰∏™Êï∞Â≠óÁî®‰∫åËøõÂà∂Ë°®Á§∫ÔºåÊØîËæÉ‰∫åËøõÂà∂ÁöÑÊúÄÈ´ò‰Ωç(Á¨¨32‰ΩçÔºåÁ¨¶Âè∑‰ΩçÔºå0ÊòØÊ≠£Ôºå1ÊòØË¥ü)ÔºåÂ¶ÇÊûúÊï∞Â≠óÁöÑÊúÄÈ´ò‰Ωç‰∏∫0ÔºåÂàôÂ∞ÜËøô‰∏™Êï∞Â≠óÂÜôÂÖ• file_0Êñá‰ª∂‰∏≠ÔºõÂ¶ÇÊûúÊúÄÈ´ò‰Ωç‰∏∫ 1ÔºåÂàôÂ∞ÜËØ•Êï∞Â≠óÂÜôÂÖ•file_1Êñá‰ª∂‰∏≠„ÄÇ</p>
<p>  ‰ªéËÄåÂ∞Ü100‰∫ø‰∏™Êï∞Â≠óÂàÜÊàê‰∫Ü‰∏§‰∏™Êñá‰ª∂ÔºåÂÅáËÆæ file_0Êñá‰ª∂‰∏≠Êúâ 60‰∫ø ‰∏™Êï∞Â≠óÔºåfile_1Êñá‰ª∂‰∏≠Êúâ 40‰∫ø ‰∏™Êï∞Â≠ó„ÄÇÈÇ£‰πà‰∏≠‰ΩçÊï∞Â∞±Âú® file_0 Êñá‰ª∂‰∏≠ÔºåÂπ∂‰∏îÊòØ file_0 Êñá‰ª∂‰∏≠ÊâÄÊúâÊï∞Â≠óÊéíÂ∫è‰πãÂêéÁöÑÁ¨¨ 10‰∫ø ‰∏™Êï∞Â≠ó„ÄÇÔºàfile_1‰∏≠ÁöÑÊï∞ÈÉΩÊòØË¥üÊï∞Ôºåfile_0‰∏≠ÁöÑÊï∞ÈÉΩÊòØÊ≠£Êï∞Ôºå‰πüÂç≥ËøôÈáå‰∏ÄÂÖ±Âè™Êúâ40‰∫ø‰∏™Ë¥üÊï∞ÔºåÈÇ£‰πàÊéíÂ∫è‰πãÂêéÁöÑÁ¨¨50‰∫ø‰∏™Êï∞‰∏ÄÂÆö‰Ωç‰∫éfile_0‰∏≠Ôºâ</p>
<p>  Áé∞Âú®ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂ§ÑÁêÜ file_0 Êñá‰ª∂‰∫ÜÔºà‰∏çÈúÄË¶ÅÂÜçËÄÉËôëfile_1Êñá‰ª∂Ôºâ„ÄÇÂØπ‰∫é file_0 Êñá‰ª∂ÔºåÂêåÊ†∑ÈááÂèñ‰∏äÈù¢ÁöÑÊé™ÊñΩÂ§ÑÁêÜÔºöÂ∞Üfile_0Êñá‰ª∂‰æùÊ¨°ËØª‰∏ÄÈÉ®ÂàÜÂà∞ÂÜÖÂ≠ò(‰∏çË∂ÖÂÜÖÂ≠òÈôêÂà∂)ÔºåÂ∞ÜÊØè‰∏™Êï∞Â≠óÁî®‰∫åËøõÂà∂Ë°®Á§∫ÔºåÊØîËæÉ‰∫åËøõÂà∂ÁöÑ Ê¨°È´ò‰ΩçÔºàÁ¨¨31‰ΩçÔºâÔºåÂ¶ÇÊûúÊï∞Â≠óÁöÑÊ¨°È´ò‰Ωç‰∏∫0ÔºåÂÜôÂÖ•file_0_0Êñá‰ª∂‰∏≠ÔºõÂ¶ÇÊûúÊ¨°È´ò‰Ωç‰∏∫1ÔºåÂÜôÂÖ•file_0_1Êñá‰ª∂ ‰∏≠„ÄÇ</p>
<p>  Áé∞ÂÅáËÆæ file_0_0Êñá‰ª∂‰∏≠Êúâ30‰∫ø‰∏™Êï∞Â≠óÔºåfile_0_1‰∏≠‰πüÊúâ30‰∫ø‰∏™Êï∞Â≠óÔºåÂàô‰∏≠‰ΩçÊï∞Â∞±ÊòØÔºöfile_0_0Êñá‰ª∂‰∏≠ÁöÑÊï∞Â≠ó‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫è‰πãÂêéÁöÑÁ¨¨10‰∫ø‰∏™Êï∞Â≠ó„ÄÇ</p>
<p>  ÊäõÂºÉfile_0_1Êñá‰ª∂ÔºåÁªßÁª≠ÂØπ file_0_0Êñá‰ª∂ Ê†πÊçÆ Ê¨°Ê¨°È´ò‰Ωç(Á¨¨30‰Ωç) ÂàíÂàÜÔºåÂÅáËÆæÊ≠§Ê¨°ÂàíÂàÜÁöÑ‰∏§‰∏™Êñá‰ª∂‰∏∫Ôºöfile_0_0_0‰∏≠Êúâ5‰∫ø‰∏™Êï∞Â≠óÔºåfile_0_0_1‰∏≠Êúâ25‰∫ø‰∏™Êï∞Â≠óÔºåÈÇ£‰πà‰∏≠‰ΩçÊï∞Â∞±ÊòØ file_0_0_1Êñá‰ª∂‰∏≠ÁöÑÊâÄÊúâÊï∞Â≠óÊéíÂ∫è‰πãÂêéÁöÑ Á¨¨ 5‰∫ø ‰∏™Êï∞„ÄÇ</p>
<p>  ÊåâÁÖß‰∏äËø∞ÊÄùË∑ØÔºåÁõ¥Âà∞ÂàíÂàÜÁöÑÊñá‰ª∂ÂèØÁõ¥Êé•Âä†ËΩΩËøõÂÜÖÂ≠òÊó∂ÔºåÂ∞±ÂèØ‰ª•Áõ¥Êé•ÂØπÊï∞Â≠óËøõË°åÂø´ÈÄüÊéíÂ∫èÔºåÊâæÂá∫‰∏≠‰ΩçÊï∞‰∫Ü„ÄÇ</p>
<h3 id="7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ"><a href="#7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ" class="headerlink" title="7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ"></a><strong>7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ</strong></h3><p><strong>ËÆæËÆ°Áü≠ÂüüÂêçÁ≥ªÁªüÔºåÂ∞ÜÈïøURLËΩ¨ÂåñÊàêÁü≠ÁöÑURL.</strong></p>
<p>Ôºà1ÔºâÂà©Áî®ÊîæÂè∑Âô®ÔºåÂàùÂßãÂÄº‰∏∫0ÔºåÂØπ‰∫éÊØè‰∏Ä‰∏™Áü≠ÈìæÊé•ÁîüÊàêËØ∑Ê±ÇÔºåÈÉΩÈÄíÂ¢ûÊîæÂè∑Âô®ÁöÑÂÄºÔºåÂÜçÂ∞ÜÊ≠§ÂÄºËΩ¨Êç¢‰∏∫62ËøõÂà∂Ôºàa-zA-Z0-9ÔºâÔºåÊØîÂ¶ÇÁ¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇÊó∂ÊîæÂè∑Âô®ÁöÑÂÄº‰∏∫0ÔºåÂØπÂ∫î62ËøõÂà∂‰∏∫aÔºåÁ¨¨‰∫åÊ¨°ËØ∑Ê±ÇÊó∂ÊîæÂè∑Âô®ÁöÑÂÄº‰∏∫1ÔºåÂØπÂ∫î62ËøõÂà∂‰∏∫bÔºåÁ¨¨10001Ê¨°ËØ∑Ê±ÇÊó∂ÊîæÂè∑Âô®ÁöÑÂÄº‰∏∫10000ÔºåÂØπÂ∫î62ËøõÂà∂‰∏∫sBc„ÄÇ</p>
<p>Ôºà2ÔºâÂ∞ÜÁü≠ÈìæÊé•ÊúçÂä°Âô®ÂüüÂêç‰∏éÊîæÂè∑Âô®ÁöÑ62ËøõÂà∂ÂÄºËøõË°åÂ≠óÁ¨¶‰∏≤ËøûÊé•ÔºåÂç≥‰∏∫Áü≠ÈìæÊé•ÁöÑURLÔºåÊØîÂ¶ÇÔºö<a href="http://t.cn/sBc„ÄÇ" target="_blank" rel="noopener">t.cn/sBc„ÄÇ</a></p>
<p>Ôºà3ÔºâÈáçÂÆöÂêëËøáÁ®ãÔºöÁîüÊàêÁü≠ÈìæÊé•‰πãÂêéÔºåÈúÄË¶ÅÂ≠òÂÇ®Áü≠ÈìæÊé•Âà∞ÈïøÈìæÊé•ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂç≥sBc -&gt; URLÔºåÊµèËßàÂô®ËÆøÈóÆÁü≠ÈìæÊé•ÊúçÂä°Âô®Êó∂ÔºåÊ†πÊçÆURL PathÂèñÂà∞ÂéüÂßãÁöÑÈìæÊé•ÔºåÁÑ∂ÂêéËøõË°å302ÈáçÂÆöÂêë„ÄÇÊò†Â∞ÑÂÖ≥Á≥ªÂèØ‰ΩøÁî®K-VÂ≠òÂÇ®ÔºåÊØîÂ¶ÇRedisÊàñMemcache„ÄÇ</p>
<h3 id="8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ"><a href="#8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ" class="headerlink" title="8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ"></a><strong>8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ</strong></h3><p><strong>ÂÅáËÆæÊúâËøô‰πà‰∏Ä‰∏™Âú∫ÊôØÔºåÊúâ‰∏ÄÊù°Êñ∞ÈóªÔºåÊñ∞ÈóªÁöÑËØÑËÆ∫ÈáèÂèØËÉΩÂæàÂ§ßÔºåÂ¶Ç‰ΩïËÆæËÆ°ËØÑËÆ∫ÁöÑËØªÂíåÂÜô</strong></p>
<p>ÂâçÁ´ØÈ°µÈù¢Áõ¥Êé•ÁªôÁî®Êà∑Â±ïÁ§∫„ÄÅÈÄöËøáÊ∂àÊÅØÈòüÂàóÂºÇÊ≠•ÊñπÂºèÂÖ•Â∫ì</p>
<p>ËØªÂèØ‰ª•ËøõË°åËØªÂÜôÂàÜÁ¶ª„ÄÅÂêåÊó∂ÁÉ≠ÁÇπËØÑËÆ∫ÂÆöÊó∂Âä†ËΩΩÂà∞ÁºìÂ≠ò</p>
<h3 id="9„ÄÅÂú®Á∫ø-Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ"><a href="#9„ÄÅÂú®Á∫ø-Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ" class="headerlink" title="9„ÄÅÂú®Á∫ø/Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ"></a><strong>9„ÄÅÂú®Á∫ø/Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ</strong></h3><p>‚Äã    <strong>ÊòæÁ§∫ÁΩëÁ´ôÁöÑÁî®Êà∑Âú®Á∫øÊï∞ÁöÑËß£ÂÜ≥ÊÄùË∑Ø</strong></p>
<p>‚Äã        Áª¥Êä§Âú®Á∫øÁî®Êà∑Ë°®</p>
<p>‚Äã        ‰ΩøÁî®RedisÁªüËÆ°</p>
<p><strong>ÊòæÁ§∫ÁΩëÁ´ôÂπ∂ÂèëÁî®Êà∑Êï∞</strong></p>
<ol>
<li>ÊØèÂΩìÁî®Êà∑ËÆøÈóÆÊúçÂä°Êó∂ÔºåÊääËØ•Áî®Êà∑ÁöÑ ID ÂÜôÂÖ•ZSORTÈòüÂàóÔºåÊùÉÈáç‰∏∫ÂΩìÂâçÊó∂Èó¥</li>
<li>Ê†πÊçÆÊùÉÈáç(Âç≥Êó∂Èó¥)ËÆ°ÁÆó‰∏ÄÂàÜÈíüÂÜÖËØ•Êú∫ÊûÑÁöÑÁî®Êà∑Êï∞Zrange</li>
<li>Âà†Êéâ‰∏ÄÂàÜÈíü‰ª•‰∏äËøáÊúüÁöÑÁî®Êà∑Zrem</li>
</ol>
<h3 id="10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ"><a href="#10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ" class="headerlink" title="10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ"></a>10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ</h3><p>ÂÅáËÆæÁõÆÂâçÊúâ 1000w ‰∏™ËÆ∞ÂΩïÔºàËøô‰∫õÊü•ËØ¢‰∏≤ÁöÑÈáçÂ§çÂ∫¶ÊØîËæÉÈ´òÔºåËôΩÁÑ∂ÊÄªÊï∞ÊòØ 1000wÔºå‰ΩÜÂ¶ÇÊûúÈô§ÂéªÈáçÂ§çÂêéÔºåÂàô‰∏çË∂ÖËøá 300w ‰∏™Ôºâ„ÄÇËØ∑ÁªüËÆ°ÊúÄÁÉ≠Èó®ÁöÑ 10 ‰∏™Êü•ËØ¢‰∏≤ÔºåË¶ÅÊ±Ç‰ΩøÁî®ÁöÑÂÜÖÂ≠ò‰∏çËÉΩË∂ÖËøá 1G„ÄÇÔºà‰∏Ä‰∏™Êü•ËØ¢‰∏≤ÁöÑÈáçÂ§çÂ∫¶Ë∂äÈ´òÔºåËØ¥ÊòéÊü•ËØ¢ÂÆÉÁöÑÁî®Êà∑Ë∂äÂ§öÔºå‰πüÂ∞±Ë∂äÁÉ≠Èó®„ÄÇÔºâ</p>
<p><strong>HashMap Ê≥ï</strong></p>
<p>ËôΩÁÑ∂Â≠óÁ¨¶‰∏≤ÊÄªÊï∞ÊØîËæÉÂ§öÔºå‰ΩÜÂéªÈáçÂêé‰∏çË∂ÖËøá 300wÔºåÂõ†Ê≠§ÔºåÂèØ‰ª•ËÄÉËôëÊääÊâÄÊúâÂ≠óÁ¨¶‰∏≤ÂèäÂá∫Áé∞Ê¨°Êï∞‰øùÂ≠òÂú®‰∏Ä‰∏™ HashMap ‰∏≠ÔºåÊâÄÂç†Áî®ÁöÑÁ©∫Èó¥‰∏∫ 300w*(255+4)‚âà777MÔºàÂÖ∂‰∏≠Ôºå4 Ë°®Á§∫Êï¥Êï∞Âç†Áî®ÁöÑ 4 ‰∏™Â≠óËäÇÔºâ„ÄÇÁî±Ê≠§ÂèØËßÅÔºå1G ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÂÆåÂÖ®Â§üÁî®„ÄÇ</p>
<p><strong>ÊÄùË∑ØÂ¶Ç‰∏ã</strong>Ôºö</p>
<p>È¶ñÂÖàÔºåÈÅçÂéÜÂ≠óÁ¨¶‰∏≤ÔºåËã•‰∏çÂú® map ‰∏≠ÔºåÁõ¥Êé•Â≠òÂÖ• mapÔºåvalue ËÆ∞‰∏∫ 1ÔºõËã•Âú® map ‰∏≠ÔºåÂàôÊääÂØπÂ∫îÁöÑ value Âä† 1ÔºåËøô‰∏ÄÊ≠•Êó∂Èó¥Â§çÊùÇÂ∫¶ <code>O(N)</code> „ÄÇ</p>
<p>Êé•ÁùÄÈÅçÂéÜ mapÔºåÊûÑÂª∫‰∏Ä‰∏™ 10 ‰∏™ÂÖÉÁ¥†ÁöÑÂ∞èÈ°∂Â†ÜÔºåËã•ÈÅçÂéÜÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑÂá∫Áé∞Ê¨°Êï∞Â§ß‰∫éÂ†ÜÈ°∂Â≠óÁ¨¶‰∏≤ÁöÑÂá∫Áé∞Ê¨°Êï∞ÔºåÂàôËøõË°åÊõøÊç¢ÔºåÂπ∂Â∞ÜÂ†ÜË∞ÉÊï¥‰∏∫Â∞èÈ°∂Â†Ü„ÄÇ</p>
<p>ÈÅçÂéÜÁªìÊùüÂêéÔºåÂ†Ü‰∏≠ 10 ‰∏™Â≠óÁ¨¶‰∏≤Â∞±ÊòØÂá∫Áé∞Ê¨°Êï∞ÊúÄÂ§öÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇËøô‰∏ÄÊ≠•Êó∂Èó¥Â§çÊùÇÂ∫¶ <code>O(Nlog10)</code> „ÄÇ</p>
<p><strong>ÂâçÁºÄÊ†ëÊ≥ï</strong></p>
<p>ÂΩìËøô‰∫õÂ≠óÁ¨¶‰∏≤ÊúâÂ§ßÈáèÁõ∏ÂêåÂâçÁºÄÊó∂ÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®ÂâçÁºÄÊ†ëÊù•ÁªüËÆ°Â≠óÁ¨¶‰∏≤Âá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåÊ†ëÁöÑÁªìÁÇπ‰øùÂ≠òÂ≠óÁ¨¶‰∏≤Âá∫Áé∞Ê¨°Êï∞Ôºå0 Ë°®Á§∫Ê≤°ÊúâÂá∫Áé∞„ÄÇ</p>
<p><strong>ÊÄùË∑ØÂ¶Ç‰∏ã</strong>Ôºö</p>
<p>Âú®ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤Êó∂ÔºåÂú®ÂâçÁºÄÊ†ë‰∏≠Êü•ÊâæÔºåÂ¶ÇÊûúÊâæÂà∞ÔºåÂàôÊääÁªìÁÇπ‰∏≠‰øùÂ≠òÁöÑÂ≠óÁ¨¶‰∏≤Ê¨°Êï∞Âä† 1ÔºåÂê¶Âàô‰∏∫Ëøô‰∏™Â≠óÁ¨¶‰∏≤ÊûÑÂª∫Êñ∞ÁªìÁÇπÔºåÊûÑÂª∫ÂÆåÊàêÂêéÊääÂè∂Â≠êÁªìÁÇπ‰∏≠Â≠óÁ¨¶‰∏≤ÁöÑÂá∫Áé∞Ê¨°Êï∞ÁΩÆ‰∏∫ 1„ÄÇ</p>
<p>ÊúÄÂêé‰æùÁÑ∂‰ΩøÁî®<strong>Â∞èÈ°∂Â†Ü</strong>Êù•ÂØπÂ≠óÁ¨¶‰∏≤ÁöÑÂá∫Áé∞Ê¨°Êï∞ËøõË°åÊéíÂ∫è„ÄÇ</p>
<h3 id="11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï"><a href="#11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï" class="headerlink" title="11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï"></a>11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï</h3><p>Á∫øÊÄßÂàáÂâ≤Ê≥ïÔºå‰∏Ä‰∏™Âå∫Èó¥ÂàáN-1ÂàÄ„ÄÇË∂äÊó©Ë∂äÂ§ö</p>
<p>‰∫åÂÄçÂùáÂÄºÊ≥ïÔºå„Äê0 ~ Ââ©‰ΩôÈáëÈ¢ù / Ââ©‰Ωô‰∫∫Êï∞ * 2„Äë‰∏≠ÈöèÊú∫ÔºåÁõ∏ÂØπÂùáÂåÄ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1goqpbvl5pvj30qu0gcgm0.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goqpbvl5pvj30qu0gcgm0.jpg" alt="img"></a></p>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1goqpc3hz9dj31450ggq8k.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goqpc3hz9dj31450ggq8k.jpg" alt="img" title class></a>
                <p>img</p>
            </figure>
<h3 id="11„ÄÅÊâãÂÜôÂø´Êéí"><a href="#11„ÄÅÊâãÂÜôÂø´Êéí" class="headerlink" title="11„ÄÅÊâãÂÜôÂø´Êéí"></a>11„ÄÅÊâãÂÜôÂø´Êéí</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickSort</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> tmp = arr[i];</span><br><span class="line">		arr[i] = arr[j];</span><br><span class="line">		arr[j] = tmp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/* Â∏∏ËßÑÂø´Êéí */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort1</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (L &gt; R)  <span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">int</span> M = partition(arr, L, R);</span><br><span class="line">		quickSort1(arr, L, M - <span class="number">1</span>);</span><br><span class="line">		quickSort1(arr, M + <span class="number">1</span>, R);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (L &gt; R) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span> (L == R) <span class="keyword">return</span> L;</span><br><span class="line">		<span class="keyword">int</span> lessEqual = L - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> index = L;</span><br><span class="line">		<span class="keyword">while</span> (index &lt; R) &#123;</span><br><span class="line">			<span class="keyword">if</span> (arr[index] &lt;= arr[R])</span><br><span class="line">				swap(arr, index, ++lessEqual);</span><br><span class="line">			index++;</span><br><span class="line">		&#125;</span><br><span class="line">		swap(arr, ++lessEqual, R);</span><br><span class="line">		<span class="keyword">return</span> lessEqual;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/* Ëç∑ÂÖ∞ÂõΩÊóó */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort2</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (L &gt; R)  <span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">int</span>[] equalArea = netherlandsFlag(arr, L, R);</span><br><span class="line">		quickSort2(arr, L, equalArea[<span class="number">0</span>] - <span class="number">1</span>);</span><br><span class="line">		quickSort2(arr, equalArea[<span class="number">1</span>] + <span class="number">1</span>, R);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] netherlandsFlag(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> R) &#123;</span><br><span class="line">		<span class="keyword">if</span> (L &gt; R) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; -<span class="number">1</span>, -<span class="number">1</span> &#125;;</span><br><span class="line">		<span class="keyword">if</span> (L == R) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; L, R &#125;;</span><br><span class="line">		<span class="keyword">int</span> less = L - <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> more = R;</span><br><span class="line">		<span class="keyword">int</span> index = L;</span><br><span class="line">		<span class="keyword">while</span> (index &lt; more) &#123;</span><br><span class="line">			<span class="keyword">if</span> (arr[index] == arr[R]) &#123;</span><br><span class="line">				index++;</span><br><span class="line">			&#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[index] &lt; arr[R]) &#123;</span><br><span class="line">				swap(arr, index++, ++less);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				swap(arr, index, --more);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		swap(arr, more, R);</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; less + <span class="number">1</span>, more &#125;;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// for test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> testTime = <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">int</span> maxSize = <span class="number">10000000</span>;</span><br><span class="line">		<span class="keyword">int</span> maxValue = <span class="number">100000</span>;</span><br><span class="line">		<span class="keyword">boolean</span> succeed = <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">long</span> T1=<span class="number">0</span>,T2=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; testTime; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span>[] arr1 = generateRandomArray(maxSize, maxValue);</span><br><span class="line">			<span class="keyword">int</span>[] arr2 = copyArray(arr1);</span><br><span class="line">			<span class="keyword">int</span>[] arr3 = copyArray(arr1);</span><br><span class="line"><span class="comment">//			int[] arr1 = &#123;9,8,7,6,5,4,3,2,1&#125;;</span></span><br><span class="line">			<span class="keyword">long</span> t1 = System.currentTimeMillis();</span><br><span class="line">			quickSort1(arr1,<span class="number">0</span>,arr1.length-<span class="number">1</span>);</span><br><span class="line">			<span class="keyword">long</span> t2 = System.currentTimeMillis();</span><br><span class="line">			quickSort2(arr2,<span class="number">0</span>,arr2.length-<span class="number">1</span>);</span><br><span class="line">			<span class="keyword">long</span> t3 = System.currentTimeMillis();</span><br><span class="line">			T1 += (t2-t1);</span><br><span class="line">			T2 += (t3-t2);</span><br><span class="line">			<span class="keyword">if</span> (!isEqual(arr1, arr2) || !isEqual(arr2, arr3)) &#123;</span><br><span class="line">				succeed = <span class="keyword">false</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(T1+<span class="string">" "</span>+T2);</span><br><span class="line"><span class="comment">//		System.out.println(succeed ? "Nice!" : "Oops!");</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] generateRandomArray(<span class="keyword">int</span> maxSize, <span class="keyword">int</span> maxValue) &#123;</span><br><span class="line">		<span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[(<span class="keyword">int</span>) ((maxSize + <span class="number">1</span>) * Math.random())];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">			arr[i] = (<span class="keyword">int</span>) ((maxValue + <span class="number">1</span>) * Math.random())</span><br><span class="line">                		- (<span class="keyword">int</span>) (maxValue * Math.random());</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> arr;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] copyArray(<span class="keyword">int</span>[] arr) &#123;</span><br><span class="line">		<span class="keyword">if</span> (arr == <span class="keyword">null</span>)  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">			res[i] = arr[i];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> res;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isEqual</span><span class="params">(<span class="keyword">int</span>[] arr1, <span class="keyword">int</span>[] arr2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> ((arr1 == <span class="keyword">null</span> &amp;&amp; arr2 != <span class="keyword">null</span>) || (arr1 != <span class="keyword">null</span> &amp;&amp; arr2 == <span class="keyword">null</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (arr1 == <span class="keyword">null</span> &amp;&amp; arr2 == <span class="keyword">null</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (arr1.length != arr2.length)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr1.length; i++)</span><br><span class="line">			<span class="keyword">if</span> (arr1[i] != arr2[i])</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printArray</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (arr == <span class="keyword">null</span>)</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++)</span><br><span class="line">			System.out.print(arr[i] + <span class="string">" "</span>);</span><br><span class="line">		System.out.println();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="12„ÄÅÊâãÂÜôÂΩíÂπ∂"><a href="#12„ÄÅÊâãÂÜôÂΩíÂπ∂" class="headerlink" title="12„ÄÅÊâãÂÜôÂΩíÂπ∂"></a>12„ÄÅÊâãÂÜôÂΩíÂπ∂</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> M, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] help = <span class="keyword">new</span> <span class="keyword">int</span>[R - L + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> p1 = L;</span><br><span class="line">    <span class="keyword">int</span> p2 = M + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (p1 &lt;= M &amp;&amp; p2 &lt;= R)</span><br><span class="line">        help[i++] = arr[p1] &lt;= arr[p2] ? arr[p1++] : arr[p2++];</span><br><span class="line">    <span class="keyword">while</span> (p1 &lt;= M)</span><br><span class="line">        help[i++] = arr[p1++];</span><br><span class="line">    <span class="keyword">while</span> (p2 &lt;= R)</span><br><span class="line">        help[i++] = arr[p2++];</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; help.length; i++)</span><br><span class="line">        arr[L + i] = help[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (L == R)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = L + ((R - L) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    process(arr, L, mid);</span><br><span class="line">    process(arr, mid + <span class="number">1</span>, R);</span><br><span class="line">    merge(arr, L, mid, R);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arr1 = &#123;<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">    mergeSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">    printArray(arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="13„ÄÅÊâãÂÜôÂ†ÜÊéí"><a href="#13„ÄÅÊâãÂÜôÂ†ÜÊéí" class="headerlink" title="13„ÄÅÊâãÂÜôÂ†ÜÊéí"></a>13„ÄÅÊâãÂÜôÂ†ÜÊéí</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Â†ÜÊéíÂ∫èÈ¢ùÂ§ñÁ©∫Èó¥Â§çÊùÇÂ∫¶O(1)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="keyword">null</span> || arr.length &lt; <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = arr.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        heapify(arr, i, arr.length);</span><br><span class="line">    <span class="keyword">int</span> heapSize = arr.length;</span><br><span class="line">    swap(arr, <span class="number">0</span>, --heapSize);</span><br><span class="line">    <span class="comment">// O(N*logN)</span></span><br><span class="line">    <span class="keyword">while</span> (heapSize &gt; <span class="number">0</span>) &#123; <span class="comment">// O(N)</span></span><br><span class="line">        heapify(arr, <span class="number">0</span>, heapSize); <span class="comment">// O(logN)</span></span><br><span class="line">        swap(arr, <span class="number">0</span>, --heapSize); <span class="comment">// O(1)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// arr[index]ÂàöÊù•ÁöÑÊï∞ÔºåÂæÄ‰∏ä</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapInsert</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (arr[index] &gt; arr[(index - <span class="number">1</span>) / <span class="number">2</span>]) &#123;</span><br><span class="line">        swap(arr, index, (index - <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">        index = (index - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// arr[index]‰ΩçÁΩÆÁöÑÊï∞ÔºåËÉΩÂê¶ÂæÄ‰∏ãÁßªÂä®</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapify</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> index, <span class="keyword">int</span> heapSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = index * <span class="number">2</span> + <span class="number">1</span>; <span class="comment">// Â∑¶Â≠©Â≠êÁöÑ‰∏ãÊ†á</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt; heapSize) &#123; <span class="comment">// ‰∏ãÊñπËøòÊúâÂ≠©Â≠êÁöÑÊó∂ÂÄô</span></span><br><span class="line">        <span class="comment">// ‰∏§‰∏™Â≠©Â≠ê‰∏≠ÔºåË∞ÅÁöÑÂÄºÂ§ßÔºåÊää‰∏ãÊ†áÁªôlargest</span></span><br><span class="line">        <span class="comment">// 1ÔºâÂè™ÊúâÂ∑¶Â≠©Â≠êÔºåleft -&gt; largest</span></span><br><span class="line">        <span class="comment">// 2) ÂêåÊó∂ÊúâÂ∑¶Â≠©Â≠êÂíåÂè≥Â≠©Â≠êÔºåÂè≥Â≠©Â≠êÁöÑÂÄº&lt;= Â∑¶Â≠©Â≠êÁöÑÂÄºÔºåleft -&gt; largest</span></span><br><span class="line">        <span class="comment">// 3) ÂêåÊó∂ÊúâÂ∑¶Â≠©Â≠êÂíåÂè≥Â≠©Â≠êÂπ∂‰∏îÂè≥Â≠©Â≠êÁöÑÂÄº&gt; Â∑¶Â≠©Â≠êÁöÑÂÄºÔºå right -&gt; largest</span></span><br><span class="line">        <span class="keyword">int</span> largest = left+<span class="number">1</span> &lt; heapSize &amp;&amp; arr[left+<span class="number">1</span>]&gt; arr[left] ? left+<span class="number">1</span> : left;</span><br><span class="line">        <span class="comment">// Áà∂ÂíåËæÉÂ§ßÁöÑÂ≠©Â≠ê‰πãÈó¥ÔºåË∞ÅÁöÑÂÄºÂ§ßÔºåÊää‰∏ãÊ†áÁªôlargest</span></span><br><span class="line">        largest = arr[largest] &gt; arr[index] ? largest : index;</span><br><span class="line">        <span class="keyword">if</span> (largest == index)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        swap(arr, largest, index);</span><br><span class="line">        index = largest;</span><br><span class="line">        left = index * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = arr[i];</span><br><span class="line">    arr[i] = arr[j];</span><br><span class="line">    arr[j] = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arr1 = &#123;<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">    heapSort(arr1);</span><br><span class="line">    printArray(arr1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="14„ÄÅÊâãÂÜôÂçï‰æã"><a href="#14„ÄÅÊâãÂÜôÂçï‰æã" class="headerlink" title="14„ÄÅÊâãÂÜôÂçï‰æã"></a>14„ÄÅÊâãÂÜôÂçï‰æã</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line">		<span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton singleton;</span><br><span class="line">		<span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (singleton == <span class="keyword">null</span>) &#123;</span><br><span class="line">          	<span class="keyword">synchronized</span> (Singleton<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (singleton == <span class="keyword">null</span>) &#123;</span><br><span class="line">              	singleton = <span class="keyword">new</span> Singleton();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> singleton;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="15„ÄÅÊâãÂÜôLRUcache"><a href="#15„ÄÅÊâãÂÜôLRUcache" class="headerlink" title="15„ÄÅÊâãÂÜôLRUcache"></a>15„ÄÅÊâãÂÜôLRUcache</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Âü∫‰∫élinkedHashMap</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> LinkedHashMap&lt;Integer,Integer&gt; cache;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> capacity;   <span class="comment">//ÂÆπÈáèÂ§ßÂ∞è</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        cache = <span class="keyword">new</span> LinkedHashMap&lt;&gt;(capacity);</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//ÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®Ê≠§keyÔºåÁõ¥Êé•ËøîÂõû</span></span><br><span class="line">        <span class="keyword">if</span>(!cache.containsKey(key)) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> res = cache.get(key);</span><br><span class="line">        cache.remove(key);   <span class="comment">//ÂÖà‰ªéÈìæË°®‰∏≠Âà†Èô§</span></span><br><span class="line">        cache.put(key,res);  <span class="comment">//ÂÜçÊääËØ•ËäÇÁÇπÊîæÂà∞ÈìæË°®Êú´Â∞æÂ§Ñ</span></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key,<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(cache.containsKey(key)) &#123;</span><br><span class="line">            cache.remove(key); <span class="comment">//Â∑≤ÁªèÂ≠òÂú®ÔºåÂú®ÂΩìÂâçÈìæË°®ÁßªÈô§</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(capacity == cache.size()) &#123;</span><br><span class="line">            <span class="comment">//cacheÂ∑≤Êª°ÔºåÂà†Èô§ÈìæË°®Â§¥‰ΩçÁΩÆ</span></span><br><span class="line">            Set&lt;Integer&gt; keySet = cache.keySet();</span><br><span class="line">            Iterator&lt;Integer&gt; iterator = keySet.iterator();</span><br><span class="line">            cache.remove(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">        cache.put(key,value);  <span class="comment">//ÊèíÂÖ•Âà∞ÈìæË°®Êú´Â∞æ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÊâãÂÜôÂèåÂêëÈìæË°®</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DNode</span> </span>&#123;</span><br><span class="line">        DNode prev;</span><br><span class="line">        DNode next;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        <span class="keyword">int</span> key;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;Integer, DNode&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    DNode head, tail;</span><br><span class="line">    <span class="keyword">int</span> cap;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        head = <span class="keyword">new</span> DNode();</span><br><span class="line">        tail = <span class="keyword">new</span> DNode();</span><br><span class="line">        head.next = tail;</span><br><span class="line">        tail.prev = head;</span><br><span class="line">        cap = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(key)) &#123;</span><br><span class="line">            DNode node = map.get(key);</span><br><span class="line">            removeNode(node);</span><br><span class="line">            addToHead(node);</span><br><span class="line">            <span class="keyword">return</span> node.val;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(key)) &#123;</span><br><span class="line">            DNode node = map.get(key);</span><br><span class="line">            node.val = value;</span><br><span class="line">            removeNode(node);</span><br><span class="line">            addToHead(node);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            DNode newNode = <span class="keyword">new</span> DNode();</span><br><span class="line">            newNode.val = value;</span><br><span class="line">            newNode.key = key;</span><br><span class="line">            addToHead(newNode);</span><br><span class="line">            map.put(key, newNode);</span><br><span class="line">            <span class="keyword">if</span> (map.size() &gt; cap) &#123;</span><br><span class="line">                map.remove(tail.prev.key);</span><br><span class="line">                removeNode(tail.prev);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeNode</span><span class="params">(DNode node)</span> </span>&#123;</span><br><span class="line">        DNode prevNode = node.prev;</span><br><span class="line">        DNode nextNode = node.next;</span><br><span class="line">        prevNode.next = nextNode;</span><br><span class="line">        nextNode.prev = prevNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addToHead</span><span class="params">(DNode node)</span> </span>&#123;</span><br><span class="line">        DNode firstNode = head.next;</span><br><span class="line">        head.next = node;</span><br><span class="line">        node.prev = head;</span><br><span class="line">        node.next = firstNode;</span><br><span class="line">        firstNode.prev = node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†"><a href="#16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†" class="headerlink" title="16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†"></a><strong>16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.concurrent.pool;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ArrayBlockingQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MySelfThreadPool</span> </span>&#123;</span><br><span class="line">	<span class="comment">//ÈªòËÆ§Á∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÁöÑÊï∞Èáè</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> WORK_NUM = <span class="number">5</span>;</span><br><span class="line">	<span class="comment">//ÈªòËÆ§Â§ÑÁêÜ‰ªªÂä°ÁöÑÊï∞Èáè</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> TASK_NUM = <span class="number">100</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> workNum;<span class="comment">//Á∫øÁ®ãÊï∞Èáè</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> taskNum;<span class="comment">//‰ªªÂä°Êï∞Èáè</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> Set&lt;WorkThread&gt; workThreads;<span class="comment">//‰øùÂ≠òÁ∫øÁ®ãÁöÑÈõÜÂêà</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> BlockingQueue&lt;Runnable&gt; taskQueue;<span class="comment">//ÈòªÂ°ûÊúâÂ∫èÈòüÂàóÂ≠òÊîæ‰ªªÂä°</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MySelfThreadPool</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>(WORK_NUM, TASK_NUM);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MySelfThreadPool</span><span class="params">(<span class="keyword">int</span> workNum, <span class="keyword">int</span> taskNum)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (workNum &lt;= <span class="number">0</span>) workNum = WORK_NUM;</span><br><span class="line">		<span class="keyword">if</span> (taskNum &lt;= <span class="number">0</span>) taskNum = TASK_NUM;</span><br><span class="line">		taskQueue = <span class="keyword">new</span> ArrayBlockingQueue&lt;&gt;(taskNum);</span><br><span class="line">		<span class="keyword">this</span>.workNum = workNum;</span><br><span class="line">		<span class="keyword">this</span>.taskNum = taskNum;</span><br><span class="line">		workThreads = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">		<span class="comment">//ÂêØÂä®‰∏ÄÂÆöÊï∞ÈáèÁöÑÁ∫øÁ®ãÊï∞Ôºå‰ªéÈòüÂàó‰∏≠Ëé∑Âèñ‰ªªÂä°Â§ÑÁêÜ</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;workNum;i++) &#123;</span><br><span class="line">			WorkThread workThread = <span class="keyword">new</span> WorkThread(<span class="string">"thead_"</span>+i);</span><br><span class="line">			workThread.start();</span><br><span class="line">			workThreads.add(workThread);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(Runnable task)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			taskQueue.put(task);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"ready close thread pool..."</span>);</span><br><span class="line">		<span class="keyword">if</span> (workThreads == <span class="keyword">null</span> || workThreads.isEmpty()) <span class="keyword">return</span> ;</span><br><span class="line">		<span class="keyword">for</span> (WorkThread workThread : workThreads) &#123;</span><br><span class="line">			workThread.stopWork();</span><br><span class="line">			workThread = <span class="keyword">null</span>;<span class="comment">//help gc</span></span><br><span class="line">		&#125;</span><br><span class="line">		workThreads.clear();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">WorkThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">WorkThread</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">super</span>();</span><br><span class="line">			setName(name);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">while</span> (!interrupted()) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					Runnable runnable = taskQueue.take();<span class="comment">//Ëé∑Âèñ‰ªªÂä°</span></span><br><span class="line">					<span class="keyword">if</span> (runnable !=<span class="keyword">null</span>) &#123;</span><br><span class="line">						System.out.println(getName()+<span class="string">" readyexecute:"</span>+runnable.toString());</span><br><span class="line">						runnable.run();<span class="comment">//ÊâßË°å‰ªªÂä°</span></span><br><span class="line">					&#125;</span><br><span class="line">					runnable = <span class="keyword">null</span>;<span class="comment">//help gc</span></span><br><span class="line">				&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">					interrupt();</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			interrupt();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.concurrent.pool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestMySelfThreadPool</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> TASK_NUM = <span class="number">50</span>;<span class="comment">//‰ªªÂä°ÁöÑ‰∏™Êï∞</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		MySelfThreadPool myPool = <span class="keyword">new</span> MySelfThreadPool(<span class="number">3</span>,<span class="number">50</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;TASK_NUM;i++) &#123;</span><br><span class="line">			myPool.execute(<span class="keyword">new</span> MyTask(<span class="string">"task_"</span>+i));</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTask</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">		<span class="keyword">private</span> String name;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="title">MyTask</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.name = name;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">return</span> name;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">			<span class="keyword">this</span>.name = name;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(<span class="string">"task :"</span>+name+<span class="string">" end..."</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="meta">@Override</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">			<span class="keyword">return</span> <span class="string">"name = "</span>+name;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè"><a href="#17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè" class="headerlink" title="17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè"></a><strong>17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Storage</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> MAX_VALUE = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Object&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">produce</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (list) &#123;</span><br><span class="line">            <span class="keyword">while</span> (list.size() + num &gt; MAX_VALUE) &#123;</span><br><span class="line">                System.out.println(<span class="string">"ÊöÇÊó∂‰∏çËÉΩÊâßË°åÁîü‰∫ß‰ªªÂä°"</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    list.wait();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">                list.add(<span class="keyword">new</span> Object());</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"Â∑≤Áîü‰∫ß‰∫ßÂìÅÊï∞"</span>+num+<span class="string">" ‰ªìÂ∫ìÂÆπÈáè"</span>+list.size());</span><br><span class="line">            list.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">consume</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (list) &#123;</span><br><span class="line">            <span class="keyword">while</span> (list.size() &lt; num) &#123;</span><br><span class="line">                System.out.println(<span class="string">"ÊöÇÊó∂‰∏çËÉΩÊâßË°åÊ∂àË¥π‰ªªÂä°"</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    list.wait();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">                list.remove(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"Â∑≤Ê∂àË¥π‰∫ßÂìÅÊï∞"</span>+num+<span class="string">" ‰ªìÂ∫ìÂÆπÈáè"</span> + list.size());</span><br><span class="line">            list.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">private</span> Storage storage;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">(Storage storage)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.storage = storage;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.num = num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        storage.produce(<span class="keyword">this</span>.num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">private</span> Storage storage;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">(Storage storage)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.storage = storage;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.num = num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        storage.consume(<span class="keyword">this</span>.num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Storage storage = <span class="keyword">new</span> Storage();</span><br><span class="line">        Producer p1 = <span class="keyword">new</span> Producer(storage);</span><br><span class="line">        Producer p2 = <span class="keyword">new</span> Producer(storage);</span><br><span class="line">        Producer p3 = <span class="keyword">new</span> Producer(storage);</span><br><span class="line">        Producer p4 = <span class="keyword">new</span> Producer(storage);</span><br><span class="line">        Customer c1 = <span class="keyword">new</span> Customer(storage);</span><br><span class="line">        Customer c2 = <span class="keyword">new</span> Customer(storage);</span><br><span class="line">        Customer c3 = <span class="keyword">new</span> Customer(storage);</span><br><span class="line">        p1.setNum(<span class="number">10</span>);</span><br><span class="line">        p2.setNum(<span class="number">20</span>);</span><br><span class="line">        p3.setNum(<span class="number">80</span>);</span><br><span class="line">        c1.setNum(<span class="number">50</span>);</span><br><span class="line">        c2.setNum(<span class="number">20</span>);</span><br><span class="line">        c3.setNum(<span class="number">20</span>);</span><br><span class="line">        c1.start();</span><br><span class="line">        c2.start();</span><br><span class="line">        c3.start();</span><br><span class="line">        p1.start();</span><br><span class="line">        p2.start();</span><br><span class="line">        p3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó"><a href="#18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó" class="headerlink" title="18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó"></a><strong>18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">blockQueue</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; container = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">int</span> capacity;</span><br><span class="line">    <span class="keyword">private</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition isNull = lock.newCondition();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition isFull = lock.newCondition();</span><br><span class="line">    blockQueue(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (size &gt;= capacity) &#123;</span><br><span class="line">                    System.out.println(<span class="string">"ÈòªÂ°ûÈòüÂàóÊª°‰∫Ü"</span>);</span><br><span class="line">                    isFull.await();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                isFull.signal();</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            ++size;</span><br><span class="line">            container.add(data);</span><br><span class="line">            isNull.signal();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">take</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(<span class="string">"ÈòªÂ°ûÈòüÂàóÁ©∫‰∫Ü"</span>);</span><br><span class="line">                    isNull.await();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                isNull.signal();</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            --size;</span><br><span class="line">            <span class="keyword">int</span> res = container.get(<span class="number">0</span>);</span><br><span class="line">            container.remove(<span class="number">0</span>);</span><br><span class="line">            isFull.signal();</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    AxinBlockQueue queue = <span class="keyword">new</span> AxinBlockQueue(<span class="number">5</span>);</span><br><span class="line">    Thread t1 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            queue.add(i);</span><br><span class="line">            System.out.println(<span class="string">"Â°ûÂÖ•"</span> + i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">500</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    Thread t2 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">for</span> (; ; ) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Ê∂àË¥π"</span>+queue.take());</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">800</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">    t1.start();</span><br><span class="line">    t2.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC"><a href="#19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC" class="headerlink" title="19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC"></a><strong>19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.test;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">syncPrinter</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="comment">// ÊâìÂç∞Ê¨°Êï∞</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PRINT_COUNT = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ReentrantLock reentrantLock;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition thisCondtion;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition nextCondtion;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">char</span> printChar;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">syncPrinter</span><span class="params">(ReentrantLock reentrantLock, Condition thisCondtion, Condition nextCondition, <span class="keyword">char</span> printChar)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.reentrantLock = reentrantLock;</span><br><span class="line">        <span class="keyword">this</span>.nextCondtion = nextCondition;</span><br><span class="line">        <span class="keyword">this</span>.thisCondtion = thisCondtion;</span><br><span class="line">        <span class="keyword">this</span>.printChar = printChar;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Ëé∑ÂèñÊâìÂç∞ÈîÅ ËøõÂÖ•‰∏¥ÁïåÂå∫</span></span><br><span class="line">        reentrantLock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ËøûÁª≠ÊâìÂç∞PRINT_COUNTÊ¨°</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; PRINT_COUNT; i++) &#123;</span><br><span class="line">                <span class="comment">//ÊâìÂç∞Â≠óÁ¨¶</span></span><br><span class="line">                System.out.print(printChar);</span><br><span class="line">                <span class="comment">// ‰ΩøÁî®nextConditionÂî§ÈÜí‰∏ã‰∏Ä‰∏™Á∫øÁ®ã</span></span><br><span class="line">                <span class="comment">// Âõ†‰∏∫Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÂú®Á≠âÂæÖÔºåÊâÄ‰ª•signalÊàñËÄÖsignalAllÈÉΩÂèØ‰ª•</span></span><br><span class="line">                nextCondtion.signal();</span><br><span class="line">                <span class="comment">// ‰∏çÊòØÊúÄÂêé‰∏ÄÊ¨°ÂàôÈÄöËøáthisCondtionÁ≠âÂæÖË¢´Âî§ÈÜí</span></span><br><span class="line">                <span class="comment">// ÂøÖÈ°ªË¶ÅÂä†Âà§Êñ≠Ôºå‰∏çÁÑ∂ËôΩÁÑ∂ËÉΩÂ§üÊâìÂç∞10Ê¨°Ôºå‰ΩÜ10Ê¨°ÂêéÂ∞±‰ºöÁõ¥Êé•Ê≠ªÈîÅ</span></span><br><span class="line">                <span class="keyword">if</span> (i &lt; PRINT_COUNT - <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="comment">// Êú¨Á∫øÁ®ãËÆ©Âá∫ÈîÅÂπ∂Á≠âÂæÖÂî§ÈÜí</span></span><br><span class="line">                        thisCondtion.await();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            reentrantLock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">        Condition conditionA = lock.newCondition();</span><br><span class="line">        Condition conditionB = lock.newCondition();</span><br><span class="line">        Condition conditionC = lock.newCondition();</span><br><span class="line">        Thread printA = <span class="keyword">new</span> Thread(<span class="keyword">new</span> syncPrinter(lock, conditionA, conditionB,<span class="string">'A'</span>));</span><br><span class="line">        Thread printB = <span class="keyword">new</span> Thread(<span class="keyword">new</span> syncPrinter(lock, conditionB, conditionC,<span class="string">'B'</span>));</span><br><span class="line">        Thread printC = <span class="keyword">new</span> Thread(<span class="keyword">new</span> syncPrinter(lock, conditionC, conditionA,<span class="string">'C'</span>));</span><br><span class="line">        printA.start();</span><br><span class="line">        Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        printB.start();</span><br><span class="line">        Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        printC.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar"><a href="#20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar" class="headerlink" title="20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar"></a>20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÊâãÂ§™Èò¥ËÇ∫Áªè BLOCKING Queue</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FooBar</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">private</span> BlockingQueue&lt;Integer&gt; bar = <span class="keyword">new</span> LinkedBlockingQueue&lt;&gt;(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">private</span> BlockingQueue&lt;Integer&gt; foo = <span class="keyword">new</span> LinkedBlockingQueue&lt;&gt;(<span class="number">1</span>);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            foo.put(i);</span><br><span class="line">            printFoo.run();</span><br><span class="line">            bar.put(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            bar.take();</span><br><span class="line">            printBar.run();</span><br><span class="line">            foo.take();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÈò≥ÊòéÂ§ßËÇ†ÁªèCyclicBarrier ÊéßÂà∂ÂÖàÂêé</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar6</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar6</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    CyclicBarrier cb = <span class="keyword">new</span> CyclicBarrier(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">volatile</span> <span class="keyword">boolean</span> fin = <span class="keyword">true</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">while</span>(!fin);</span><br><span class="line">            printFoo.run();</span><br><span class="line">            fin = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                cb.await();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (BrokenBarrierException e) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                cb.await();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (BrokenBarrierException e) &#123;&#125;</span><br><span class="line">            printBar.run();</span><br><span class="line">            fin = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÂ∞ëÈò¥ÂøÉÁªè Ëá™Êóã + ËÆ©Âá∫CPU</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar5</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar5</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="keyword">boolean</span> permitFoo = <span class="keyword">true</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;     </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ) &#123;</span><br><span class="line">            <span class="keyword">if</span>(permitFoo) &#123;</span><br><span class="line">        	    printFoo.run();</span><br><span class="line">            	i++;</span><br><span class="line">            	permitFoo = <span class="keyword">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Thread.yield();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;       </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!permitFoo) &#123;</span><br><span class="line">        	printBar.run();</span><br><span class="line">        	i++;</span><br><span class="line">        	permitFoo = <span class="keyword">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Thread.yield();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÂ∞ëÈò≥‰∏âÁÑ¶Áªè ÂèØÈáçÂÖ•ÈîÅ + Condition</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar4</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar4</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    Lock lock = <span class="keyword">new</span> ReentrantLock(<span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition foo = lock.newCondition();</span><br><span class="line">    <span class="keyword">volatile</span> <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">            	<span class="keyword">while</span>(!flag) &#123;</span><br><span class="line">                    foo.await();</span><br><span class="line">                &#125;</span><br><span class="line">                printFoo.run();</span><br><span class="line">                flag = <span class="keyword">false</span>;</span><br><span class="line">                foo.signal();</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            	lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n;i++) &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">            	<span class="keyword">while</span>(flag) &#123;</span><br><span class="line">                    foo.await();</span><br><span class="line">            	&#125;</span><br><span class="line">                printBar.run();</span><br><span class="line">                flag = <span class="keyword">true</span>;</span><br><span class="line">                foo.signal();</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            	lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÂé•Èò¥ÂøÉÂåÖÁªè synchronized + Ê†áÂøó‰Ωç + Âî§ÈÜí</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar3</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line">    <span class="comment">// Ê†áÂøó‰ΩçÔºåÊéßÂà∂ÊâßË°åÈ°∫Â∫èÔºåtrueÊâßË°åprintFooÔºåfalseÊâßË°åprintBar</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">boolean</span> type = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object foo=  <span class="keyword">new</span> Object(); <span class="comment">// ÈîÅÊ†áÂøó</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar3</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (foo) &#123;</span><br><span class="line">                <span class="keyword">while</span>(!type)&#123;</span><br><span class="line">                    foo.wait();</span><br><span class="line">                &#125;</span><br><span class="line">                printFoo.run();</span><br><span class="line">                type = <span class="keyword">false</span>;</span><br><span class="line">                foo.notifyAll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (foo) &#123;</span><br><span class="line">                <span class="keyword">while</span>(type)&#123;</span><br><span class="line">                    foo.wait();</span><br><span class="line">                &#125;</span><br><span class="line">                printBar.run();</span><br><span class="line">                type = <span class="keyword">true</span>;</span><br><span class="line">                foo.notifyAll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÂ§™Èò≥Â∞èËÇ†Áªè ‰ø°Âè∑Èáè ÈÄÇÂêàÊéßÂà∂È°∫Â∫è</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">private</span> Semaphore foo = <span class="keyword">new</span> Semaphore(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">private</span> Semaphore bar = <span class="keyword">new</span> Semaphore(<span class="number">0</span>);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            foo.acquire();</span><br><span class="line">        	printFoo.run();</span><br><span class="line">            bar.release();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            bar.acquire();</span><br><span class="line">        	printBar.run();</span><br><span class="line">            foo.release();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ"><a href="#ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ" class="headerlink" title="ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ"></a><strong>ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ</strong></h1><h2 id="‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï"><a href="#‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï" class="headerlink" title="‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï"></a><strong>‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï</strong></h2><p>‚Äã    ÈááÁî®SpringBootÊûÑÂª∫È°πÁõÆÔºå‰∏ªË¶ÅÈÄöËøáÂàÜÂ∏ÉÂºèÁºìÂ≠ò„ÄÅÈòüÂàó„ÄÅÈôêÊµÅ‰øùËØÅÁ≥ªÁªüÈ´òÂèØÁî®ÔºåNetty„ÄÅÁºìÂ≠ò„ÄÅÂèçÂêë‰ª£ÁêÜ‰øùËØÅÈ´òÂπ∂Âèë„ÄÇ</p>
<blockquote>
<p>Âèå‰∫∫ÂØπÊàòÁ≠îÈ¢ò„ÄÅÂÖ¨Âè∏ÂØπÊàòÊä¢Á≠î</p>
</blockquote>
<h3 id="1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú"><a href="#1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú" class="headerlink" title="1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú"></a>1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú</h3><ul>
<li>‰∏™‰∫∫ÊÄªÂæóÂàÜÂíåÊÄªÊéíÂêçÂÆûÊó∂Êõ¥Êñ∞</li>
<li>‰∏™‰∫∫ÊéíË°åÊ¶úÊåâÂàÜÊï∞„ÄÅÊó∂Èó¥„ÄÅÊ¨°Êï∞„ÄÅÊ≠£Á°ÆÁéáÂ±ïÁ§∫</li>
<li>Êó•Ê¶ú„ÄÅËøáÂéªNÊó•Ê¶úÊªöÂä®Êõ¥Êñ∞</li>
</ul>
<h4 id="ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã"><a href="#ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã" class="headerlink" title="ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã"></a>ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã</h4><p>‚Äã    Á¨¨‰∏ÄÊù°ÈúÄÊ±ÇÂæàÁÆÄÂçïÔºå‰ΩøÁî®‰∫ÜRedisÁöÑ<strong>Zset</strong>ÂÆûÁé∞‰∏çËøáËøôÈáåÊÄªÂæóÂàÜÈááÁî®‰∫ÜÂü∫‰∫é<strong>ÂàÜÊï∞„ÄÅÊó∂Èó¥„ÄÅÊ¨°Êï∞ÂíåÊ≠£Á°ÆÁéá</strong>ÁöÑÊ∑∑ÂêàÂä†ÊùÉ„ÄÇËÄÉËôëÂà∞Êï∞ÊçÆÁöÑ<strong>ÊåÅ‰πÖÂåñ</strong>Ôºå‰ª•Âèä<strong>ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÁöÑ‰∏ÄËá¥ÊÄß</strong>ÂØºËá¥ÁöÑËÆæËÆ°ÁöÑÂ§çÊùÇÊÄßÔºå‰ΩøÁî®‰∫Ü<strong>Ë∞∑Ê≠å</strong>ÂºÄÊ∫êÁöÑ<strong>JamsRanking</strong></p>
<p>‚Äã    ‰ºòÁÇπ<strong>ÊòØÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Áé∞ÊàêÁöÑsetScoresÂíågetRankingÊé•Âè£Â∞ÅË£Ö‰∫ÜRedisÂíåMysqlÂíåÊ∂àÊÅØÈòüÂàóÁöÑÂÆåÊàê</strong>‰∫ãÂä°Âíå‰∏ÄËá¥ÊÄß<strong>ÁöÑ‰ΩøÁî®ÁªÜËäÇ„ÄÇÁº∫ÁÇπÊòØ</strong>Âπ∂ÂèëÊØîËæÉ‰Ωé<strong>‰ΩøÁî®JmeterËøõË°åÂéãÊµãÔºåÂçïÊú∫Âè™Êúâ</strong>20<strong>Â∑¶Âè≥ÁöÑ</strong>TPS**</p>
<p>‚Äã    ÂêéÊù•Áúã‰∫Ü‰∏ãÊ∫êÁ†ÅÔºå‰∏ªË¶ÅÊòØÂÆÉÈíàÂØπÊØè‰∏ÄÊ¨°ËÆæÁΩÆÈÉΩËøõË°å‰∫ÜÂàÜÂ∏ÉÂºè‰∫ãÂä°Â§ÑÁêÜÔºåÂπ∂‰∏î‰ºöËøîÂõû‰∫ãÂä°Êèê‰∫§ÊàñÂõûÊªöÁöÑÁªìÊûú„ÄÇ‰∫ÜËß£‰∫ÜÂ∫ïÂ±ÇÂÆûÁé∞‰ª•ÂêéÂ∞±ÂéªË∞∑Ê≠åÁöÑ<strong>ÂºÄÊ∫êÁ§æÂå∫</strong>ÂéªÊü•ÈòÖ‰∫ÜÁõ∏ÂÖ≥ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂΩìÊó∂ÂÆòÊñπÂØπËøô‰∏™ÈóÆÈ¢òÂπ∂Ê≤°ÊúâÈÄöËøá<strong>ÈÖçÁΩÆËÉΩÁõ¥Êé•Ëß£ÂÜ≥ÈóÆÈ¢ò</strong>ÁöÑÂø´Êç∑ÊñπÂºèÔºå‰∏çËøáÊé®Ëçê‰∫Ü‰ΩøÁî®ËÄÖËá™Ë∫´Â¶ÇÊûúÂØπÂìçÂ∫îÊó∂Èó¥‰∏çÈ´òÁöÑÂú∫ÊôØ‰∏ãÂèØ‰ª•ÈááÁî®<strong>ÊâπÈáèÂêàÂπ∂‰∫ãÂä°</strong>ÁöÑÊñπÂºèËøõË°å‰ºòÂåñ„ÄÇÂü∫‰∫éËøô‰∏™ÊÄùË∑ØÔºåÊàë‰ª¨ÊääÂÜôÊìç‰ΩúËøõË°å‰∫ÜÂ∞ÅË£ÖÂπ∂ÊîæÂÖ•‰∫Ü<strong>ÈòüÂàó</strong>ÔºåÁÑ∂ÂêéÂú®Ê∂àË¥πËÄÖÁ´ØÊâπÈáèÂèñÂæóÊï∞ÊçÆÂêéËøõË°å‰∫ãÂä°ÁöÑÊâπÈáèÂ§ÑÁêÜÔºåÂéãÊµãÁéØÂ¢É‰∏ãÊï¥‰ΩìÊÄßËÉΩËææÂà∞‰∫Ü<strong>500TPS</strong>„ÄÇÂ∑≤ÁªèÂü∫Êú¨Êª°Ë∂≥‰∫ÜÁ∫ø‰∏äÊõ¥Êñ∞ÁöÑÈúÄÊ±ÇÔºå‰ΩÜÊòØÂΩìÊó∂ÂéãÊµãÁöÑËøáÁ®ã‰∏≠ÔºåÈòüÂàóÂÅ∂Â∞îÁöÑÂêûÂêêÈáè‰ºö<strong>Â§ßËåÉÂõ¥Ê≥¢Âä®</strong>ÔºåÁªèÂ∏∏‰ºöÊåÅÁª≠Êï∞ÂçÅÁßíÔºåÁÑ∂Âêé‰∏öÂä°‰∏ÄÊ¨°ÊÄßÂ§ÑÁêÜÂÆåÂÜçÂìçÂ∫îÔºåÂØºËá¥<strong>Â±ÄÈÉ®ÂìçÂ∫îÊó∂Èó¥Â§ßÂπÖÂ∫¶Â¢ûÈïø</strong></p>
<p>‚Äã    ÂêéÊù•‰πüÊòØÂú®ÂÆòÁΩë‰∏äÊü•ËØ¢Ôºå‰∫ÜËß£Âà∞Ë∞∑Ê≠åÂºÄÊ∫êÁªÑ‰ª∂‰ΩøÁî®ÁöÑ<strong>ÈòüÂàóÊúçÂä°</strong>Â∫ïÂ±ÇÊòØ‰ΩøÁî®<strong>BigTable</strong>‰Ωú‰∏∫ÊåÅ‰πÖÂ±ÇÔºå‰ΩÜÊòØÂΩìBigTableÂàÜÁâáËøáÂ§ßÊó∂Ôºå‰ºöËß¶Âèë<strong>ÂÜçÂàÜÁâá</strong>ÁöÑËøáÁ®ãÔºåÂÜçÂàÜÁâáÁöÑËøáÁ®ã‰∏≠ÔºåÊòØ<strong>‰∏ç‰ºöËøõË°å‰ªªÂä°ÂàÜÂèë</strong>ÁöÑÔºåÊâÄ‰ª•Â∞±‰ºöÂØºËá¥ÂÖàÂâçÁöÑÈóÆÈ¢ò„ÄÇÈíàÂØπËøô‰∏™ÈóÆÈ¢òÔºåË∞∑Ê≠åÂÆòÊñπÁöÑÂª∫ËÆÆÊòØÊèêÂâç<strong>ÈÖçÁΩÆÈòüÂàóÁöÑÊï∞Èáè„ÄÅË¥üËΩΩÁ≠ñÁï•ÂíåÊúÄÂ§ßÂÆπÈáè</strong>Á≠â‰ø°ÊÅØÔºå‰øùËØÅÊâÄÊúâÈòüÂàó<strong>‰∏çÂêåÊó∂Ëß¶Âèë</strong>ÂÜçÂàÜÁâá</p>
<p>‚Äã    ËøõË°å‰∏§Ê¨°‰ºòÂåñÂêéÔºåÂéãÊµãÁéØÂ¢ÉÂ∑≤ÁªèÂü∫Êú¨ÂèØ‰ª•Êª°Ë∂≥È¢ÑÊúü‰∫ÜÔºåÂú®ÂÆûÈôÖÁîü‰∫ßÁéØÂ¢ÉÁöÑÈÉ®ÁΩ≤‰∏≠ÔºåÂèëÁé∞ÂØπ‰∫é‰∫ãÂä°Êõ¥Êñ∞Â§±Ë¥•Êó∂ÔºåJamsRanking‰ºöÂØπÂ§±Ë¥•ÁöÑ‰∫ãÂä°ËøõË°å<strong>ÂàáÂàÜÂíåÈáçËØï</strong>ÔºåÊï¥‰∏™ËøáÁ®ãÂØπ‰∫éÁ†îÂèë‰∫∫ÂëòÊòØ<strong>ÈÄèÊòé</strong>ÁöÑÔºå‰∏çÂà©‰∫éÁ∫ø‰∏äÈóÆÈ¢òÊéíÊü•ÔºåÊâÄ‰ª•Êàë‰ª¨ÂΩìÊó∂ÁâπÂú∞ÂÜô‰∫Ü‰∏Ä‰∏™watchdogÁöÑÂ∑•ÂÖ∑ÔºåÁõëÊéß‰∫ãÂä°ÂõûÊªöËææÂà∞ÂçÅÊ¨°‰ª•‰∏äÁöÑ‰∫ãÂä°ÔºåÊü•ÊòéÂéüÂõ†ÂêéÈÄöËøáÂêéÂè∞ÁÆ°ÁêÜÁ≥ªÁªüËøõË°åÁõ∏Â∫îË°•ÂÅøÔºå‰øùËØÅ<strong>ÊúÄÁªà‰∏ÄËá¥ÊÄß</strong></p>
<p><strong>ÊúÄÁªàÁªìÊûúÔºö</strong></p>
<ul>
<li>È´òÊïàÂø´ÈÄüÔºöËÉΩÂú®Êï∞ÁôæÊØ´ÁßíÂÜÖÊâæÂà∞Áé©ÂÆ∂ÊéíÂêç‰ª•ÂèäËøõË°åÊõ¥Êñ∞</li>
<li>Âº∫‰∏ÄËá¥ÊÄß‰ª•ÂèäÊåÅ‰πÖÂåñ„ÄÅÊéíÂêçÂáÜÁ°Æ</li>
<li><p>ÂèØ‰ª•Êâ©Â±ïÂà∞‰ªªÊÑèÊï∞ÈáèÁöÑÁé©ÂÆ∂</p>
</li>
<li><p>ÂêûÂêêÈáèÊúâÈôêÂà∂ÔºåÂè™ËÉΩÊîØÊåÅÁ∫¶ÊØèÁßí 500Ê¨°Êõ¥Êñ∞„ÄÇ</p>
</li>
</ul>
<p>ÈíàÂØπËøô‰∏™Áº∫ÁÇπË∞∑Ê≠åÂÆòÊñπ‰πüÊòØÁªôÂá∫‰∫Ü‰ΩøÁî®ÂàÜÁâáÊ†ëÂíåËøë‰ººÊéíÂêçÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂΩìÁÑ∂Â§çÊùÇÁöÑÊñπÊ°àÊúâÊõ¥È´òÁöÑËøêÁª¥ÊàêÊú¨ÔºåÊâÄ‰ª•Êàë‰ª¨‰ºòÂåñÂ∑•‰Ωú‰πüÂ∞±Âà∞Ê≠§‰∏∫Ê≠¢</p>
<h4 id="ÊñπÊ°à‰ºòÂåñËøáÁ®ã"><a href="#ÊñπÊ°à‰ºòÂåñËøáÁ®ã" class="headerlink" title="ÊñπÊ°à‰ºòÂåñËøáÁ®ã"></a>ÊñπÊ°à‰ºòÂåñËøáÁ®ã</h4><h4 id="ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ"><a href="#ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ" class="headerlink" title="ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ"></a>ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ</h4><p>‚Äã    È¶ñÂÖàËÆ∞ÂΩïÊØèÂ§©ÁöÑÊéíË°åÊ¶úÂíå‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂä†ÂàÜÊó∂ÂêåÊó∂ÂÜôÂÖ•Ëøô‰∏§‰∏™Ê¶úÂçïÔºåÊØèÊó•Èõ∂ÁÇπÂêéË∑ëÂ∑•ÂÖ∑Â∞ÜÂâçÂá†Â§©Êï∞ÊçÆÁ¥ØÂä†ÂÜôÂÖ•ÂΩìÊó•ÊªöÂä®Ê¶úÔºåËØ•ÊñπÊ°àÁº∫ÁÇπÊòØÊó∂Èó¥Â§çÊùÇÂ∫¶È´òÔºå7Â§©Ê¶úËøòÂ•ΩÔºåÂè™ÈúÄË¶ÅËØªËøáÂéª6Â§©Êï∞ÊçÆÔºåÂ¶ÇÊûúÊòØ100Â§©Ê¶úÔºåËØ•ÊñπÊ°àÈúÄË¶ÅËØªËøáÂéª99Â§©Ê¶úÔºåÊòæÁÑ∂‰∏çÂèØÊé•Âèó</p>
<h4 id="ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ"><a href="#ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ" class="headerlink" title="ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ"></a>ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ</h4><p>‚Äã    Ë¶ÅÂÅöÂà∞ÊØèÊó•Èõ∂ÁÇπÂêéÊ¶úÂçïÂÆûÊó∂ÁîüÊïàÔºåËÄå‰∏çÈúÄË¶ÅÁ≠âÂæÖÁ¶ªÁ∫ø‰Ωú‰∏öÁöÑÂÆåÊàêÔºå‰∏ÄÁßçÊñπÊ°àÊòØÈ¢ÑÂÜôÊú™Êù•ÁöÑÊ¶úÂçï„ÄÇÂèØ‰ª•ÂÜôÂΩìÂ§©ÁöÑÊªöÂä®Ê¶úÁöÑÂêåÊó∂ÔºåÂÜôÂæÄÂêéN-1Â§©ÁöÑÊªöÂä®Ê¶ú‰∏ÄËµ∑ÂÜôÂÖ•ËØ•ÊñπÊ°à‰∏ç‰ªÖËÉΩËÑ±Á¶ªÁ¶ªÁ∫ø‰Ωú‰∏öÂÅöÂà∞ÂÆûÊó∂Êõ¥Êñ∞Ôºå‰∏îÂèØ‰ª•ÁúÅÁï•ÊØèÂ§©ÁöÑÊó•Ê¶ú„ÄÇ‰ΩÜÁº∫ÁÇπ‰πü‰∏çÈöæÁúãÂá∫ÔºåÂØπ‰∫é7Â§©ÊªöÂä®Ê¶úÔºåÊØèÊ¨°ÂÜôÊìç‰ΩúÈúÄË¶ÅÊõ¥Êñ∞7‰∏™Ê¶úÂçïÔºå‰ΩÜÊòØÂØπ‰∫éÁôæÊó•Ê¶úÔºåÁ©∫Èó¥Ê∂àËÄóÊó†Ê≥ïÊé•ÂèóÔºå1000‰∏áÊ¶úÂçïÂ§ßÁ∫¶Ê∂àËÄó1GÂÜÖÂ≠ò</p>
<h4 id="ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú"><a href="#ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú" class="headerlink" title="ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú"></a>ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú</h4><p>Êúâ‰∏çÊúâÂäûÊ≥ïÂÅöÂà∞Êó¢ËÉΩÂÆûÊó∂Êõ¥Êñ∞ÔºåÂÜôÊ¶úÊï∞Èáè‰πü‰∏çÈöèNÁöÑÂ¢ûÂä†ËÄåÂ¢ûÂä†Âë¢Ôºü</p>
<p>‚Äã    ‰ªçÁÑ∂ÊòØËÆ∞ÂΩïÊØèÂ§©ÁöÑÊéíË°åÊ¶úÂíå‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂä†ÂàÜÊìç‰Ωú‰πüËøòÊòØÂêåÊó∂Êìç‰ΩúÂΩìÊó•Ê¶úÂíåÂÖ®Â±ÄÊ¶úÔºå‰ΩÜÊØèÊó•Èõ∂ÁÇπÁöÑÁ¶ªÁ∫ø‰Ωú‰∏öÊîπ‰∏∫‰ªéÂÖ®Â±ÄÊ¶ú‰∏≠ÂáèÂéª‰πãÂâçËøáÊúüÁöÑÊï∞ÊçÆÔºå‰ªéËÄåÂÆûÁé∞ÂÖàÊªöÂä®Êõ¥Êñ∞„ÄÇ  Ê≠§ÊñπÊ°àÊØèÊ¨°Âè™ÈúÄËØªÂèñ‰∏Ä‰∏™Êó•Ê¶úÂÅöÂáèÊ≥ïÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)Ôºõ‰ΩÜÊòØÊó†Ê≥ïÂÅöÂà∞ÂÆûÊó∂Êõ¥Êñ∞„ÄÇ Ëøô‰∏™ÊñπÊ°àÁöÑ‰ºòÁÇπÊòØÂú®ÂçÅ‰∫åÁÇπÂâçÊèêÂâçÂáÜÂ§áÂ•ΩÂ∑ÆÂàÜÊ¶úÔºåÂà∞‰∫ÜÂçÅ‰∫åÁÇπÁõ¥Êé•Âä†‰∏äÂΩìÂ§©Êï∞ÊçÆÂ∞±ÊòØÊªöÂä®Ê¶úÂÜÖÂÆπ ÔºåËøôÊ†∑Â∞±Âú®Â∏∏Êï∞Ê¨°ÂÜôÊìç‰ΩúÁöÑÂâçÊèê‰∏ãÔºåÂÆûÁé∞‰∫ÜÊªöÂä®Ê¶úÁöÑÂÆûÊó∂Êõ¥Êñ∞</p>
<h3 id="2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò"><a href="#2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò" class="headerlink" title="2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò"></a>2„ÄÅ<strong>Â¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò</strong></h3><p>‚Äã    <strong>Âà©Áî®setnxÈò≤Ê≠¢ÈáçÂ§çÁ≠îÈ¢ò</strong><br>‚Äã    ÂàÜÂ∏ÉÂºèÈîÅÊòØÊéßÂà∂ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰πãÈó¥ÂêåÊ≠•ËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÁöÑ‰∏ÄÁßçÊñπÂºè„ÄÇ Âà©Áî®RedisÁöÑÂçïÁ∫øÁ®ãÁâπÊÄßÂØπÂÖ±‰∫´ËµÑÊ∫êËøõË°å‰∏≤Ë°åÂåñÂ§ÑÁêÜ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Ëé∑ÂèñÈîÅÊé®Ëçê‰ΩøÁî®setÁöÑÊñπÂºè</span></span><br><span class="line">String result = jedis.set(lockKey, requestId, <span class="string">"NX"</span>, <span class="string">"EX"</span>, expireTime);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Êé®Ëçê‰ΩøÁî®redis+luaËÑöÊú¨</span></span><br><span class="line">String lua = <span class="string">"if redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end"</span>;</span><br><span class="line">Object result = jedis.eval(lua, Collections.singletonList(lockKey)</span><br></pre></td></tr></table></figure>
<h3 id="3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î"><a href="#3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î" class="headerlink" title="3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î"></a><strong>3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î</strong></h3><p>‚Äã    <strong>Âà©Áî®redisÊù•ÂÆûÁé∞‰πêËßÇÈîÅÔºàÊä¢Á≠îÔºâ</strong>ÔºåÂ•ΩÂ§ÑÊòØÁ≠îÈîôÁöÑ‰∫∫‰∏çÂΩ±ÂìçÁä∂ÊÄÅÔºåÁ¨¨‰∏Ä‰∏™ÁßíÊùÄÁ≠îÂØπÁöÑ‰∫∫ÊâçËÉΩÂæóÂàÜ„ÄÇ</p>
<p>1„ÄÅÂà©Áî®redisÁöÑwatchÂäüËÉΩÔºåÁõëÊéßËøô‰∏™ Corp:Activ:Qust: ÁöÑÁä∂ÊÄÅÂÄº<br>2„ÄÅËé∑ÂèñCorp:Activ:Qust: ÁöÑÂÄºÔºåÂàõÂª∫redis‰∫ãÂä°ÔºåÁªôËøô‰∏™keyÁöÑÂÄº-1<br>3„ÄÅÊâßË°åËøô‰∏™‰∫ãÂä°ÔºåÂ¶ÇÊûúkeyÁöÑÂÄºË¢´‰øÆÊîπËøáÂàôÂõûÊªöÔºåkey‰∏çÂèò</p>
<h3 id="4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç"><a href="#4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç" class="headerlink" title="4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç"></a><strong>4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç</strong></h3><p>‚Äã    <strong>‰ΩøÁî®Â∏ÉÈöÜËøáÊª§Âô®Ôºö</strong></p>
<p>‚Äã    ÂÆÉÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ÂæàÈïøÁöÑ‰∫åËøõÂà∂Áü¢ÈáèÊï∞ÁªÑÂíå K ‰∏™ÂìàÂ∏åÂáΩÊï∞„ÄÇÂΩì‰∏Ä‰∏™ÊòµÁß∞Âä†ÂÖ•Â∏ÉÈöÜËøáÊª§Âô®‰∏≠ÁöÑÊó∂ÂÄôÔºå‰ºöËøõË°åÂ¶Ç‰∏ãÊìç‰ΩúÔºö</p>
<ul>
<li>‰ΩøÁî® K ‰∏™ÂìàÂ∏åÂáΩÊï∞ÂØπÂÖÉÁ¥†ÂÄºËøõË°å K Ê¨°ËÆ°ÁÆóÔºåÂæóÂà∞ K ‰∏™ÂìàÂ∏åÂÄº„ÄÇ</li>
<li>Ê†πÊçÆÂæóÂà∞ÁöÑÂìàÂ∏åÂÄºÔºåÂú®‰ΩçÊï∞ÁªÑ‰∏≠ÊääÂØπÂ∫î‰∏ãÊ†áÁöÑÂÄºÁΩÆ‰∏∫ 1„ÄÇ Na</li>
</ul>
<p>‚Äã    Áî®Êà∑Êñ∞Â¢ûÊòµÁß∞Êó∂ÈúÄË¶ÅÈ¶ñÂÖàËÆ°ÁÆóK‰∏™ÂìàÂ∏åÂÄºÔºåÂ¶ÇÊûúK‰∏™ÂìàÂ∏åÂÄºÊúâ‰∏Ä‰∏™‰∏ç‰∏∫0ÂàôÈÄöËøáÔºåÂê¶Âàô‰∏çÈÄöËøáÔºå‰∏çÈÄöËøáÊó∂ÈÄöËøáÂä†ÈöèÊú∫Â≠óÁ¨¶‰∏≤ÂÜçÊ¨°Ê£ÄÈ™åÔºåÊ£ÄÊµãÈÄöËøáÂêéËøîÂõûÁªôÂâçÁ´ØÔºåÂ∏ÆÂä©Áî®Êà∑Ëá™Âä®Â°´ÂÜô„ÄÇ</p>
<p>‚Äã    Â∏ÉÈöÜËøáÊª§Âô®ÁöÑÂ•ΩÂ§ÑÊòØÂÆÉ<strong>ÂèØ‰ª•Áî®Êù•Âà§Êñ≠‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØÂê¶Âú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠</strong>„ÄÇÂÆÉÁöÑ‰ºòÂäøÊòØÂè™ÈúÄË¶ÅÂç†Áî®ÂæàÂ∞èÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰ª•ÂèäÊúâÁùÄÈ´òÊïàÁöÑÊü•ËØ¢ÊïàÁéá„ÄÇÂØπ‰∫éÂ∏ÉÈöÜËøáÊª§Âô®ËÄåË®ÄÔºåÂÆÉÁöÑÊú¨Ë¥®ÊòØ‰∏Ä‰∏™<strong>‰ΩçÊï∞ÁªÑ</strong>Ôºö‰ΩçÊï∞ÁªÑÂ∞±ÊòØÊï∞ÁªÑÁöÑÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÂè™Âç†Áî® 1 bit ÔºåÂπ∂‰∏îÊØè‰∏™ÂÖÉÁ¥†Âè™ËÉΩÊòØ 0 ÊàñËÄÖ 1„ÄÇ</p>
<p>BloomFilter ÁöÑ‰ºòÂäøÊòØÔºåÂÖ®ÂÜÖÂ≠òÊìç‰ΩúÔºåÊÄßËÉΩÂæàÈ´ò„ÄÇÂè¶Â§ñÁ©∫Èó¥ÊïàÁéáÈùûÂ∏∏È´òÔºå<strong>Ë¶ÅËææÂà∞ 1% ÁöÑËØØÂà§ÁéáÔºåÂπ≥ÂùáÂçïÊù°ËÆ∞ÂΩïÂç†Áî® 1.2 Â≠óËäÇÂç≥ÂèØ„ÄÇËÄå‰∏îÔºåÂπ≥ÂùáÂçïÊù°ËÆ∞ÂΩïÊØèÂ¢ûÂä† 0.6 Â≠óËäÇÔºåËøòÂèØËÆ©ËØØÂà§ÁéáÁªßÁª≠Âèò‰∏∫‰πãÂâçÁöÑ 1/10ÔºåÂç≥Âπ≥ÂùáÂçïÊù°ËÆ∞ÂΩïÂç†Áî® 1.8 Â≠óËäÇÔºåËØØÂà§ÁéáÂèØ‰ª•ËææÂà∞ 1/1000ÔºõÂπ≥ÂùáÂçïÊù°ËÆ∞ÂΩïÂç†Áî® 2.4 Â≠óËäÇÔºåËØØÂà§ÁéáÂèØ‰ª•Âà∞ 1/10000Ôºå‰ª•Ê≠§Á±ªÊé®</strong>„ÄÇËøôÈáåÁöÑËØØÂà§ÁéáÊòØÊåáÔºåBloomFilter Âà§Êñ≠Êüê‰∏™ key Â≠òÂú®Ôºå‰ΩÜÂÆÉÂÆûÈôÖ‰∏çÂ≠òÂú®ÁöÑÊ¶ÇÁéáÔºåÂõ†‰∏∫ÂÆÉÂ≠òÁöÑÊòØ key ÁöÑ Hash ÂÄºÔºåËÄåÈùû key ÁöÑÂÄºÔºåÊâÄ‰ª•ÊúâÊ¶ÇÁéáÂ≠òÂú®ËøôÊ†∑ÁöÑ keyÔºåÂÆÉ‰ª¨ÂÜÖÂÆπ‰∏çÂêåÔºå‰ΩÜÂ§öÊ¨° Hash ÂêéÁöÑ Hash ÂÄºÈÉΩÁõ∏Âêå„ÄÇÂØπ‰∫é BloomFilter Âà§Êñ≠‰∏çÂ≠òÂú®ÁöÑ key ÔºåÂàôÊòØ 100% ‰∏çÂ≠òÂú®ÁöÑÔºåÂèçËØÅÊ≥ïÔºåÂ¶ÇÊûúËøô‰∏™ key Â≠òÂú®ÔºåÈÇ£ÂÆÉÊØèÊ¨° Hash ÂêéÂØπÂ∫îÁöÑ Hash ÂÄº‰ΩçÁΩÆËÇØÂÆöÊòØ 1ÔºåËÄå‰∏ç‰ºöÊòØ 0</p>
<p>‚Äã        </p>
<h3 id="5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°"><a href="#5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°" class="headerlink" title="5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°"></a><strong>5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°</strong></h3><p>‚Äã    ÂéãÊµãÁéØÂ¢É‰∏≠ÊúçÂä°Âô®ÈÄöËøáNettyÁöÑ‰∏ª‰ªéReactorÂ§öË∑ØÂ§çÁî®NIO‰∫ã‰ª∂Ê®°ÂûãÔºåÂçïÊú∫ÂèØ‰ª•<strong>ËΩªÊùæÂ∫îÂØπÂçÅ‰∏áÈïøËøûÊé•</strong>Ôºå‰ΩÜÊòØÊØè‰∏™‰∏öÂä°‰∏≠ÔºåÁî±‰∫éÊØè‰∏™Áî®Êà∑ÁôªÂΩïÁ≥ªÁªüÂêéÈúÄË¶ÅÊåâÁÖßÊåáÂÆöÈ°∫Â∫èÁ≠îÈ¢òÔºå‰æãÂ¶Ç‰∏ÄÂÖ±Ë¶ÅÁ≠îÂçÅÈÅìÔºåÈÇ£‰πàÊúçÂä°Âô®ÈíàÂØπËøô‰∏Ä‰∏™Áî®Êà∑Â∞±‰ºö‰∫ßÁîüÂçÅ‰∏™ÂÆöÊó∂‰ªªÂä°ÔºåÊâÄ‰ª•ÂØπ‰∫éÁ≥ªÁªüÊù•ËØ¥ÔºåÂÆöÊó∂Âô®ÁöÑ<strong>Êï∞ÈáèÂ∞±ÊòØÁôæ‰∏áÁ∫ßÂà´ÁöÑ</strong>„ÄÇ</p>
<p>‚Äã    ÈÄöËøáÂéãÊµãÁªìÊûúÂèëÁé∞ÔºöJDKËá™Â∏¶ÁöÑTimerÔºåÂú®Â§ßÊ¶Ç‰∏â‰∏áÂπ∂ÂèëÊó∂ÊÄßËÉΩÂ∞±ÊÄ•Ââß‰∏ãÈôç‰∫Ü„ÄÇ‰πüÊòØÊ≠§Êó∂Ê†πÊçÆ‰∏öÂä°Âú∫ÊôØÁöÑÈúÄË¶ÅÔºåÂ∞ÜÂÆöÊó∂‰ªªÂä°ÊîπÊàê‰∫ÜNettyËá™Â∏¶ÁöÑHashedWheelTimerÊó∂Èó¥ËΩÆÊñπÊ°àÔºåÈÄöËøáÂéãÊµãÂçïÊú∫Âú®50‰∏áÁ∫ßÂà´‰∏ã‰æùÁÑ∂ËÉΩÂ§üÂπ≥ÊªëÁöÑÊâßË°å„ÄÇ</p>
<p>‚Äã    ‰πüÊòØËøô‰∏™Âº∫ÁÉàÁöÑÂèçÂ∑ÆÔºå‰ΩøÊàëÂú®Âº∫ÁÉàÁöÑÂ•ΩÂ•áÂøÉ‰øÉ‰Ωø‰∏ãÔºåÈòÖËØªÊ∫êÁ†Å‰∫ÜËß£Âà∞Â∏∏ËßÑÁöÑJDK ÁöÑTimer Âíå DelayedQueue Á≠âÂ∑•ÂÖ∑Á±ªÔºåÂèØÂÆûÁé∞ÁÆÄÂçïÁöÑÂÆöÊó∂‰ªªÂä°ÔºåÂçïÂ∫ïÂ±ÇÁî®ÁöÑÊòØ<strong>Â†ÜÊï∞ÊçÆÁªìÊûÑ</strong>ÔºåÂ≠òÂèñÂ§çÊùÇÂ∫¶ÈÉΩÊòØ <strong>O(NlogN)</strong>ÔºåÊó†Ê≥ïÊîØÊíëÊµ∑ÈáèÂÆöÊó∂‰ªªÂä°„ÄÇ<strong>NettyÁªèÂÖ∏ÁöÑÊó∂Èó¥ËΩÆÊñπÊ°à</strong>ÔºåÊ≠£ÊòØÈÄöËøáÂ∞Ü‰ªªÂä°Â≠òÂèñÂèäÂèñÊ∂àÊìç‰ΩúÊó∂Èó¥Â§çÊùÇÂ∫¶Èôç‰∏∫ O(1)ÔºåËÄåÂπøÊ≥õÂ∫îÁî®Âú®ÂÆöÊó∂<strong>‰ªªÂä°ÈáèÂ§ß„ÄÅÊÄßËÉΩË¶ÅÊ±ÇÈ´ò</strong>ÁöÑÂú∫ÊôØ‰∏≠„ÄÇ</p>
<p>‚Äã    <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/0081Kckwly1glvl9c3hp2j30py0d7q4i.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/0081Kckwly1glvl9c3hp2j30py0d7q4i.jpg" alt="img" style="zoom:50%;"></a></p>
<p>‚Äã    Âü∫‰∫éNettyÁöÑWebsocketÂ∫ïÂ±ÇÔºåÊúçÂä°Âô®Á´ØÁª¥Êä§‰∏Ä‰∏™È´òÊïàÊâπÈáèÁÆ°ÁêÜÂÆöÊó∂‰ªªÂä°ÁöÑË∞ÉÂ∫¶Ê®°Âûã„ÄÇÊó∂Èó¥ËΩÆ‰∏ÄËà¨‰ºöÂÆûÁé∞Êàê‰∏Ä‰∏™<strong>ÁéØÂΩ¢Êï∞ÁªÑÁªìÊûÑ</strong>ÔºåÁ±ª‰ºº‰∏Ä‰∏™Êó∂ÈíüÔºåÂàÜ‰∏∫ÂæàÂ§öÊßΩÔºå‰∏Ä‰∏™ÊßΩ‰ª£Ë°®‰∏Ä‰∏™Êó∂Èó¥Èó¥ÈöîÔºåÊØè‰∏™ÊßΩ‰ΩøÁî®<strong>ÂèåÂêëÈìæË°®</strong>Â≠òÂÇ®ÂÆöÊó∂‰ªªÂä°„ÄÇÊåáÈíà<strong>Âë®ÊúüÊÄßÂú∞Ë∑≥Âä®</strong>ÔºåË∑≥Âä®Âà∞‰∏Ä‰∏™ÊßΩ‰ΩçÔºåÂ∞±ÊâßË°åËØ•ÊßΩ‰ΩçÁöÑÂÆöÊó∂‰ªªÂä°„ÄÇ</p>
<p>‚Äã    ÂçïÂ±ÇÊó∂Èó¥ËΩÆÁöÑÂÆπÈáèÂíåÁ≤æÂ∫¶ÈÉΩÊòØÊúâÈôêÁöÑÔºåÂØπ‰∫éÁ≤æÂ∫¶Ë¶ÅÊ±ÇÁâπÂà´È´ò„ÄÅÊó∂Èó¥Ë∑®Â∫¶ÁâπÂà´Â§ßÊàñÊòØÊµ∑ÈáèÂÆöÊó∂‰ªªÂä°ÈúÄË¶ÅË∞ÉÂ∫¶ÁöÑÂú∫ÊôØÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®Â§öÁ∫ßÊó∂Èó¥ËΩÆ‰ª•ÂèäÊåÅ‰πÖÂåñÂ≠òÂÇ®‰∏éÊó∂Èó¥ËΩÆÁªìÂêàÁöÑÊñπÊ°à„ÄÇÊó∂Èó¥ËΩÆÁöÑ<strong>ÂÆöÊó∂‰ªªÂä°Â§ÑÁêÜÈÄªËæë</strong>Â¶Ç‰∏ãÔºö</p>
<ol>
<li>Â∞ÜÁºìÂ≠òÂú® timeouts ÈòüÂàó‰∏≠ÁöÑÂÆöÊó∂‰ªªÂä°ËΩ¨ÁßªÂà∞Êó∂Èó¥ËΩÆ‰∏≠ÂØπÂ∫îÁöÑÊßΩ‰∏≠</li>
<li>Ê†πÊçÆÂΩìÂâçÊåáÈíàÂÆö‰ΩçÂØπÂ∫îÊßΩÔºåÂ§ÑÁêÜËØ•ÊßΩ‰ΩçÁöÑÂèåÂêëÈìæË°®‰∏≠ÁöÑÂÆöÊó∂‰ªªÂä°Ôºå‰ªéÈìæË°®Â§¥ÈÉ®ÂºÄÂßãËø≠‰ª£Ôºö<ul>
<li>Â±û‰∫éÂΩìÂâçÊó∂ÈíüÂë®ÊúüÂàôÂèñÂá∫ËøêË°å</li>
<li>‰∏çÂ±û‰∫éÂàôÂ∞ÜÂÖ∂Ââ©‰ΩôÁöÑÊó∂ÈíüÂë®ÊúüÊï∞Âáè‰∏Ä</li>
</ul>
</li>
<li>Ê£ÄÊµãÊó∂Èó¥ËΩÆÁöÑÁä∂ÊÄÅ„ÄÇÂ¶ÇÊûúÊó∂Èó¥ËΩÆÂ§Ñ‰∫éËøêË°åÁä∂ÊÄÅÔºåÂàôÂæ™ÁéØÊâßË°å‰∏äËø∞Ê≠•È™§Ôºå‰∏çÊñ≠ÊâßË°åÂÆöÊó∂‰ªªÂä°„ÄÇ</li>
</ol>
<h3 id="6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû"><a href="#6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû" class="headerlink" title="6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû"></a><strong>6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû</strong></h3><p>‚Äã    ‰ΩøÁî®NettyÁöÑ<strong>ÈáçËøûÊ£ÄÊµãÁãó</strong>ConnectionWatchdog</p>
<p>‚Äã    ÊúçÂä°Á´ØÂÆö‰πârefreshTimeÔºåÂΩìÊàë‰ª¨‰ªéchannel‰∏≠readÂà∞‰∫ÜÊúçÂä°Á´ØÂèëÊù•ÁöÑÂøÉË∑≥ÂìçÂ∫îÊ∂àÊÅØÁöÑËØùÔºåÂ∞±Âà∑Êñ∞refreshTime‰∏∫ÂΩìÂâçÊó∂Èó¥</p>
<p>‚Äã    ÂÆ¢Êà∑Á´ØÂú®stateÊòØWRITER_IDLEÁöÑÊó∂ÂÄôÊØèÈöî‰∏ÄÁßíÂ∞±ÂèëÈÄÅ‰∏Ä‰∏™ÂøÉË∑≥ÂåÖÂà∞severÁ´ØÔºåÂëäËØâserverÁ´ØÊàëËøòÊ¥ªÁùÄ„ÄÇ</p>
<p>ÂΩìÈáçËøûÊàêÂäüÊó∂Ôºå‰ºöËß¶ÂèëchannelActiveÊñπÊ≥ïÔºåÂú®ËøôÈáåÊàë‰ª¨ÂºÄÂêØ‰∫Ü‰∏Ä‰∏™ÂÆöÊó∂‰ªªÂä°ÂéªÂà§Êñ≠refreshTimeÂíåÂΩìÂâçÊó∂Èó¥ÁöÑÊó∂Èó¥Â∑ÆÔºåË∂ÖËøá5ÁßíËØ¥ÊòéÊñ≠Á∫ø‰∫ÜÔºåË¶ÅËøõË°åÈáçËøûÔºåÊúÄÂêéËÆ°ÁÆóÈáçËøûÊ¨°Êï∞ÔºåÂ∞ùËØïËøûÊé•2Ê¨°‰ª•‰∏äËøû‰∏ç‰∏äÂ∞±‰ºö‰øÆÊîπheader‰ø°ÊÅØÂº∫Âà∂ÈáçËøûÂéªËøûÂè¶‰∏Ä‰∏™ÊúçÂä°Âô®„ÄÇ</p>
<h2 id="‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ"><a href="#‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ" class="headerlink" title="‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ"></a>‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ</h2><h3 id="ÊäÄÊúØÈÄâÂûã"><a href="#ÊäÄÊúØÈÄâÂûã" class="headerlink" title="ÊäÄÊúØÈÄâÂûã"></a><strong>ÊäÄÊúØÈÄâÂûã</strong></h3><p>ÁßíÊùÄÁî®Âà∞ÁöÑÂü∫Á°ÄÁªÑ‰ª∂Ôºå‰∏ªË¶ÅÊúâ<strong>Ê°ÜÊû∂„ÄÅKV Â≠òÂÇ®„ÄÅÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì„ÄÅMQ</strong>„ÄÇ</p>
<p>Ê°ÜÊû∂‰∏ªË¶ÅÊúâ Web Ê°ÜÊû∂Âíå RPC Ê°ÜÊû∂„ÄÇ</p>
<p>ÂÖ∂‰∏≠ÔºåWeb Ê°ÜÊû∂‰∏ªË¶ÅÁî®‰∫éÊèê‰æõ HTTP Êé•Âè£ÁªôÊµèËßàÂô®ËÆøÈóÆÔºåÊâÄ‰ª• Web Ê°ÜÊû∂ÁöÑÈÄâÂûãÂú®ÁßíÊùÄÊúçÂä°‰∏≠ÈùûÂ∏∏ÈáçË¶Å„ÄÇÂú®ËøôÈáåÔºåÊàë<strong>Êé®ËçêGin</strong>ÔºåÂÆÉÁöÑÊÄßËÉΩÂíåÊòìÁî®ÊÄßÈÉΩ‰∏çÈîôÔºåÂú® <strong>GitHub ‰∏äÁöÑ Star ËææÂà∞‰∫Ü 44k</strong>„ÄÇÂØπÊØîÊÄßËÉΩÊúÄÂ•ΩÁöÑ fasthttpÔºåËôΩÁÑ∂ fasthttp Âú®ËØ∑Ê±ÇÂª∂Ëøü‰Ωé‰∫é 10ms Êó∂ÊÄßËÉΩ‰ºòÂäøÊòéÊòæÔºå‰ΩÜÂÖ∂Â∫ïÂ±Ç‰ΩøÁî®ÁöÑÂØπË±°Ê±†ÂÆπÊòìËÆ©‰∫∫Ë∏©ÂùëÔºåÂØºËá¥ÂÖ∂ÊòìÁî®ÊÄßËæÉÂ∑ÆÔºåÊâÄ‰ª•Ê≤°ÂøÖË¶ÅËøá‰∫éËøΩÊ±ÇÊÄßËÉΩËÄåÂøΩÁï•‰∫ÜÁ®≥ÂÆöÊÄß</p>
<p>Ëá≥‰∫é RPC Ê°ÜÊû∂ÔºåÊàëÊé®ËçêÈÄâÁî® <strong>gRPC</strong>ÔºåÂõ†‰∏∫ÂÆÉÁöÑÊâ©Â±ïÊÄßÂíåÊÄßËÉΩÈÉΩÈùûÂ∏∏‰∏çÈîô„ÄÇÂú®ÁßíÊùÄÁ≥ªÁªü‰∏≠ÔºåRedis ‰∏≠ÁöÑÊï∞ÊçÆ‰∏ªË¶ÅÊòØÁªôÁßíÊùÄÊé•Âè£ÊúçÂä°‰ΩøÁî®Ôºå‰ª•‰æøÂ∞ÜÈÖçÁΩÆ‰ªéÁÆ°ÁêÜÂêéÂè∞ÂêåÊ≠•Âà∞ Redis ÁºìÂ≠ò‰∏≠„ÄÇ</p>
<p>KV Â≠òÂÇ®ÊñπÈù¢ÔºåÁßíÊùÄÁ≥ªÁªü‰∏≠‰∏ªË¶ÅÊòØÁî® <strong>Redis ÁºìÂ≠òÊ¥ªÂä®ÈÖçÁΩÆ</strong>ÔºåÁî® <strong>etcd Â≠òÂÇ®ÈõÜÁæ§‰ø°ÊÅØ</strong>„ÄÇ</p>
<p>ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠Ôºå<strong>MySQL</strong> ÊäÄÊúØÊàêÁÜü‰∏îÁ®≥ÂÆöÂèØÈù†ÔºåÁßíÊùÄÁ≥ªÁªüÁî®ÂÆÉÂ≠òÂÇ®Ê¥ªÂä®ÈÖçÁΩÆÊï∞ÊçÆÂæàÂêàÈÄÇ„ÄÇ‰∏ªË¶Å ÂéüÂõ†ËøòÊòØÁßíÊùÄÊ¥ªÂä®‰ø°ÊÅØÂíåÂ∫ìÂ≠òÊï∞ÊçÆÈÉΩÁºìÂ≠òÂú® Redis ‰∏≠ÔºåÊ¥ªÂä®ËøáÁ®ã‰∏≠ÁßíÊùÄÊúçÂä°‰∏çÊìç‰ΩúÊï∞ÊçÆÂ∫ìÔºå ‰ΩøÁî® MySQL ÂÆåÂÖ®ËÉΩÂ§üÊª°Ë∂≥ÈúÄÊ±Ç„ÄÇ</p>
<p>MQ ÊúâÂæàÂ§öÁßçÔºåÂÖ∂‰∏≠ <strong>Kafka</strong> Âú®‰∏öÁïåËÆ§ÂèØÂ∫¶ÊúÄÈ´òÔºåÊäÄÊúØ‰πüÈùûÂ∏∏ÊàêÁÜüÔºåÊÄßËÉΩÂæà‰∏çÈîôÔºåÈùûÂ∏∏ÈÄÇÂêàÁî®Âú®ÁßíÊùÄÁ≥ªÁªü‰∏≠„ÄÇKafka ÊîØÊåÅËá™Âä®ÂàõÂª∫ÈòüÂàóÔºåÁßíÊùÄÊúçÂä°ÂêÑ‰∏™ËäÇÁÇπÂèØ‰ª•Áî®ÂÆÉËá™Âä®ÂàõÂª∫Â±û‰∫éËá™Â∑±ÁöÑÈòüÂàó</p>
<h3 id="ÊñπÊ°àËÆæËÆ°"><a href="#ÊñπÊ°àËÆæËÆ°" class="headerlink" title="ÊñπÊ°àËÆæËÆ°"></a>ÊñπÊ°àËÆæËÆ°</h3><p><strong>ËÉåÊôØ</strong></p>
<ul>
<li>ÁßíÊùÄ‰∏öÂä°ÁÆÄÂçïÔºåÊØè‰∏™ÁßíÊùÄÊ¥ªÂä®ÁöÑÂïÜÂìÅÊòØ‰∫ãÂÖàÂÆö‰πâÂ•ΩÁöÑÔºåÂïÜÂìÅÊúâÊòéÁ°ÆÁöÑÁ±ªÂûãÂíåÊï∞ÈáèÔºåÂçñÂÆåÂç≥Ê≠¢<br>-<br>ÁßíÊùÄÊ¥ªÂä®ÂÆöÊó∂‰∏äÊû∂ÔºåÊ∂àË¥πËÄÖÂèØ‰ª•Âú®Ê¥ªÂä®ÂºÄÂßãÂêéÔºåÈÄöËøáÁßíÊùÄÂÖ•Âè£ËøõË°åÊä¢Ë¥≠ÁßíÊùÄÊ¥ªÂä®</li>
</ul>
<p>-<br>  ÁßíÊùÄÊ¥ªÂä®Áî±‰∫éÂïÜÂìÅÁâ©Áæé‰ª∑ÂªâÔºåÂºÄÂßãÂîÆÂçñÂêéÔºå‰ºöË¢´Âø´ÈÄüÊä¢Ë¥≠‰∏ÄÁ©∫„ÄÇ</p>
<p><strong>Áé∞Ë±°</strong></p>
<p>-<br>  ÁßíÊùÄÊ¥ªÂä®ÊåÅÁª≠Êó∂Èó¥Áü≠ÔºåËÆøÈóÆÂÜ≤ÂáªÈáèÂ§ßÔºåÁßíÊùÄÁ≥ªÁªüÈúÄË¶ÅÂ∫îÂØπËøôÁßçÁàÜÂèëÊÄßÁöÑËÆøÈóÆÊ®°Âûã</p>
<p>-<br>  ‰∏öÂä°ÁöÑËØ∑Ê±ÇÈáèËøúËøúÂ§ß‰∫éÂîÆÂçñÈáèÔºåÂ§ßÈÉ®ÂàÜÊòØÈô™Ë∑ëÁöÑËØ∑Ê±ÇÔºåÁßíÊùÄÁ≥ªÁªüÈúÄË¶ÅÊèêÂâçËßÑÂàíÂ•ΩÂ§ÑÁêÜÁ≠ñÁï•</p>
<p>-<br>  ÂâçÁ´ØËÆøÈóÆÈáèÂ∑®Â§ßÔºåÁ≥ªÁªüÂØπÂêéÁ´ØÊï∞ÊçÆÁöÑËÆøÈóÆÈáè‰πü‰ºöÁü≠Êó∂Èó¥ÁàÜÂ¢ûÔºåÂØπÊï∞ÊçÆÂ≠òÂÇ®ËµÑÊ∫êËøõË°åËâØÂ•ΩËÆæËÆ°</p>
<p>-<br>  Ê¥ªÂä®ÊúüÈó¥‰ºöÁªôÊï¥‰∏™‰∏öÂä°Á≥ªÁªüÂ∏¶Êù•Ë∂ÖÂ§ßË¥üËç∑ÔºåÈúÄË¶ÅÂà∂ÂÆöÂêÑÁßçÁ≠ñÁï•ÔºåÈÅøÂÖçÁ≥ªÁªüËøáËΩΩËÄåÂÆïÊú∫</p>
<p>-<br>  ÂîÆÂçñÊ¥ªÂä®ÂïÜÂìÅ‰ª∑Ê†º‰ΩéÂªâÔºåÂ≠òÂú®Â•óÂà©Á©∫Èó¥ÔºåÂêÑÁßçÈùûÊ≥ï‰ΩúÂºäÊâãÊÆµÂ±ÇÂá∫ÔºåÈúÄË¶ÅÊèêÂâçËßÑÂàíÈ¢ÑÈò≤Á≠ñÁï•</p>
<p><strong>ÁßíÊùÄÁ≥ªÁªüËÆæËÆ°</strong></p>
<p>‚Äã    È¶ñÂÖàÔºåË¶Å<strong>Â∞ΩÂäõÂ∞ÜËØ∑Ê±ÇÊã¶Êà™Âú®Á≥ªÁªü‰∏äÊ∏∏</strong>ÔºåÂ±ÇÂ±ÇËÆæÈòªÊã¶Êà™ÔºåËøáÊª§ÊéâÊó†ÊïàÊàñË∂ÖÈáèÁöÑËØ∑Ê±Ç„ÄÇÂõ†‰∏∫ËÆøÈóÆÈáèËøúËøúÂ§ß‰∫éÂïÜÂìÅÊï∞ÈáèÔºåÊâÄÊúâÁöÑËØ∑Ê±ÇÊâìÂà∞ÂêéÁ´ØÊúçÂä°ÁöÑÊúÄÂêé‰∏ÄÊ≠•ÔºåÂÖ∂ÂÆûÂπ∂Ê≤°ÊúâÂøÖË¶ÅÔºåÂèçËÄå‰ºö‰∏•ÈáçÊãñÊÖ¢ÁúüÊ≠£ËÉΩÊàê‰∫§ÁöÑËØ∑Ê±ÇÔºåÈôç‰ΩéÁî®Êà∑‰ΩìÈ™å„ÄÇ</p>
<p>‚Äã    ÁßíÊùÄÁ≥ªÁªü‰∏ì‰∏∫ÁßíÊùÄÊ¥ªÂä®ÊúçÂä°ÔºåÂîÆÂçñÂïÜÂìÅÁ°ÆÂÆöÔºåÂõ†Ê≠§ÂèØ‰ª•Âú®ËÆæËÆ°ÁßíÊùÄÂïÜÂìÅÈ°µÈù¢Êó∂ÔºåÂ∞ÜÂïÜÂìÅ‰ø°ÊÅØÊèêÂâçËÆæËÆ°‰∏∫ÈùôÊÄÅ‰ø°ÊÅØÔºåÂ∞ÜÈùôÊÄÅÁöÑÂïÜÂìÅ‰ø°ÊÅØ‰ª•ÂèäÂ∏∏ËßÑÁöÑ CSS„ÄÅJS„ÄÅÂÆ£‰º†ÂõæÁâáÁ≠âÈùôÊÄÅËµÑÊ∫êÔºå‰∏ÄËµ∑<strong>Áã¨Á´ãÂ≠òÊîæÂà∞ CDN ËäÇÁÇπ</strong>ÔºåÂä†ÈÄüËÆøÈóÆÔºå‰∏îÈôç‰ΩéÁ≥ªÁªüËÆøÈóÆÂéãÂäõÔºåÂú®ËÆøÈóÆÂâçÁ´Ø‰πüÂèØ‰ª•<strong>Âà∂ÂÆöÁßçÁßçÈôêÂà∂Á≠ñÁï•Ôºå</strong>ÊØîÂ¶ÇÊ¥ªÂä®Ê≤°ÂºÄÂßãÊó∂ÔºåÊä¢Ë¥≠ÊåâÈíÆÁΩÆÁÅ∞ÔºåÈÅøÂÖçÊä¢ÂÖàËÆøÈóÆÔºåÁî®Êà∑Êä¢Ë¥≠‰∏ÄÊ¨°ÂêéÔºå‰πüÂ∞ÜÊåâÈíÆÁΩÆÁÅ∞ÔºåËÆ©Áî®Êà∑ÊéíÈòüÁ≠âÂæÖÔºåÈÅøÂÖçÂèçÂ§çÂà∑Êñ∞„ÄÇ</p>
<p>‚Äã    ÂÖ∂Ê¨°ÔºåË¶Å<strong>ÂÖÖÂàÜÂà©Áî®ÁºìÂ≠ò</strong>ÔºåÊèêÂçáÁ≥ªÁªüÁöÑÊÄßËÉΩÂíåÂèØÁî®ÊÄß„ÄÇ</p>
<p>‚Äã    Áî®Êà∑ÊâÄÊúâÁöÑËØ∑Ê±ÇËøõÂÖ•ÁßíÊùÄÁ≥ªÁªüÂâçÔºåÈÄöËøá<strong>Ë¥üËΩΩÂùáË°°Á≠ñÁï•</strong>ÂùáÂåÄÂàÜÂèëÂà∞‰∏çÂêå Web ÊúçÂä°Âô®ÔºåÈÅøÂÖçËäÇÁÇπËøáËΩΩ„ÄÇÂú® Web ÊúçÂä°Âô®‰∏≠ÔºåÈ¶ñÂÖàÊ£ÄÊü•Áî®Êà∑ÁöÑËÆøÈóÆÊùÉÈôêÔºåËØÜÂà´Âπ∂ÂèëÂà∑ËÆ¢ÂçïÁöÑË°å‰∏∫„ÄÇÂ¶ÇÊûúÂèëÁé∞ÂîÆÂá∫Êï∞ÈáèÂ∑≤ÁªèËææÂà∞ÁßíÊùÄÊï∞ÈáèÔºåÂàôÁõ¥Êé•ËøîÂõûÁªìÊùüÔºåË¶ÅÂ∞ÜÁßíÊùÄ‰∏öÂä°Á≥ªÁªüÂíåÂÖ∂‰ªñ‰∏öÂä°Á≥ªÁªüËøõË°åÂäüËÉΩÂàÜÊãÜÔºåÂ∞ΩÈáèÂ∞ÜÁßíÊùÄÁ≥ªÁªüÂèä‰æùËµñÊúçÂä°<strong>Áã¨Á´ãÂàÜÊãÜÈÉ®ÁΩ≤</strong>ÔºåÈÅøÂÖçÂΩ±ÂìçÂÖ∂‰ªñÊ†∏ÂøÉ‰∏öÂä°Á≥ªÁªü„ÄÇ</p>
<p>‚Äã    ÁßíÊùÄÁ≥ªÁªüÈúÄË¶ÅÊûÑÂª∫ËÆøÈóÆËÆ∞ÂΩïÁºìÂ≠òÔºåËÆ∞ÂΩïËÆøÈóÆ IP„ÄÅÁî®Êà∑ÁöÑËÆøÈóÆË°å‰∏∫ÔºåÂèëÁé∞ÂºÇÂ∏∏ËÆøÈóÆÔºåÊèêÂâçËøõË°åÈòªÊñ≠ÂèäËøîÂõû„ÄÇÂêåÊó∂ËøòÈúÄË¶Å<strong>ÊûÑÂª∫Áî®Êà∑ÁºìÂ≠ò</strong>ÔºåÂπ∂ÈíàÂØπÂéÜÂè≤Êï∞ÊçÆÂàÜÊûêÔºåÊèêÂâçÁºìÂ≠òÂÉµÂ∞∏Âº∫Âà∑‰∏ì‰∏öÊà∑ÔºåÊñπ‰æøÂú®ÁßíÊùÄÊúüÈó¥ÂØπÂÖ∂ËøõË°åÁ≠ñÁï•ÈôêÂà∂„ÄÇËøô‰∫õËÆøÈóÆËÆ∞ÂΩï„ÄÅÁî®Êà∑Êï∞ÊçÆÔºåÈÄöËøáÁºìÂ≠òËøõË°åÂ≠òÂÇ®ÔºåÂèØ‰ª•Âä†ÈÄüËÆøÈóÆÔºåÂè¶Â§ñÔºåÂØπÁî®Êà∑Êï∞ÊçÆËøòËøõË°åÁºìÂ≠òÈ¢ÑÁÉ≠ÔºåÈÅøÂÖçÊ¥ªÂä®ÊúüÈó¥Â§ßÈáèÁ©øÈÄè„ÄÇ</p>
<h3 id="1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü"><a href="#1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü" class="headerlink" title="1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü"></a><strong>1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü</strong></h3><p>mysql‰πêËßÇÈîÅ+redisÈ¢ÑÂáèÂ∫ìÂ≠ò+redisÁºìÂ≠òÂçñÂÆåÊ†áËÆ∞</p>
<p>Á¨¨‰∏ÄÊòØÂü∫‰∫é<strong>Êï∞ÊçÆÂ∫ì‰πêËßÇÈîÅ</strong>ÁöÑÊñπÂºè‰øùËØÅÊï∞ÊçÆÂπ∂ÂèëÊâ£ÂáèÁöÑÂº∫‰∏ÄËá¥ÊÄßÔºõ</p>
<p>Á¨¨‰∫åÊòØÂü∫‰∫é<strong>Êï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°</strong>ÂÆûÁé∞ÊâπÈáèÊâ£ÂáèÈÉ®ÂàÜÂ§±Ë¥•Êó∂ÁöÑÊï∞ÊçÆÂõûÊªö„ÄÇ</p>
<p>‚Äã    Âú®Êâ£ÂáèÊåáÂÆöÊï∞ÈáèÂâçÂ∫îÂÖàÂÅö‰∏ÄÊ¨°ÂâçÁΩÆÊï∞ÈáèÊ†°È™åÁöÑËØªËØ∑Ê±ÇÔºàÂèÇËÄÉ<strong>ËØªÂÜôÂàÜÁ¶ª</strong> + <strong>ÂÖ®ÁºìÂ≠òÊñπÊ°à</strong>Ôºâ</p>
<blockquote>
<p>Á∫ØÊï∞ÊçÆÂ∫ì‰πêËßÇÈîÅ+‰∫ãÂä°ÁöÑÊñπÂºèÊÄßËÉΩÊØîËæÉÂ∑ÆÔºå‰ΩÜÊòØÂ¶ÇÊûú‰∏çËÆ°ÊàêÊú¨ÂíåËÄÉËôëÂú∫ÊôØÁöÑËØù‰πüÂÆåÂÖ®Â§üÁî®ÔºåÂõ†‰∏∫‰ªª‰ΩïÊ≤°ÊúâÊú∫Âô®ÈÖçÁΩÆÁöÑÊåáÊ†áÔºåÈÉΩÊòØËÄçÊµÅÊ∞ì„ÄÇÂ¶ÇÊûúÊàëÈááÁî® Oracle ÁöÑÊï∞ÊçÆÂ∫ì„ÄÅ100 Â§öÊ†∏ÁöÑÂàÄÈîãÊúçÂä°Âô®„ÄÅSSD ÁöÑÁ°¨ÁõòÔºåÂç≥‰ΩøÊòØÁ∫ØÊï∞ÊçÆÂ∫ìÁöÑÊâ£ÂáèÊñπÊ°àÔºå‰πüÊòØÂèØ‰ª•ËææÂà∞ÂçïÊú∫‰∏ä‰∏áÁöÑ TPS ÁöÑ„ÄÇ</p>
</blockquote>
<p><strong>ÂçïÁ∫øÁ®ãRedis ÁöÑ lua ËÑöÊú¨ÂÆûÁé∞ÊâπÈáèÊâ£Âáè</strong></p>
<p>ÂΩìÁî®Êà∑Ë∞ÉÁî®Êâ£ÂáèÊé•Âè£Êó∂ÔºåÂ∞ÜÊâ£ÂáèÁöÑ ÂØπÂ∫îÊï∞Èáè + ËÑöÊú¨Ê†áÁ§∫‰º†ÈÄíËá≥ Redis Âç≥ÂèØÔºåÊâÄÊúâÁöÑÊâ£ÂáèÂà§Êñ≠ÈÄªËæëÂùáÂú® Redis ‰∏≠ÁöÑ lua ËÑöÊú¨‰∏≠ÊâßË°åÔºålua ËÑöÊú¨ÊâßË°åÂÆåÊàê‰πãÂêéËøîËøòÊòØÂê¶ÊàêÂäüÁªôÂÆ¢Êà∑Á´Ø„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6j9dkq6vj30w20kowku.jpg" title="image-20210504174103769" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j9dkq6vj30w20kowku.jpg" alt="image-20210504174103769" style="zoom:50%;"></a></p>
<p>Redis ‰∏≠ÁöÑ lua ËÑöÊú¨ÊâßË°åÊó∂ÔºåÈ¶ñÂÖà‰ºö‰ΩøÁî® get ÂëΩ‰ª§Êü•ËØ¢ uuid ËøõË°åÊü•Èáç„ÄÇÂΩìÈò≤ÈáçÈÄöËøáÂêéÔºå‰ºö<strong>ÊâπÈáèËé∑ÂèñÂØπÂ∫îÁöÑÂâ©‰ΩôÂ∫ìÂ≠òÁä∂ÊÄÅÂπ∂ËøõË°åÂà§Êñ≠</strong>ÔºåÂ¶ÇÊûú‰∏Ä‰∏™Êâ£ÂáèÁöÑÊï∞ÈáèÂ§ß‰∫éÂâ©‰ΩôÊï∞ÈáèÔºåÂàôËøîÂõûÈîôËØØÂπ∂ÊèêÁ§∫Êï∞Èáè‰∏çË∂≥„ÄÇ</p>
<p>Redis ÁöÑÂçïÁ∫øÁ®ãÊ®°ÂûãÔºåÁ°Æ‰øù<strong>‰∏ç‰ºöÂá∫Áé∞ÂΩìÊâÄÊúâÊâ£ÂáèÊï∞ÈáèÂú®Âà§Êñ≠ÂùáÊª°Ë∂≥ÂêéÔºåÂú®ÂÆûÈôÖÊâ£ÂáèÊó∂Âç¥Êï∞Èáè‰∏çÂ§ü</strong>„ÄÇÂêåÊó∂ÔºåÂçïÁ∫øÁ®ã‰øùËØÅÂà§Êñ≠Êï∞ÈáèÁöÑÊ≠•È™§ÂíåÂêéÁª≠Êâ£ÂáèÊ≠•È™§‰πãÈó¥ÔºåÊ≤°ÊúâÂÖ∂‰ªñ‰ªª‰ΩïÁ∫øÁ®ãÂá∫Áé∞Âπ∂ÂèëÁöÑÊâßË°å„ÄÇ</p>
<p>ÂΩì Redis Êâ£ÂáèÊàêÂäüÂêéÔºåÊâ£ÂáèÊé•Âè£‰ºö<strong>ÂºÇÊ≠•ÁöÑÂ∞ÜÊ≠§Ê¨°Êâ£ÂáèÂÜÖÂÆπ‰øùÂ≠òËá≥Êï∞ÊçÆÂ∫ì</strong>„ÄÇÂºÇÊ≠•‰øùÂ≠òÊï∞ÊçÆÂ∫ìÁöÑÁõÆÁöÑÊòØÈò≤Ê≠¢Âá∫Áé∞ÊûÅÁ´ØÊÉÖÂÜµ‚Äî‚Äî Redis ÂÆïÊú∫ÂêéÊï∞ÊçÆÊú™ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÔºåÊ≠§Êó∂Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Êï∞ÊçÆÂ∫ìÊÅ¢Â§çÊàñËÄÖÊ†°ÂáÜÊï∞ÊçÆ</p>
<p>ÊúÄÂêéÔºåËøêËê•ÂêéÂè∞Áõ¥ËøûÊï∞ÊçÆÂ∫ìÔºåÊòØËøêËê•ÂíåÂïÜÂÆ∂‰øÆÊîπÂ∫ìÂ≠òÁöÑÂÖ•Âè£„ÄÇÂïÜÂÆ∂Âú®ËøêËê•ÂêéÂè∞ËøõË¥ßÁâ©ËøõË°åË°•ÂÖÖ„ÄÇÂêåÊó∂ÔºåËøêËê•ÂêéÂè∞ÁöÑÂÆûÁé∞ÈúÄË¶ÅÂ∞ÜÊ≠§Êï∞Èáè<strong>ÂêåÊ≠•ÁöÑÂ¢ûÂä†Ëá≥ Redis</strong>ÔºåÂõ†‰∏∫ÂΩìÂâçÊñπÊ°àÁöÑÊâÄÊúâÂÆûÈôÖÊâ£ÂáèÈÉΩÂú® Redis ‰∏≠</p>
<blockquote>
<p>Á∫ØÁºìÂ≠òÊñπÊ°àËôΩ<strong>‰∏ç‰ºöÂØºËá¥Ë∂ÖÂçñ</strong>Ôºå‰ΩÜÂõ†<strong>ÁºìÂ≠ò‰∏çÂÖ∑Â§á‰∫ãÂä°ÁâπÊÄß</strong>ÔºåÊûÅÁ´ØÊÉÖÂÜµ‰∏ã‰ºöÂ≠òÂú®ÁºìÂ≠òÈáåÁöÑÊï∞ÊçÆ<strong>Êó†Ê≥ïÂõûÊªö</strong>ÔºåÂØºËá¥Âá∫Áé∞<strong>Â∞ëÂçñ</strong>ÁöÑÊÉÖÂÜµ„ÄÇ‰∏îÊû∂ÊûÑ‰∏≠ÁöÑÂºÇÊ≠•ÂÜôÂ∫ìÔºå‰πüÂèØËÉΩÂèëÁîüÂ§±Ë¥•ÔºåÂØºËá¥Â§öÊâ£ÁöÑÊï∞ÊçÆ‰∏¢Â§±</p>
</blockquote>
<p>ÂèØ‰ª•ÂÄüÂä©<strong>È°∫Â∫èÂÜô</strong>ÁöÑÁâπÊÄßÔºåÂ∞ÜÊâ£Âáè‰ªªÂä°ÂêåÊ≠•<strong>ÊèíÂÖ•</strong>‰ªªÂä°Ë°®ÔºåÂèëÁé∞ÂºÇÂ∏∏Êó∂ÔºåÂ∞Ü‰ªªÂä°Ë°®‰Ωú‰∏∫<strong>undolog</strong>ËøõË°åÂõûÊªö</p>
<p>ÂèØ‰ª•Ëß£ÂÜ≥Áî±‰∫é<strong>ÁΩëÁªú‰∏çÈÄö</strong>„ÄÅË∞ÉÁî®ÁºìÂ≠ò<strong>Êâ£ÂáèË∂ÖÊó∂</strong>„ÄÅÂú®Êâ£ÂáèÂà∞‰∏ÄÂçäÊó∂ÁºìÂ≠ò<strong>Á™ÅÁÑ∂ÂÆïÊú∫</strong>ÔºàÊïÖÈöú failoverÔºâ‰∫Ü„ÄÇÈíàÂØπ‰∏äËø∞ËØ∑Ê±ÇÔºåÈÉΩÊúâÁõ∏Â∫îÁöÑÂºÇÂ∏∏ÊäõÂá∫ÔºåÊ†πÊçÆÂºÇÂ∏∏ËøõË°å<strong>Êï∞ÊçÆÂ∫ìÂõûÊªö</strong>Âç≥ÂèØÔºåÊúÄÁªà‰ªªÂä°Â∫ìÈáåÁöÑÊï∞ÊçÆÈÉΩÊòØÂáÜÁöÑ</p>
<p>Êõ¥Ëøõ‰∏ÄÊ≠•ÔºöÁî±‰∫é‰ªªÂä°Â∫ìÊòØÊó†Áä∂ÊÄÅÁöÑÔºåÂèØ‰ª•ËøõË°åÊ∞¥Âπ≥ÂàÜÂ∫ìÔºåÊèêÂçáÊï¥‰ΩìÊÄßËÉΩ</p>
<h3 id="2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü"><a href="#2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü" class="headerlink" title="2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü"></a><strong>2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü</strong></h3><p>mysqlÂîØ‰∏ÄÁ¥¢Âºï+ÂàÜÂ∏ÉÂºèÈîÅ</p>
<h3 id="3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü"><a href="#3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü" class="headerlink" title="3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü"></a><strong>3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü</strong></h3><p>IPÈôêÊµÅ | È™åËØÅÁ†Å | ÂçïÁî®Êà∑ | ÂçïËÆæÂ§á | IMEI | Ê∫êIP |ÂùáËÆæÁΩÆËßÑÂàô</p>
<h3 id="4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü"><a href="#4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü" class="headerlink" title="4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü"></a><strong>4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü</strong></h3><p>redisÈõÜÁæ§+Êú¨Âú∞ÁºìÂ≠ò+ÈôêÊµÅ+keyÂä†ÈöèÊú∫ÂÄºÂàÜÂ∏ÉÂú®Â§ö‰∏™ÂÆû‰æã‰∏≠</p>
<p>1„ÄÅ<strong>ÁºìÂ≠òÈõÜÁæ§</strong>ÂèØ‰ª•ÂçïËäÇÁÇπËøõË°å<strong>‰∏ª‰ªéÂ§çÂà∂ÂíåÂûÇÁõ¥Êâ©ÂÆπ</strong></p>
<p>2„ÄÅÂà©Áî®Â∫îÁî®ÂÜÖÁöÑ<strong>ÂâçÁΩÆÁºìÂ≠ò</strong>Ôºå‰ΩÜÊòØÈúÄÊ≥®ÊÑèÈúÄË¶ÅËÆæÁΩÆ‰∏äÈôê</p>
<p>3„ÄÅÂª∂Ëøü‰∏çÊïèÊÑüÔºå<strong>ÂÆöÊó∂Âà∑Êñ∞</strong>ÔºåÂÆûÊó∂ÊÑüÁü•Áî®‰∏ªÂä®Âà∑Êñ∞</p>
<p>4„ÄÅÂíåÁºìÂ≠òÁ©øÈÄè‰∏ÄÊ†∑ÔºåÈôêÂà∂ÈÄÉÈÄ∏ÊµÅÈáèÔºåÂçïËØ∑Ê±ÇËøõË°åÊï∞ÊçÆ<strong>ÂõûÊ∫êÂπ∂Âà∑Êñ∞ÂâçÁΩÆ</strong></p>
<p>5„ÄÅÊó†ËÆ∫Â¶Ç‰ΩïËÆæËÆ°ÔºåÊúÄÂêéÈÉΩË¶ÅÂÜô‰∏Ä‰∏™<strong>ÂÖúÂ∫ïÈÄªËæë</strong>ÔºåÂçÉ‰∏áÁ∫ßÊµÅÈáèËØ¥Êù•Â∞±Êù•</p>
<h3 id="5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç"><a href="#5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç" class="headerlink" title="5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç"></a><strong>5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç</strong></h3><p>‰ΩøÁî®ÁºìÂ≠òÁ≠ñÁï•Â∞ÜËØ∑Ê±ÇÊå°Âú®‰∏äÂ±Ç‰∏≠ÁöÑÁºìÂ≠ò‰∏≠</p>
<p>‰ΩøÁî®CDNÔºåËÉΩÈùôÊÄÅÂåñÁöÑÊï∞ÊçÆÂ∞ΩÈáèÂÅöÂà∞ÈùôÊÄÅÂåñÔºå</p>
<p>Âä†ÂÖ•ÈôêÊµÅÔºàÊØîÂ¶ÇÂØπÁü≠Êó∂Èó¥‰πãÂÜÖÊù•Ëá™Êüê‰∏Ä‰∏™Áî®Êà∑ÔºåÊüê‰∏Ä‰∏™IP„ÄÅÊüê‰∏™ËÆæÂ§áÁöÑÈáçÂ§çËØ∑Ê±ÇÂÅö‰∏¢ÂºÉÂ§ÑÁêÜÔºâ</p>
<p><strong>ËµÑÊ∫êÈöîÁ¶ªÈôêÊµÅ</strong>‰ºöÂ∞ÜÂØπÂ∫îÁöÑËµÑÊ∫êÊåâÁÖßÊåáÂÆöÁöÑÁ±ªÂûãËøõË°åÈöîÁ¶ªÔºåÊØîÂ¶Ç<strong>Á∫øÁ®ãÊ±†</strong>Âíå<strong>‰ø°Âè∑Èáè</strong>„ÄÇ</p>
<ul>
<li><p>ËÆ°Êï∞Âô®ÈôêÊµÅÔºå‰æãÂ¶Ç5ÁßíÂÜÖÊäÄÊúØ1000ËØ∑Ê±ÇÔºåË∂ÖÊï∞ÂêéÈôêÊµÅÔºåÊú™Ë∂ÖÊï∞ÈáçÊñ∞ËÆ°Êï∞</p>
</li>
<li><p>ÊªëÂä®Á™óÂè£ÈôêÊµÅÔºåËß£ÂÜ≥ËÆ°Êï∞Âô®‰∏çÂ§üÁ≤æÁ°ÆÁöÑÈóÆÈ¢òÔºåÊää‰∏Ä‰∏™Á™óÂè£ÊãÜÂàÜÂ§öÊªöÂä®Á™óÂè£</p>
</li>
<li><p>‰ª§ÁâåÊ°∂ÈôêÊµÅÔºåÁ±ª‰ººÊôØÂå∫ÂîÆÁ•®ÔºåÂîÆÁ•®ÁöÑÈÄüÂ∫¶ÊòØÂõ∫ÂÆöÁöÑÔºåÊãøÂà∞‰ª§ÁâåÊâçËÉΩÂéªÂ§ÑÁêÜËØ∑Ê±Ç</p>
</li>
<li><p>ÊºèÊ°∂ÈôêÊµÅÔºåÁîü‰∫ßËÄÖÊ∂àË¥πËÄÖÊ®°ÂûãÔºåÂÆûÁé∞‰∫ÜÊÅíÂÆöÈÄüÂ∫¶Â§ÑÁêÜËØ∑Ê±ÇÔºåËÉΩÂ§üÁªùÂØπÈò≤Ê≠¢Á™ÅÂèëÊµÅÈáè</p>
<p>ÊµÅÈáèÊéßÂà∂ÊïàÊûú‰ªéÂ•ΩÂà∞Â∑Æ‰æùÊ¨°ÊòØÔºö<strong>ÊºèÊ°∂ÈôêÊµÅ &gt; ‰ª§ÁâåÊ°∂ÈôêÊµÅ &gt; ÊªëÂä®Á™óÂè£ÈôêÊµÅ &gt; ËÆ°Êï∞Âô®ÈôêÊµÅ</strong></p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6ja736ekj316o06640u.jpg" title="image-20210504174148831" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ja736ekj316o06640u.jpg" alt="image-20210504174148831" style="zoom:50%;"></a></p>
<p>ÂÖ∂‰∏≠ÔºåÂè™ÊúâÊºèÊ°∂ÁÆóÊ≥ï<strong>ÁúüÊ≠£ÂÆûÁé∞‰∫ÜÊÅíÂÆöÈÄüÂ∫¶Â§ÑÁêÜËØ∑Ê±Ç</strong>ÔºåËÉΩÂ§üÁªùÂØπ<strong>Èò≤Ê≠¢Á™ÅÂèëÊµÅÈáèË∂ÖËøá‰∏ãÊ∏∏Á≥ªÁªüÊâøËΩΩËÉΩÂäõ</strong>„ÄÇ<br>‰∏çËøáÔºåÊºèÊ°∂ÈôêÊµÅ‰πüÊúâ‰∏™‰∏çË∂≥ÔºåÂ∞±ÊòØÈúÄË¶ÅÂàÜ<strong>ÈÖçÂÜÖÂ≠òËµÑÊ∫êÁºìÂ≠òËØ∑Ê±Ç</strong>ÔºåËøô‰ºöÂ¢ûÂä†ÂÜÖÂ≠òÁöÑ‰ΩøÁî®Áéá„ÄÇËÄå<strong>‰ª§ÁâåÊ°∂ÈôêÊµÅ</strong>ÁÆóÊ≥ï‰∏≠ÁöÑ‚ÄúÊ°∂‚ÄùÂèØ‰ª•Áî®‰∏Ä‰∏™Êï¥Êï∞Ë°®Á§∫Ôºå<strong>ËµÑÊ∫êÂç†Áî®Áõ∏ÂØπËæÉÂ∞è</strong>ÔºåËøô‰πüËÆ©ÂÆÉÊàê‰∏∫ÊúÄÂ∏∏Áî®ÁöÑÈôêÊµÅÁÆóÊ≥ï„ÄÇÊ≠£ÊòØÂõ†‰∏∫Ëøô‰∫õÁâπÁÇπÔºå<strong>ÊºèÊ°∂ÈôêÊµÅÂíå‰ª§ÁâåÊ°∂ÈôêÊµÅ</strong>ÁªèÂ∏∏Âú®‰∏Ä‰∫õÂ§ßÊµÅÈáèÁ≥ªÁªü‰∏≠ÁªìÂêà‰ΩøÁî®„ÄÇ</p>
</li>
</ul>
<h3 id="6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç"><a href="#6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç" class="headerlink" title="6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç"></a><strong>6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç</strong></h3><ul>
<li><p><strong>ÂâäÂ≥∞</strong>ÔºöÊÅ∂ÊÑèÁî®Êà∑Êã¶Êà™</p>
<p>ÂØπ‰∫éÂçïÁî®Êà∑Â§öÊ¨°ÁÇπÂáª„ÄÅÂçïËÆæÂ§á„ÄÅIMEI„ÄÅÊ∫êIPÂùáËÆæÁΩÆËßÑÂàô</p>
</li>
<li><p>ÈááÁî®ÊØîËæÉÊàêÁÜüÁöÑ<strong>ÊºèÊ°∂ÁÆóÊ≥ï„ÄÅ‰ª§ÁâåÊ°∂</strong>ÁÆóÊ≥ïÔºå‰πüÂèØ‰ª•‰ΩøÁî®<strong>guava</strong>ÂºÄÁÆ±Âç≥Áî®ÁöÑÈôêÊµÅÁÆóÊ≥ï</p>
<p>ÂèØ‰ª•ÈõÜÁæ§ÈôêÊµÅÔºå‰ΩÜÂçïÊú∫ÈôêÊµÅÊõ¥Âä†ÁÆÄÊ¥ÅÂíåÁ®≥ÂÆö</p>
</li>
<li><p>ÂΩìÂâçÂ±Ç<strong>Áõ¥Êé•ËøáÊª§</strong>‰∏ÄÂÆöÊØî‰æãÁöÑËØ∑Ê±ÇÔºåÊúÄÂ§ßÊâøËΩΩÂÄºÂâçÈúÄË¶ÅÂä†‰∏ä<strong>ÂÖúÂ∫ïÈÄªËæë</strong></p>
</li>
<li><p>ÂØπ‰∫éÂ∑≤ÁªèÊó†Ë¥ßÁöÑ‰∫ßÂìÅÔºå<strong>Êú¨Âú∞ÁºìÂ≠ò</strong>Áõ¥Êé•ËøîÂõû</p>
</li>
<li><p><strong>ÂçïÁã¨ÈÉ®ÁΩ≤ÔºåÂáèÂ∞ëÂØπÁ≥ªÁªüÊ≠£Â∏∏ÊúçÂä°ÁöÑÂΩ±ÂìçÔºåÊñπ‰æøÊâ©Áº©ÂÆπ</strong></p>
</li>
</ul>
<p>ÂØπ‰∫é<strong>‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÁöÑÁßíÊùÄÊ¥ªÂä®ÔºåÈúÄË¶Å‰øùËØÅÂÜôÊàêÂäü</strong>ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® <strong>Ê∂àÊÅØÈòüÂàó</strong>„ÄÇ</p>
<ul>
<li>ÂâäÂéªÁßíÊùÄÂú∫ÊôØ‰∏ãÁöÑÂ≥∞ÂÄºÂÜôÊµÅÈáè‚Äî‚Äî<strong>ÊµÅÈáèÂâäÂ≥∞</strong></li>
<li>ÈÄöËøáÂºÇÊ≠•Â§ÑÁêÜÁÆÄÂåñÁßíÊùÄËØ∑Ê±Ç‰∏≠ÁöÑ‰∏öÂä°ÊµÅÁ®ã‚Äî‚Äî<strong>ÂºÇÊ≠•Â§ÑÁêÜ</strong></li>
<li>Ëß£ËÄ¶ÔºåÂÆûÁé∞ÁßíÊùÄÁ≥ªÁªüÊ®°Âùó‰πãÈó¥ÊùæËÄ¶Âêà‚Äî‚Äî<strong>Ëß£ËÄ¶</strong></li>
</ul>
<p><strong>ÂâäÂéªÁßíÊùÄÂú∫ÊôØ‰∏ãÁöÑÂ≥∞ÂÄºÂÜôÊµÅÈáè</strong></p>
<ul>
<li><strong>Â∞ÜÁßíÊùÄËØ∑Ê±ÇÊöÇÂ≠ò‰∫éÊ∂àÊÅØÈòüÂàó</strong>Ôºå‰∏öÂä°ÊúçÂä°Âô®ÂìçÂ∫îÁî®Êà∑‚ÄúÁßíÊùÄÁªìÊûúÊ≠£Âú®Â§ÑÁêÜ‰∏≠„ÄÇ„ÄÇ„ÄÇ‚ÄùÔºåÈáäÊîæÁ≥ªÁªüËµÑÊ∫êÂéªÂ§ÑÁêÜÂÖ∂ÂÆÉÁî®Êà∑ÁöÑËØ∑Ê±Ç„ÄÇ</li>
<li><strong>ÂâäÂ≥∞Â°´Ë∞∑</strong>ÔºåÂâäÂπ≥Áü≠ÊöÇÁöÑÊµÅÈáèÈ´òÂ≥∞ÔºåÊ∂àÊÅØÂ†ÜÁßØ‰ºöÈÄ†ÊàêËØ∑Ê±ÇÂª∂ËøüÂ§ÑÁêÜÔºå‰ΩÜÁßíÊùÄÁî®Êà∑ÂØπ‰∫éÁü≠ÊöÇÂª∂ËøüÊúâ‰∏ÄÂÆöÂÆπÂøçÂ∫¶„ÄÇÁßíÊùÄÂïÜÂìÅÊúâ 1000 ‰ª∂ÔºåÂ§ÑÁêÜ‰∏ÄÊ¨°Ë¥≠‰π∞ËØ∑Ê±ÇÁöÑÊó∂Èó¥ÊòØ 500msÔºåÈÇ£‰πàÊÄªÂÖ±Â∞±ÈúÄË¶Å 500s ÁöÑÊó∂Èó¥„ÄÇËøôÊó∂‰Ω†ÈÉ®ÁΩ≤ 10 ‰∏™ÈòüÂàóÂ§ÑÁêÜÁ®ãÂ∫èÔºåÈÇ£‰πàÁßíÊùÄËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÊó∂Èó¥Â∞±ÊòØ 50sÔºå‰πüÂ∞±ÊòØËØ¥Áî®Êà∑ÈúÄË¶ÅÁ≠âÂæÖ 50s ÊâçÂèØ‰ª•ÁúãÂà∞ÁßíÊùÄÁöÑÁªìÊûúÔºåËøôÊòØÂèØ‰ª•Êé•ÂèóÁöÑ„ÄÇËøôÊó∂‰ºö<strong>Âπ∂Âèë 10 ‰∏™</strong>ËØ∑Ê±ÇÂà∞ËææÊï∞ÊçÆÂ∫ìÔºåÂπ∂‰∏ç‰ºöÂØπÊï∞ÊçÆÂ∫ìÈÄ†ÊàêÂæàÂ§ßÁöÑÂéãÂäõ„ÄÇ</li>
</ul>
<p><strong>ÈÄöËøáÂºÇÊ≠•Â§ÑÁêÜÁÆÄÂåñÁßíÊùÄËØ∑Ê±Ç‰∏≠ÁöÑ‰∏öÂä°ÊµÅÁ®ã</strong></p>
<p>‚Äã    ÂÖàÂ§ÑÁêÜ‰∏ªË¶ÅÁöÑ‰∏öÂä°ÔºåÂºÇÊ≠•Â§ÑÁêÜÊ¨°Ë¶ÅÁöÑ‰∏öÂä°„ÄÇ</p>
<ul>
<li>Â¶Ç‰∏ªË¶ÅÊµÅÁ®ãÊòØ<strong>ÁîüÊàêËÆ¢Âçï</strong>„ÄÅ<strong>Êâ£ÂáèÂ∫ìÂ≠ò</strong>Ôºõ</li>
<li>Ê¨°Ë¶ÅÊµÅÁ®ãÊØîÂ¶ÇË¥≠‰π∞ÊàêÂäü‰πãÂêé‰ºöÁªôÁî®Êà∑<strong>Âèë‰ºòÊÉ†Âà∏</strong>Ôºå<strong>Â¢ûÂä†Áî®Êà∑ÁöÑÁßØ**</strong>ÂàÜ**„ÄÇ</li>
<li>Ê≠§Êó∂ÁßíÊùÄÂè™Ë¶ÅÂ§ÑÁêÜÁîüÊàêËÆ¢ÂçïÔºåÊâ£ÂáèÂ∫ìÂ≠òÁöÑËÄóÊó∂ÔºåÂèëÊîæ‰ºòÊÉ†Âà∏„ÄÅÂ¢ûÂä†Áî®Êà∑ÁßØÂàÜÂºÇÊ≠•ÂéªÂ§ÑÁêÜ‰∫Ü„ÄÇ</li>
</ul>
<p><strong>Ëß£ËÄ¶</strong></p>
<p>‚Äã    ÂÆûÁé∞ÁßíÊùÄÁ≥ªÁªüÊ®°Âùó‰πãÈó¥ÊùæËÄ¶ÂêàÂ∞ÜÁßíÊùÄÊï∞ÊçÆÂêåÊ≠•ÁªôÊï∞ÊçÆÂõ¢ÈòüÔºåÊúâ‰∏§ÁßçÊÄùË∑ØÔºö</p>
<ul>
<li>‰ΩøÁî® HTTP ÊàñËÄÖ RPC ÂêåÊ≠•Ë∞ÉÁî®ÔºåÂç≥Êèê‰æõ‰∏Ä‰∏™Êé•Âè£ÔºåÂÆûÊó∂Â∞ÜÊï∞ÊçÆÊé®ÈÄÅÁªôÊï∞ÊçÆÊúçÂä°„ÄÇ<strong>Á≥ªÁªüÁöÑËÄ¶ÂêàÂ∫¶È´ò</strong>ÔºåÂ¶ÇÊûúÂÖ∂‰∏≠‰∏Ä‰∏™ÊúçÂä°ÊúâÈóÆÈ¢òÔºåÂèØËÉΩ‰ºöÂØºËá¥Âè¶‰∏Ä‰∏™ÊúçÂä°‰∏çÂèØÁî®„ÄÇ</li>
<li>‰ΩøÁî®Ê∂àÊÅØÈòüÂàó<strong>Â∞ÜÊï∞ÊçÆÂÖ®ÈÉ®ÂèëÈÄÅÁªôÊ∂àÊÅØÈòüÂàó</strong>ÔºåÁÑ∂Âêé<strong>Êï∞ÊçÆÊúçÂä°ËÆ¢ÈòÖËøô‰∏™Ê∂àÊÅØÈòüÂàó</strong>ÔºåÊé•Êî∂Êï∞ÊçÆËøõË°åÂ§ÑÁêÜ„ÄÇ</li>
</ul>
<h3 id="7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß"><a href="#7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß" class="headerlink" title="7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß"></a><strong>7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß</strong></h3><p><strong>CacheAsideÊóÅË∑ØÁºìÂ≠ò</strong>ËØªËØ∑Ê±Ç‰∏çÂëΩ‰∏≠Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºåÊü•ËØ¢ÂÆåÊàêÂÜôÂÖ•ÁºìÂ≠òÔºåÂÜôËØ∑Ê±ÇÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂêéÂà†Èô§ÁºìÂ≠òÊï∞ÊçÆ„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Âª∂ËøüÂèåÂà†ÔºåÁî®‰ª•‰øùËØÅÊúÄÁªà‰∏ÄËá¥ÊÄß,Èò≤Ê≠¢Â∞èÊ¶ÇÁéáÊóßÊï∞ÊçÆËØªËØ∑Ê±ÇÂú®Á¨¨‰∏ÄÊ¨°Âà†Èô§ÂêéÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(String key,Object data)</span></span>&#123;</span><br><span class="line">	redis.delKey(key);</span><br><span class="line">	db.updateData(data);</span><br><span class="line">	Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">	redis.delKey(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>‰∏∫Èò≤ÁºìÂ≠òÂ§±ÊïàËøô‰∏Ä‰ø°ÊÅØ‰∏¢Â§±ÔºåÂèØÁî®Ê∂àÊÅØÈòüÂàóÁ°Æ‰øù„ÄÇ</p>
<ul>
<li>Êõ¥Êñ∞Êï∞ÊçÆÂ∫ìÊï∞ÊçÆÔºõ</li>
<li>Êï∞ÊçÆÂ∫ì‰ºöÂ∞ÜÊìç‰Ωú‰ø°ÊÅØÂÜôÂÖ•binlogÊó•ÂøóÂΩì‰∏≠Ôºõ</li>
<li>Âè¶Ëµ∑‰∏ÄÊÆµÈùû‰∏öÂä°‰ª£Á†ÅÔºåÁ®ãÂ∫èËÆ¢ÈòÖÊèêÂèñÂá∫ÊâÄÈúÄË¶ÅÁöÑÊï∞ÊçÆ‰ª•ÂèäkeyÔºõ</li>
<li>Â∞ùËØïÂà†Èô§ÁºìÂ≠òÊìç‰ΩúÔºåËã•Âà†Èô§Â§±Ë¥•ÔºåÂ∞ÜËøô‰∫õ‰ø°ÊÅØÂèëÈÄÅËá≥Ê∂àÊÅØÈòüÂàóÔºõ</li>
<li>ÈáçÊñ∞‰ªéÊ∂àÊÅØÈòüÂàó‰∏≠Ëé∑ÂæóËØ•Êï∞ÊçÆÔºåÈáçËØïÊìç‰ΩúÔºõ</li>
</ul>
<p>ËÆ¢ÈòÖ<strong>binlogÁ®ãÂ∫èÂú®mysql‰∏≠ÊúâÁé∞ÊàêÁöÑ‰∏≠Èó¥</strong>‰ª∂Âè´canalÔºåÈáçËØïÊú∫Âà∂Ôºå‰∏ªË¶ÅÈááÁî®ÁöÑÊòØÊ∂àÊÅØÈòüÂàóÁöÑÊñπÂºè„ÄÇ</p>
<p><strong>ÁªàÊûÅÊñπÊ°àÔºöËØ∑Ê±Ç‰∏≤Ë°åÂåñ</strong></p>
<p>ÁúüÊ≠£Èù†Ë∞±ÈùûÁßíÊùÄÁöÑÊñπÊ°àÔºöÂ∞ÜËÆøÈóÆÊìç‰Ωú‰∏≤Ë°åÂåñ</p>
<ol>
<li>ÂÖàÂà†ÁºìÂ≠òÔºåÂ∞ÜÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÁöÑ<strong>ÂÜôÊìç‰ΩúÊîæËøõÊúâÂ∫èÈòüÂàó‰∏≠</strong></li>
<li>‰ªéÁºìÂ≠òÊü•‰∏çÂà∞ÁöÑ<strong>ËØªÊìç‰Ωú‰πüËøõÂÖ•ÊúâÂ∫èÈòüÂàó</strong></li>
</ol>
<p>ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢òÔºö</p>
<ol>
<li>ËØªËØ∑Ê±ÇÁßØÂéãÔºåÂ§ßÈáèË∂ÖÊó∂ÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÁöÑÂéãÂäõÔºöÈôêÊµÅ„ÄÅÁÜîÊñ≠</li>
<li>Â¶Ç‰ΩïÈÅøÂÖçÂ§ßÈáèËØ∑Ê±ÇÁßØÂéãÔºöÂ∞ÜÈòüÂàóÊ∞¥Âπ≥ÊãÜÂàÜÔºåÊèêÈ´òÂπ∂Ë°åÂ∫¶„ÄÇ</li>
</ol>
<h3 id="8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú"><a href="#8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú" class="headerlink" title="8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú**"></a>8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú**</h3><p>‚Äã    Áî±‰∏Ä‰∏™ÊàñÂ§ö‰∏™sentinelÂÆû‰æãÁªÑÊàêsentinelÈõÜÁæ§ÂèØ‰ª•ÁõëËßÜ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∏ªÊúçÂä°Âô®ÂíåÂ§ö‰∏™‰ªéÊúçÂä°Âô®„ÄÇ<strong>Âì®ÂÖµÊ®°ÂºèÈÄÇÂêàËØªËØ∑Ê±ÇËøúÂ§ö‰∫éÂÜôËØ∑Ê±ÇÁöÑ‰∏öÂä°Âú∫ÊôØÔºåÊØîÂ¶ÇÂú®ÁßíÊùÄÁ≥ªÁªü</strong>‰∏≠Áî®Êù•ÁºìÂ≠òÊ¥ªÂä®‰ø°ÊÅØ„ÄÇ Â¶ÇÊûúÂÜôËØ∑Ê±ÇËæÉÂ§öÔºåÂΩìÈõÜÁæ§ Slave ËäÇÁÇπÊï∞ÈáèÂ§ö‰∫ÜÂêéÔºåMaster ËäÇÁÇπÂêåÊ≠•Êï∞ÊçÆÁöÑÂéãÂäõ‰ºöÈùûÂ∏∏Â§ß„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/0081Kckwly1gluq6vlvglj30nw0e076f.jpg" title="image-20201220231241725" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gluq6vlvglj30nw0e076f.jpg" alt="image-20201220231241725" style="zoom:50%;"></a></p>
<p>‚Äã    ÂΩì‰∏ªÊúçÂä°Âô®ËøõÂÖ•‰∏ãÁ∫øÁä∂ÊÄÅÊó∂ÔºåsentinelÂèØ‰ª•Â∞ÜËØ•‰∏ªÊúçÂä°Âô®‰∏ãÁöÑÊüê‰∏Ä‰ªéÊúçÂä°Âô®ÂçáÁ∫ß‰∏∫‰∏ªÊúçÂä°Âô®ÁªßÁª≠Êèê‰æõÊúçÂä°Ôºå‰ªéËÄå‰øùËØÅredisÁöÑÈ´òÂèØÁî®ÊÄß„ÄÇ</p>
<h3 id="9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó"><a href="#9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó" class="headerlink" title="9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó"></a>9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó</h3><blockquote>
<p>ÁßíÊùÄÊúçÂä°ÂçïËäÇÁÇπÈúÄË¶ÅÂ§ÑÁêÜÁöÑËØ∑Ê±Ç QPS ÂèØËÉΩËææÂà∞ 10 ‰∏á‰ª•‰∏ä„ÄÇ‰∏Ä‰∏™ËØ∑Ê±Ç‰ªéËøõÂÖ•ÁßíÊùÄÊúçÂä°Âà∞Â§ÑÁêÜÂ§±Ë¥•ÊàñËÄÖÊàêÂäüÔºåËá≥Â∞ë‰ºö‰∫ßÁîü‰∏§Êù°Êó•Âøó„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÈ´òÂ≥∞ÊúüÈó¥Ôºå‰∏Ä‰∏™ÁßíÊùÄËäÇÁÇπÊØèÁßí‰∫ßÁîüÁöÑÊó•ÂøóÂèØËÉΩËææÂà∞ <strong>30 ‰∏áÊù°</strong>‰ª•‰∏ä</p>
</blockquote>
<p>‚Äã    ‰∏ÄÂùóÊÄßËÉΩÊØîËæÉÂ•ΩÁöÑÂõ∫ÊÄÅÁ°¨ÁõòÔºåÊØèÁßíÂÜôÁöÑIOPS Â§ßÊ¶ÇÂú® 3 ‰∏áÂ∑¶Âè≥„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰∏Ä‰∏™ÁßíÊùÄËäÇÁÇπÁöÑÊØèÁßíÊó•ÂøóÊù°Êï∞ÊòØÂõ∫ÊÄÅÁ°¨Áõò IOPS ÁöÑ 10 ÂÄçÔºåÁ£ÅÁõòÈÉΩÊâõ‰∏ç‰ΩèÔºåÊõ¥Âà´ËØ¥ÈÄöËøáÁΩëÁªúÂÜôÂÖ•Âà∞ÁõëÊéßÁ≥ªÁªü‰∏≠„ÄÇ</p>
<ul>
<li><strong>ÊØèÁßíÊó•ÂøóÈáèËøúÈ´ò‰∫éÁ£ÅÁõò IOPS</strong>ÔºåÁõ¥Êé•ÂÜôÁ£ÅÁõò‰ºöÂΩ±ÂìçÊúçÂä°ÊÄßËÉΩÂíåÁ®≥ÂÆöÊÄß</li>
<li>Â§ßÈáèÊó•ÂøóÂØºËá¥ÊúçÂä°È¢ëÁπÅÂàÜÈÖçÔºå<strong>È¢ëÁπÅÈáäÊîæÂÜÖÂ≠òÔºåÂΩ±ÂìçÊúçÂä°ÊÄßËÉΩ</strong>„ÄÇ</li>
<li>ÊúçÂä°ÂºÇÂ∏∏ÈÄÄÂá∫<strong>‰∏¢Â§±Â§ßÈáèÊó•Âøó</strong>ÁöÑÈóÆÈ¢ò</li>
</ul>
<p><strong>Ëß£ÂÜ≥ÊñπÊ°à</strong></p>
<ul>
<li><strong>Tmpfs</strong>ÔºåÂç≥‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªüÔºåÂÆÉÊòØ‰∏ÄÁßçÂü∫‰∫éÂÜÖÂ≠òÁöÑÊñá‰ª∂Á≥ªÁªü„ÄÇÊàë‰ª¨ÂèØ‰ª•Â∞ÜÁßíÊùÄÊúçÂä°ÂÜôÊó•ÂøóÁöÑÊñá‰ª∂ÊîæÂú®‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªü‰∏≠„ÄÇÁõ∏ÊØîÁõ¥Êé•ÂÜôÁ£ÅÁõòÔºåÂú®‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªü‰∏≠ÂÜôÊó•ÂøóÁöÑÊÄßËÉΩËá≥Â∞ë<strong>ËÉΩÊèêÂçá 100 ÂÄç</strong>ÔºåÊØèÂΩìÊó•ÂøóÊñá‰ª∂ËææÂà∞ 20MB ÁöÑÊó∂ÂÄôÔºåÂ∞±Â∞Ü<strong>Êó•ÂøóÊñá‰ª∂ËΩ¨ÁßªÂà∞Á£ÅÁõò‰∏ä</strong>ÔºåÂπ∂Â∞Ü‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªü‰∏≠ÁöÑÊó•ÂøóÊñá‰ª∂Ê∏ÖÁ©∫„ÄÇ</li>
<li>ÂèØ‰ª•ÂèÇËÄÉÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºåÂ∞ÜÁªôloggerÂàÜÈÖçÁºìÂÜ≤Âå∫ÔºåÊØè‰∏ÄÊ¨°ÁöÑÊñ∞ÂÜôÂèØ‰ª•Â§çÁî®LoggerÂØπË±°</li>
<li>ÂèÇËÄÉkafkaÁöÑÁºìÂÜ≤Ê±†ËÆæËÆ°ÔºåÂΩìÁºìÂÜ≤Âå∫ËææÂà∞Â§ßÂ∞èÂíåÈó¥ÈöîÊó∂Èïø‰∏¥ÁïåÂÄºÊó∂ÔºåË∞ÉÁî®FlushÂáΩÊï∞ÔºåÂáèÂ∞ë‰∏¢Â§±ÁöÑÈ£éÈô©</li>
</ul>
<p><strong>10„ÄÅÊ±†ÂåñÊäÄÊúØ</strong></p>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6japwof2j31520na4mh.jpg" title="image-20210504174220668" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6japwof2j31520na4mh.jpg" alt="image-20210504174220668" title class></a>
                <p>image-20210504174220668</p>
            </figure>
<p>‚Äã    ÈÄöÂ∏∏ÂèØ‰ª•ÈááÁî®<strong>Âæ™ÁéØÈòüÂàó</strong>Êù•‰øùÂ≠òÁ©∫Èó≤ËøûÊé•„ÄÇ‰ΩøÁî®ÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•‰ªéÈòüÂàóÂ§¥ÈÉ®ÂèñÂá∫ËøûÊé•ÔºåÁî®ÂÆåÂêéÂ∞ÜÁ©∫Èó≤ËøûÊé•ÊîæÂà∞ÈòüÂàóÂ∞æÈÉ®„ÄÇNetty‰∏≠Âà©Áî®Â∏¶ÁºìÂÜ≤Âå∫ÁöÑ channel Êù•ÂÖÖÂΩìÈòüÂàó„ÄÇ</p>
<h2 id="‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°"><a href="#‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°" class="headerlink" title="‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°"></a>‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°</h2><h3 id="1„ÄÅÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì"><a href="#1„ÄÅÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì" class="headerlink" title="1„ÄÅÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì"></a>1„ÄÅ<strong>ÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì</strong></h3><p>TCP‰øùËØÅÊ∂àÊÅØÂèØÈù†‰º†Ëæì‰∏âÊùøÊñßÔºöË∂ÖÊó∂„ÄÅÈáç‰º†„ÄÅÁ°ÆËÆ§„ÄÇÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÈÄö‰ø°MSGÂíåACKÁöÑÂÖ±ËÆ°6‰∏™Êä•Êñá</p>
<ul>
<li>ËØ∑Ê±ÇÊä•ÊñáÔºàrequestÔºåÂêéÁÆÄÁß∞‰∏∫‰∏∫RÔºâÔºåÂÆ¢Êà∑Á´Ø‰∏ªÂä®ÂèëÈÄÅÁªôÊúçÂä°Á´Ø„ÄÇ</li>
<li>Â∫îÁ≠îÊä•ÊñáÔºàacknowledgeÔºåÂêéÁÆÄÁß∞‰∏∫AÔºâÔºåÊúçÂä°Âô®Ë¢´Âä®Â∫îÁ≠îÂÆ¢Êà∑Á´ØÁöÑÊä•Êñá„ÄÇ</li>
<li>ÈÄöÁü•Êä•ÊñáÔºànotifyÔºåÂêéÁÆÄÁß∞‰∏∫NÔºâÔºåÊúçÂä°Âô®‰∏ªÂä®ÂèëÈÄÅÁªôÂÆ¢Êà∑Á´ØÁöÑÊä•Êñá</li>
</ul>
<p><strong>Âú®Á∫øÊ∂àÊÅØÊµÅÁ®ãÔºö</strong></p>
<p>‚Äã        A Ê∂àÊÅØËØ∑Ê±Ç  <strong>MSG:R</strong>  =&gt; S Ê∂àÊÅØÂ∫îÁ≠î  <strong>MSG:A</strong>  =&gt; S Ê∂àÊÅØÈÄöÁü•B  <strong>MSG:N</strong></p>
<p>‚Äã        S Á°ÆËÆ§ÈÄöÁü•  <strong>ACK:N</strong>  &lt;=  S Á°ÆËÆ§Â∫îÁ≠î  <strong>ACK:A</strong>  &lt;=  BÁ°ÆËÆ§ËØ∑Ê±ÇS  <strong>ACK:R</strong></p>
<p><strong>Ë∂ÖÊó∂‰∏éÈáç‰º†„ÄÅÁ°ÆËÆ§ÂíåÂéªÈáçÔºö</strong></p>
<p>‚Äã    AÂèëÂá∫‰∫Ü <strong>MSG:R</strong> ÔºåÊî∂Âà∞‰∫Ü<strong>MSG:A</strong>‰πãÂêéÔºåÂú®‰∏Ä‰∏™ÊúüÂæÖÁöÑÊó∂Èó¥ÂÜÖÔºåÂ¶ÇÊûúÊ≤°ÊúâÊî∂Âà∞<strong>ACK:N</strong>ÔºåA‰ºöÂ∞ùËØïÂ∞Ü <strong>MSG:R</strong>  ÈáçÂèë„ÄÇÂèØËÉΩAÂêåÊó∂ÂèëÂá∫‰∫ÜÂæàÂ§öÊ∂àÊÅØÔºåÊâÄ‰ª•AÈúÄË¶ÅÂú®Êú¨Âú∞Áª¥Êä§‰∏Ä‰∏™Á≠âÂæÖackÈòüÂàóÔºåÂπ∂ÈÖçÂêàtimerË∂ÖÊó∂Êú∫Âà∂ÔºåÊù•ËÆ∞ÂΩïÂì™‰∫õÊ∂àÊÅØÊ≤°ÊúâÊî∂Âà∞<strong>ACK:N</strong>ÔºåÂÆöÊó∂ÈáçÂèë„ÄÇÁ°ÆËÆ§ACK<strong>‰øùËØÅÂøÖËææ</strong>ÔºåÂéªÈáç‰øùËØÅ<strong>ÂîØ‰∏Ä</strong></p>
<p><strong>Á¶ªÁ∫øÊ∂àÊÅØÊµÅÁ®ã</strong></p>
<p>‚Äã    ÂéüÊñπÊ°àÔºöÊ†πÊçÆÁ¶ªÁ∫øÂ•ΩÂèãÁöÑÊ†áËØÜÔºå‰∫§‰∫íÊãâÂèñÊåáÂÆöÁöÑÊ∂àÊÅØ</p>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/0081Kckwly1gm8kxci29zj30b305974z.jpg" title="IMÊ∂àÊÅØÈÄÅËææ‰øùËØÅÊú∫Âà∂ÂÆûÁé∞(‰∫å)Ôºö‰øùËØÅÁ¶ªÁ∫øÊ∂àÊÅØÁöÑÂèØÈù†ÊäïÈÄí_2.png" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm8kxci29zj30b305974z.jpg" alt="IMÊ∂àÊÅØÈÄÅËææ‰øùËØÅÊú∫Âà∂ÂÆûÁé∞(‰∫å)Ôºö‰øùËØÅÁ¶ªÁ∫øÊ∂àÊÅØÁöÑÂèØÈù†ÊäïÈÄí_2.png" title class></a>
                <p>IMÊ∂àÊÅØÈÄÅËææ‰øùËØÅÊú∫Âà∂ÂÆûÁé∞(‰∫å)Ôºö‰øùËØÅÁ¶ªÁ∫øÊ∂àÊÅØÁöÑÂèØÈù†ÊäïÈÄí_2.png</p>
            </figure>
<p>‰ºòÂåñÁöÑÊñπÊ°àÔºö</p>
<ul>
<li>Â¶ÇÁî®Êà∑<strong>ÂãæÈÄâÂÖ®Èáè</strong>ÂàôËøîÂõûËÆ°Êï∞ÔºåÂú®Áî®Êà∑ÁÇπÂáªÊó∂ÊãâÂèñ„ÄÇ</li>
<li>Â¶ÇÁî®Êà∑Êú™ÂãæÈÄâÂÖ®ÈáèÂàôËøîÂõû<strong>ÊúÄËøëÂÖ®ÈÉ®Á¶ªÁ∫øÊ∂àÊÅØ</strong>ÔºåÂÆ¢Êà∑Á´ØÈíàÂØπ<strong>Áî®Êà∑idËøõË°åËÆ°ÁÆó</strong>„ÄÇ</li>
<li>ÂÖ®ÈáèÁ¶ªÁ∫ø‰ø°ÊÅØÂèØ‰ª•ÈÄöËøáÂÆ¢Êà∑Á´ØÂºÇÊ≠•Á∫øÁ®ãÂàÜÈ°µÊãâÂèñÔºåÂáèÂ∞ëÂç°È°ø</li>
<li>Â∞ÜACKÂíåÂàÜÈ°µÁ¨¨‰∫åÊ¨°ÊãâÂèñÁöÑÊä•ÊñáÈáçÂêàÔºåÂèØ‰ª•ËæÉÂ∞ëÁ¶ªÁ∫øÊ∂àÊÅØÊãâÂèñ‰∫§‰∫íÁöÑÊ¨°Êï∞</li>
</ul>
<h3 id="2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç"><a href="#2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç" class="headerlink" title="2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç"></a><strong>2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç</strong></h3><blockquote>
<p>Âú®Á∫øÁöÑÁæ§ÂèãËÉΩÁ¨¨‰∏ÄÊó∂Èó¥Êî∂Âà∞Ê∂àÊÅØÔºõ<br>Á¶ªÁ∫øÁöÑÁæ§ÂèãËÉΩÂú®ÁôªÈôÜÂêéÊî∂Âà∞Ê∂àÊÅØ„ÄÇ</p>
</blockquote>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/0081Kckwly1gm8jswr3poj30hh078dg2.jpg" title="IMÁæ§ËÅäÊ∂àÊÅØÂ¶ÇÊ≠§Â§çÊùÇÔºåÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáçÔºü_1.jpg" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm8jswr3poj30hh078dg2.jpg" alt="IMÁæ§ËÅäÊ∂àÊÅØÂ¶ÇÊ≠§Â§çÊùÇÔºåÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáçÔºü_1.jpg"></a></p>
<ul>
<li>Áæ§Ê∂àÊÅØÂèëÈÄÅËÄÖxÂêëserverÂèëÂá∫Áæ§Ê∂àÊÅØÔºõ</li>
<li>serverÂéªdb‰∏≠Êü•ËØ¢Áæ§‰∏≠ÊúâÂ§öÂ∞ëÁî®Êà∑(x,A,B,C,D)Ôºõ</li>
<li>serverÂéªcache‰∏≠Êü•ËØ¢Ëøô‰∫õÁî®Êà∑ÁöÑÂú®Á∫øÁä∂ÊÄÅÔºõ</li>
<li>ÂØπ‰∫éÁæ§‰∏≠Âú®Á∫øÁöÑÁî®Êà∑A‰∏éBÔºåÁæ§Ê∂àÊÅØserverËøõË°åÂÆûÊó∂Êé®ÈÄÅÔºõ</li>
<li>ÂØπ‰∫éÁæ§‰∏≠Á¶ªÁ∫øÁöÑÁî®Êà∑C‰∏éDÔºåÁæ§Ê∂àÊÅØserverËøõË°åÁ¶ªÁ∫øÂ≠òÂÇ®„ÄÇ</li>
</ul>
<p>‚Äã    ÂØπ‰∫éÂêå‰∏Ä‰ªΩÁæ§Ê∂àÊÅØÁöÑÂÜÖÂÆπÔºåÂ§ö‰∏™Á¶ªÁ∫øÁî®Êà∑Â≠òÂÇ®‰∫ÜÂæàÂ§ö‰ªΩ„ÄÇÂÅáËÆæÁæ§‰∏≠Êúâ200‰∏™Áî®Êà∑Á¶ªÁ∫øÔºåÁ¶ªÁ∫øÊ∂àÊÅØÂàôÂÜó‰Ωô‰∫Ü200‰ªΩÔºåËøôÊûÅÂ§ßÁöÑÂ¢ûÂä†‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÂ≠òÂÇ®ÂéãÂäõ</p>
<ul>
<li>Á¶ªÁ∫øÊ∂àÊÅØË°®Âè™Â≠òÂÇ®Áî®Êà∑ÁöÑÁæ§Á¶ªÁ∫øÊ∂àÊÅØmsg_idÔºåÈôç‰ΩéÊï∞ÊçÆÂ∫ìÁöÑÂÜó‰ΩôÂ≠òÂÇ®Èáè</li>
<li>Âä†ÂÖ•Â∫îÁî®Â±ÇÁöÑACKÔºåÊâçËÉΩ‰øùËØÅÁæ§Ê∂àÊÅØ‰∏ÄÂÆöÂà∞ËææÔºåÊúçÂä°Á´ØÂπÇÁ≠âÊÄßÊ†°È™åÂèäÂÆ¢Êà∑Á´ØÂéªÈáçÔºå‰øùËØÅ‰∏çÈáçÂ§ç</li>
<li><p>ÊØèÊù°Áæ§Ê∂àÊÅØÈÉΩACKÔºå‰ºöÁªôÊúçÂä°Âô®ÈÄ†ÊàêÂ∑®Â§ßÁöÑÂÜ≤ÂáªÔºåÈÄöËøáÊâπÈáèACKÂáèÂ∞ëÊ∂àÊÅØÈ£éÊö¥Êâ©Êï£Á≥ªÊï∞ÁöÑÂΩ±Âìç</p>
</li>
<li><p>Áæ§Á¶ªÁ∫øÊ∂àÊÅØËøáÂ§öÔºöÊãâÂèñËøáÊÖ¢ÔºåÂèØ‰ª•ÈÄöËøáÂàÜÈ°µÊáíÊãâÂèñÊîπÂñÑ„ÄÇ</p>
</li>
</ul>
<h3 id="3„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß"><a href="#3„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß" class="headerlink" title="3„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß"></a>3„ÄÅ<strong>Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß</strong></h3><p>ÊñπÊ°àÔºö</p>
<ul>
<li>IdÈÄöËøáÂÄüÈâ¥ÂæÆ‰ø°Âè∑ÊÆµ+Ë∑≥Ë∑ÉÁöÑÊñπÂºè‰øùËØÅË∂ãÂäøÈÄíÂ¢û</li>
<li>ÂçïËÅäÂÄüÈâ¥Êï∞ÊçÆÂ∫ìËÆæËÆ°ÔºåÂçïÁÇπÂ∫èÂàóÂåñÂêåÊ≠•Âà∞ÂÖ∂‰ªñËäÇÁÇπ‰øùËØÅÂ§öÊú∫Êó∂Â∫è</li>
<li>Áæ§ËÅäÊ∂àÊÅØ‰ΩøÁî®ÂçïÁÇπÂ∫èÂàóÂåñ‰øùËØÅÂêÑ‰∏™ÂèëÈÄÅËÄÖÁöÑÊ∂àÊÅØÁõ∏ÂØπÊó∂Â∫è</li>
</ul>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/0081Kckwly1gm8m1ge2ksj30j707gt96.jpg" title="Â¶Ç‰Ωï‰øùËØÅIMÂÆûÊó∂Ê∂àÊÅØÁöÑ‚ÄúÊó∂Â∫èÊÄß‚Äù‰∏é‚Äú‰∏ÄËá¥ÊÄß‚ÄùÔºü_10.jpg" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm8m1ge2ksj30j707gt96.jpg" alt="Â¶Ç‰Ωï‰øùËØÅIMÂÆûÊó∂Ê∂àÊÅØÁöÑ‚ÄúÊó∂Â∫èÊÄß‚Äù‰∏é‚Äú‰∏ÄËá¥ÊÄß‚ÄùÔºü_10.jpg" title class></a>
                <p>Â¶Ç‰Ωï‰øùËØÅIMÂÆûÊó∂Ê∂àÊÅØÁöÑ‚ÄúÊó∂Â∫èÊÄß‚Äù‰∏é‚Äú‰∏ÄËá¥ÊÄß‚ÄùÔºü_10.jpg</p>
            </figure>
<p>‰ºòÂåñÔºö</p>
<ul>
<li>Âà©Áî®ÊúçÂä°Âô®ÂçïÁÇπÂ∫èÂàóÂåñÊó∂Â∫èÔºåÂèØËÉΩÂá∫Áé∞ÊúçÂä°Á´ØÊî∂Âà∞Ê∂àÊÅØÁöÑÊó∂Â∫èÔºå‰∏éÂèëÂá∫Â∫èÂàó‰∏ç‰∏ÄËá¥</li>
<li>Âú®AÂæÄBÂèëÂá∫ÁöÑÊ∂àÊÅØ‰∏≠ÔºåÂä†‰∏äÂèëÈÄÅÊñπAÊú¨Âú∞ÁöÑ‰∏Ä‰∏™ÁªùÂØπÊó∂Â∫èÔºåÊù•Ë°®Á§∫Êé•Êî∂ÊñπBÁöÑÂ±ïÁé∞Êó∂Â∫è„ÄÇ</li>
<li>Áæ§ËÅäÊ∂àÊÅØ‰øùËØÅ‰∏Ä‰∏™Áæ§ËÅäËêΩÂú®‰∏Ä‰∏™service‰∏äÁÑ∂ÂêéÈÄöËøáÊú¨Âú∞ÈÄíÂ¢ûËß£ÂÜ≥ÂÖ®Â±ÄÈÄíÂ¢ûÁöÑÁì∂È¢àÈóÆÈ¢ò</li>
</ul>
<h3 id="4ÔºöÊé®ÊãâÁªìÂêà"><a href="#4ÔºöÊé®ÊãâÁªìÂêà" class="headerlink" title="4ÔºöÊé®ÊãâÁªìÂêà"></a><strong>4ÔºöÊé®ÊãâÁªìÂêà</strong></h3><p>ÂéÜÂè≤ÊñπÊ°àÔºö</p>
<ul>
<li>ÊúçÂä°Âô®Âú®ÁºìÂ≠òÈõÜÁæ§ÈáåÂ≠òÂÇ®ÊâÄÊúâÁî®Êà∑ÁöÑÂú®Á∫øÁä∂ÊÄÅ -&gt; ‰øùËØÅÁä∂ÊÄÅÂèØÊü•</li>
<li>Áî®Êà∑Áä∂ÊÄÅÂÆûÊó∂ÂèòÊõ¥Ôºå‰ªª‰ΩïÁî®Êà∑ÁôªÂΩï/ÁôªÂá∫Êó∂ÔºåÈúÄË¶ÅÊé®ÈÄÅÊâÄÊúâÂ•ΩÂèãÊõ¥Êñ∞Áä∂ÊÄÅ</li>
<li>AÁôªÂΩïÊó∂ÔºåÂÖàÂéªÊï∞ÊçÆÂ∫ìÊãâÂèñËá™Â∑±ÁöÑÂ•ΩÂèãÂàóË°®ÔºåÂÜçÂéªÁºìÂ≠òËé∑ÂèñÊâÄÊúâÂ•ΩÂèãÁöÑÂú®Á∫øÁä∂ÊÄÅ</li>
</ul>
<p><strong>‚ÄúÊ∂àÊÅØÈ£éÊö¥Êâ©Êï£Á≥ªÊï∞‚Äù</strong>ÊòØÊåá‰∏Ä‰∏™Ê∂àÊÅØÂèëÂá∫Êó∂ÔºåÂèòÊàêN‰∏™Ê∂àÊÅØÁöÑÊâ©Êï£Á≥ªÊï∞ÔºåËøô‰∏™Á≥ªÊï∞‰∏é‰∏öÂä°ÂèäÊï∞ÊçÆÁõ∏ÂÖ≥Ôºå‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÂÆÉÁöÑÂ§ßÂ∞èÂÜ≥ÂÆö‰∫ÜÊäÄÊúØÈááÁî®Êé®ÈÄÅËøòÊòØÊãâÂèñ„ÄÇ</p>
<p>‰ºòÂåñÊñπÊ°àÔºö</p>
<ul>
<li><strong>Â•ΩÂèãÁä∂ÊÄÅÊé®ÊãâÁªìÂêà</strong>ÔºåÈ¶ñÈ°µÁΩÆÈ°∂‰∫≤ÂØÜ„ÄÅÂΩìÂâçÁæ§ËÅäÔºåÈááÁî®Êé®ÈÄÅÔºåÂê¶ÂàôÂèØ‰ª•ÈááÁî®ËΩÆËØ¢ÊãâÂèñÁöÑÊñπÂºèÂêåÊ≠•Ôºõ</li>
<li><strong>Áæ§ÂèãÁöÑÁä∂ÊÄÅ</strong>ÔºåÁî±‰∫éÊ∂àÊÅØÈ£éÊö¥Êâ©Êï£Á≥ªÊï∞ËøáÂ§ßÔºåÂèØ‰ª•ÈááÁî®ÊåâÈúÄÊãâÂèñÔºåÂª∂Êó∂ÊãâÂèñÁöÑÊñπÂºèÂêåÊ≠•Ôºõ</li>
<li><strong>Á≥ªÁªüÊ∂àÊÅØ/ÂºÄÂ±èÂπøÂëäÁ≠â</strong>ËøôÁßçÂÆûÊó∂‰∫ßÁîüÁöÑÊ∂àÊÅØÔºåÂèØ‰ª•ÈááÁî®Êé®ÈÄÅÁöÑÊñπÂºèËé∑ÂèñÊ∂àÊÅØÔºõ</li>
</ul>
<h3 id="5„ÄÅÂ•ΩÂèãÊé®Ëçê"><a href="#5„ÄÅÂ•ΩÂèãÊé®Ëçê" class="headerlink" title="5„ÄÅÂ•ΩÂèãÊé®Ëçê"></a>5„ÄÅÂ•ΩÂèãÊé®Ëçê</h3><p>Neo4j ÂõæË∞±Êï∞ÊçÆÂ∫ì</p>
<h2 id="Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫"><a href="#Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫" class="headerlink" title="Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫"></a>Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫</h2><p>‚Äã    18Âπ¥ÂàùÔºåÈíàÂØπÊàë‰ª¨DubboÊ°ÜÊû∂ÁöÑÊô∫ÊÖßÊ•ºÂÆáÈ°πÁõÆÁöÑÂçï‰ΩìÊúçÂä°ÊòæÂæóÂçÅÂàÜÁ¨®ÈáçÔºåÈúÄË¶ÅÈááÁî®ÂæÆÊúçÂä°ÁöÑÂΩ¢ÂºèËøõË°åÊû∂ÊûÑÁöÑÈáçÊñ∞ËÆæËÆ°ÔºåÂΩìÊó∂ÔºåÊàëÈòÖËØª‰∫Ü<em>Eric Evans</em> ÂÜôÁöÑ„ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÔºöËΩØ‰ª∂Ê†∏ÂøÉÂ§çÊùÇÊÄßÂ∫îÂØπ‰πãÈÅì„ÄãÂíå<em>Martin</em> <em>fowler</em>ÁöÑ„ÄäÂæÆÊúçÂä°Êû∂ÊûÑÔºö<em>Microservice</em>„Äã‰∏§Êú¨ÈáçÈáèÁ∫ß‰π¶Á±çÔºå‰π¶‰∏≠‰∫ÜËß£Âà∞ËΩ¨ÂûãÂæÆÊúçÂä°ÁöÑÈáçË¶ÅÂéüÂõ†‰πã‰∏ÄÂ∞±ÊòØÂà©Áî®<strong>ÂàÜÊ≤ªÁöÑÊÄùÊÉ≥</strong>ÂáèÂ∞ëÁ≥ªÁªüÁöÑÂ§çÊùÇÊÄßÔºåÊòØ‰∏ÄÁßçÈíàÂØπ<strong>Â§çÊùÇÈóÆÈ¢òÁöÑÂÆèËßÇËÆæËÆ°</strong>ÔºåÊù•Â∫îÂØπÁ≥ªÁªüÂêéÊù•ËßÑÊ®°Ë∂äÊù•Ë∂äÂ§ßÔºåÁª¥Êä§Ë∂äÊù•Ë∂äÂõ∞ÈöæÁöÑÈóÆÈ¢ò„ÄÇÁÑ∂ËÄåÔºåÊãÜÂàÜÊàêÂæÆÊúçÂä°‰ª•ÂêéÔºåÂπ∂<strong>‰∏çÊÑèÂë≥ÁùÄÊØè‰∏™ÂæÆÊúçÂä°ÈÉΩÊòØÂêÑËá™Áã¨Á´ãÂú∞ËøêË°å</strong>ÔºåËÄåÊòØÂΩºÊ≠§Âçè‰ΩúÂú∞ÁªÑÁªáÂú®‰∏ÄËµ∑„ÄÇËøôÂ∞±Â•ΩÂÉè‰∏Ä‰∏™Âõ¢ÈòüÔºå<strong>ËßÑÊ®°Ë∂äÂ§ßË∂äÈúÄË¶Å‰∏Ä‰∫õÊñπÊ≥ïÊù•ÁªÑÁªá</strong>ÔºåËøôÊ≠£ÊòØÊàë‰ª¨ÈúÄË¶ÅDDDÊ®°Âûã‰∏∫Êàë‰ª¨ÁöÑÊû∂ÊûÑËÆæËÆ°Êèê‰æõÁêÜËÆ∫Âπ∂ÂÆûË∑µÁöÑÊñπÊ≥ï„ÄÇ</p>
<p>‚Äã    ÂΩìÊó∂ÊØèÊ¨°ÁâàÊú¨Êõ¥Êñ∞Ëø≠‰ª£Âä®ËæÑÂçÅÂá†‰∏™ÂæÆÊúçÂä°ÂêåÊó∂‰øÆÊîπÔºåÊúâÊó∂‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÂèòÊõ¥Ôºå‰πüÈúÄË¶ÅÂêåÊó∂ÂèòÊõ¥Â§ö‰∏™ÂæÆÊúçÂä°ÔºåÂºïËµ∑‰∫ÜÂõ¢ÈòüÁöÑÂèçÊÄùÔºöÂæÆÊúçÂä°ÂåñÁúã‰∏äÂéªÂπ∂Ê≤°ÊúâÂáèÂ∞ëÊàë‰ª¨ÁöÑÂ∑•‰ΩúÈáè„ÄÇ„Ää‰ºÅ‰∏öÊû∂ÊûÑËÆæËÆ°„Äã‰∏≠ÂØπ‰∫éÂæÆÊúçÂä°ÁöÑÂÆö‰πâÊòØ<strong>Â∞èËÄå‰∏ì</strong>Ôºå‰ΩÜÂú®Ëµ∑ÂàùÁöÑËÆæËÆ°Êó∂ÔºåÊàë‰ª¨Âè™ÁâáÈù¢ÁöÑ<strong>ÁêÜËß£‰∫ÜÂ∞èÂç¥ÂøΩËßÜ‰∫Ü‰∏ì</strong>ÔºåÊ≠§Êó∂Êàë‰ª¨ÊâçÊÑèËØÜÂà∞ÊãÜÂàÜÁöÑÂÖ≥ÈîÆÊòØË¶Å‰øùËØÅÂæÆÊúçÂä°ÂÜÖÈ´òÂÜÖËÅöÔºåÂæÆÊúçÂä°Èó¥‰ΩéËÄ¶Âêà„ÄÇ</p>
<h3 id="Áâ©ËÅîÁΩëÊû∂ÊûÑ"><a href="#Áâ©ËÅîÁΩëÊû∂ÊûÑ" class="headerlink" title="Áâ©ËÅîÁΩëÊû∂ÊûÑ"></a><strong>Áâ©ËÅîÁΩëÊû∂ÊûÑ</strong></h3><blockquote>
<p>Áâ©ËÅîÁΩëÊòØ‰∫íËÅîÁΩëÁöÑ<strong>Â§ñÂª∂</strong>„ÄÇÂ∞ÜÁî®Êà∑Á´Ø<strong>Âª∂‰º∏</strong>ÂíåÊâ©Â±ïÂà∞Áâ©‰∏é‰∫∫ÁöÑËøûÊé•„ÄÇÁâ©ËÅîÁΩëÊ®°Âºè‰∏≠ÔºåÊâÄÊúâ<strong>Áâ©ÂìÅ‰∏éÁΩëÁªúËøûÊé•</strong>ÔºåÂπ∂ËøõË°åÈÄö‰ø°ÂíåÂú∫ÊôØËÅîÂä®„ÄÇ‰∫íËÅîÁΩëÈÄöËøá<strong>ÁîµËÑë„ÄÅÁßªÂä®ÁªàÁ´Ø</strong>Á≠âËÆæÂ§áÂ∞ÜÂèÇ‰∏éËÄÖËÅîÁ≥ªËµ∑Êù•ÔºåÂΩ¢ÊàêÁöÑ‰∏ÄÁßçÂÖ®Êñ∞ÁöÑ<strong>‰ø°ÊÅØ‰∫íÊç¢ÊñπÂºè</strong></p>
</blockquote>
<h4 id="DCMÁ≥ªÁªüÊû∂ÊûÑ"><a href="#DCMÁ≥ªÁªüÊû∂ÊûÑ" class="headerlink" title="DCMÁ≥ªÁªüÊû∂ÊûÑ"></a>DCMÁ≥ªÁªüÊû∂ÊûÑ</h4><ul>
<li><strong>ËÆæÂ§áÊÑüÁü•Â±Ç</strong>ÔºàDeviceÔºâÔºöÂà©Áî®Â∞ÑÈ¢ëËØÜÂà´„ÄÅ‰∫åÁª¥Á†Å„ÄÅ‰º†ÊÑüÂô®Á≠âÊäÄÊúØËøõË°åÊï∞ÊçÆÈááÈõÜ</li>
<li><strong>ÁΩëÁªú‰º†ËæìÂ±Ç</strong>ÔºàConnectÔºâÔºö‰æùÊâòÈÄö‰ø°ÁΩëÁªúÂíåÂçèËÆÆÔºåÂÆûÁé∞ÂèØ‰ø°ÁöÑ‰ø°ÊÅØ‰∫§‰∫íÂíåÂÖ±‰∫´</li>
<li><strong>Â∫îÁî®ÊéßÂà∂Â±Ç</strong>ÔºàManageÔºâÔºöÂàÜÊûêÂíåÂ§ÑÁêÜÊµ∑ÈáèÊï∞ÊçÆÂíå‰ø°ÊÅØÔºåÂÆûÁé∞Êô∫ËÉΩÂåñÁöÑÂÜ≥Á≠ñÂíåÊéßÂà∂</li>
</ul>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jc1stt3j31380lswso.jpg" title="image-20210504174337327" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jc1stt3j31380lswso.jpg" alt="image-20210504174337327" style="zoom:50%;"></a></p>
<h4 id="‰∏âË¶ÅÁ¥†"><a href="#‰∏âË¶ÅÁ¥†" class="headerlink" title="‰∏âË¶ÅÁ¥†"></a><strong>‰∏âË¶ÅÁ¥†</strong></h4><ul>
<li><strong>ËÆæÂ§áËÅîÁΩë</strong>ÔºöÈÄöËøá‰∏çÂêåÁöÑÁΩëÁªúÂçèËÆÆÂíåÈÄö‰ø°Ê†áÂáÜÔºåÂÆûÁé∞ËÆæÂ§á‰∏éÊéßÂà∂Á´ØÁöÑËøûÊé•</li>
<li><strong>‰∫ëÁ´ØÂàÜÊûê</strong>ÔºöÊèê‰æõÁõëÊéß„ÄÅÂ≠òÂÇ®„ÄÅÂàÜÊûêÁ≠âÊï∞ÊçÆÊúçÂä°Ôºå‰ª•Âèä‰øùÈöúÂÆ¢Êà∑ÁöÑ‰∏öÂä°Êï∞ÊçÆÂÆâÂÖ®</li>
<li><strong>‰∫ëËæπÂçèÂêå</strong>Ôºö‰∫ëÁ´ØÊé•ÂèóËÆæÂ§á‰∏äÊä•Êï∞ÊçÆÔºå‰∏ãÂèëËÆæÂ§áÁÆ°ÊéßÊåá‰ª§</li>
</ul>
<h4 id="‰∫ë-Ëæπ-Á´ØÂçèÂêå"><a href="#‰∫ë-Ëæπ-Á´ØÂçèÂêå" class="headerlink" title="‰∫ë / Ëæπ / Á´ØÂçèÂêå"></a>‰∫ë / Ëæπ / Á´ØÂçèÂêå</h4><p><strong>‰∫ëÁ´ØËÆ°ÁÆó</strong>„ÄÅ<strong>ÁªàÁ´ØËÆ°ÁÆó</strong>Âíå<strong>ËæπÁºòËÆ°ÁÆó</strong>ÊòØ‰∏Ä‰∏™ÂçèÂêåÁöÑÁ≥ªÁªüÔºåÊ†πÊçÆÁî®Êà∑Âú∫ÊôØ„ÄÅËµÑÊ∫êÁ∫¶ÊùüÁ®ãÂ∫¶„ÄÅ‰∏öÂä°ÂÆûÊó∂ÊÄßÁ≠âËøõË°åÂä®ÊÄÅË∞É ÈÖçÔºåÂΩ¢ÊàêÂèØÈù†„ÄÅ‰ΩéÊàêÊú¨ÁöÑÂ∫îÁî®ÊñπÊ°à„ÄÇ‰ªéËøáÂéªÂá†Âπ¥ÁöÑÂèëÂ±ïÁßØÁ¥ØÊù•ÁúãÔºåAI Â∑≤Âú®Áâ©ËÅîÁΩëÂ§ö‰∏™Â±ÇÈù¢ËøõË°åËûçÂêàÔºåÊØîÊàë‰ª¨Âêà‰ΩúÁöÑÊµ∑Â∫∑Â®ÅËßÜ„ÄÅÊó∑ËßÜÂÆáËßÜ„ÄÅÂïÜÊ±§ÁßëÊäÄÁ≠âÁ∫∑Á∫∑ÂèëÂ∏É‰∫ÜÁâ©ËÅîÁΩëAIÁõ∏ÂÖ≥Âπ≥Âè∞Âíå‰∫ßÂìÅÔºåÂíåÁßªÂä®ÂíåÂ∞èÂå∫ËøõË°å‰∫ÜÁ¥ßÂØÜÁöÑËûçÂêà„ÄÇ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1gn9kwux9vjj312w0li138.jpg" title="image-20210202225351673" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gn9kwux9vjj312w0li138.jpg" alt="image-20210202225351673" style="zoom:50%;"></a></p>
<h4 id="Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•"><a href="#Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•" class="headerlink" title="Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•"></a>Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•</h4><p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3199158061/p132750.png" title="‰ºÅ‰∏öÂü∫‰∫éÁâ©ËÅîÁΩëÂπ≥Âè∞ÁöÑ‰∏öÂä°ÈìæË∑Ø" data-fancybox="images"><img src="https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3199158061/p132750.png" alt="‰ºÅ‰∏öÂü∫‰∫éÁâ©ËÅîÁΩëÂπ≥Âè∞ÁöÑ‰∏öÂä°ÈìæË∑Ø" style="zoom:50%;"></a></p>
<p>Âêë‰∏ãËøûÊé•Êµ∑ÈáèËÆæÂ§áÔºåÊîØÊíëËÆæÂ§á<strong>Êï∞ÊçÆÈááÈõÜ‰∏ä‰∫ë</strong>Ôºõ</p>
<p>Âêë‰∏äÈÄöËøáË∞ÉÁî®<strong>‰∫ëÁ´ØAPI</strong>Â∞ÜÊåá‰ª§‰∏ãÂèëËá≥ËÆæÂ§áÁ´ØÔºåÂÆûÁé∞<strong>ËøúÁ®ãÊéßÂà∂</strong>„ÄÇ</p>
<p><strong>‰∏äË°åÊï∞ÊçÆÈìæË∑Ø</strong></p>
<ul>
<li>ËÆæÂ§áÂª∫Á´ã<strong>MQTT</strong>ÈïøËøûÊé•Ôºå‰∏äÊä•Êï∞ÊçÆÔºàÂèëÂ∏ÉTopicÂíåPayloadÔºâÂà∞Áâ©ËÅîÁΩëÂπ≥Âè∞</li>
<li>Áâ©ËÅîÁΩëÂπ≥Âè∞ÈÄöËøá<strong>ÈÖçÁΩÆ</strong>ËßÑÂàôÔºåÈÄöËøá<strong>RocketMQ</strong>„ÄÅ<strong>AMQP</strong>Á≠âÈòüÂàóËΩ¨ÂèëÂà∞‰∏öÂä°Âπ≥Âè∞</li>
</ul>
<p><strong>‰∏ãË°åÊåá‰ª§ÈìæË∑Ø</strong></p>
<ul>
<li>‰∏öÂä°ÊúçÂä°Âô®Âü∫‰∫é<strong>HTTPS</strong>ÂçèËÆÆË∞ÉÁî®ÁöÑAPIÊé•Âè£ÔºåÂèëÂ∏ÉTopicÊåá‰ª§Âà∞Áâ©ËÅîÁΩëÂπ≥Âè∞„ÄÇ</li>
<li>Áâ©ËÅîÁΩëÂπ≥Âè∞ÈÄöËøá<strong>MQTT</strong>ÂçèËÆÆÔºå‰ΩøÁî®ÂèëÂ∏ÉÔºàÊåáÂÆöTopicÂíåPayloadÔºâÂà∞<strong>ËÆæÂ§áÁ´Ø</strong>„ÄÇ</li>
</ul>
<h4 id="Èó®ÈîÅÊé•ÂÖ•"><a href="#Èó®ÈîÅÊé•ÂÖ•" class="headerlink" title="Èó®ÈîÅÊé•ÂÖ•"></a>Èó®ÈîÅÊé•ÂÖ•</h4><p><strong>WIFIÈó®ÈîÅ</strong>Ôºö<strong>Èùû‰øùÊ¥ª</strong> Âπ≥Â∏∏Â§Ñ‰∫éÊñ≠Áîµ‰ºëÁú†Áä∂ÊÄÅÔºåÈúÄË¶Å<strong>MCU</strong> <strong>Âî§ÈÜí</strong>ÊâçËÉΩ‰º†ËæìÂíåÂèëÈÄÅÊï∞ÊçÆ</p>
<p><strong>ËìùÁâôÈó®ÈîÅ</strong>Ôºö<strong>MCU‰∏≤Âè£ÂØπÊé•</strong>Âíå<strong>SDKÂØπÊé•</strong>ÔºåËøëË∑ùÁ¶ª<strong>ÂçïÁÇπÁôªÂΩï</strong>ÂíåËøúË∑ùÁ¶ª<strong>ÁΩëÂÖ≥ÁôªÂΩï</strong></p>
<p><strong>ZigbeeÈó®ÈîÅ</strong>Ôºö<strong>Èùû‰øùÊ¥ª</strong> ‰ΩÜÊòØ‰øùÊåÅÂøÉË∑≥Ôºå<strong>MCU</strong>ÂØπÊé•Ôºå<strong>ZigbeeÂçèËÆÆ</strong>ÊéßÂà∂„ÄÇ</p>
<p><strong>NB-IotÈó®ÈîÅ</strong>ÔºöÂèØ‰ª•ÈÄöËøá<strong>ÂÖ¨ÁΩë</strong>ËøûÊé•ÔºåÊääÈó®Á¶ÅÂèòÊàê<strong>SAAS</strong>ÊúçÂä°Ôºå<strong>MCU</strong></p>
<table>
<thead>
<tr>
<th>ÂêçËØç</th>
<th>Ëß£Èáä</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SaaS</strong></td>
<td><strong>Software-as-a-Service</strong> ÔºåÊèê‰æõÁªôÂÆ¢Êà∑ÁöÑÊúçÂä°ÊòØËøêËê•ÂïÜËøêË°åÂú®‰∫ëËÆ°ÁÆóÂü∫Á°ÄËÆæÊñΩ‰∏äÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ<strong>Áî®Êà∑ÂèØ‰ª•Âú®ÂêÑÁßçËÆæÂ§á‰∏äÈÄöËøáÂÆ¢Êà∑Á´ØÁïåÈù¢ËÆøÈóÆÂ∫îÁî®</strong>Ôºå‰æãÂ¶ÇËÆ°ÁÆóÊú∫ÊµèËßàÂô®„ÄÇÁî®Êà∑‰∏çÈúÄË¶ÅÁÆ°ÁêÜÊàñÊéßÂà∂‰ªª‰Ωï‰∫ëËÆ°ÁÆóÂü∫Á°ÄËÆæÊñΩÔºåÂåÖÊã¨ÁΩëÁªú„ÄÅÊúçÂä°Âô®„ÄÅÊìç‰ΩúÁ≥ªÁªü„ÄÅÂ≠òÂÇ®Á≠âËµÑÊ∫êÔºå‰∏ÄÂàáÁî± SaaS Êèê‰æõÂïÜÁÆ°ÁêÜÂíåËøêÁª¥„ÄÇ</td>
</tr>
<tr>
<td><strong>PaaS</strong></td>
<td><strong>Platform-as-a-Service</strong>ÔºåË°®Á§∫Âπ≥Âè∞Âç≥ÊúçÂä°ÁêÜÂøµÔºåÂÆ¢Êà∑‰∏çÈúÄË¶ÅÁÆ°ÁêÜÊàñÊéßÂà∂Â∫ïÂ±ÇÁöÑ‰∫ëÂü∫Á°ÄËÆæÊñΩÔºåÂåÖÊã¨ÁΩëÁªú„ÄÅÊúçÂä°Âô®„ÄÅÊìç‰ΩúÁ≥ªÁªü„ÄÅÂ≠òÂÇ®Á≠âÔºå‰ΩÜ<strong>ÂÆ¢Êà∑ËÉΩÊéßÂà∂ÈÉ®ÁΩ≤ÁöÑÂ∫îÁî®Á®ãÂ∫è</strong>Ôºå‰πüÂèØËÉΩÊéßÂà∂ËøêË°åÂ∫îÁî®Á®ãÂ∫èÁöÑÊâòÁÆ°ÁéØÂ¢ÉÈÖçÁΩÆ„ÄÇ</td>
</tr>
<tr>
<td><strong>IaaS</strong></td>
<td>I<strong>nfrastructure-as-a-Service</strong> ÔºåË°®Á§∫Âü∫Á°ÄËÆæÊñΩÂç≥ÊúçÂä°ÁêÜÂøµÔºåÊèê‰æõÁöÑÊúçÂä°ÊòØÂØπÊâÄÊúâËÆ°ÁÆóÂü∫Á°ÄËÆæÊñΩÁöÑÂà©Áî®ÔºåÂåÖÊã¨ CPU„ÄÅÂÜÖÂ≠ò„ÄÅÂ≠òÂÇ®„ÄÅÁΩëÁªúÁ≠âÂÖ∂ÂÆÉËÆ°ÁÆóËµÑÊ∫ê„ÄÇ<strong>Áî®Êà∑ËÉΩÂ§üÈÉ®ÁΩ≤ÂíåËøêË°å‰ªªÊÑèËΩØ‰ª∂ÔºåÂåÖÊã¨Êìç‰ΩúÁ≥ªÁªüÂíåÂ∫îÁî®Á®ãÂ∫è„ÄÇ</strong></td>
</tr>
</tbody>
</table>
<h4 id="ÂêÑÁßçÂçèËÆÆ"><a href="#ÂêÑÁßçÂçèËÆÆ" class="headerlink" title="ÂêÑÁßçÂçèËÆÆ"></a>ÂêÑÁßçÂçèËÆÆ</h4><p><strong>HTTPÂçèËÆÆÔºàCSÁî®Êà∑‰∏äÁΩëÔºâ</strong></p>
<p>HTTPÂçèËÆÆÊòØÂÖ∏ÂûãÁöÑCSÈÄöËÆØÊ®°ÂºèÔºåÁî±<strong>ÂÆ¢Êà∑Á´Ø‰∏ªÂä®</strong>ÂèëËµ∑ËøûÊé•ÔºåÂêëÊúçÂä°Âô®ËØ∑Ê±Ç<strong>XMLÊàñJSONÊï∞ÊçÆ</strong>„ÄÇËØ•ÂçèËÆÆÊúÄÊó©ÊòØ‰∏∫‰∫ÜÈÄÇÁî®webÊµèËßàÂô®ÁöÑ<strong>‰∏äÁΩëÊµèËßàÂú∫ÊôØ</strong>ÂíåËÆæËÆ°ÁöÑÔºåÁõÆÂâçÂú®<strong>PC„ÄÅÊâãÊú∫„ÄÅpad</strong>Á≠âÁªàÁ´Ø‰∏äÈÉΩÂ∫îÁî®ÂπøÊ≥õÔºå‰ΩÜÂπ∂<strong>‰∏çÈÄÇÁî®‰∫éÁâ©ËÅîÁΩëÂú∫ÊôØ</strong></p>
<ul>
<li>Áî±‰∫éÂøÖÈ°ªÁî±ËÆæÂ§á‰∏ªÂä®ÂêëÊúçÂä°Âô®ÂèëÈÄÅÊï∞ÊçÆÔºåÈöæ‰ª•‰∏ªÂä®ÂêëËÆæÂ§áÊé®ÈÄÅÊï∞ÊçÆ„ÄÇ</li>
<li>Áâ©ËÅîÁΩëÂú∫ÊôØ‰∏≠ÁöÑ<strong>ËÆæÂ§áÂ§öÊ†∑</strong>ÔºåËøêÁÆó<strong>ÂèóÈôêÁöÑËÆæÂ§á</strong>ÔºåÈöæ‰ª•ÂÆûÁé∞JSONÊï∞ÊçÆÊ†ºÂºèÁöÑËß£Êûê</li>
</ul>
<p><strong>RESTAPIÔºàÊùæËÄ¶ÂêàË∞ÉÁî®Ôºâ</strong></p>
<p>REST/HTTP‰∏ªË¶Å‰∏∫‰∫Ü<strong>ÁÆÄÂåñ</strong>‰∫íËÅîÁΩë‰∏≠ÁöÑÁ≥ªÁªüÊû∂ÊûÑÔºå<strong>Âø´ÈÄüÂÆûÁé∞</strong>ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥‰∫§‰∫íÁöÑ<strong>ÊùæËÄ¶Âêà</strong>ÔºåÈôç‰Ωé‰∫ÜÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑ<strong>‰∫§‰∫íÂª∂Ëøü</strong>„ÄÇÂõ†Ê≠§ÈÄÇÂêàÂú®Áâ©ËÅîÁΩëÁöÑÂ∫îÁî®Â±ÇÈù¢ÔºåÈÄöËøáREST<strong>ÂºÄÊîæ</strong>Áâ©ËÅîÁΩë‰∏≠ËµÑÊ∫êÔºåÂÆûÁé∞ÊúçÂä°Ë¢´ÂÖ∂‰ªñÂ∫îÁî®ÊâÄË∞ÉÁî®„ÄÇ</p>
<p><strong>CoAPÂçèËÆÆÔºàÊó†Á∫ø‰º†ÊÑüÔºâ</strong></p>
<blockquote>
<p>ÁÆÄÂåñ‰∫ÜHTTPÂçèËÆÆÁöÑ<strong>RESTful API</strong>ÔºåÂÆÉÈÄÇÁî®‰∫éÂú®<strong>ËµÑÊ∫êÂèóÈôê</strong>ÁöÑÈÄö‰ø°ÁöÑIPÁΩëÁªú„ÄÇ</p>
</blockquote>
<p><strong>MQTTÂçèËÆÆÔºà‰ΩéÂ∏¶ÂÆΩÔºâ</strong></p>
<blockquote>
<p>MQTTÂçèËÆÆÈááÁî®<strong>ÂèëÂ∏É/ËÆ¢ÈòÖ</strong>Ê®°ÂºèÔºåÁâ©ËÅîÁΩëÁªàÁ´ØÈÉΩÈÄöËøáTCPËøûÊé•Âà∞‰∫ëÁ´ØÔºå‰∫ëÁ´ØÈÄöËøá‰∏ªÈ¢òÁöÑÊñπÂºèÁÆ°ÁêÜÂêÑ‰∏™ËÆæÂ§áÂÖ≥Ê≥®ÁöÑÈÄöËÆØÂÜÖÂÆπÔºå<strong>Ë¥üË¥£</strong>Â∞ÜËÆæÂ§á‰∏éËÆæÂ§á‰πãÈó¥<strong>Ê∂àÊÅØÁöÑËΩ¨Âèë</strong></p>
</blockquote>
<p>ÈÄÇÁî®ËåÉÂõ¥ÔºöÂú®‰ΩéÂ∏¶ÂÆΩ„ÄÅ‰∏çÂèØÈù†ÁöÑÈõÜ‰∏≠<strong>ÊòüÂûãÁΩëÁªúÊû∂ÊûÑ</strong>Ôºàhub-and-spokeÔºâÔºå‰∏çÈÄÇÁî®ËÆæÂ§á‰∏éËÆæÂ§á‰πãÈó¥ÈÄö‰ø°ÔºåËÆæÂ§á<strong>ÊéßÂà∂ËÉΩÂäõÂº±</strong>ÔºåÂè¶Â§ñ<strong>ÂÆûÊó∂ÊÄßËæÉÂ∑Æ</strong>Ôºå‰∏ÄËà¨ÈÉΩÂú®<strong>ÁßíÁ∫ß</strong>„ÄÇÂçèËÆÆË¶Å<strong>Ë∂≥Â§üËΩªÈáè</strong>ÔºåÊñπ‰æøÂµåÂÖ•ÂºèËÆæÂ§áÂéªÂø´ÈÄüÂú∞Ëß£ÊûêÂíåÂìçÂ∫î„ÄÇÂÖ∑Â§á<strong>Ë∂≥Â§üÁöÑÁÅµÊ¥ªÊÄß</strong>Ôºå‰ΩøÂÖ∂Ë∂≥‰ª•‰∏∫ IoT ËÆæÂ§áÂíåÊúçÂä°ÁöÑÂ§öÊ†∑ÂåñÊèê‰æõÊîØÊåÅ„ÄÇÂ∫îËØ•ËÆæËÆ°‰∏∫<strong>ÂºÇÊ≠•Ê∂àÊÅØÂçèËÆÆ</strong>ÔºåËøô‰πàÂÅöÊòØÂõ†‰∏∫Â§ßÂ§öÊï∞ IoT ËÆæÂ§áÁöÑÁΩëÁªúÂª∂ËøüÂæàÂèØËÉΩÈùûÂ∏∏‰∏çÁ®≥ÂÆöÔºåËã•‰ΩøÁî®ÂêåÊ≠•Ê∂àÊÅØÂçèËÆÆÔºåIoT ËÆæÂ§áÈúÄË¶ÅÁ≠âÂæÖÊúçÂä°Âô®ÁöÑÂìçÂ∫îÔºåÂøÖÈ°ªÊòØ<strong>ÂèåÂêëÈÄö‰ø°</strong>ÔºåÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÂ∫îËØ•ÂèØ‰ª•‰∫íÁõ∏ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ</p>
<p><strong>AMQPÂçèËÆÆÔºà‰∫íÊìç‰ΩúÊÄßÔºâ</strong></p>
<blockquote>
<p>Áî®‰∫é‰∏öÂä°Á≥ªÁªü‰æãÂ¶ÇPLMÔºåERPÔºåMESÁ≠âËøõË°åÊï∞ÊçÆ‰∫§Êç¢„ÄÇ</p>
</blockquote>
<p>„ÄÄ„ÄÄÈÄÇÁî®ËåÉÂõ¥ÔºöÊúÄÊó©Â∫îÁî®‰∫éÈáëËûçÁ≥ªÁªü‰πãÈó¥ÁöÑ‰∫§ÊòìÊ∂àÊÅØ‰º†ÈÄíÔºåÂú®Áâ©ËÅîÁΩëÂ∫îÁî®‰∏≠Ôºå‰∏ªË¶ÅÈÄÇÁî®‰∫éÁßªÂä®ÊâãÊåÅËÆæÂ§á‰∏éÂêéÂè∞Êï∞ÊçÆ‰∏≠ÂøÉÁöÑÈÄö‰ø°ÂíåÂàÜÊûê„ÄÇ</p>
<p><strong>XMPPÂçèËÆÆÔºàÂç≥Êó∂ÈÄö‰ø°Ôºâ</strong></p>
<blockquote>
<p>ÂºÄÊ∫êÂΩ¢ÂºèÁªÑÁªá‰∫ßÁîüÁöÑÁΩëÁªúÂç≥Êó∂ÈÄö‰ø°ÂçèËÆÆ„ÄÇË¢´IETFÂõΩÈôÖÊ†áÂáÜÁªÑÁªáÂÆåÊàê‰∫ÜÊ†áÂáÜÂåñÂ∑•‰Ωú</p>
</blockquote>
<p>„ÄÄ„ÄÄÈÄÇÁî®ËåÉÂõ¥Ôºö<strong>Âç≥Êó∂ÈÄö‰ø°</strong>ÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåËøòËÉΩÁî®Âú®<strong>ÂçèÂêåÂ∑•ÂÖ∑</strong>„ÄÅÊ∏∏ÊàèÁ≠â„ÄÇ</p>
<p>‚Äã    XMPPÂú®ÈÄöËÆØÁöÑ‰∏öÂä°ÊµÅÁ®ã‰∏äÊòØÊõ¥ÈÄÇÂêàÁâ©ËÅîÁΩëÁ≥ªÁªüÁöÑÔºåÂºÄÂèëËÄÖ‰∏çÁî®Ëä±Â§™Â§öÂøÉÊÄùÂéªËß£ÂÜ≥ËÆæÂ§áÈÄöËÆØÊó∂ÁöÑ‰∏öÂä°ÈÄöËÆØÊµÅÁ®ãÔºåÁõ∏ÂØπÂºÄÂèëÊàêÊú¨‰ºöÊõ¥‰Ωé„ÄÇ‰ΩÜÊòØHTTPÂçèËÆÆ‰∏≠ÁöÑÂÆâÂÖ®ÊÄß‰ª•ÂèäËÆ°ÁÆóËµÑÊ∫êÊ∂àËÄóÁöÑÁ°¨‰º§Âπ∂Ê≤°ÊúâÂæóÂà∞Êú¨Ë¥®ÁöÑËß£ÂÜ≥„ÄÇ</p>
<p><strong>JMS ÔºàJavaÊ∂àÊÅØÊúçÂä°Ôºâ</strong></p>
<p>‚Äã    JavaÊ∂àÊÅØÊúçÂä°ÔºàJava Message ServiceÔºâÂ∫îÁî®Á®ãÂ∫èÊé•Âè£ÔºåÊòØ‰∏Ä‰∏™JavaÂπ≥Âè∞‰∏≠ÂÖ≥‰∫éÈù¢ÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºàMOMÔºâÁöÑAPIÔºåÁî®‰∫éÂú®‰∏§‰∏™Â∫îÁî®Á®ãÂ∫è‰πãÈó¥ÔºåÊàñÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÂèëÈÄÅÊ∂àÊÅØÔºåËøõË°åÂºÇÊ≠•ÈÄö‰ø°„ÄÇ</p>
<p><strong>ZigbeeÂçèËÆÆ</strong></p>
<p>‚Äã    ‰ΩéÂäüËÄóÔºåÂÆÉ‰øùÊåÅIEEE 802.15.4Ôºà2003ÔºâÊ†áÂáÜ</p>
<h3 id="IOTÊµÅÈáèÊ¥™Â≥∞"><a href="#IOTÊµÅÈáèÊ¥™Â≥∞" class="headerlink" title="IOTÊµÅÈáèÊ¥™Â≥∞"></a>IOTÊµÅÈáèÊ¥™Â≥∞</h3><p>Êô∫ÊÖßÁ§æÂå∫IOTÈ¢ÜÂüüÔºå‰∏çÁÆ°ÊòØÂµåÂÖ•ÂºèËäØÁâáËøòÊòØÂ∫îÁî®ÊúçÂä°Âô®ÈÉΩÈúÄË¶Å‰º†ÈÄíÊ∂àÊÅØÔºåÂ∏∏ËßÅ‰∏äË°åÁöÑÊ∂àÊÅØÊúâÔºö<strong>‰∫∫ËÑ∏ËØÜÂà´ÂºÄÈó®„ÄÅÁÉüÊÑüÈõæÊÑüÂëäË≠¶</strong>„ÄÅÂÖ±‰∫´ÂÖÖÁîµÊ°©ÂÖÖÁîµÔºå‰∏ãË°åÁöÑ<strong>ÂπøÂëä‰∏ãÂèë„ÄÅNBÈó®Á¶ÅÂºÄÈó®Êåá‰ª§„ÄÅ</strong>Ë∂ÖÁ∫ßÈó®ÊùøÊòæÁ§∫Á≠âÔºåÁî±‰∫éÁâ©ËÅîÁΩëËÆæÂ§áÊó∂‰∏çÊó∂‰ºö<strong>ÊïÖÈöúÂíåÊñ≠ÁΩëÂØºËá¥Â§ßÈáèÁöÑÊµÅÈáèÊ¥™Â≥∞</strong>Ôºå‰º†ÁªüÊ∂àÊÅØÈòüÂàóÈúÄË¶ÅÈíàÂØπÊÄß‰ºòÂåñ„ÄÇ</p>
<ul>
<li><p><strong>‰∏ä‰∏ãË°åÊãÜÂàÜ</strong></p>
<p>‰∏äË°åÊ∂àÊÅØÁâπÂæÅÔºöÂπ∂ÂèëÈáè<strong>È´ò</strong>„ÄÅÂèØÈù†ÊÄßÂíå<strong>Êó∂Âª∂ÊÄßË¶ÅÊ±Ç‰Ωé</strong></p>
<p>‰∏ãË°åÊ∂àÊÅØÁâπÂæÅÔºöÂπ∂ÂèëÈáè<strong>‰Ωé</strong>„ÄÅÊéßÂà∂Êåá‰ª§ÁöÑ<strong>ÊàêÂäüÁéáË¶ÅÊ±ÇÈ´ò</strong></p>
</li>
<li><p><strong>Êµ∑ÈáèTopic‰∏ãÊÄßËÉΩ</strong></p>
<p><strong>Kafka</strong>Êµ∑ÈáèTopicÊÄßËÉΩ‰ºö<strong>ÊÄ•Ââß‰∏ãÈôç</strong>ÔºåZookeeperÂçèË∞É‰πüÊúâÁì∂È¢à</p>
<p><strong>Â§öÊ≥≥ÈÅìÊ∂àÊÅØÈòüÂàó</strong>ÂèØ‰ª•ÂÆûÁé∞IoTÊ∂àÊÅØÈòüÂàóÁöÑÊïÖÈöú<strong>ÈöîÁ¶ª</strong></p>
</li>
<li><p><strong>ÂÆûÊó∂Ê∂àÊÅØ‰ºòÂÖàÂ§ÑÁêÜ</strong></p>
<p>NBÈó®Á¶ÅÂÆûÊó∂‰∫ßÁîüÁöÑÂºÄÈó®Êåá‰ª§ÂøÖÈ°ª<strong>Á¨¨‰∏Ä‰ºòÂÖàÁ∫ßÂ§ÑÁêÜ</strong>ÔºåÂ†ÜÁßØÁöÑÊ∂àÊÅØÈôçÁ∫ß</p>
<p>ËÆæËÆ°Êàê<strong>Êó†Â∫è„ÄÅ‰∏çÊåÅ‰πÖÂåñ</strong>ÁöÑÔºåÂπ∂‰∏é‰º†ÁªüÁöÑFIFOÈòüÂàóÈöîÁ¶ª</p>
</li>
<li><p><strong>ËøûÊé•„ÄÅËÆ°ÁÆó„ÄÅÂ≠òÂÇ®ÂàÜÁ¶ª</strong></p>
<p>BrokerÂè™ÂÅö<strong>ÊµÅËΩ¨ÂàÜÂèë</strong>ÔºåÂÆûÁé∞<strong>Êó†Áä∂ÊÄÅ</strong>Âíå<strong>Ê∞¥Âπ≥Êâ©Â±ï</strong></p>
<p>ËÆ°ÁÆó‰∫§Áªô<strong>Flink</strong>ÔºåÂ≠òÂÇ®‰∫§ÁªônosqlDBÔºåÂÆûÁé∞<strong>È´òÂêûÂêêÂÜô</strong></p>
</li>
<li><p><strong>Ê∂àÊÅØÁ≠ñÁï•-Êé®ÊãâÁªìÂêà</strong></p>
<p>MQTTÈíàÂØπÁîµÊ±†Á±ªÁâ©ËÅîÁΩëËÆæÂ§áÔºåAMQPÈíàÂØπÂÆâÂÖ®ÊÄßËæÉÈ´òÁöÑÈó®Á¶ÅËÆæÂ§á</p>
<p>Ê∂àË¥πÁ´ØÁ¶ªÁ∫øÊó∂Â≠òÂà∞queueÔºåÂú®Á∫øÊó∂Â∞Ü<strong>ÂÆûÊó∂Ê∂àÊÅØÂíå‰ªéqueue‰∏≠ÊãâÂèñÁöÑÊ∂àÊÅØ</strong>‰∏ÄËµ∑Êé®ÈÄÅ</p>
</li>
</ul>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1goboitd4h2j30u00ciq3i.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goboitd4h2j30u00ciq3i.jpg" alt="img" title class></a>
                <p>img</p>
            </figure>
<p><strong>Â¶ÇÊûúËß£ÂÜ≥Êµ∑ÈáèTopic</strong></p>
<p>‚Äã    È¶ñÂÖàË¶ÅÂÅöÁöÑÂ∞±ÊòØÂàÜÂå∫„ÄÅÂàÜÁªÑÁ≠âÊ∞¥Âπ≥ÊãÜÂàÜÁöÑÊñπÂºèÔºåÊé•‰∏ãÊù•ËÄÉËôëÂçïÂÆû‰æãÂ¶Ç‰ΩïÂ§ÑÁêÜÊõ¥Â§öTopicÔºå‰º†ÁªüÊ∂àÊÅØÈòüÂàóÂú®Êµ∑ÈáèTopic‰∏ãÈ°∫Â∫èÂÜô‰ºöÈÄÄÂåñÊàêÈöèÊú∫ÂÜôÔºåÊÄßËÉΩÂ§ßÂπÖ‰∏ãÈôç</p>
<ul>
<li><p><strong>‰∫∫Â∑•Sharding</strong>ÔºöÈÉ®ÁΩ≤Â§ö‰∏™KafkaÈõÜÁæ§ÔºåÈÄöËøá‰∏çÂêåmqËøûÊé•Êù•ÈöîÁ¶ª</p>
</li>
<li><p><strong>ÂêàÂπ∂Topic</strong>ÔºåÂÆ¢Êà∑Á´ØÂ∞ÅË£ÖsubTopic„ÄÇÊØîÂ¶Ç‰∏Ä‰∏™ÊúçÂä°ÁöÑN‰∏™ÁªüËÆ°È°πÔºå‰ºöÊ∂àË¥πÂà∞Êó†ÂÖ≥Ê∂àÊÅØ</p>
<p>‚Äã    Âü∫‰∫éËøô‰∏™ÊÄùË∑ØÔºå‰ΩøÁî®<strong>Kafka Streams</strong>ÊàñËÄÖ<strong>HbaseÂàó</strong>Â≠òÂÇ®Êù•ËÅöÂêà</p>
</li>
</ul>
<p>ÈíàÂØπÂçï‰∏™TopicÊµ∑ÈáèËÆ¢ÈòÖÁöÑÈóÆÈ¢òÔºå<strong>ÂèØ‰ª•Âú®‰∏äÂ±ÇÂ∞ÅË£ÖÂπøÊí≠ÁªÑ‰ª∂Êù•ÂçèË∞ÉÊâπÈáèÂèëÈÄÅ</strong></p>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1gobohzda8fj30u00cgaax.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gobohzda8fj30u00cgaax.jpg" alt="img" title class></a>
                <p>img</p>
            </figure>
<h3 id="Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß"><a href="#Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß" class="headerlink" title="Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß"></a>Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß</h3><blockquote>
<p>‰ΩøÁî®<strong>Á´Ø / Ëæπ / ‰∫ë</strong>‰∏âÁ∫ßÊû∂ÊûÑÔºåÂÆ¢Êà∑Á´ØÂä†ÂØÜ‰º†ËæìÔºåËæπÁºòËäÇÁÇπËΩ¨Âèë„ÄÅ‰∫ë‰æßËΩ¨Á†ÅÂπ∂ÊåÅ‰πÖÂåñ</p>
</blockquote>
<h4 id="‰∫ßÂìÅÁöÑËÉåÊôØ"><a href="#‰∫ßÂìÅÁöÑËÉåÊôØ" class="headerlink" title="‰∫ßÂìÅÁöÑËÉåÊôØ"></a><strong>‰∫ßÂìÅÁöÑËÉåÊôØ</strong></h4><blockquote>
<p>‰∏äÁ∫øÊó∂Èó¥Ôºå‰ªéË∞ÉÁ†îÂà∞Ê≠£Âºè‰∏äÁ∫øÁî®‰∫Ü 3‰∏™ÊúàÊó∂Èó¥Ôºå‰∏äÁ∫øÂêé‰∏Ä‰∏™ÊúàÂÜÖÂ∞±Ë¶ÅÁªèÂéÜÂèåÂçÅ‰∫åÊåëÊàò„ÄÇÂú®Ëøô‰πàÁ¥ßÁöÑ‰∏äÁ∫øÊó∂Èó¥Ë¶ÅÊ±Ç‰∏ãÔºåÈúÄË¶ÅÁî®Âà∞ÂÖ¨Âè∏Êèê‰æõÁöÑÊâÄÊúâ‰ºòÂäøÔºåÂåÖÊã¨<strong>cdnÁΩëÁªúÔºåÁõ¥Êí≠ÁâåÁÖß</strong>Á≠â</p>
</blockquote>
<h4 id="Èù¢‰∏¥ÁöÑÊåëÊàò"><a href="#Èù¢‰∏¥ÁöÑÊåëÊàò" class="headerlink" title="Èù¢‰∏¥ÁöÑÊåëÊàò"></a>Èù¢‰∏¥ÁöÑÊåëÊàò</h4><ul>
<li>Áõ¥Êí≠Êï∞ÊçÆÊòØ<strong>ÂÆûÊó∂</strong>ÁîüÊàêÁöÑÔºåÊâÄÊúâ‰∏çËÉΩÂ§üËøõË°å<strong>È¢ÑÁºìÂ≠ò</strong></li>
<li>Áõ¥Êí≠ÈöèÊó∂‰ºöÂèëÁîüÔºå‰∏æÂäûÁÉ≠ÁÇπÊ¥ªÂä®ÔºåÁõ∏ÂÖ≥ÊúçÂä°Âô®ËµÑÊ∫êÈúÄË¶Å<strong>Âä®ÊÄÅÂàÜÈÖç</strong></li>
<li><p>Áõ¥Êí≠ÁöÑÂª∂ËøüÂØπ‰∫éÁî®Êà∑‰ΩìÈ™åÂΩ±ÂìçÂæàÂ§ßÔºåÈúÄË¶ÅÊéßÂà∂Âú®<strong>ÁßíÁ∫ß</strong></p>
</li>
<li><p>Áõ¥Êí≠sdkÊòØÂÜÖÂµåÂú®Á§æÂå∫Â∫îÁî®ÈáåÁöÑÔºåÊï¥‰ΩìË¶ÅÊ±Ç‰∏çËÉΩË∂ÖËøá5M</p>
</li>
</ul>
<h4 id="ÂçèËÆÆÁöÑÊØîËæÉ"><a href="#ÂçèËÆÆÁöÑÊØîËæÉ" class="headerlink" title="ÂçèËÆÆÁöÑÊØîËæÉ"></a>ÂçèËÆÆÁöÑÊØîËæÉ</h4><table>
<thead>
<tr>
<th>ÂçèËÆÆ</th>
<th>‰∏äÁ∫øÊó∂Èó¥</th>
<th>ÁΩëÁªúÂÖºÂÆπ</th>
<th>Á´ØÂØπÁ´ØÂª∂Ëøü</th>
<th>Â∫îÁî®Â§ßÂ∞è</th>
<th>ÈóÆÈ¢ò</th>
</tr>
</thead>
<tbody>
<tr>
<td>WebRTC</td>
<td></td>
<td>‚úó</td>
<td></td>
<td></td>
<td>Webrtc Âü∫‰∫é UDPÔºåÂíåÁ§æÂå∫Â∫îÁî®ÁöÑÁΩëÁªúÊû∂ÊûÑ‰∏çÂÖºÂÆπ</td>
</tr>
<tr>
<td>HTTP Upload</td>
<td></td>
<td></td>
<td>‚úó</td>
<td></td>
<td>‰ºöÂØºËá¥ÁΩëÁªúÈ´òÂª∂Ëøü</td>
</tr>
<tr>
<td>Custom Protocol</td>
<td>‚úó</td>
<td></td>
<td></td>
<td></td>
<td>Â∑•Á®ãÂ∏àÈúÄË¶ÅÂÆûÁé∞Ëá™Â∑±ÁöÑÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÁöÑÂ∫ìÔºåÊó†Ê≥ïÊåâÊó∂‰∏äÁ∫ø</td>
</tr>
<tr>
<td>Proprietary</td>
<td></td>
<td></td>
<td></td>
<td>‚úó</td>
<td>ÂçèËÆÆÂ∞±ÈúÄË¶ÅÂá†ÂÖÜÁöÑÁ©∫Èó¥ÔºåË∂ÖÂá∫È¢ùÂ∫¶</td>
</tr>
<tr>
<td>RTMPS</td>
<td>‚úî</td>
<td>‚úî</td>
<td>‚úî</td>
<td>‚úî</td>
<td>TCPÂÆûÊó∂‰º†ËæìÊ∂àÊÅØÂçèËÆÆÔºåÊõ¥ÂÆâÂÖ®Êõ¥ÂèØÈù†</td>
</tr>
</tbody>
</table>
<h4 id="Êï¥‰ΩìÊµÅÁ®ã"><a href="#Êï¥‰ΩìÊµÅÁ®ã" class="headerlink" title="Êï¥‰ΩìÊµÅÁ®ã"></a>Êï¥‰ΩìÊµÅÁ®ã</h4><p><strong>RTMPS</strong>ÔºöÂü∫‰∫éTCPÂÆûÊó∂‰º†ËæìÊ∂àÊÅØÂçèËÆÆÔºåÊõ¥ÂÆâÂÖ®Êõ¥ÂèØÈù†</p>
<p><strong>MPEG-DASH</strong>ÔºöÊòØ‰∏ÄÁßçÂü∫‰∫éHTTPÂçèËÆÆËá™ÈÄÇÂ∫îÊØîÁâπÁéáÊµÅÂ™í‰ΩìÊäÄÊúØÔºåÂ∫îÂØπÂ§çÊùÇÁöÑÁéØÂ¢É</p>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://i.loli.net/2021/01/25/zjwC7B8fdcpDytA.png" title="image-20210125145103417" data-fancybox="images"><img src="https://i.loli.net/2021/01/25/zjwC7B8fdcpDytA.png" alt="image-20210125145103417" title class></a>
                <p>image-20210125145103417</p>
            </figure>
<ol>
<li><p>Áõ¥Êí≠Á´Ø‰ΩøÁî® <strong>RTMPS</strong> ÂçèËÆÆÂèëÈÄÅÁõ¥Êí≠Êï∞ÊçÆÂà∞<strong>ËæπÁºòËäÇÁÇπ</strong>ÔºàPOPÔºâ</p>
</li>
<li><p>POP ‰ΩøÁî®<strong>RTMP</strong>ÂèëÈÄÅÊï∞ÊçÆÂà∞Êï∞ÊçÆ‰∏≠ÂøÉÔºàDCÔºâ</p>
</li>
<li><p>DC Â∞ÜÊï∞ÊçÆÁºñÁ†ÅÊàê<strong>‰∏çÂêåÁöÑÊ∏ÖÊô∞Â∫¶</strong>Âπ∂ËøõË°åÊåÅ‰πÖÂåñÂ≠òÂÇ®</p>
<p><strong>‰∫ëÁ´ØËΩ¨Á†Å</strong>‰∏ªË¶ÅÊúâ<strong>‰∏§ÁßçÂàÜËæ®Áéá</strong>400x400 Âíå 720x720.</p>
</li>
<li><p>Êí≠ÊîæÁ´ØÈÄöËøá <strong>MPEG-DASH</strong> / RTMPS ÂçèËÆÆÊé•Êî∂Áõ¥Êí≠Êï∞ÊçÆ</p>
<p>Â¶ÇÊûúÁî®Êà∑ÁΩëÁªú‰∏çÂ•Ω<strong><a href="https://www.cloudflare.com/zh-cn/learning/video/what-is-mpeg-dash/" target="_blank" rel="noopener">MPEG-DASH</a></strong>‰ºöËá™Âä®ËΩ¨Êç¢Êàê‰ΩéÂàÜËæ®Áéá</p>
</li>
</ol>
<h4 id="Áõ¥Êí≠ÊµÅÁ®ã"><a href="#Áõ¥Êí≠ÊµÅÁ®ã" class="headerlink" title="Áõ¥Êí≠ÊµÅÁ®ã"></a><strong>Áõ¥Êí≠ÊµÅÁ®ã</strong></h4><p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://i.loli.net/2021/01/25/GITnbhDqPdtZY2k.png" title="image-20210125153606264" data-fancybox="images"><img src="https://i.loli.net/2021/01/25/GITnbhDqPdtZY2k.png" alt="image-20210125153606264" style="zoom:50%;"></a></p>
<ol>
<li><p>Áõ¥Êí≠Á´Ø‰ΩøÁî® <strong>RTMPS</strong> ÂçèËÆÆÂèëÈÄÅÁõ¥Êí≠ÊµÅÊï∞ÊçÆÂà∞ POP ÂÜÖÁöÑÂ∞±ËøëÁöÑ‰ª£ÁêÜÊúçÂä°Âô®</p>
</li>
<li><p>‰ª£ÁêÜÊúçÂä°Âô®<strong>ËΩ¨Âèë</strong>Áõ¥Êí≠ÊµÅÊï∞ÊçÆÂà∞Êï∞ÊçÆ‰∏≠ÂøÉÁöÑÁΩëÂÖ≥ÊúçÂä°Âô®Ôºà<strong>443ËΩ¨80</strong>Ôºâ</p>
</li>
<li><p>ÁΩëÂÖ≥ÊúçÂä°Âô®‰ΩøÁî®<strong>Áõ¥Êí≠ id ÁöÑ‰∏ÄËá¥ÊÄßÂìàÂ∏åÁÆóÊ≥ï</strong>ÂèëÈÄÅÁõ¥Êí≠Êï∞ÊçÆÂà∞ÊåáÂÆöÁöÑÁºñÁ†ÅÊúçÂä°Âô®</p>
</li>
<li><p>ÁºñÁ†ÅÊúçÂä°Âô®ÊúâÂá†È°πËÅåË¥£Ôºö</p>
<ul>
<li><p>4.1 <strong>È™åËØÅÁõ¥Êí≠Êï∞ÊçÆ</strong>ÁöÑÊ†ºÂºèÊòØÂê¶Ê≠£Á°Æ„ÄÇ</p>
</li>
<li><p>4.2 <strong>ÂÖ≥ËÅî</strong>Áõ¥Êí≠ id ‰ª•ÂèäÁºñÁ†ÅÊúçÂä°Âô®Á¨¨‰∏ÄÊò†Â∞ÑÔºå‰øùËØÅÂÆ¢Êà∑Á´ØÂç≥‰ΩøËøûÊé•‰∏≠Êñ≠ÊàñËÄÖÊúçÂä°Âô®Êâ©ÂÆπÊó∂ÔºåÂú®<strong>ÈáçÊñ∞ËøûÊé•</strong>ÁöÑÊó∂ÂÄô‰æùÁÑ∂ËÉΩÂ§üËøûÊé•Âà∞Áõ∏ÂêåÁöÑÁºñÁ†ÅÊúçÂä°Âô®</p>
</li>
<li><p>4.3 ‰ΩøÁî®Áõ¥Êí≠Êï∞ÊçÆ<strong>ÁºñÁ†ÅÊàê‰∏çÂêåËß£ÊûêÂ∫¶</strong>ÁöÑËæìÂá∫Êï∞ÊçÆ</p>
</li>
<li><p>4.4 ‰ΩøÁî® <strong>DASH</strong> ÂçèËÆÆËæìÂá∫Êï∞ÊçÆÂπ∂<strong>ÊåÅ‰πÖÂåñ</strong>Â≠òÂÇ®</p>
</li>
</ul>
</li>
</ol>
<h4 id="Êí≠ÊîæÊµÅÁ®ã"><a href="#Êí≠ÊîæÊµÅÁ®ã" class="headerlink" title="Êí≠ÊîæÊµÅÁ®ã"></a>Êí≠ÊîæÊµÅÁ®ã</h4><p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://i.loli.net/2021/01/25/Lo5N8QYlI2DPjyO.png" title="image-20210125154758184" data-fancybox="images"><img src="https://i.loli.net/2021/01/25/Lo5N8QYlI2DPjyO.png" alt="image-20210125154758184" style="zoom:50%;"></a></p>
<ol>
<li>Êí≠ÊîæÁ´Ø‰ΩøÁî® HTTP <strong>DASH</strong> ÂçèËÆÆÂêë POP ÊãâÂèñÁõ¥Êí≠Êï∞ÊçÆ</li>
<li>POP ÈáåÈù¢ÁöÑ‰ª£ÁêÜÊúçÂä°Âô®‰ºöÊ£ÄÊü•Êï∞ÊçÆÊòØÂê¶Â∑≤ÁªèÂú® POP ÁöÑ<strong>ÁºìÂ≠ò</strong>ÂÜÖ„ÄÇÂ¶ÇÊûúÊòØÁöÑËØùÔºåÁºìÂ≠ò‰ºöËøîÂõûÊï∞ÊçÆÁªôÊí≠ÊîæÁ´ØÔºåÂê¶ÂàôÔºå‰ª£ÁêÜÊúçÂä°Âô®‰ºöÂêë DC ÊãâÂèñÁõ¥Êí≠Êï∞ÊçÆ</li>
<li>DC ÂÜÖÁöÑ‰ª£ÁêÜÊúçÂä°Âô®‰ºöÊ£ÄÊü•Êï∞ÊçÆÊòØÂê¶Âú® DC ÁöÑÁºìÂ≠òÂÜÖÔºåÂ¶ÇÊûúÊòØÁöÑËØùÔºåÁºìÂ≠ò‰ºöËøîÂõûÊï∞ÊçÆÁªô POPÔºåÂπ∂Êõ¥Êñ∞ POP ÁöÑÁºìÂ≠òÔºåÂÜçËøîÂõûÁªôÊí≠ÊîæÁ´Ø„ÄÇ‰∏çÊòØÁöÑËØùÔºå‰ª£ÁêÜÊúçÂä°Âô®‰ºö‰ΩøÁî®‰∏ÄËá¥ÊÄßÂìàÂ∏åÁÆóÊ≥ïÂêëÂØπÂ∫îÁöÑÁºñÁ†ÅÊúçÂä°Âô®ËØ∑Ê±ÇÊï∞ÊçÆÔºåÂπ∂Êõ¥Êñ∞ DC ÁöÑÁºìÂ≠òÔºåËøîÂõûÂà∞ POPÔºåÂÜçËøîÂõûÂà∞Êí≠ÊîæÁ´Ø„ÄÇ</li>
</ol>
<p><strong>Êî∂Ëé∑</strong></p>
<ol>
<li>È°πÁõÆÁöÑÊàêÂäü‰∏çÔºå‰ª£Á†ÅÂè™ÊòØÂÜÖÂäüÔºåËÄÉËôëÈÄÇÈÖç‰∏çÂêåÁöÑÁΩëÁªú„ÄÅÂà©Áî®ÂèØÂà©Áî®ÁöÑËµÑÊ∫ê</li>
<li>ÊÉäÁæ§ÊïàÂ∫îÂú®ÁÉ≠ÁÇπÊúçÂä°Âô®‰ª•ÂèäËÆ∏Â§öÁªÑ‰ª∂‰∏≠ÈÉΩÂèØËÉΩÂèëÁîü</li>
<li>ÂºÄÂèëÂ§ßÂûãÈ°πÁõÆÈúÄË¶ÅÂØπ<strong>ÂêûÂêêÈáèÂíåÊó∂Âª∂</strong>„ÄÅ<strong>ÂÆâÂÖ®ÂíåÊÄßËÉΩ</strong>ÂÅöÂá∫Â¶•Âçè</li>
<li>‰øùËØÅÊû∂ÊûÑÁöÑÁÅµÊ¥ªÂ∫¶ÂíåÂèØÊâ©Â±ïÊÄßÔºå‰∏∫ÂÜÖÂ≠ò„ÄÅÊúçÂä°Âô®„ÄÅÂ∏¶ÂÆΩËÄóÂ∞ΩÂÅöÂ•ΩËßÑÂàí</li>
</ol>
<h3 id="Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à"><a href="#Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à" class="headerlink" title="Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à"></a><strong>Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à</strong></h3><p><strong>ÁΩëÁªúÂèØÈù†ÊÄß</strong>Ôºö</p>
<ul>
<li>Ê†πÊçÆ<strong>ÁΩëÁªúËøûÊé•ÈÄüÂ∫¶</strong>Êù•Ëá™Âä®Ë∞ÉÊï¥ËßÜÈ¢ëË¥®Èáè</li>
<li>‰ΩøÁî®<strong>Áü≠Êó∂Èó¥ÁöÑÊï∞ÊçÆÁºìÂ≠ò</strong>Êù•Ëß£ÂÜ≥Áõ¥Êí≠Á´Ø‰∏çÁ®≥ÂÆöÔºåÁû¨Èó¥Êñ≠Á∫øÁöÑÈóÆÈ¢ò</li>
<li>Ê†πÊçÆ<strong>ÁΩëÁªúË¥®ÈáèËá™Âä®ÈôçÁ∫ß</strong>‰∏∫Èü≥È¢ëÁõ¥Êí≠‰ª•ÂèäÊí≠Êîæ</li>
</ul>
<p><strong>ÊÉäÁæ§ÊïàÂ∫îÔºö</strong></p>
<ul>
<li>ÂΩìÂ§ö‰∏™Êí≠ÊîæÁ´ØÂêëÂêå‰∏Ä‰∏™ POP ËØ∑Ê±ÇÁõ¥Êí≠Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÊï∞ÊçÆ‰∏çÂú®ÁºìÂ≠ò‰∏≠</li>
<li>ËøôÊó∂ÂÄôÂè™Êúâ‰∏Ä‰∏™ËØ∑Ê±Ç A ‰ºöÂà∞ DC ‰∏≠ËØ∑Ê±ÇÊï∞ÊçÆÔºåÂÖ∂‰ªñËØ∑Ê±Ç‰ºöÁ≠âÂæÖÁªìÊûú</li>
<li>‰ΩÜÊòØÂ¶ÇÊûúËØ∑Ê±Ç A Ë∂ÖÊó∂Ê≤°ÊúâËøîÂõûÊï∞ÊçÆÁöÑËØùÔºåÊâÄÊúâËØ∑Ê±Ç‰ºö‰∏ÄËµ∑Âêë DC ËÆøÈóÆÊï∞ÊçÆ</li>
<li>ËøôÊó∂ÂÄôÂ∞±‰ºöÂä†Â§ß DC ÁöÑÂéãÂäõÔºåËß¶ÂèëÊÉäÁæ§ÊïàÂ∫î</li>
<li>Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑÊñπÊ≥ïÂ∞±ÊòØÈÄöËøá<strong>ÂÆûÈôÖÁöÑÊÉÖÂÜµ</strong>Êù•Ë∞ÉÊï¥ËØ∑Ê±ÇË∂ÖÊó∂ÁöÑÊó∂Èó¥„ÄÇËøô‰∏™Êó∂Èó¥Â¶ÇÊûúÂ§™ÈïøÁöÑËØù‰ºöÂ∏¶Êù•Áõ¥Êí≠ÁöÑÂª∂ËøüÔºåÂ§™Áü≠ÁöÑËØù‰ºöÁªèÂ∏∏Ëß¶ÂèëÊÉäÁæ§ÊïàÂ∫îÔºà<strong>ÊØè‰∏™Êó∂Èó¥Á™óÂè£Âè™ÂÖÅËÆ∏Ëß¶Âèë‰∏ÄÊ¨°</strong>ÔºåËÆæÁΩÆÂÖÅËÆ∏ÊúÄÂ§ßÂõûÊ∫êÊï∞ÈáèÔºâ</li>
</ul>
<h3 id="ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à"><a href="#ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à" class="headerlink" title="ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à"></a><strong>ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à</strong></h3><figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1gobogaxxjkj304v0e7t93.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gobogaxxjkj304v0e7t93.jpg" alt="img" title class></a>
                <p>img</p>
            </figure>
<p><strong>Êï∞ÊçÆÂ∫ì‰ºòÂåñÔºö</strong> Êï∞ÊçÆÂ∫ìÊòØÊúÄÂÆπÊòìÊàê‰∏∫Áì∂È¢àÁöÑÁªÑ‰ª∂ÔºåËÄÉËôë‰ªé SQL ‰ºòÂåñÊàñËÄÖÊï∞ÊçÆÂ∫ìÊú¨Ë∫´ÂéªÊèêÈ´òÂÆÉÁöÑÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÁì∂È¢à‰æùÁÑ∂Â≠òÂú®ÔºåÂàô‰ºöËÄÉËôëÂàÜÂ∫ìÂàÜË°®Â∞ÜÊï∞ÊçÆÊâìÊï£ÔºåÂ¶ÇÊûúËøôÊ†∑‰πüÊ≤°ËÉΩËß£ÂÜ≥ÈóÆÈ¢òÔºåÂàôÂèØËÉΩ‰ºöÈÄâÊã©ÁºìÂ≠òÁªÑ‰ª∂ËøõË°å‰ºòÂåñ</p>
<p><strong>ÈõÜÁæ§ÊúÄ‰ºòÔºö</strong>Â≠òÂÇ®ËäÇÁÇπÁöÑÈóÆÈ¢òËß£ÂÜ≥ÂêéÔºåËÆ°ÁÆóËäÇÁÇπ‰πüÊúâÂèØËÉΩÂèëÁîüÈóÆÈ¢ò„ÄÇ‰∏Ä‰∏™ÈõÜÁæ§Á≥ªÁªüÂ¶ÇÊûúËé∑Âæó‰∫ÜÊ∞¥Âπ≥Êâ©ÂÆπÁöÑËÉΩÂäõÔºåÂ∞±‰ºöÁªô‰∏ãÂ±ÇÁöÑ‰ºòÂåñÊèê‰æõÈùûÂ∏∏Â§ßÁöÑÊó∂Èó¥Á©∫Èó¥ÔºåÁî±ÊúÄÂàùÁöÑ 3 ‰∏™ËäÇÁÇπÔºåÊâ©ÂÆπÂà∞ÊúÄÂêéÁöÑ 200 Â§ö‰∏™ËäÇÁÇπÔºå‰ΩÜÁî±‰∫é‰∫∫ÂäõÈóÆÈ¢òÔºåÊúçÂä°ÂèàÊ≤°Êúâ‰ªÄ‰πàÊñ∞ÁöÑÈúÄÊ±ÇÔºå‰∏ãÂ±ÇÁöÑ‰ºòÂåñÂ∞±‰∏ÄÁõ¥Ë¢´ÊêÅÁΩÆÁùÄ„ÄÇ</p>
<p><strong>Á°¨‰ª∂ÂçáÁ∫ßÔºö</strong>Ê∞¥Âπ≥Êâ©ÂÆπ‰∏çÊÄªÊòØÊúâÊïàÁöÑÔºåÂéüÂõ†Âú®‰∫éÂçïËäÇÁÇπÁöÑËÆ°ÁÆóÈáèÊØîËæÉÈõÜ‰∏≠ÔºåÊàñËÄÖ JVM ÂØπÂÜÖÂ≠òÁöÑ‰ΩøÁî®Ë∂ÖÂá∫‰∫ÜÂÆø‰∏ªÊú∫ÁöÑÊâøËΩΩËåÉÂõ¥„ÄÇÂú®Âä®ÊâãËøõË°å‰ª£Á†Å‰ºòÂåñ‰πãÂâçÔºåÊàë‰ª¨‰ºöÂØπËäÇÁÇπÁöÑÁ°¨‰ª∂ÈÖçÁΩÆËøõË°åÂçáÁ∫ß„ÄÇ</p>
<p><strong>‰ª£Á†Å‰ºòÂåñ</strong>Ôºö‰ª£Á†Å‰ºòÂåñÊòØÊèêÈ´òÊÄßËÉΩÊúÄÊúâÊïàÁöÑÊñπÂºèÔºå‰ΩÜÈúÄË¶ÅÊî∂ÈõÜ‰∏Ä‰∫õÊï∞ÊçÆÔºåËøô‰∏™ËøáÁ®ãÂèØËÉΩÊòØÊúçÂä°Ê≤ªÁêÜÔºå‰πüÊúâÂèØËÉΩÊòØ‰ª£Á†ÅÊµÅÁ®ã‰ºòÂåñ„ÄÇÊØîÂ¶ÇJavaAgent ÊäÄÊúØÔºå‰ºöÊó†‰æµÂÖ•ÁöÑÊî∂ÈõÜ‰∏Ä‰∫õ profile ‰ø°ÊÅØÔºå‰æõÊàë‰ª¨ËøõË°åÂÜ≥Á≠ñ„ÄÇ</p>
<p><strong>Âπ∂Ë°å‰ºòÂåñÔºö</strong>Âπ∂Ë°å‰ºòÂåñÊòØÈíàÂØπÈÄüÂ∫¶ÊÖ¢ÁöÑÊé•Âè£ËøõË°åÂπ∂Ë°åË∞ÉÁî®„ÄÇÊâÄ‰ª•Êàë‰ª¨ÈÄöÂ∏∏‰ΩøÁî® ContDownLatch ÂØπÈúÄË¶ÅËé∑ÂèñÁöÑÊï∞ÊçÆËøõË°åÂπ∂Ë°åÂ§ÑÁêÜÔºåÊïàÊûúÈùûÂ∏∏‰∏çÈîôÔºåÊØîÂ¶ÇÂú® 200ms ÂÜÖËøîÂõûÂØπ 50 ‰∏™ËÄóÊó∂ 100ms ÁöÑ‰∏ãÂ±ÇÊé•Âè£ÁöÑË∞ÉÁî®„ÄÇ</p>
<p><strong>JVM ‰ºòÂåñ</strong>Ôºö JVM ÂèëÁîüÈóÆÈ¢òÊó∂Ôºå‰ºòÂåñ‰ºöËé∑ÂæóÂ∑®Â§ßÁöÑÊÄßËÉΩÊèêÂçá„ÄÇ‰ΩÜÂú® JVM ‰∏çÂèëÁîüÈóÆÈ¢òÊó∂ÔºåÂÆÉÁöÑ‰ºòÂåñÊïàÊûúÊúâÈôê„ÄÇ‰ΩÜÂú®‰ª£Á†Å‰ºòÂåñ„ÄÅÂπ∂Ë°å‰ºòÂåñ„ÄÅJVM ‰ºòÂåñÁöÑËøáÁ®ã‰∏≠ÔºåJVM ÁöÑÁü•ËØÜÂç¥Ëµ∑Âà∞‰∫ÜÂÖ≥ÈîÆÊÄßÁöÑ‰ΩúÁî®</p>
<p><strong>Êìç‰ΩúÁ≥ªÁªü‰ºòÂåñÔºö</strong>Êìç‰ΩúÁ≥ªÁªü‰ºòÂåñÊòØËß£ÂÜ≥ÈóÆÈ¢òÁöÑÊùÄÊâãÈîèÔºåÊØîÂ¶ÇÂÉè HugePage„ÄÅSWAP„ÄÅ‚ÄúCPU ‰∫≤ÂíåÊÄß‚ÄùËøôÁßçÊØîËæÉÂ∫ïÂ±ÇÁöÑ‰ºòÂåñ„ÄÇ‰ΩÜÂ∞±ËÆ°ÁÆóËäÇÁÇπÊù•ËØ¥ÔºåÂØπÊìç‰ΩúÁ≥ªÁªüËøõË°å‰ºòÂåñÂπ∂‰∏çÊòØÂæàÂ∏∏ËßÅ„ÄÇËøêÁª¥Âú®ËÉåÂêé‰ºöÂÅö‰∏Ä‰∫õËØ∏Â¶ÇÊñá‰ª∂Âè•ÊüÑÁöÑË∞ÉÊï¥„ÄÅÁΩëÁªúÂèÇÊï∞ÁöÑ‰øÆÊîπÔºåËøôÂØπ‰∫éÊàë‰ª¨Êù•ËØ¥Â∞±Â∑≤ÁªèÂ§üÁî®‰∫Ü</p>
<h3 id="ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï"><a href="#ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï" class="headerlink" title="ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï"></a>ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï</h3><blockquote>
<p>Á≥ªÁªüÁ∫ßÁöÑÈáçÊûÑÔºåÊµãËØïÂõûÂΩíÁöÑÂ∑•‰ΩúÈáèËá≥Â∞ëÈÉΩÊòØ‰ª•Êúà‰∏∫Âçï‰ΩçÔºåÂØπ‰∫é‰∫∫ÂäõÁöÑÊ∂àËÄóÂ∑®Â§ß„ÄÇ‰∏ÄÁßçÂ∫îÂØπÊñπÊ°àÊòØÔºåÂÖà‰∏çÊîπÈÄ†ÔºåÂà∞Á≥ªÁªüÂÆûÂú®Êâõ‰∏ç‰Ωè‰∫ÜÂÜçÊÉ≥ÂäûÊ≥ï„ÄÇÂè¶‰∏ÄÁßçÂ∫îÂØπÊñπÊ°àÊòØÔºåÂÖàÊöÇÂÅúÈúÄÊ±ÇÔºåÂÖ®ÂäõËøõË°åÊîπÈÄ†„ÄÇ‰ΩÜÂú®ÂÆûÈôÖÂ∑•‰ΩúÂú∫ÊôØ‰∏≠Ôºå‰∏äËø∞Â∫îÂØπÁ≠ñÁï•ÂæÄÂæÄÂæàÈöæÂÆûÁé∞„ÄÇ</p>
</blockquote>
<p>Âú∫ÊôØÔºö</p>
<p>1„ÄÅËØªÊúçÂä°ÂùáÊòØÊü•ËØ¢ÔºåÂÆÉÊòØÊó†Áä∂ÊÄÅÁöÑ„ÄÇ</p>
<p>2„ÄÅ‰∏çÁÆ°ÊòØÊû∂ÊûÑÂçáÁ∫ßËøòÊòØÊó•Â∏∏ÈúÄÊ±ÇÔºåËØªÊúçÂä°ÂØπÂ§ñÊé•Âè£ÁöÑÂá∫ÂÖ•ÂèÇÊ†ºÂºèÊòØÊ≤°ÊúâÂèòÂåñÁöÑ</p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jd95rpij315g0hqn5q.jpg" title="image-20210504174447049" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jd95rpij315g0hqn5q.jpg" alt="image-20210504174447049" style="zoom:50%;"></a></p>
<ul>
<li><p><strong>Êó•ÂøóÊî∂ÈõÜ</strong>Ôºå‰∏ªË¶Å‰ΩúÁî®ÊòØÊî∂ÈõÜË¢´ÊµãÁ≥ªÁªüÁöÑÁúüÂÆûÁî®Êà∑ËØ∑Ê±ÇÔºåÂü∫‰∫é‰∏ÄÂÆöËßÑÂàôÂ§ÑÁêÜÂêé‰Ωú‰∏∫Á≥ªÁªüÁî®‰æãÔºõ</p>
<p>Spring ÈáåÁöÑ Interceptor „ÄÅServlet ÈáåÁöÑ Filter ËøáÊª§Âô®ÔºåÂØπÊâÄÊúâËØ∑Ê±ÇÁöÑÂÖ•ÂèÇÂíåÂá∫ÂèÇËøõË°åËÆ∞ÂΩïÔºåÂπ∂ÈÄöËøá MQ ÂèëÈÄÅÂá∫Âéª„ÄÇÔºàÊ≥®ÊÑèÈîôÂ≥∞„ÄÅËøáÊª§ÂÜô„ÄÅÂéªÈáçÁ≠âÔºâ</p>
</li>
<li><p>Êï∞ÊçÆÂõûÊîæÊòØÂü∫‰∫éÊî∂ÈõÜÁöÑÁî®‰æãÔºåÂØπË¢´ÊµãÁ≥ªÁªüËøõË°åÊï∞ÊçÆÂõûÊîæÔºåÂèëËµ∑Ëá™Âä®ÂåñÊµãËØïÂõûÂΩíÔºõ</p>
<p><strong>Á¶ªÁ∫øÂõûÊîæÔºö</strong>Âè™Ë∞ÉÁî®Êñ∞ÊúçÂä°ÔºåÂ∞ÜËøîÂõûÁöÑÊï∞ÊçÆÂíåÊó•ÂøóÈáåÁöÑÂá∫ÂèÇËøõË°åÊØîËæÉÔºå<strong>Êó•ÂøóÊØîËæÉÂ§ß</strong></p>
<p><strong>ÂÆûÊó∂ÂõûÊîæÔºö</strong>ÂéªÂÆûÊó∂Ë∞ÉÁî®Á∫ø‰∏äÁ≥ªÁªüÂíåË¢´ÊµãÁ≥ªÁªüÔºåÂπ∂Â≠òÂÇ®ÂÆûÊó∂ËøîÂõûÂõûÊîæÁöÑÁªìÊûú‰ø°ÊÅØÔºå<strong>Á∫ø‰∏äÊúâË¥üÊãÖ</strong></p>
<p><strong>Âπ∂Ë°åÂõûÊîæÔºö</strong>Êñ∞ÁâàÊú¨‰∏çÂç≥Êó∂‰∏äÁ∫øÔºåÊØèÊ¨°Ë∞ÉÁî®ËÄÅÁâàÊú¨Êé•Âè£Êó∂Ê¶ÇÁéáÂÆûÊó∂ÂõûÊîæÊñ∞ÁâàÊú¨Êé•Âè£Ôºå<strong>ËÄóÊó∂Èó¥Âë®Êúü</strong></p>
</li>
<li><p><strong>Â∑ÆÂºÇÂØπÊØî</strong>ÔºåÈÄöËøáÂ∑ÆÂºÇÂØπÊØîËá™Âä®ÂèëÁé∞‰∏éÈ¢ÑÊúü‰∏ç‰∏ÄËá¥ÁöÑÁî®‰æãÔºåËøõËÄåÁ°ÆÂÆö Bug„ÄÇ</p>
<p>ÈááÁî®ÊñáÊú¨ÂØπÊØîÔºåÂèØ‰ª•Áõ¥ËßÇÂú∞ÁúãÂà∞Âì™‰∏™Â≠óÊÆµÊï∞ÊçÆÊúâÂ∑ÆÂºÇÔºå‰ªéËÄåÊõ¥Âø´ÂÆö‰ΩçÂà∞ÈóÆÈ¢ò„ÄÇÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÂè™Ë¶ÅÂ≠òÂú®Â∑ÆÂºÇÁöÑÊï∞ÊçÆÔºåÂùáÂèØËÆ§‰∏∫ÊòØ BugÔºåÊòØÈúÄË¶ÅËøõË°å‰øÆÂ§çÁöÑ„ÄÇ</p>
</li>
</ul>
<p><strong>ÊñπÊ≥ïËÆ∫</strong></p>
<p><strong>Discovery</strong></p>
<p>‚Äã                ËÄÉËôë‰ºÅ‰∏öÊàòÁï•ÔºåÂàÜÊûêÂÆ¢Êà∑ÈúÄÊ±ÇÔºåÂà∂ÂÆö‰∫ßÂìÅÁõÆÊ†á</p>
<p>‚Äã                    Áî±Â§ñÂà∞ÂÜÖÔºöÁ´û‰∫âÂØπÊâãÁöÑÊñπÊ°àÔºå‰∏∫‰ªÄ‰πàÂÅöÔºå‰ª•ÂêéÊÄé‰πàÂèëÂ±ïÔºåÂ¶Ç‰ΩïÂéª‰ºòÂåñ„ÄÇ</p>
<p>‚Äã                    Ëá™‰∏äËÄå‰∏ãÔºöÂü∫‰∫éÂÖ¨Âè∏ÁöÑÊàòÁï•ÔºåËÄÉËôëËá™Ë∫´ËÉΩÂäõÂíåÊâÄÂ§ÑÁéØÂ¢É„ÄÇ</p>
<p>‚Äã                    Ëá™‰∏ãËÄå‰∏äÔºö‰ªéËµÑÊ∫ê„ÄÅÂéÜÂè≤ÈóÆÈ¢ò„ÄÅ‰ºòÂÖàÁ∫ßÂá∫ÂèëÔºåÂΩ¢Êàê‰∏ÄÂ•óÂèØË°åÊÄßÂÆûÊñΩÊñπÊ≥ï„ÄÇ</p>
<p><strong>Define</strong></p>
<p>‚Äã                Âü∫‰∫éÊî∂ÈõÜÁöÑ‰ø°ÊÅØÔºåÁªºÂêàË∑®‰∏öÂä°Á∫øÁöÑÊäΩË±°ËÉΩÂäõÂíåÊúçÂä°ÔºåÂÖàÂÅö‰ªÄ‰πàÂêéÂÅö‰ªÄ‰πàÔºåÊÄé‰πàÂÅö</p>
<p>‚Äã                    ËÆæËÆ°Êñ∞ÁöÑÊû∂ÊûÑÔºåÈáçÁÇπËÆæËÆ°Ëß£ÂÜ≥ÁóõÁÇπÈóÆÈ¢ò„ÄÇ</p>
<p>‚Äã                    ÊãÜÂàÜ‰∏öÂä°È¢ÜÂüüÔºåÈáçÁÇπÂàíÂàÜÂ∑•‰Ωú‰∏¥Áïå‰∏ä‰∏ãÊñá„ÄÇ</p>
<p><strong>Design</strong></p>
<p>‚Äã                ËØ¶ÁªÜÁöÑ‰∏öÂä°ËÆæËÆ°ÔºåÂäüËÉΩËÆæËÆ°Ôºå‰∫§‰ªòËÆ°ÂàíÔºåËÄÉÊ†∏ËÆ°Âàí</p>
<p>‚Äã                    ‰∫ßÂìÅÊÑøÊôØÔºå‰∫ßÂìÅÂΩ¢ÊÄÅÔºåÁõ∏ÂÖ≥Á´ûÂìÅÊñπÊ°àÂØπÊØîÔºå‰ª∑ÂÄº„ÄÅ‰ºòÂäø„ÄÅÊî∂Áõä</p>
<p>‚Äã                    Ê¢≥ÁêÜ‰∏öÂä°ËåÉÂõ¥ÔºåË¶ÅÁü•ÈÅìÁîµÂïÜÈ¢ÜÂüüÂõõÂ§ßÊµÅÔºà‰ø°ÊÅØÊµÅ„ÄÅÂïÜÊµÅ„ÄÅËµÑÈáëÊµÅ„ÄÅÁâ©ÊµÅÔºâ</p>
<p>‚Äã                    MVPÊúÄÂ∞èÂèØÁî®ÊØîÔºåËÆ©ÂÆ¢Êà∑ÂíåËÄÅÂ§ßÁúãÂà∞ÁªìÊûúÔºåÊúÄÂêéÈÄöÁºñÂÜôstoryÊääÊïÖ‰∫ãÁºñÂúÜ</p>
<p><strong>Delivery</strong></p>
<p>‚Äã                ‰∫§‰ªòÈò∂ÊÆµÔºåÊ†πÊçÆÂèçÈ¶àÂèäÊó∂Ë∞ÉÊï¥‰∏≠Âè∞ÊàòÁï•ÔºåÂáèÂ∞ëÊçüÂ§±ÂíåÂ¢ûÂ§ßÊî∂Áõä</p>
<p>‚Äã                    ÂêàÁêÜÂà∂ÂÆöÊØè‰∏™Èò∂ÊÆµÁöÑÁª©ÊïàËÄÉÊ†∏ÁõÆÊ†áÔºö</p>
<p>‚Äã                40%Á®≥ÂÆö+25%‰∏öÂä°ÂàõÊñ∞+20%ÊúçÂä°Êé•ÂÖ•+15%Áî®Êà∑Êª°ÊÑèÂ∫¶</p>
<h1 id="‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°"><a href="#‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°" class="headerlink" title="‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°"></a><strong>‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°</strong></h1><h2 id="1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ"><a href="#1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ" class="headerlink" title="1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ"></a>1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ</h2><p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1gmqv8zyhkqj311s0u0q7s.jpg" title="image-20210117182546782" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gmqv8zyhkqj311s0u0q7s.jpg" alt="image-20210117182546782" style="zoom:40%;"></a></p>
<p><strong>Á≥ªÁªüÊãÜÂàÜ</strong></p>
<p>‚Äã        ÈÄöËøáDDDÈ¢ÜÂüüÊ®°ÂûãÔºåÂØπÊúçÂä°ËøõË°åÊãÜÂàÜÔºåÂ∞Ü‰∏Ä‰∏™Á≥ªÁªüÊãÜÂàÜ‰∏∫Â§ö‰∏™Â≠êÁ≥ªÁªüÔºåÂÅöÊàêSpringCloudÁöÑÂæÆÊúçÂä°„ÄÇÂæÆÊúçÂä°ËÆæËÆ°Êó∂Ë¶ÅÂ∞ΩÂèØËÉΩÂÅöÂà∞Â∞ëÊâáÂá∫ÔºåÂ§öÊâáÂÖ•ÔºåÊ†πÊçÆÊúçÂä°Âô®ÁöÑÊâøËΩΩÔºåËøõË°åÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°ÔºåÈÄöËøáÂØπÊ†∏ÂøÉÊúçÂä°ÁöÑ‰∏äÊ∏∏ÊúçÂä°ËøõË°åÈôêÊµÅÂíåÈôçÁ∫ßÊîπÈÄ†„ÄÇ</p>
<p>‚Äã    ‰∏Ä‰∏™ÊúçÂä°ÁöÑ‰ª£Á†Å‰∏çË¶ÅÂ§™Â§öÔºå1 ‰∏áË°åÂ∑¶Âè≥Ôºå‰∏§‰∏â‰∏áÊíëÊ≠ª‰∫ÜÂêß„ÄÇ</p>
<p>‚Äã    Â§ßÈÉ®ÂàÜÁöÑÁ≥ªÁªüÔºåÊòØË¶ÅËøõË°å<strong>Â§öËΩÆÊãÜÂàÜ</strong>ÁöÑÔºåÁ¨¨‰∏ÄÊ¨°ÊãÜÂàÜÔºåÂèØËÉΩÂ∞±ÊòØÂ∞Ü‰ª•ÂâçÁöÑÂ§ö‰∏™Ê®°ÂùóËØ•ÊãÜÂàÜÂºÄÊù•‰∫ÜÔºåÊØîÂ¶ÇËØ¥Â∞ÜÁîµÂïÜÁ≥ªÁªüÊãÜÂàÜÊàê<strong>ËÆ¢ÂçïÁ≥ªÁªü„ÄÅÂïÜÂìÅÁ≥ªÁªü„ÄÅÈááË¥≠Á≥ªÁªü„ÄÅ‰ªìÂÇ®Á≥ªÁªü„ÄÅÁî®Êà∑Á≥ªÁªü</strong>Á≠âÁ≠âÂêß„ÄÇ</p>
<p>‚Äã    ‰ΩÜÊòØÂêéÈù¢ÂèØËÉΩÊØè‰∏™Á≥ªÁªüÂèàÂèòÂæóË∂äÊù•Ë∂äÂ§çÊùÇ‰∫ÜÔºåÊØîÂ¶ÇËØ¥ÈááË¥≠Á≥ªÁªüÈáåÈù¢ÂèàÂàÜÊàê‰∫Ü<strong>‰æõÂ∫îÂïÜÁÆ°ÁêÜÁ≥ªÁªü„ÄÅÈááË¥≠ÂçïÁÆ°ÁêÜÁ≥ªÁªü</strong>ÔºåËÆ¢ÂçïÁ≥ªÁªüÂèàÊãÜÂàÜÊàê‰∫Ü<strong>Ë¥≠Áâ©ËΩ¶Á≥ªÁªü„ÄÅ‰ª∑Ê†ºÁ≥ªÁªü„ÄÅËÆ¢ÂçïÁÆ°ÁêÜ</strong>Á≥ªÁªü„ÄÇ</p>
<p><strong>CDN„ÄÅNginxÈùôÊÄÅÁºìÂ≠ò„ÄÅJVMÁºìÂ≠ò</strong></p>
<p>‚Äã    Âà©Áî®JavaÁöÑÊ®°ÊùøthymeleafÂèØ‰ª•Â∞ÜÈ°µÈù¢ÂíåÊï∞ÊçÆÂä®ÊÄÅÊ∏≤ÊüìÂ•ΩÔºåÁÑ∂ÂêéÈÄöËøáNginxÁõ¥Êé•ËøîÂõû„ÄÇÂä®ÊÄÅÊï∞ÊçÆÂèØ‰ª•‰ªéredis‰∏≠Ëé∑Âèñ„ÄÇÂÖ∂‰∏≠redisÈáåÁöÑÊï∞ÊçÆÁî±‰∏Ä‰∏™ÁºìÂ≠òÊúçÂä°Êù•ËøõË°åÊ∂àË¥πÊåáÂÆöÁöÑÂèòÊõ¥ÊúçÂä°„ÄÇ</p>
<p>‚Äã    ÂïÜÂìÅÊï∞ÊçÆÔºåÊØèÊù°Êï∞ÊçÆÊòØ 10kb„ÄÇ100 Êù°Êï∞ÊçÆÊòØ 1mbÔºå10 ‰∏áÊù°Êï∞ÊçÆÊòØ 1g„ÄÇÂ∏∏È©ªÂÜÖÂ≠òÁöÑÊòØ 200 ‰∏áÊù°ÂïÜÂìÅÊï∞ÊçÆÔºåÂç†Áî®ÂÜÖÂ≠òÊòØ 20gÔºå‰ªÖ‰ªÖ‰∏çÂà∞ÊÄªÂÜÖÂ≠òÁöÑ 50%„ÄÇÁõÆÂâçÈ´òÂ≥∞ÊúüÊØèÁßíÂ∞±ÊòØ 3500 Â∑¶Âè≥ÁöÑËØ∑Ê±ÇÈáè„ÄÇ</p>
<p><strong>ÁºìÂ≠ò</strong></p>
<p>Redis clusterÔºå10 Âè∞Êú∫Âô®Ôºå5‰∏ª5‰ªéÔºå5 ‰∏™ËäÇÁÇπÂØπÂ§ñÊèê‰æõËØªÂÜôÊúçÂä°Ôºå<strong>ÊØè‰∏™ËäÇÁÇπÁöÑËØªÂÜôÈ´òÂ≥∞ QPS</strong> ÂèØËÉΩÂèØ‰ª•ËææÂà∞ÊØèÁßí 5 ‰∏áÔºå<strong>5 Âè∞Êú∫Âô®ÊúÄÂ§öÊòØ 25 ‰∏áËØªÂÜô</strong>ËØ∑Ê±ÇÊØèÁßí„ÄÇ</p>
<p>‚Äã    <strong>32G ÂÜÖÂ≠ò+ 8 Ê†∏ CPU + 1T</strong> Á£ÅÁõòÔºå‰ΩÜÊòØÂàÜÈÖçÁªô <strong>Redis ËøõÁ®ãÁöÑÊòØ 10g ÂÜÖÂ≠ò</strong>Ôºå‰∏ÄËà¨Á∫ø‰∏äÁîü‰∫ßÁéØÂ¢ÉÔºåRedis ÁöÑÂÜÖÂ≠òÂ∞ΩÈáè‰∏çË¶ÅË∂ÖËøá 10gÔºåË∂ÖËøá 10g ÂèØËÉΩ‰ºöÊúâÈóÆÈ¢ò„ÄÇ</p>
<p>‚Äã    Âõ†‰∏∫ÊØè‰∏™‰∏ªÂÆû‰æãÈÉΩÊåÇ‰∫Ü‰∏Ä‰∏™‰ªéÂÆû‰æãÔºåÊâÄ‰ª•ÊòØ<strong>È´òÂèØÁî®</strong>ÁöÑÔºå‰ªª‰Ωï‰∏Ä‰∏™‰∏ªÂÆû‰æãÂÆïÊú∫ÔºåÈÉΩ‰ºöËá™Âä®ÊïÖÈöúËøÅÁßªÔºåRedis ‰ªéÂÆû‰æã<strong>‰ºöËá™Âä®ÂèòÊàê‰∏ªÂÆû‰æã</strong>ÁªßÁª≠Êèê‰æõËØªÂÜôÊúçÂä°„ÄÇ</p>
<p><strong>MQ</strong></p>
<p>‚Äã    ÂèØ‰ª•ÈÄöËøáÊ∂àÊÅØÈòüÂàóÂØπÂæÆÊúçÂä°Á≥ªÁªüËøõË°å<a href="#1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°">Ëß£ËÄ¶</a>ÔºåÂºÇÊ≠•Ë∞ÉÁî®ÁöÑÊõ¥ÈÄÇÂêàÂæÆÊúçÂä°ÁöÑÊâ©Â±ï</p>
<p>‚Äã    ÂêåÊó∂ÂèØ‰ª•Â∫îÂØπÁßíÊùÄÊ¥ªÂä®‰∏≠<a href="# 6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç">Â∫îÂØπÈ´òÂπ∂ÂèëÂÜôËØ∑Ê±Ç</a>ÔºåÊØîÂ¶ÇkafkaÂú®ÊØ´ÁßíÂª∂ËøüÂü∫Á°Ä‰∏äÂèØ‰ª•ÂÆûÁé∞10wÁ∫ßÂêûÂêêÈáè</p>
<p>‚Äã    ÈíàÂØπ<a href="#IOTÊµÅÈáèÊ¥™Â≥∞">IOTÊµÅÈáèÊ¥™Â≥∞</a>ÂÅö‰∫Ü‰∏Ä‰∫õÁâπÊÆäÁöÑ‰ºòÂåñÔºå‰øùËØÅÊ∂àÊÅØÁöÑÂèäÊó∂ÊÄß</p>
<p>‚Äã    ÂêåÊó∂ÂèØ‰ª•‰ΩøÁî®Ê∂àÊÅØÈòüÂàó‰øùËØÅÂàÜÂ∏ÉÂºèÁ≥ªÁªü<a href="#7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß">ÊúÄÁªà‰∏ÄËá¥ÊÄß</a></p>
<p><strong>ÂàÜÂ∫ìÂàÜË°®</strong></p>
<p>‚Äã        ÂàÜÂ∫ìÂàÜË°®ÔºåÂèØËÉΩÂà∞‰∫ÜÊúÄÂêéÊï∞ÊçÆÂ∫ìÂ±ÇÈù¢ËøòÊòØÂÖç‰∏ç‰∫ÜÊäóÈ´òÂπ∂ÂèëÁöÑË¶ÅÊ±ÇÔºåÂ•ΩÂêßÔºåÈÇ£‰πàÂ∞± Â∞Ü‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÊãÜÂàÜ‰∏∫Â§ö‰∏™Â∫ìÔºåÂ§ö‰∏™Â∫ìÊù•ÊâõÊõ¥È´òÁöÑÂπ∂ÂèëÔºõÁÑ∂ÂêéÂ∞Ü‰∏Ä‰∏™Ë°®ÊãÜÂàÜ‰∏∫Â§ö‰∏™ Ë°®ÔºåÊØè‰∏™Ë°®ÁöÑÊï∞ÊçÆÈáè‰øùÊåÅÂ∞ë‰∏ÄÁÇπÔºåÊèêÈ´ò sql Ë∑ëÁöÑÊÄßËÉΩ„ÄÇ<strong>Âú®ÈÄöËÆØÂΩï„ÄÅËÆ¢ÂçïÂíåÂïÜÂüéÂïÜÂìÅÊ®°ÂùóË∂ÖËøáÂçÉ‰∏áÁ∫ßÂà´ÈÉΩÂ∫îÂèäÊó∂ËÄÉËôëÂàÜË°®ÂàÜÂ∫ì</strong></p>
<p><strong>ËØªÂÜôÂàÜÁ¶ª</strong></p>
<p>‚Äã        ËØªÂÜôÂàÜÁ¶ªÔºåËøô‰∏™Â∞±ÊòØËØ¥Â§ßÈÉ®ÂàÜÊó∂ÂÄôÊï∞ÊçÆÂ∫ìÂèØËÉΩ‰πüÊòØËØªÂ§öÂÜôÂ∞ëÔºåÊ≤°ÂøÖË¶ÅÊâÄÊúâËØ∑Ê±ÇÈÉΩ ÈõÜ‰∏≠Âú®‰∏Ä‰∏™Â∫ì‰∏äÂêßÔºåÂèØ‰ª•Êêû‰∏™‰∏ª‰ªéÊû∂ÊûÑÔºå‰∏ªÂ∫ìÂÜôÂÖ•Ôºå‰ªéÂ∫ìËØªÂèñÔºåÊêû‰∏Ä‰∏™ËØªÂÜôÂàÜÁ¶ª„ÄÇ ËØªÊµÅÈáèÂ§™Â§öÁöÑÊó∂ÂÄôÔºåËøòÂèØ‰ª•Âä†Êõ¥Â§öÁöÑ‰ªéÂ∫ì„ÄÇÊØîÂ¶Ç<strong>ÁªüËÆ°ÁõëÊéßÁ±ªÁöÑÂæÆÊúçÂä°</strong>ÈÄöËøáËØªÂÜôÂàÜÁ¶ªÔºåÂè™ÈúÄËÆøÈóÆ‰ªéÂ∫ìÂ∞±ÂèØ‰ª•ÂÆåÊàêÁªüËÆ°Ôºå‰æãÂ¶ÇES</p>
<p><strong>ElasticSearch</strong></p>
<p>‚Äã        ElasticsearchÔºåÁÆÄÁß∞ es„ÄÇes ÊòØÂàÜÂ∏ÉÂºèÁöÑÔºåÂèØ‰ª•Èöè‰æøÊâ©ÂÆπÔºåÂàÜÂ∏ÉÂºèÂ§©ÁÑ∂Â∞±ÂèØ‰ª•ÊîØÊíëÈ´òÂπ∂ÂèëÔºåÂõ†‰∏∫Âä®‰∏çÂä®Â∞±ÂèØ‰ª•Êâ©ÂÆπÂä†Êú∫Âô®Êù•ÊâõÊõ¥È´òÁöÑÂπ∂Âèë„ÄÇÈÇ£‰πà‰∏Ä‰∫õÊØîËæÉÁÆÄÂçïÁöÑ<strong>Êü•ËØ¢„ÄÅÁªüËÆ°Á±ª</strong>ÁöÑÊìç‰ΩúÔºåÊØîÂ¶Ç<strong>ËøêËê•Âπ≥Âè∞‰∏ä</strong>ÁöÑÂêÑÂú∞Â∏ÇÁöÑÊ±áËÅöÁªüËÆ°ÔºåËøòÊúâ‰∏Ä‰∫õ<strong>ÂÖ®ÊñáÊêúÁ¥¢Á±ª</strong>ÁöÑÊìç‰ΩúÔºåÊØîÂ¶Ç<strong>ÈÄöËÆØÂΩïÂíåËÆ¢Âçï</strong>ÁöÑÊü•ËØ¢„ÄÇ</p>
<h2 id="2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®"><a href="#2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®" class="headerlink" title="2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®"></a>2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®</h2><p>Âü∫‰∫é Hash ÂèñÊ®°„ÄÅ‰∏ÄËá¥ÊÄß Hash ÂÆûÁé∞ÂàÜÂ∫ìÂàÜË°®</p>
<p>È´òÂπ∂ÂèëËØªÂèØ‰ª•ÈÄöËøá<a href="5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç">Â§öÁ∫ßÁºìÂ≠ò</a>Â∫îÂØπ</p>
<p>Â§ß‰øÉÈîÄÁÉ≠keyËØªÁöÑÈóÆÈ¢òÈÄöËøá<a href="**4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü**">redisÈõÜÁæ§+Êú¨Âú∞ÁºìÂ≠ò+ÈôêÊµÅ+keyÂä†ÈöèÊú∫ÂÄº</a>ÂàÜÂ∏ÉÂú®Â§ö‰∏™ÂÆû‰æã‰∏≠</p>
<p>È´òÂπ∂ÂèëÂÜôÁöÑÈóÆÈ¢òÈÄöËøá<strong>Âü∫‰∫é Hash ÂèñÊ®°„ÄÅ‰∏ÄËá¥ÊÄß Hash ÂÆûÁé∞ÂàÜÂ∫ìÂàÜË°®</strong>ÂùáÂåÄËêΩÁõò</p>
<p>‰∏öÂä°ÂàÜÈÖç‰∏çÂùáÂØºËá¥ÁöÑ<strong>ÁÉ≠key</strong>ËØªÂÜôÈóÆÈ¢òÔºåÂèØ‰ª•Ê†πÊçÆ‰∏öÂä°Âú∫ÊôØËøõË°årangeÂàÜÁâáÔºåÂ∞ÜÁÉ≠ÁÇπËåÉÂõ¥‰∏ãÁöÑÂ≠êkeyÊâìÊï£</p>
<p>ÂÖ∑‰ΩìÂÆûÁé∞ÔºöÈ¢ÑÂÖàËÆæÂÆö‰∏ªÈîÆÁöÑÁîüÊàêËßÑÂàôÔºåÊ†πÊçÆËßÑÂàôËøõË°åÊï∞ÊçÆÁöÑÂàÜÁâáË∑ØÁî±Ôºå‰ΩÜËøôÁßçÊñπÂºè‰ºö‰æµÂÖ•ÂïÜÂìÅÂêÑÊù°Á∫ø‰∏ªÊï∞ÊçÆÁöÑ‰∏öÂä°ËßÑÂàôÔºåÊõ¥Â•ΩÁöÑÊñπÂºèÊòØÂü∫‰∫é<strong>ÂàÜÁâáÂÖÉÊï∞ÊçÆÊúçÂä°Âô®</strong>ÔºàÂç≥ÊØèÊ¨°ËÆøÈóÆÂàÜÁâáÂâçÂÖàËØ¢ÈóÆÂàÜÁâáÂÖÉÊúçÂä°Âô®Âú®Ë∑ØÁî±Âà∞ÂÆûÈôÖÂàÜÁâáÔºâ‰∏çËøá‰ºöÂ∏¶Êù•Â§çÊùÇÊÄßÔºåÊØîÂ¶Ç‰øùËØÅÂÖÉÊï∞ÊçÆÊúçÂä°Âô®ÁöÑ<strong>‰∏ÄËá¥ÊÄß</strong>ÂíåÂèØÁî®ÊÄß„ÄÇ</p>
<h2 id="3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß"><a href="#3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß" class="headerlink" title="3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß"></a>3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß</h2><blockquote>
<p>Â∞ΩÈáèÈÅøÂÖçÂàÜÂ∏ÉÂºè‰∫ãÂä°ÔºåÂçïËøõÁ®ãÁî®Êï∞ÊçÆÂ∫ì‰∫ãÂä°ÔºåË∑®ËøõÁ®ãÁî®Ê∂àÊÅØÈòüÂàó</p>
</blockquote>
<p>‰∏ªÊµÅÂÆûÁé∞ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∫ãÂä°‰∏ÄËá¥ÊÄßÁöÑÊñπÊ°àÔºö</p>
<ol>
<li><strong>ÊúÄÁªà‰∏ÄËá¥ÊÄß</strong>Ôºö‰πüÂ∞±ÊòØÂü∫‰∫é MQ ÁöÑÂèØÈù†Ê∂àÊÅØÊäïÈÄíÁöÑÊú∫Âà∂Ôºå</li>
<li>Âü∫‰∫éÈáçËØïÂä†Á°ÆËÆ§ÁöÑÁöÑ<strong>ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•ÊñπÊ°à</strong>„ÄÇ</li>
</ol>
<p>ÁêÜËÆ∫‰∏ä‰πüÂèØ‰ª•‰ΩøÁî®Ôºà2PC‰∏§Èò∂ÊÆµÊèê‰∫§„ÄÅ3PC‰∏âÈò∂ÊÆµÊèê‰∫§„ÄÅTCCÁü≠‰∫ãÂä°„ÄÅSAGAÈïø‰∫ãÂä°ÊñπÊ°àÔºâÔºå‰ΩÜÊòØËøô‰∫õÊñπÊ°àÂ∑•‰∏ö‰∏äËêΩÂú∞‰ª£‰ª∑ÂæàÂ§ßÔºå‰∏çÈÄÇÂêà‰∫íËÅîÁΩëÁöÑ‰∏öÁïåÂú∫ÊôØ„ÄÇÈíàÂØπÈáëËûçÊîØ‰ªòÁ≠âÈúÄË¶ÅÂº∫‰∏ÄËá¥ÊÄßÁöÑÂú∫ÊôØÂèØ‰ª•ÈÄöËøáÂâç‰∏§ÁßçÊñπÊ°àÂÆûÁé∞„ÄÇÔºà<strong>Â±ïÂºÄËØ¥ÁöÑËØùÂèÇËÄÉÂàÜÂ∏ÉÂºè‰∫ãÂä°</strong>Ôºâ</p>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1goruh4oifej30xq0auq7p.jpg" title="image-20210321212516364" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goruh4oifej30xq0auq7p.jpg" alt="image-20210321212516364" title class></a>
                <p>image-20210321212516364</p>
            </figure>
<p>Êú¨Âú∞Êï∞ÊçÆÂ∫ì‰∫ãÂä°ÂéüÁêÜÔºö<strong>undo log</strong>ÔºàÂéüÂ≠êÊÄßÔºâ + <strong>redo log</strong>ÔºàÊåÅ‰πÖÊÄßÔºâ + <strong>Êï∞ÊçÆÂ∫ìÈîÅ</strong>ÔºàÂéüÂ≠êÊÄß&amp;ÈöîÁ¶ªÊÄßÔºâ + <strong>MVCC</strong>ÔºàÈöîÁ¶ªÊÄßÔºâ</p>
<p>ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÂéüÁêÜÔºö<strong>ÂÖ®Â±Ä‰∫ãÂä°ÂçèË∞ÉÂô®ÔºàÂéüÂ≠êÊÄßÔºâ</strong> + ÂÖ®Â±ÄÈîÅÔºàÈöîÁ¶ªÊÄßÔºâ + <strong>DBÊú¨Âú∞‰∫ãÂä°ÔºàÂéüÂ≠êÊÄß„ÄÅÊåÅ‰πÖÊÄßÔºâ</strong></p>
<p>‰∏Ä„ÄÅÊàë‰ª¨ÂÖ¨Âè∏Ë¥¶ÂçïÁ≥ªÁªüÂíåÁ¨¨‰∏âÊñπÊîØ‰ªòÁ≥ªÁªüÂØπË¥¶Êó∂ÔºåÂ∞±ÈááÁî®‚Äú<strong>Ëá™Á†îË°•ÂÅø/MQÊñπÊ°à + ‰∫∫Â∑•‰ªãÂÖ•</strong>‚ÄùÊñπÂºè</p>
<p>ËêΩÂú∞ÁöÑËØùÔºöÊñπÊ°àÊúÄ‚ÄúËΩª‚ÄùÔºåÊÄßËÉΩÊçüÂ§±ÊúÄÂ∞ë„ÄÇÂèØÊéåÊéßÊÄßÂ•ΩÔºåÁÆÄÂçïÊòìÊáÇÔºåÊòìÁª¥Êä§„ÄÇ<br>ËÄÉËôëÂà∞ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÈóÆÈ¢òÊòØÂ∞èÊ¶ÇÁéá‰∫ã‰ª∂ÔºåÁïôÊúâË°•Êïë‰ΩôÂú∞Â∞±Ë°åÔºåÊÄßËÉΩÁöÑÊçüÂ§±ÂèØÊòØÂÆûÊâìÂÆûÁöÑÂèçÂ∫îÂú®Á∫ø‰∏äÊØè‰∏Ä‰∏™ËØ∑Ê±Ç‰∏ä</p>
<p>‰∫å„ÄÅ‰πü‰∫ÜËß£Âà∞‰∏öÁïåÊØîÂ¶ÇÈòøÈáåÊàêÁÜü<strong>Seata AT</strong>Ê®°ÂºèÔºåÂπ≥ÂùáÊÄßËÉΩ‰ºöÈôç‰Ωé35%‰ª•‰∏ä</p>
<p>ÊàëËßâÂæó‰∏çÊòØÁâπÊÆäÁöÑÂú∫ÊôØ‰∏çÊé®Ëçê</p>
<p>‰∏â„ÄÅRocketMQ‰∫ãÂä°Ê∂àÊÅØ</p>
<p>Âê¨Ëµ∑Êù•Êå∫Â•ΩÊå∫ÁÆÄÂçïÁöÑÊñπÊ°àÔºå‰ΩÜÂÆÉÊØîËæÉÊåë‰∏öÂä°Âú∫ÊôØÔºåÂêåÊ≠•ÊÄßÂº∫ÁöÑÂ§ÑÁêÜÈìæË∑Ø‰∏çÈÄÇÂêà„ÄÇ<br>„ÄêÈáçË¶Å„ÄëË¶ÅÊ±Ç‰∏ãÊ∏∏MQÊ∂àË¥πÊñπ‰∏ÄÂÆöËÉΩÊàêÂäüÊ∂àË¥πÊ∂àÊÅØ„ÄÇÂê¶ÂàôËΩ¨‰∫∫Â∑•‰ªãÂÖ•Â§ÑÁêÜ„ÄÇ<br>„ÄêÈáçË¶Å„ÄëÂçÉ‰∏áËÆ∞ÂæóÂÆûÁé∞ÂπÇÁ≠âÊÄß„ÄÇ</p>
<h2 id="4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•"><a href="#4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•" class="headerlink" title="4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•"></a>4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•</h2><p>Áî±‰∫éÈ°πÁõÆÈúÄË¶ÅËøõË°åÊï∞ÊçÆÂâ≤Êé•Ôºå‰øùËØÅÁî®Êà∑Â§öÂπ≥Âè∞‰ΩøÁî®Áî®Êà∑ÊÑüÁü•ÁöÑ‰∏ÄËá¥ÔºåÂ∞ÜÂπø‰∏úÈ°πÁõÆÁöÑÂá†Áôæ‰∏áÁî®Êà∑Âèä‰∏öÂä°Êï∞ÊçÆÊåâÁÖß‰∏ÄÂÆöÁöÑÈÄªËæëÁÅåÂà∞Á§æÂå∫‰∫ëÂπ≥Âè∞‰∏äÔºåÁî±‰∫é‰æùËµñ‰∫ÜÁ¨¨‰∏âÊñπÁªü‰∏ÄËÆ§ËØÅÂíåÁúÅ‰æßcrmÁ≥ªÁªüÔºåÊåâÁÖß‰πãÂâçÁ≥ªÁªüÂÜÖÂâ≤Êé•ÁöÑÊñπÊ≥ïÔºåÈÄöËøáÊï∞ÊçÆÂ∫ìÂ∞ÜÁî®Êà∑ÁöÑÂîØ‰∏ÄÊ†áËØÜÊü•Âá∫Êù•ÁÑ∂Âêé‰ΩøÁî®Â§öÁ∫øÁ®ãÂêëÁúÅ‰æßcrmÁ≥ªÁªüËé∑ÂèñÁªìÊûú„ÄÇ</p>
<p>‰ΩÜÊòØÊµãËØïÁöÑËøáÁ®ã‰∏≠ÔºåÂèëÁé∞ÊØè‰∏™Á∫øÁ®ãËØ∑Ê±ÇÁöÑÊï∞ÊçÆÂèëÁîü‰∫ÜÈîô‰π±ÔºåÂØºËá¥ÊØè‰∏™ËØ∑Ê±ÇÂ§ÑÁêÜÁöÑÊï∞ÊçÆÊúâÈáçÂ§çÔºå‰∫éÊòØÁ´ãÂç≥ÂÅúÊ≠¢‰∫ÜËÑöÊú¨ÔºåÂΩìÊó∂ÊÄÄÁñëÊòØÂ§öÁ∫øÁ®ãÂØπËµÑÊ∫êÂπ∂ÂèëËÆøÈóÆÂØºËá¥ÁöÑÔºå‰∫éÊòØÊääArrayList ÊîπÊàê‰∫ÜCopyOnWriteArrayListÔºå‰ΩÜÊòØÊäòËÖæ‰∫Ü‰∏ÄÊôö‰∏äÔºå‰∏çÁÆ°ÊÄé‰πà‰øÆÊîπÔºåÁ∫øÁ®ã‰πãÈó¥‰∏ÄÁõ¥ÊúâÈáçÂ§çÊï∞ÊçÆÔºåÂè´‰∫Ü‰∏ÄËµ∑Âä†Áè≠ÁöÑÂêå‰∫ã‰πüÊ≤°ÁúãÂá∫ÈóÆÈ¢òÊù•ÔºåÂíåÂêå‰∫ã‰º∞ÁÆó‰∫Ü‰∏Ä‰∏ã‰∏ç‰ΩøÁî®Â§öÁ∫øÁ®ãÔºåÂ§ßÊ¶Ç30-40‰∏™Â∞èÊó∂ËÉΩË∑ëÂÆåÔºåÊÉ≥‰∫Ü‰∏ã‰πüËÉΩÊé•ÂèóÔºåÊú¨Êù•Â∑≤ÁªèÂáÜÂ§áÊîæÂºÉ‰∫Ü„ÄÇ</p>
<p>‰∏çËøáÂõûÂà∞ÂÆ∂ÔºåÊàëËøòÊòØÁî®Â§öÁ∫øÁ®ã‰ªîÁªÜÂçïÊ≠•Ê®°Êãü‰∫Ü‰∏ãÔºåÊï¥‰∏™Â§ÑÁêÜÁöÑËøáÁ®ãÔºåÂèëÁé∞Âú®Ëµ∑Á∫øÁ®ãÁöÑÊó∂ÂÄôÔºåÊúâ‰∫õÂ≠êÁ∫øÁ®ãÂπ∂Ê≤°ÊúâÊääÂàÜÈÖçÁªô‰ªñÁöÑÂÖ®ÈÉ®idÁöÑlistÂ§ÑÁêÜÂÆåÔºåÂØºËá¥ÊúÄÁªàÁä∂ÊÄÅÊ≤°Êõ¥Êñ∞ÔºåÊñ∞Á∫øÁ®ãÂèàÂéªÊâßË°å‰∫Ü‰∏ÄÈÅçÔºåÁÑ∂ÂêéÊàëÂ∞ùËØïÈÄöËøá‰øÆÊîπÂú®Á∫øÁ®ãÂ§ñÊ∑±Êã∑Ë¥ù‰∏Ä‰∏™ListÂÜç‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•Âà∞Â≠êÁ∫øÁ®ãÈáåÔºåÔºàÂêéÁª≠clearÁöÑÊó∂ÂÄô‰πüÊòØclearËÄÅÁöÑListÔºâÊûúÁÑ∂ÔºåÊï¥‰∏™ÊµãËØïËøáÁ®ã‰∏≠ÂÜç‰πüÊ≤°Âá∫Áé∞ËøáÈáçÂ§çÂ§ÑÁêÜÁöÑÊÉÖÂÜµ„ÄÇ</p>
<p>‰∫ãÂêéÔºåÊàë‰πüÊ∑±Á©∂‰∫Ü‰∏ãÂéüÂõ†Ôºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(arrayBuffer.length == <span class="number">99</span>) &#123;</span><br><span class="line"> val asList = arrayBuffer.toList</span><br><span class="line"> exec.execute ( openIdInsertMethod(asList) )</span><br><span class="line"> arrayBuffer.clear</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Âú®‰∏Ä‰∏™Á∫øÁ®ã‰∏≠ÂºÄÂêØÂè¶Â§ñ‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÔºåÂàôÊñ∞ÂºÄÁ∫øÁ®ãÁß∞‰∏∫ËØ•Á∫øÁ®ãÁöÑÂ≠êÁ∫øÁ®ãÔºåÂ≠êÁ∫øÁ®ãÂàùÂßã‰ºòÂÖàÁ∫ß‰∏éÁà∂Á∫øÁ®ãÁõ∏Âêå„ÄÇ‰∏çËøá‰∏ªÁ∫øÁ®ãÂÖàÂêØÂä®Âç†Áî®‰∫ÜcpuËµÑÊ∫êÔºåÂõ†Ê≠§‰∏ªÁ∫øÁ®ãÊÄªÊòØ‰ºò‰∫éÂ≠êÁ∫øÁ®ã„ÄÇÁÑ∂ËÄåÔºåÂç≥‰ΩøËÆæÁΩÆ‰∫Ü‰ºòÂÖàÁ∫ßÔºå‰πüÊó†Ê≥ï‰øùÈöúÁ∫øÁ®ãÁöÑÊâßË°åÊ¨°Â∫è„ÄÇÂè™‰∏çËøáÔºå‰ºòÂÖàÁ∫ßÈ´òÁöÑÁ∫øÁ®ãËé∑ÂèñCPUËµÑÊ∫êÁöÑÊ¶ÇÁéáËæÉÂ§ßÔºå‰ºòÂÖàÁ∫ß‰ΩéÁöÑÂπ∂ÈùûÊ≤°Êú∫‰ºöÊâßË°å„ÄÇ</p>
<p>ÊâÄ‰ª•‰∏ªÁ∫øÁ®ã‰∏äÁöÑclearÊìç‰ΩúÊúâÂèØËÉΩÂÖàÊâßË°åÔºåÈÇ£‰πàÂ≠êÁ∫øÁ®ã‰∏≠Êú™Â§ÑÁêÜÂÆåÁöÑÊï∞ÊçÆÂ∞±ÂèòÊàê‰∏Ä‰∏™Á©∫ÁöÑÊï∞ÁªÑÔºåÊâÄ‰ª•Â∞±Âá∫Áé∞‰∫ÜÂ§ö‰∏™Á∫øÁ®ãÂá∫Áé∞‰∫ÜÈáçÂ§çÊï∞ÊçÆÁöÑÂéüÂõ†ÔºåÊâÄ‰ª•Êàë‰ª¨Ë¶Å‰øùËØÅÁöÑÊòØÂ≠êÁ∫øÁ®ãÊØèÊ¨°ÊâßË°åÂÆåÂêéÂÜçËøõË°åclearÂç≥ÂèØ„ÄÇËÄå‰∏çÊòØ‰∏ÄÂºÄÂßãÂÆö‰ΩçÁöÑ‰øùËØÅArrayListÁöÑÂÆâÂÖ®ÊÄß„ÄÇÊâÄ‰ª•Â∞ÜËµãÂÄº(buffer-&gt;list)Êìç‰ΩúÊîæÂú®Â§ñÈù¢ÂéªÊâßË°åÂêéÔºåÂ§öÁ∫øÁ®ãÊï∞ÊçÆÂ∞±Ê≠£Â∏∏‰∫Ü„ÄÇ</p>
<h2 id="5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°"><a href="#5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°" class="headerlink" title="5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°"></a>5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°</h2><p><a href="# ‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ">ËßÅÁßíÊùÄÈ°πÁõÆÊñπÊ°àËÆæËÆ°</a></p>
<h2 id="6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞"><a href="#6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞" class="headerlink" title="6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞"></a><strong>6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞</strong></h2><p><strong>‰∏≠Â∞èËßÑÊ®°ÁöÑËÆ°Êï∞ÊúçÂä°</strong>Ôºà‰∏áÁ∫ßÔºâ</p>
<p>ÊúÄÂ∏∏ËßÅÁöÑËÆ°Êï∞ÊñπÊ°àÊòØÈááÁî®ÁºìÂ≠ò + DB ÁöÑÂ≠òÂÇ®ÊñπÊ°à„ÄÇÂΩìËÆ°Êï∞ÂèòÊõ¥Êó∂ÔºåÂÖàÂèòÊõ¥ËÆ°Êï∞ DBÔºåËÆ°Êï∞Âä† 1ÔºåÁÑ∂ÂêéÂÜçÂèòÊõ¥ËÆ°Êï∞ÁºìÂ≠òÔºå‰øÆÊîπËÆ°Êï∞Â≠òÂÇ®ÁöÑ Memcached Êàñ Redis„ÄÇËøôÁßçÊñπÊ°àÊØîËæÉÈÄöÁî®‰∏îÊàêÁÜüÔºå‰ΩÜÂú®È´òÂπ∂ÂèëËÆøÈóÆÂú∫ÊôØÔºåÊîØÊåÅ‰∏çÂ§üÂèãÂ•Ω„ÄÇÂú®‰∫íËÅîÁΩëÁ§æ‰∫§Á≥ªÁªü‰∏≠ÔºåÊúâ‰∫õ‰∏öÂä°ÁöÑËÆ°Êï∞ÂèòÊõ¥ÁâπÂà´È¢ëÁπÅÔºåÊØîÂ¶ÇÂæÆÂçö feed ÁöÑÈòÖËØªÊï∞ÔºåËÆ°Êï∞ÁöÑÂèòÊõ¥Ê¨°Êï∞ÂíåËÆøÈóÆÊ¨°Êï∞Áõ∏ÂΩìÔºåÊØèÁßíÂçÅ‰∏áÂà∞Áôæ‰∏áÁ∫ß‰ª•‰∏äÁöÑÊõ¥Êñ∞ÈáèÔºåÂ¶ÇÊûúÁî® DB Â≠òÂÇ®Ôºå‰ºöÁªô DB Â∏¶Êù•Â∑®Â§ßÁöÑÂéãÂäõÔºåDB Â∞±‰ºöÊàê‰∏∫Êï¥‰∏™ËÆ°Êï∞ÊúçÂä°ÁöÑÁì∂È¢àÊâÄÂú®„ÄÇÂç≥‰æøÈááÁî®ËÅöÂêàÂª∂ËøüÊõ¥Êñ∞ DB ÁöÑÊñπÊ°àÔºåÁî±‰∫éÊÄªÈáèÁâπÂà´Â§ßÔºåÂêåÊó∂ËØ∑Ê±ÇÂùáË°°ÂàÜÊï£Âú®Â§ßÈáè‰∏çÂêåÁöÑ‰∏öÂä°Á´ØÔºåÂ∑®Â§ßÁöÑÂÜôÂéãÂäõ‰ªçÁÑ∂ÊòØ DB ÁöÑ‰∏çÂèØÊâøÂèó‰πãÈáç„ÄÇ</p>
<p><strong>Â§ßÂûã‰∫íËÅîÁΩëÂú∫ÊôØ</strong>ÔºàÁôæ‰∏áÁ∫ßÔºâ</p>
<p>Áõ¥Êé•ÊääËÆ°Êï∞ÂÖ®ÈÉ®Â≠òÂÇ®Âú® Redis ‰∏≠ÔºåÈÄöËøá hash ÂàÜÊãÜÁöÑÊñπÂºèÔºåÂèØ‰ª•Â§ßÂπÖÊèêÂçáËÆ°Êï∞ÊúçÂä°Âú® Redis ÈõÜÁæ§ÁöÑÂÜôÊÄßËÉΩÔºåÈÄöËøá‰∏ª‰ªéÂ§çÂà∂ÔºåÂú® master ÂêéÊåÇËΩΩÂ§ö‰∏™‰ªéÂ∫ìÔºåÂà©Áî®ËØªÂÜôÂàÜÁ¶ªÔºåÂèØ‰ª•Â§ßÂπÖÊèêÂçáËÆ°Êï∞ÊúçÂä°Âú® Redis ÈõÜÁæ§ÁöÑËØªÊÄßËÉΩ„ÄÇËÄå‰∏î Redis ÊúâÊåÅ‰πÖÂåñÊú∫Âà∂Ôºå‰∏ç‰ºö‰∏¢Êï∞ÊçÆ</p>
<p>‰∏ÄÊñπÈù¢ Redis ‰Ωú‰∏∫ÈÄöÁî®ÂûãÂ≠òÂÇ®Êù•Â≠òÂÇ®ËÆ°Êï∞ÔºåÂÜÖÂ≠òÂ≠òÂÇ®ÊïàÁéá‰Ωé„ÄÇ‰ª•Â≠òÂÇ®‰∏Ä‰∏™ key ‰∏∫ long Âûã id„ÄÅvalue ‰∏∫ 4 Â≠óËäÇÁöÑËÆ°Êï∞‰∏∫‰æãÔºåRedis Ëá≥Â∞ëÈúÄË¶Å 65 ‰∏™Â≠óËäÇÂ∑¶Âè≥Ôºå‰∏çÂêåÁâàÊú¨Áï•ÊúâÂ∑ÆÂºÇ„ÄÇ‰ΩÜËøô‰∏™ËÆ°Êï∞ÁêÜËÆ∫Âè™ÈúÄË¶ÅÂç†Áî® 12 ‰∏™Â≠óËäÇÂç≥ÂèØ„ÄÇÂÜÖÂ≠òÊúâÊïàË¥üËç∑Âè™Êúâ 12/65=18.5%„ÄÇÂ¶ÇÊûúÂÜçËÄÉËôë‰∏Ä‰∏™ long Âûã id ÈúÄË¶ÅÂ≠ò 4 ‰∏™‰∏çÂêåÁ±ªÂûãÁöÑ 4 Â≠óËäÇËÆ°Êï∞ÔºåÂÜÖÂ≠òÊúâÊïàË¥üËç∑Âè™Êúâ (8+16)/(65*4)= 9.2%„ÄÇ</p>
<p>Âè¶‰∏ÄÊñπÈù¢ÔºåRedis ÊâÄÊúâÊï∞ÊçÆÂùáÂ≠òÂú®ÂÜÖÂ≠òÔºåÂçïÂ≠òÂÇ®ÂéÜÂè≤ÂçÉ‰∫øÁ∫ßËÆ∞ÂΩïÔºåÂçï‰ªΩÊï∞ÊçÆÊã∑Ë¥ùÈúÄË¶Å 10T ‰ª•‰∏äÔºåË¶ÅËÄÉËôëÊ†∏ÂøÉ‰∏öÂä°‰∏ä 1 ‰∏ª 3 ‰ªéÔºåÈúÄË¶Å 40T ‰ª•‰∏äÁöÑÂÜÖÂ≠òÔºåÂÜçËÄÉËôëÂ§ö IDC ÈÉ®ÁΩ≤ÔºåËΩªÊùæÂç†Áî®‰∏äÁôæ T ÂÜÖÂ≠ò„ÄÇÂ∞±ÊåâÂçïÊú∫ 100G ÂÜÖÂ≠òÊù•ÁÆóÔºåËÆ°Êï∞ÊúçÂä°Â∞±Ë¶ÅÂç†Áî®‰∏äÂçÉÂè∞Â§ßÂÜÖÂ≠òÊúçÂä°Âô®„ÄÇÂ≠òÂÇ®ÊàêÊú¨Â§™È´ò„ÄÇ</p>
<p><strong>ÂæÆÂçö„ÄÅÂæÆ‰ø°„ÄÅÊäñÈü≥</strong>Ôºà‰∫øÁ∫ßÔºâ</p>
<p>ÂÆöÂà∂Êï∞ÊçÆÁªìÊûÑÔºåÂÖ±‰∫´key Á¥ßÂáëÂ≠òÂÇ®ÔºåÊèêÂçáËÆ°Êï∞ÊúâÊïàË¥üËç∑Áéá</p>
<p>Ë∂ÖËøáÈòàÂÄºÂêéÊï∞ÊçÆ‰øùÂ≠òÂà∞SSDÁ°¨ÁõòÔºåÂÜÖÂ≠òÈáåÂ≠òÁ¥¢Âºï</p>
<p>ÂÜ∑key‰ªéSSDÁ°¨Áõò‰∏≠ËØªÂèñÂêéÔºåÊîæÂÖ•Âà∞LRUÈòüÂàó‰∏≠</p>
<p>Ëá™ÂÆö‰πâ‰∏ª‰ªéÂ§çÂà∂ÁöÑÊñπÂºèÔºåÊµ∑ÈáèÂÜ∑Êï∞ÊçÆÂºÇÊ≠•Â§öÁ∫øÁ®ãÂπ∂ÂèëÂ§çÂà∂</p>
<h2 id="7„ÄÅÁ≥ªÁªüËÆæËÆ°-ÂæÆËΩØ"><a href="#7„ÄÅÁ≥ªÁªüËÆæËÆ°-ÂæÆËΩØ" class="headerlink" title="7„ÄÅÁ≥ªÁªüËÆæËÆ° - ÂæÆËΩØ"></a>7„ÄÅÁ≥ªÁªüËÆæËÆ° - ÂæÆËΩØ</h2><h3 id="1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ"><a href="#1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ" class="headerlink" title="1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ"></a><strong>1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ</strong></h3><p>Á°ÆËÆ§<strong>‰ΩøÁî®ÁöÑÂØπË±°</strong>ÔºàToCÔºöÈ´òÂπ∂ÂèëÔºåToBÔºöÈ´òÂèØÁî®Ôºâ</p>
<p><strong>Á≥ªÁªüÁöÑÊúçÂä°Âú∫ÊôØ</strong>Ôºà<strong>Âç≥Êó∂ÈÄö‰ø°</strong>Ôºö‰ΩéÂª∂ËøüÔºå<strong>Ê∏∏Êàè</strong>ÔºöÈ´òÊÄßËÉΩÔºå<strong>Ë¥≠Áâ©</strong>ÔºöÁßíÊùÄ-‰∏ÄËá¥ÊÄßÔºâ</p>
<p><strong>Áî®Êà∑ÈáèÁ∫ß</strong>Ôºà<strong>‰∏áÁ∫ß</strong>ÔºöÂèåÊú∫„ÄÅ<strong>Áôæ‰∏á</strong>ÔºöÈõÜÁæ§„ÄÅ<strong>‰∫øÁ∫ß</strong>ÔºöÂºπÊÄßÂàÜÂ∏ÉÂºè„ÄÅÂÆπÂô®ÂåñÁºñÊéíÊû∂ÊûÑÔºâ</p>
<p><strong>Áôæ‰∏áËØª</strong>Ôºö3‰∏ª6‰ªéÔºå<strong>ÊØè‰∏™ËäÇÁÇπÁöÑËØªÂÜôÈ´òÂ≥∞ QPS</strong> ÂèØËÉΩÂèØ‰ª•ËææÂà∞ÊØèÁßí 5 ‰∏áÔºåÂèØ‰ª•ÂÆûÁé∞15‰∏áÔºå30‰∏áËØªÊÄßËÉΩ</p>
<p><strong>‰∫øÁ∫ßËØª</strong>ÔºåÈÄöËøáCDN„ÄÅÈùôÊÄÅÁºìÂ≠ò„ÄÅJVMÁºìÂ≠òÁ≠âÂ§öÁ∫ßÁºìÂ≠òÊù•ÊèêÈ´òËØªÂπ∂Âèë</p>
<p><strong>Áôæ‰∏áÂÜô</strong>ÔºåÈÄöËøáÊ∂àÊÅØÈòüÂàóÂâäÂ≥∞Â°´Ë∞∑ÔºåÈÄöËøáhashÂàÜÊãÜÔºåÊ∞¥Âπ≥Êâ©Â±ïÂàÜÂ∏ÉÂºèÁºìÂ≠ò</p>
<p><strong>‰∫øÁ∫ßÂÜô</strong>ÔºåredisÂèØ‰ª•ÂÆöÂà∂Êï∞ÊçÆÁªìÊûÑ„ÄÅSSD+ÂÜÖÂ≠òLRU„ÄÅÂÜ∑Êï∞ÊçÆÂºÇÊ≠•Â§öÁ∫øÁ®ãÂ§çÂà∂</p>
<p>ÊåÅ‰πÖÂåñÔºåÔºàMysqlÔºâÊâøÂèóÈáèÁ∫¶‰∏∫ 1KÁöÑQPSÔºåËØªÂÜôÂàÜÁ¶ªÊèêÂçá<strong>ËØªÂπ∂Âèë</strong>ÔºåÂàÜÂ∫ìÂàÜË°®ÊèêÂçá<strong>ÂÜôÂπ∂Âèë</strong></p>
<h3 id="2„ÄÅÈ°∂Â±ÇËÆæËÆ°"><a href="#2„ÄÅÈ°∂Â±ÇËÆæËÆ°" class="headerlink" title="2„ÄÅÈ°∂Â±ÇËÆæËÆ°"></a><strong>2„ÄÅÈ°∂Â±ÇËÆæËÆ°</strong></h3><p>Ê†∏ÂøÉÂäüËÉΩÂåÖÊã¨‰ªÄ‰πàÔºö</p>
<p>ÂÜôÂäüËÉΩÔºöÂèëÈÄÅÂæÆÂçö</p>
<p>ËØªÂäüËÉΩÔºöÁÉ≠ÁÇπËµÑËÆØ</p>
<p>‰∫§‰∫íÔºöÁÇπËµû„ÄÅÂÖ≥Ê≥®</p>
<h3 id="3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á"><a href="#3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á" class="headerlink" title="3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á"></a><strong>3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á</strong></h3><ul>
<li>Á≥ªÁªü<strong>ÊÄßËÉΩ</strong>Âíå<strong>Âª∂Ëøü</strong><ul>
<li>ËæπÁºòËÆ°ÁÆó | Âä®ÈùôÂàÜÁ¶ª | ÁºìÂ≠ò |  Â§öÁ∫øÁ®ã |</li>
</ul>
</li>
<li><strong>ÂèØÊâ©Â±ïÊÄß</strong>Âíå<strong>ÂêûÂêêÈáè</strong><ul>
<li>Ë¥üËΩΩÂùáË°° | Ê∞¥Âπ≥Êâ©Â±ï | ÂûÇÁõ¥Êâ©Â±ï | ÂºÇÊ≠• | ÊâπÂ§ÑÁêÜ | ËØªÂÜôÂàÜÁ¶ª</li>
</ul>
</li>
<li><strong>ÂèØÁî®ÊÄß</strong>Âíå<strong>‰∏ÄËá¥ÊÄß</strong><ul>
<li>‰∏ª‰ªéÂ§çÂà∂ | Âì®ÂÖµÊ®°Âºè | ÈõÜÁæ§ | ÂàÜÂ∏ÉÂºè‰∫ãÂä°</li>
</ul>
</li>
</ul>
<h3 id="4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®"><a href="#4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®" class="headerlink" title="4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®"></a>4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®</h3><p>ÈîÆÂÄºÂ≠òÂÇ® : Redis ( ÁÉ≠ÁÇπËµÑËÆØ )</p>
<p>ÊñáÊ°£Â≠òÂÇ® : MongoDB ( ÂæÆÂçöÊñáÊ°£ÂàÜÁ±ª)</p>
<p>ÂàÜËØçÂÄíÊéíÔºöElasticsearchÔºàÊêúÁ¥¢Ôºâ</p>
<p>ÂàóÂûãÂ≠òÂÇ®ÔºöHbase„ÄÅBigTableÔºàÂ§ßÊï∞ÊçÆÔºâ</p>
<p>ÂõæÂΩ¢Â≠òÂÇ®ÔºöNeo4j ÔºàÁ§æ‰∫§ÂèäÊé®ËçêÔºâ</p>
<p>Â§öÂ™í‰ΩìÔºöFastDfsÔºàÂõæÊñáËßÜÈ¢ëÂæÆÂçöÔºâ</p>
<h2 id="7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö"><a href="#7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö" class="headerlink" title="7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö"></a>7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö</h2><p><strong>ÂÆûÁé∞Âì™‰∫õÂäüËÉΩÔºö</strong></p>
<p>Á≠õÈÄâÂá∫Ê†∏ÂøÉÂäüËÉΩÔºàPost a TweetÔºåTimelineÔºåNews FeedÔºåFollow/Unfollow a userÔºåRegister/LoginÔºâ</p>
<p><strong>ÊâøÊãÖÂ§öÂ§ßQPSÔºö</strong></p>
<p>QPS = 100ÔºåÈÇ£‰πàÁî®ÊàëÁöÑÁ¨îËÆ∞Êú¨‰ΩúWebÊúçÂä°Âô®Â∞±Â•Ω‰∫Ü</p>
<p>QPS = 1KÔºå‰∏ÄÂè∞Â•ΩÁÇπÁöÑWeb ÊúçÂä°Âô®‰πüËÉΩÂ∫î‰ªòÔºåÈúÄË¶ÅËÄÉËôëÂçïÁÇπÊïÖÈöúÔºõ</p>
<p>QPS = 1mÔºåÂàôÈúÄË¶ÅÂª∫ËÆæ‰∏Ä‰∏™1000Âè∞WebÊúçÂä°Âô®ÁöÑÈõÜÁæ§ÔºåËÄÉËôëÂä®ÊÄÅÊâ©ÂÆπ„ÄÅË¥üËΩΩÂàÜÊãÖ„ÄÅÊïÖÈöúËΩ¨Áßª</p>
<p>‰∏ÄÂè∞ SQL Database ÔºàMysqlÔºâÊâøÂèóÈáèÁ∫¶‰∏∫ 1KÁöÑQPSÔºõ</p>
<p>‰∏ÄÂè∞ NoSQL Database (Redis) Á∫¶ÊâøÂèóÈáèÊòØ 20k ÁöÑ QPSÔºõ</p>
<p>‰∏ÄÂè∞ NoSQL Database (Memcache) Á∫¶ÊâøÂèóÈáèÊòØ 200k ÁöÑ QPSÔºõ</p>
<p><strong>ÂæÆÊúçÂä°ÊàòÁï•ÊãÜÂàÜ</strong></p>
<p><a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1goruqql81gj30p20c5q45.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goruqql81gj30p20c5q45.jpg" alt="img" style="zoom:67%;"></a></p>
<p><strong>ÈíàÂØπ‰∏çÂêåÊúçÂä°ÈÄâÊã©‰∏çÂêåÂ≠òÂÇ®</strong></p>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://pic1.zhimg.com/80/v2-13cab4d5f56e3ecb682c351c0eb4a24b_1440w.jpg?source=1940ef5c" title="img" data-fancybox="images"><img src="https://pic1.zhimg.com/80/v2-13cab4d5f56e3ecb682c351c0eb4a24b_1440w.jpg?source=1940ef5c" alt="img" title class></a>
                <p>img</p>
            </figure>
<p><strong>ËÆæËÆ°Êï∞ÊçÆË°®ÁöÑÁªìÊûÑ</strong></p>
<figure class="image-box">
                <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008eGmZEly1goruu4homyj31400ht405.jpg" title="img" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goruu4homyj31400ht405.jpg" alt="img" title class></a>
                <p>img</p>
            </figure>
<p>Âü∫Êú¨Â∑Æ‰∏çÂ§öÂ∞±ÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™Ëß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÊòØÂπ∂‰∏çÊòØÂÆåÁæéÁöÑÔºå‰ªçÁÑ∂ÈúÄË¶ÅÂ∞èÊ≠•Âø´Ë∑ëÁöÑ‰∏çÊñ≠ÁöÑÈíàÂØπ<strong>Ê∂àÊÅØÈòüÂàó„ÄÅÁºìÂ≠ò„ÄÅÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÅÂàÜË°®ÂàÜÂ∫ì„ÄÅÂ§ßÊï∞ÊçÆ„ÄÅÁõëÊéß„ÄÅÂèØ‰º∏Áº©</strong>ÊñπÈù¢ËøõË°å‰ºòÂåñ</p>
<h1 id="ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞"><a href="#ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞" class="headerlink" title="ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞"></a>ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞</h1><h3 id="1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°"><a href="#1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°" class="headerlink" title="1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°"></a>1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°</h3><blockquote>
<p>‚Äã    ÂæÆÊúçÂä°ÂÜÖÈ´òÂÜÖËÅöÔºåÂæÆÊúçÂä°Èó¥‰ΩéËÄ¶Âêà</p>
</blockquote>
<p><strong>ÂæÆÊúçÂä°ÂÜÖÈ´òÂÜÖËÅö</strong>Âç≥Âçï‰∏ÄËÅåË¥£ÂéüÂàô</p>
<p>‚Äã    ÊØè‰∏™ÂæÆÊúçÂä°‰∏≠ÁöÑ‰ª£Á†ÅÂèòÂåñÈÉΩÊòØÂêå‰∏ÄÁ±ªÂéüÂõ†„ÄÇÂõ†ËøôÁ±ªÂéüÂõ†ËÄåÈúÄË¶ÅÂèòÊõ¥ÁöÑ‰ª£Á†ÅÈÉΩÂú®Ëøô‰∏™ÂæÆÊúçÂä°‰∏≠Ôºå‰∏éÂÖ∂‰ªñÂæÆÊúçÂä°Êó†ÂÖ≥ÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•Â∞Ü‰ª£Á†Å‰øÆÊîπÁöÑËåÉÂõ¥Áº©Â∞èÂà∞Ëøô‰∏™ÂæÆÊúçÂä°ÂÜÖ„ÄÇÊääËøô‰∏™ÂæÆÊúçÂä°‰øÆÊîπÂ•Ω‰∫ÜÔºåÁã¨Á´ã‰øÆÊîπ„ÄÅÁã¨Á´ãÂèëÂ∏ÉÔºåËØ•ÈúÄÊ±ÇÂ∞±ÂÆûÁé∞‰∫Ü„ÄÇËøôÊ†∑ÔºåÂæÆÊúçÂä°ÁöÑ‰ºòÂäøÊâçËÉΩÂèëÊå•Âá∫Êù•„ÄÇ</p>
<p><strong>ÂæÆÊúçÂä°Èó¥‰ΩéËÄ¶Âêà</strong>ÂºÄÊîæÂ∞ÅÈó≠ÂéüÂàô</p>
<p>‚Äã    Â∞±ÊòØËØ¥Âú®ÂæÆÊúçÂä°ÂÆûÁé∞Ëá™Ë∫´‰∏öÂä°ÁöÑËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÈúÄË¶ÅÊâßË°åÁöÑÊüê‰∫õËøáÁ®ã‰∏çÊòØËá™Â∑±ÁöÑËÅåË¥£ÔºåÂ∞±Â∫îÂΩìÂ∞ÜËøô‰∫õËøáÁ®ã‰∫§ÁªôÂÖ∂‰ªñÂæÆÊúçÂä°ÂéªÂÆûÁé∞Ôºå‰Ω†Âè™ÈúÄË¶ÅÂØπÂÆÉÁöÑÊé•Âè£ËøõË°åË∞ÉÁî®„ÄÇËøôÊ†∑ÔºåÂæÆÊúçÂä°‰πãÈó¥ÁöÑË∞ÉÁî®Â∞±ÂÆûÁé∞‰∫ÜËß£ËÄ¶„ÄÇ</p>
<p>‚Äã    <strong>È¢ÜÂüüÂª∫Ê®°</strong>Â∞±ÊòØÂ∞Ü‰∏Ä‰∏™Á≥ªÁªüÂàíÂàÜÊàê‰∫ÜÂ§ö‰∏™Â≠êÂüüÔºåÊØè‰∏™Â≠êÂüüÈÉΩÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑ‰∏öÂä°Âú∫ÊôØÔºåÊØè‰∏™Â≠êÂüüÁöÑËæπÁïåÂ∞±ÊòØ‚Äú<strong>ÈôêÁïå‰∏ä‰∏ãÊñá</strong>‚Äù„ÄÇËØ•‰∏öÂä°Âú∫ÊôØ‰ºöÊ∂âÂèäËÆ∏Â§öÈ¢ÜÂüüÂØπË±°Ôºå‰ΩÜ<strong>ÂàÜÊûêÂª∫Ê®°</strong>ÂßãÁªàÈúÄË¶ÅÂõ¥ÁªïÁùÄ‰∏öÂä°Âú∫ÊôØÁöÑ‰∏ä‰∏ãÊñáËøõË°å„ÄÇ</p>
<p>‚Äã    <strong>È¢ÜÂüü‰∫ã‰ª∂ÈÄöÁü•Êú∫Âà∂</strong>ÊúÄÊúâÊïàÁöÑÊñπÂºèÂ∞±ÊòØÈÄöËøáÊ∂àÊÅØÈòüÂàóÔºåÂÆûÁé∞È¢ÜÂüü‰∫ã‰ª∂Âú®ÂæÆÊúçÂä°Èó¥ÁöÑÈÄöÁü•„ÄÇ</p>
<blockquote>
<p>‚ÄúÊ†∏ÂøÉÈÄöËÆØÂΩï‚ÄùÂæÆÊúçÂä°Âè™Ë¥üË¥£ÂèëÈÄÅÂèòÊõ¥Ê∂àÊÅØÂà∞Ê∂àÊÅØÈòüÂàóÔºå‰∏çÁÆ°Ë∞Å‰ºöÊé•Êî∂Âπ∂Â§ÑÁêÜËøô‰∫õÊ∂àÊÅØÔºõ</p>
<p>‚ÄúÈó®Á¶ÅÁÆ°ÁêÜ‚ÄùÂæÆÊúçÂä°Âè™Ë¥üË¥£Êé•Êî∂ÁÖßÁâáÂèòÊõ¥Ê∂àÊÅØÔºå‰∏çÁÆ°Ë∞ÅÂèëÈÄÅÁöÑËøô‰∏™Ê∂àÊÅØ„ÄÇ</p>
</blockquote>
<h3 id="2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°"><a href="#2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°" class="headerlink" title="2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°"></a>2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°</h3><ol>
<li><p>ÊåâÁÖß<strong>ÈôêÁïå‰∏ä‰∏ãÊñá</strong>ËøõË°åÂæÆÊúçÂä°ÁöÑÊãÜÂàÜÔºåÂ∞ÜÈ¢ÜÂüüÊ®°Âûã<strong>ÂàíÂàÜÂà∞Â§ö‰∏™ÈóÆÈ¢òÂ≠êÂüü</strong></p>
</li>
<li><p>Âü∫‰∫é<strong>ÂÖÖË°ÄÊ®°Âûã</strong>‰∏é<strong>Ë¥´Ë°ÄÊ®°Âûã</strong>ËÆæËÆ°ÂêÑ‰∏™ÂæÆÊúçÂä°ÁöÑ‰∏öÂä°È¢ÜÂüüÂ±ÇÔºàService„ÄÅEntity„ÄÅValueÔºâ</p>
</li>
<li><p>ÈÄöËøá<strong>È¢ÜÂüü‰∫ã‰ª∂ÈÄöÁü•Êú∫Âà∂</strong>Âíå<strong>ÂæÆÊúçÂä°Ë∞ÉÁî®</strong>ÁöÑÊé®ÊãâÁªìÂêàÔºåÂ∞ÜÂêÑ‰∏™Â≠êÂüüËøõË°åËß£ËÄ¶ÂÖ≥ËÅî</p>
<ul>
<li><strong>Ê†∏ÂøÉ</strong>Ôºö</li>
</ul>
</li>
</ol>
<ul>
<li><p>ÈÄöËÆØÂΩï | Áü≠‰ø° | Êé®ÈÄÅÈÄöÁü• | ÊîØ‰ªò | Êñá‰ª∂ÊúçÂä°</p>
</li>
<li><p><strong>Êô∫ÊÖßÈÄöË°å</strong></p>
<blockquote>
<p>Ëß£ÂÜ≥Áâ©‰∏öÂ§öÂìÅÁâå„ÄÅÂ§öÁ≥ªÁªüÂ∫îÁî®ÈÄ†ÊàêÁöÑ<strong>‰ø°ÊÅØÂ≠§Â≤õ</strong>Ôºå<strong>Êï∞ÊçÆÊ∑∑‰π±</strong>ÁöÑÈóÆÈ¢ò</p>
</blockquote>
<ul>
<li>‰∫∫ËÑ∏Èó®Á¶Å | ÂèØËßÜÂØπËÆ≤ | ÁîµÊ¢ØÊ¢ØÊéß | ÂÅúËΩ¶Á≥ªÁªü | ËÆøÂÆ¢È¢ÑÁ∫¶</li>
</ul>
</li>
<li><p><strong>ÂÆâÂÖ®Á§æÂå∫</strong></p>
<blockquote>
<p>ÈÄöËøá<strong>ÂõæÂÉèËßÜÈ¢ëËØÜÂà´</strong>„ÄÅ<strong>‰º†ÊÑüÊï∞ÊçÆÈááÈõÜ</strong>ÔºåÂÆûÁé∞<strong>Êä•Ë≠¶ËÅîÂä®</strong>Âíå<strong>È£éÈô©È¢ÑË≠¶</strong></p>
</blockquote>
<ul>
<li>ËßÜÈ¢ëÁõëÊéß | Âë®ÁïåÊä•Ë≠¶ | È´òÁ©∫ÊäõÁâ© | Ë∑®ÂüüËøΩË∏™</li>
</ul>
</li>
<li><p><strong>ÂÖ®Â±ãÊô∫ËÉΩ</strong></p>
<blockquote>
<p>Âõ¥Áªï‰∏ö‰∏ªÈúÄÊ±ÇÔºåÈÄêÊ≠•ÂºïÂÖ•Á§æÂå∫ÂåªÁñó„ÄÅÁ§æÂå∫ÂÖªËÄÅ„ÄÅ<strong>Á§æÂå∫Âõ¢Ë¥≠</strong>„ÄÅ<strong>Á§æÂå∫ÂÆ∂Êîø</strong>Á≠âÊúçÂä°</p>
</blockquote>
<ul>
<li>Ë∂ÖÁ∫ßÈù¢Êùø | Êó†Á∫øÈó®ÈîÅ | ÁÉüÊÑüÈõæÊÑü</li>
</ul>
</li>
<li><p><strong>Â¢ûÂÄºÊúçÂä°</strong></p>
<blockquote>
<p>ÂÆûÁé∞Ë∑®ÂìÅÁâåÁöÑ‰∫ßÂìÅ‰ΩìÈ™åÔºåÊîØÊåÅÂü∫‰∫é<strong>matrixÂºïÊìé</strong>ÁöÑÊô∫ËÉΩÁîüÊ¥ªÂú∫ÊôØË£ÇÂèòËÉΩÂäõ</p>
</blockquote>
<ul>
<li>Êô∫ËÉΩÂÖÖÁîµ | ‰∫ëÂπøÊí≠ | Âá∫ÂÖ•ÊèêÈÜí | ÂÆöÂêëÊäïÊîæ</li>
</ul>
</li>
</ul>
<h3 id="3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞"><a href="#3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞" class="headerlink" title="3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞"></a><strong>3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞</strong></h3><blockquote>
<p>‚Äã    ÈÄöËøáÂêàÁêÜÁöÑÂæÆÊúçÂä°ËÆæËÆ°ÔºåÂ∞ΩÈáèËÆ©ÊØèÊ¨°ÁöÑÈúÄÊ±ÇÂèòÊõ¥ÈÉΩ‰∫§ÁªôÊüê‰∏™Â∞èÂõ¢ÈòüÁã¨Á´ãÂÆåÊàêÔºåËÆ©ÈúÄÊ±ÇÂèòÊõ¥ËêΩÂà∞Êüê‰∏™ÂæÆÊúçÂä°‰∏äËøõË°åÂèòÊõ¥„ÄÇÂîØÊúâËøôÊ†∑ÔºåÊØèÊ¨°ÂèòÊõ¥Âè™ÈúÄÁã¨Á´ãÂú∞‰øÆÊîπËøô‰∏™ÂæÆÊúçÂä°ÔºåÁã¨Á´ãÊâìÂåÖ„ÄÅÁã¨Á´ãÂçáÁ∫ßÔºåÊñ∞ÈúÄÊ±ÇÁã¨Á´ãÂÆûÁé∞ÔºåÊâçËÉΩÂèëÊå•ÂæÆÊúçÂä°ÁöÑ‰ºòÂäø„ÄÇ</p>
</blockquote>
<ul>
<li><strong>Êï∞ÊçÆÈöîÁ¶ªÔºö</strong>Êï∞ÊçÆÂ∫ì‰∏≠Áî®Êà∑‰ø°ÊÅØË°®ÁöÑËØªÂÜôÂè™Êúâ<strong>ÈÄöËÆØÂΩï</strong>ÂæÆÊúçÂä°„ÄÇÂΩìÂÖ∂‰ªñÂæÆÊúçÂä°ÈúÄË¶ÅËØªÂÜôÁî®Êà∑‰ø°ÊÅØÊó∂ÔºåÂ∞±‰∏çËÉΩÁõ¥Êé•ËØªÂèñÁî®Êà∑‰ø°ÊÅØË°®ÔºåËÄåÊòØÈÄöËøá API Êé•Âè£ÂéªË∞ÉÁî®<strong>ÈÄöËÆØÂΩï</strong>ÂæÆÊúçÂä°„ÄÇ</li>
<li><strong>Êé•Âè£Â§çÁî®Ôºö</strong>Âõ†Ê≠§ÔºåÂΩìÂ§ö‰∏™Âõ¢ÈòüÂêë‰Ω†ÊèêÈúÄÊ±ÇÊó∂ÔºåÂøÖÈ°ªË¶ÅÂØπËøô‰∫õÊé•Âè£ËøõË°åËßÑÂàíÔºåÈÄöËøáÂ§çÁî®<strong>Â∞ΩÂèØËÉΩÂ∞ëÁöÑÊé•Âè£Êª°Ë∂≥‰ªñ‰ª¨ÁöÑÈúÄÊ±ÇÔºõ</strong>ÂΩìÊúâÊñ∞ÁöÑÊé•Âè£ÊèêÂá∫Êó∂ÔºåË¶ÅÂ∞ΩÈáèÈÄöËøáÁé∞ÊúâÊé•Âè£Ëß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ</li>
<li><strong>ÂêëÂâçÂÖºÂÆπÔºö</strong>ÂΩìË∞ÉÁî®ÊñπÈúÄË¶ÅÊé•Âè£ÂèòÊõ¥Êó∂ÊÄé‰πàÂäûÔºüÂèòÊõ¥Áé∞ÊúâÊé•Âè£Â∫îÂΩìÂ∞ΩÂèØËÉΩÂêëÂâçÂÖºÂÆπÔºåÂç≥Êé•Âè£ÁöÑÂêçÁß∞‰∏éÂèÇÊï∞ÈÉΩ‰∏çÂèòÔºåÂè™ÊòØÂú®ÂÜÖÈÉ®Â¢ûÂä†Êñ∞ÁöÑÂäüËÉΩ„ÄÇ<strong>ÂÆÅÊÑøÂ¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑÊé•Âè£‰πüÊúÄÂ•Ω‰∏çË¶ÅÂéªÂèòÊõ¥ÂéüÊúâÁöÑÊé•Âè£„ÄÇ</strong></li>
<li><strong>Êú¨Âú∞Ë∞ÉÁî®Ôºö</strong>Âú®<strong>ËÆøÂÆ¢Áî≥ËØ∑</strong>ÂæÆÊúçÂä°ÁöÑÊú¨Âú∞ÔºåÂ¢ûÂä†‰∏Ä‰∏™<strong>Êü•ËØ¢Áî®Êà∑Service</strong>ÁöÑ feign Êé•Âè£„ÄÇËøôÊ†∑Ôºå<strong>ËÆøÂÆ¢Áî≥ËØ∑Service</strong>Â∞±ÂÉèÊú¨Âú∞Ë∞ÉÁî®‰∏ÄÊ†∑Ë∞ÉÁî®<strong>Êü•ËØ¢Áî®Êà∑Service</strong>ÔºåÂÜçÈÄöËøá feign Êé•Âè£ÂÆûÁé∞ËøúÁ®ãË∞ÉÁî®„ÄÇËøôÁßç<strong>Èò≤ËÖêÂ±Ç</strong>ÁöÑËÆæËÆ°ÔºåÂèØ‰ª•ÈöîÁ¶ªÂΩìÂâçÂæÆÊúçÂä°‰ª•Â§ñÁöÑÂÖ∂‰ªñÂæÆÊúçÂä°ÊãÜÂàÜÂèòÊõ¥ÂØºËá¥ÁöÑÊé•Âè£ÁöÑÂ§±ÊïàÁöÑÂΩ±Âìç„ÄÇ</li>
<li><p><strong>Êï∞ÊçÆÂ∫ìÂéª‰∏≠ÂøÉÂåñÔºö</strong></p>
<ul>
<li>ÂæÆÊúçÂä°‰∏≠<strong>ÈÄöËÆØÂΩïÊúçÂä°</strong>‰∏é<strong>ÂÅ•Â∫∑Á†ÅÊúçÂä°</strong>ÂàÜÂà´ÂØπÂ∫îÁöÑ<strong>Áî®Êà∑Â∫ì‰∏éÊùÉÈôêÂ∫ì</strong>ÔºåÂÆÉ‰ª¨ÁöÑÂÖ±ÂêåÁâπÁÇπÊòØÊï∞ÊçÆÈáèÂ∞è‰ΩÜÈ¢ëÁπÅËØªÂèñÔºåÂèØ‰ª•ÈÄâÁî®Â∞èÂûãÁöÑ MySQL Êï∞ÊçÆÂ∫ìÂπ∂Âú®ÂâçÈù¢Êû∂ËÆæ Redis Êù•ÊèêÈ´òÊü•ËØ¢ÊÄßËÉΩÔºõ</li>
<li>ÂæÆÊúçÂä°‰∏≠<strong>ËÆøÂÆ¢ÈÄöË°å</strong>‰∏é<strong>ÁîüÊ¥ªÁº¥Ë¥π</strong>ÂàÜÂà´ÂØπÂ∫îÁöÑ<strong>ÈÄöË°åËÆ∞ÂΩïÂ∫ì„ÄÅËÆ¢ÂçïÂ∫ì</strong>ÔºåÂÖ∂ÁâπÁÇπÊòØÊï∞ÊçÆÈáèÂ§ßÂπ∂‰∏îÈ´òÂπ∂ÂèëÂÜôÔºåÈÄâÁî®‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÊòæÁÑ∂Êâõ‰∏ç‰ΩèËøôÊ†∑ÁöÑÂéãÂäõÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÄâÁî®‰∫Ü TiDB ËøôÊ†∑ÁöÑ NewSQL Êï∞ÊçÆÂ∫ìËøõË°åÂàÜÂ∏ÉÂºèÂ≠òÂÇ®ÔºåÂ∞ÜÊï∞ÊçÆÂéãÂäõÂàÜÊï£Âà∞Â§ö‰∏™Êï∞ÊçÆËäÇÁÇπ‰∏≠Ôºå‰ªéËÄåËß£ÂÜ≥ I/O Áì∂È¢àÔºõ</li>
<li>ÂæÆÊúçÂä°‰∏≠<strong>Êï∞ÊçÆÂàÜÊûê</strong>‰∏é<strong>ÈÄöËÆØÂΩïÊü•ËØ¢</strong>ËøôÊ†∑ÁöÑÊü•ËØ¢ÂàÜÊûê‰∏öÂä°ÔºåÂàôÈÄâÁî® <strong>NoSQL Êï∞ÊçÆÂ∫ì</strong>Êàñ<strong>Â§ßÊï∞ÊçÆÂπ≥Âè∞</strong>ÔºåÈÄöËøáËØªÂÜôÂàÜÁ¶ªÂ∞ÜÁîü‰∫ßÂ∫ì‰∏äÁöÑÊï∞ÊçÆÂêåÊ≠•ËøáÊù•ËøõË°åÂàÜÂ∏ÉÂºèÂ≠òÂÇ®ÔºåÁÑ∂ÂêéÂÆΩË°®‰∏ÄÁ≥ªÂàóÁöÑÈ¢ÑÂ§ÑÁêÜÔºåÂ∫îÂØπÊµ∑ÈáèÂéÜÂè≤Êï∞ÊçÆÁöÑÂÜ≥Á≠ñÂàÜÊûê‰∏éÁßíÁ∫ßÊü•ËØ¢„ÄÇÔºà NoSQL ‰∏∫Á©∫ÁöÑÂ≠óÊÆµÊòØ‰∏çÂç†Áî®Á©∫Èó¥ÁöÑÔºåÂõ†Ê≠§Â≠óÊÆµÂÜçÂ§öÈÉΩ‰∏çÂΩ±ÂìçÊü•ËØ¢ÊÄßËÉΩÔºâ</li>
</ul>
</li>
</ul>
<h3 id="4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ"><a href="#4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ" class="headerlink" title="4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ"></a>4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ</h3><p>‚Äã    <strong>Ë¥´Ë°ÄÊ®°Âûã„ÄÅÂÖÖË°ÄÊ®°Âûã„ÄÅÁ≠ñÁï•Ê®°Âºè„ÄÅË£ÖÈ•∞ËÄÖÊ®°Âºè</strong>Âè™ÊòØDDDÂÆûÁé∞ÁöÑÊñπÂºèÔºåËÄåDDDÁöÑÁúüË∞õÊòØ<strong>È¢ÜÂüüÂª∫Ê®°</strong>„ÄÇ</p>
<p>‚Äã    ÂÅö‰∫ã‰∏çËÉΩ‰ªÖÂá≠‰∏ÄËÖîÁÉ≠Ë°ÄÔºå‰∏ÄÂÆöË¶ÅÁ¨¶ÂêàËá™ÁÑ∂ËßÑÂæã„ÄÇÂÖ∂ÂÆûËΩØ‰ª∂ÁöÑËÆæËÆ°ÂºÄÂèëËøáÁ®ã‰πüÊòØËøôÊ†∑„ÄÇÂØπ‰∏öÂä°ÁêÜËß£‰∏çÊ∑±ÂàªÂÖ®Â±ÄÊû∂ÊûÑËÆæËÆ°ÂæÄÂæÄÊòØËøáÂ∫¶ËÆæËÆ°ÔºåËøôÊó∂ÂÄô<strong>Â∫îËØ•Êäì‰∏ªË¶ÅÊµÅÁ®ã</strong>ÔºåÂºÄÂßãÈ¢ÜÂüüÂª∫Ê®°„ÄÇ</p>
<ul>
<li>Êé•ÁùÄÔºåÊØèÊ¨°Ê∑ªÂä†Êñ∞ÂäüËÉΩÁöÑÊó∂ÂÄôÔºå‰∏ÄÊñπÈù¢Ë¶ÅÊª°Ë∂≥ÂΩìÂâçÁöÑÈúÄÊ±ÇÔºåÂè¶‰∏ÄÊñπÈù¢‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ<strong>È¢ÜÂüüÂª∫Ê®°ËÆæËÆ°</strong>ÂàöÂàöÊª°Ë∂≥ÈúÄÊ±ÇÔºå‰ªéËÄå‰ΩøËÆæËÆ°ÊúÄÁÆÄÂåñ„ÄÅ‰ª£Á†ÅÊúÄÂ∞ë„ÄÇ</li>
<li>ËøôÊ†∑ÁöÑËÆæËÆ°ËøáÁ®ãÂè´<strong>Â∞èÊ≠•Âø´Ë∑ë</strong>„ÄÇÈááÁî®Â∞èÊ≠•Âø´Ë∑ëÁöÑËÆæËÆ°ÊñπÊ≥ïÔºå‰∏ÄÂºÄÂßã‰∏çÁî®ÊÄùËÄÉÈÇ£‰πàÂ§öÈóÆÈ¢òÔºå‰ªéÁÆÄÂçïÈóÆÈ¢òÂºÄÂßãÈÄêÊ≠•Ê∑±ÂÖ•„ÄÇ<strong>È¢ÜÂüüÊ®°Âûã</strong>Â∞±ÂÉèÂ∞èÊ†ë‰∏ÄÊ†∑‰∏ÄÁÇπÂÑø‰∏ÄÁÇπÂÑøÊàêÈïøÔºåÊúÄÂêéÂÆåÊàêÊâÄÊúâÁöÑÂäüËÉΩ„ÄÇ</li>
</ul>
<blockquote>
<p>‰øùÊåÅËΩØ‰ª∂ËÆæËÆ°‰∏çÈÄÄÂåñÁöÑÂÖ≥ÈîÆÂú®‰∫éÊØèÊ¨°ÈúÄÊ±ÇÂèòÊõ¥ÁöÑËÆæËÆ°ÔºåÂè™Êúâ‰øùËØÅÊØèÊ¨°ÈúÄÊ±ÇÂèòÊõ¥Êó∂ÂÅöÂá∫Ê≠£Á°ÆÁöÑËÆæËÆ°ÔºåÊâçËÉΩ‰øùËØÅËΩØ‰ª∂‰ª•‰∏ÄÁßçËâØÊÄßÂæ™ÁéØÁöÑÊñπÂºè‰∏çÊñ≠Áª¥Êä§‰∏ãÂéª„ÄÇ</p>
</blockquote>
<p>‚Äã    ÊúâÊ≤°Êúâ‰∏ÄÁßçÊñπÊ≥ïÔºåËÆ©Êàë‰ª¨Âú®Á¨¨ÂçÅÊ¨°ÂèòÊõ¥„ÄÅÁ¨¨‰∫åÂçÅÊ¨°ÂèòÊõ¥„ÄÅÁ¨¨‰∏âÂçÅÊ¨°ÂèòÊõ¥Êó∂Ôºå‰æùÁÑ∂ËÉΩÂ§üÊâæÂà∞Ê≠£Á°ÆÁöÑËÆæËÆ°Âë¢ÔºüÊúâÔºåÈÇ£Â∞±ÊòØ<strong>È¢ÜÂüüÈ©±Âä®ËÆæËÆ°</strong></p>
<p>‚Äã    ÈÇ£‰πàÂú®ÊØèÊ¨°ÈúÄÊ±ÇÂèòÊõ¥Êó∂ÔºåÂ∞ÜÂèòÊõ¥ËøòÂéüÂà∞ÁúüÂÆû‰∏ñÁïå‰∏≠ÔºåÁúãÁúãÁúüÂÆû‰∏ñÁïåÊòØ‰ªÄ‰πàÊ†∑Â≠êÁöÑÔºåÊ†πÊçÆÁúüÂÆû‰∏ñÁïåËøõË°åÂèòÊõ¥„ÄÇ</p>
<h3 id="5„ÄÅÊàòÁï•Âª∫Ê®°"><a href="#5„ÄÅÊàòÁï•Âª∫Ê®°" class="headerlink" title="5„ÄÅÊàòÁï•Âª∫Ê®°"></a>5„ÄÅÊàòÁï•Âª∫Ê®°</h3><p>‚Äã    <a rel=Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ href="https://tva1.sinaimg.cn/large/008i3skNly1gq6jet6kizj310c0ngtp4.jpg" title="image-20210504174616848" data-fancybox="images"><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jet6kizj310c0ngtp4.jpg" alt="image-20210504174616848" style="zoom:50%;"></a></p>
<h3 id="6„ÄÅÁõ∏ÂÖ≥ÂêçËØç"><a href="#6„ÄÅÁõ∏ÂÖ≥ÂêçËØç" class="headerlink" title="6„ÄÅÁõ∏ÂÖ≥ÂêçËØç"></a><strong>6„ÄÅÁõ∏ÂÖ≥ÂêçËØç</strong></h3><p><strong>È¢ÜÂüüÂíåÂ≠êÂüüÔºàDomain/SubdomainÔºâ</strong></p>
<p>‚Äã    Âú®<strong>‰∏ä‰∏ãÊñáÂú∞Âõæ</strong>ÊûÑÂª∫ÁöÑÈ¢ÜÂüü‰∏≠ÔºåÂØπÂ∫îÊ®°ÂùóÔºå‰ΩøÁî®<strong>ÈôêÁïå‰∏ä‰∏ãÊñá</strong>ÂàíÂàÜÈ¢ÜÂüüÔºåÂØπÂ∫îÂæÆÊúçÂä°</p>
<p><strong>ÈôêÁïå‰∏ä‰∏ãÊñáÔºàBounded ContextÔºâ</strong></p>
<p>‚Äã    Âú®‰∏Ä‰∏™È¢ÜÂüü/Â≠êÂüü‰∏≠ÔºåÊúâÊ¶ÇÂøµ‰∏äÁöÑÈ¢ÜÂüüËæπÁïåÔºå‰ªª‰Ωï<strong>È¢ÜÂüüÂØπË±°</strong>Âú®ËØ•ËæπÁïåÂÜÖÈÉ®ÁöÑÊúâ‰∏ç‰æùËµñÂ§ñÈÉ®ÁöÑÁ°ÆÂàáÂê´‰πâ„ÄÇ</p>
<p><strong>È¢ÜÂüüÂØπË±°</strong></p>
<p>‚Äã    ÊúçÂä°„ÄÅÂÆû‰Ωì‰∏éÂÄºÂØπË±°ÊòØÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÁöÑÈ¢ÜÂüüÂØπË±°ÔºåÂèØ‰ª•ÈÄöËøá<strong>Ë¥´Ë°ÄÊ®°Âûã</strong>Âíå<strong>ÂÖÖË°ÄÊ®°Âûã</strong>ËΩ¨Êç¢‰∏∫Á®ãÂ∫èËÆæËÆ°</p>
<p><strong>ÂÆû‰ΩìÂíåÂÄºÂØπË±°</strong></p>
<p>‚Äã    ÈÄöËøá‰∏Ä‰∏™<strong>ÂîØ‰∏ÄÊ†áËØÜÂ≠óÊÆµÊù•Âå∫ÂàÜ</strong>ÁúüÂÆû‰∏ñÁïå‰∏≠ÁöÑÊØè‰∏Ä‰∏™‰∏™‰ΩìÁöÑÈ¢ÜÂüüÂØπË±°ÔºåÁß∞‰∏∫ÂÆû‰Ωì„ÄÇÁúüÂÆû‰∏ñÁïå‰∏≠ÈÇ£‰∫õ<strong>‰∏ÄÊàê‰∏çÂèòÁöÑ</strong>„ÄÅÊú¨Ë¥®ÊÄßÁöÑ‰∫ãÁâ©ÁöÑÈ¢ÜÂüüÂØπË±°ÔºåÁß∞‰∏∫ÂÄºÂØπË±°„ÄÇ    <strong>ÂèØÂèòÊÄß</strong>ÊòØÂÆû‰ΩìÁöÑÁâπÁÇπÔºåËÄå<strong>‰∏çÂèòÊÄß</strong>ÂàôÊòØÂÄºÂØπË±°ÁöÑÊú¨Ë¥®„ÄÇ</p>
<p><strong>Ë¥´Ë°ÄÊ®°Âûã‰∏éÂÖÖË°ÄÊ®°Âûã</strong></p>
<p>‚Äã    POJOÂØπË±°‰∏≠Âè™‰øùÂ≠òget/setÊñπÊ≥ïÔºåÊ≤°Êúâ‰ªª‰Ωï‰∏öÂä°ÈÄªËæëÔºåËøôÊ†∑ÁöÑËÆæËÆ°Ë¢´Áß∞‰∏∫<strong>Ë¥´Ë°ÄÊ®°Âûã</strong></p>
<p>‚Äã    <strong>ÂÖÖË°ÄÊ®°Âûã</strong>ÊòØÂ∞ÅË£ÖÂíåÁªßÊâøÊÄùÊÉ≥ÁöÑ‰ΩìÁé∞ÔºåÈó®Á¶ÅËÆæÂ§áÂÆû‰Ωì‰∏≠ÔºåÂåÖÂê´ÁâπÂæÅÂÄº‰∏ãÂèë„ÄÅÂπøÂëä‰∏ãÂèë„ÄÅÈÄöË°åËÆ∞ÂΩïÂõûË∞ÉÁ≠âÊñπÊ≥ïÔºå‰∏çÂêåÂéÇÂïÜÁöÑÂÆû‰ΩìÈíàÂØπÂ§öÊÄÅËøõË°å<strong>ËÅöÂêà</strong>ÔºåÂπ∂ÈÄöËøá<strong>Â∑•ÂéÇÊàñ‰ªìÂ∫ì</strong>ÂØπÂ§ñÊèê‰æõÊúçÂä°„ÄÇÂú®ÂÖÖË°ÄÊ®°Âûã‰∏≠Ôºå Service Âè™Âπ≤‰∏Ä‰ª∂ÈùûÂ∏∏ÁÆÄÂçïÁöÑ‰∫ãÔºåÂ∞±ÊòØÁõ¥Êé•ÂéªË∞ÉÁî®ÂØπË±°‰∏≠ÁöÑ<strong>Â∑•ÂéÇÊñπÊ≥ï</strong>ÁîüÊàê‰∏çÂêå‰∫ßÂìÅÔºåÂÖ∂‰ªñÁöÑ‰ªÄ‰πàÈÉΩ‰∏çÂπ≤„ÄÇ</p>
<p><strong>ËÅöÂêà</strong></p>
<p>‚Äã    ËÅöÂêà‰ΩìÁé∞ÁöÑÊòØ‰∏ÄÁßç<strong>Êï¥‰Ωì‰∏éÈÉ®ÂàÜ</strong>ÁöÑÂÖ≥Á≥ª„ÄÇÊ≠£ÊòØÂõ†‰∏∫ÊúâËøôÊ†∑ÁöÑÂÖ≥Á≥ªÔºåÂú®Êìç‰ΩúÊï¥‰ΩìÁöÑÊó∂ÂÄôÔºåÊï¥‰ΩìÂ∞±Â∞ÅË£Ö‰∫ÜÂØπÈÉ®ÂàÜÁöÑÊìç‰Ωú„ÄÇÂ¶Ç‰ΩïÊ≠£Á°ÆÁêÜËß£ÊòØÂê¶Â≠òÂú®ËÅöÂêàÁöÑÂÖ≥Á≥ªÔºöÂ∞±ÊòØÂΩì<strong>Êï¥‰Ωì‰∏çÂ≠òÂú®</strong>Êó∂ÔºåÈÉ®ÂàÜÂ∞±ÂèòÂæó<strong>Ê≤°Êúâ‰∫ÜÊÑè‰πâ</strong>„ÄÇÈÉ®ÂàÜÊòØÊï¥‰ΩìÁöÑ‰∏Ä‰∏™ÈÉ®ÂàÜÔºå‰∏é<strong>Êï¥‰ΩìÊúâÁõ∏ÂêåÁöÑÁîüÂëΩÂë®Êúü</strong>„ÄÇ</p>
<p><strong>Â∑•ÂéÇ</strong></p>
<p><strong>ÈÄöËøáË£ÖÈÖçÔºåÂàõÂª∫È¢ÜÂüüÂØπË±°ÔºåÊòØÈ¢ÜÂüüÂØπË±°ÁîüÂëΩÂë®ÊúüÁöÑËµ∑ÁÇπ„ÄÇ</strong>Ë≠¨Â¶ÇÔºåÁ≥ªÁªüË¶ÅÈÄöËøá ID Ë£ÖËΩΩ‰∏Ä‰∏™ËÆøÂÆ¢Áî≥ËØ∑Ôºö</p>
<ol>
<li><p>Ë°®ÂçïÂ∑•ÂéÇÂàÜÂà´Ë∞ÉÁî®Ë°®Âçï‰ø°ÊÅØDAO„ÄÅË°®ÂçïÊòéÁªÜ DAO ÂíåÁî®Êà∑DAO ÂéªËøõË°åÊü•ËØ¢Ôºõ</p>
</li>
<li><p>Â∞ÜÂæóÂà∞ÁöÑË°®ÂçïÊòéÁªÜÂØπË±°„ÄÅÁî®Êà∑ÂØπË±°ËøõË°åË£ÖÈÖçÔºåÂàÜÂà´ set Âà∞<strong>Ë°®Âçï‰ø°ÊÅØÂØπË±°</strong>ÁöÑ<strong>Ë°®ÂçïÊòéÁªÜ</strong>‰∏é<strong>Áî®Êà∑Â±ûÊÄß</strong>‰∏≠Ôºõ</p>
</li>
<li>ÊúÄÂêéÔºåË°®ÂçïÂ∑•ÂéÇÂ∞ÜË£ÖÈÖçÂ•ΩÁöÑË°®ÂçïÂØπË±°ËøîÂõûÁªôË°®Âçï‰ªìÂ∫ì„ÄÇ</li>
</ol>
<p><strong>‰ªìÂ∫ì</strong></p>
<p>‚Äã    Â¶ÇÊûúÊúçÂä°Âô®ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Âº∫Â§ßÁöÑÊúçÂä°Âô®ÔºåÈÇ£‰πàÊàë‰ª¨‰∏çÈúÄË¶Å‰ªª‰ΩïÊï∞ÊçÆÂ∫ì„ÄÇÁ≥ªÁªüÂàõÂª∫ÁöÑÊâÄÊúâÈ¢ÜÂüüÂØπË±°ÈÉΩÊîæÂú®‰ªìÂ∫ì‰∏≠ÔºåÂΩìÈúÄË¶ÅËøô‰∫õÂØπË±°Êó∂ÔºåÈÄöËøá ID Âà∞‰ªìÂ∫ì‰∏≠ÂéªËé∑Âèñ„ÄÇ</p>
<ul>
<li><p>ÂΩìÂÆ¢Êà∑Á®ãÂ∫èÈÄöËøá ID ÂéªËé∑ÂèñÊüê‰∏™È¢ÜÂüüÂØπË±°Êó∂Ôºå‰ªìÂ∫ì‰ºöÈÄöËøáËøô‰∏™ ID ÂÖàÂà∞<strong>ÁºìÂ≠ò‰∏≠ËøõË°åÊü•Êâæ</strong>Ôºö</p>
</li>
<li><p>Êü•ÊâæÂà∞‰∫ÜÔºåÂàô<strong>Áõ¥Êé•ËøîÂõû</strong>Ôºå‰∏çÈúÄË¶ÅÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºõ</p>
</li>
<li><p>Ê≤°ÊúâÊâæÂà∞ÔºåÂàôÈÄöÁü•Â∑•ÂéÇÔºåÂ∑•ÂéÇË∞ÉÁî® DAO ÂéªÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢ÔºåÁÑ∂Âêé<strong>Ë£ÖÈÖçÊàêÈ¢ÜÂüüÂØπË±°ËøîÂõûÁªô‰ªìÂ∫ì</strong>„ÄÇ</p>
</li>
<li><p>‰ªìÂ∫ìÂú®Êî∂Âà∞Ëøô‰∏™È¢ÜÂüüÂØπË±°‰ª•ÂêéÔºåÂú®ËøîÂõûÁªôÂÆ¢Êà∑Á®ãÂ∫èÁöÑÂêåÊó∂ÔºåÂ∞ÜËØ•<strong>ÂØπË±°ÊîæÂà∞ÁºìÂ≠ò‰∏≠</strong></p>
</li>
</ul>

        </div>
        
<blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    ÊúÄÂæåÊõ¥Êñ∞ÊôÇÈñìÔºö<time datetime="2022-03-17T03:35:48.825Z" itemprop="dateUpdated">2022-03-17 11:35:48</time>
</span><br>


        
        ËΩ¨ËΩΩËá™Ôºö<a href="https://github.com/idaSmilence/javaDesign">https://github.com/idaSmilence/javaDesign</a>
        
    </div>
    <div class="mdui-chip" id="accost-btn">
      <span class="mdui-chip-icon mdui-color-red-a700"><i class="mdui-icon material-icons">&#xe311;</i></span>
      <span class="mdui-chip-title">Accost</span>
    </div>
    <footer>
      <div class="mdui-chip">
        <a href="https://github.com/missionOdd">
            <img src="/img/avatar.jpg" alt="Missionary">
             About Missionary
        </a>
        </div>
    </footer>
</blockquote>


        
            <div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">Ëµè</a>
</div>

            
        
        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Â§ç‰π†/">Â§ç‰π†</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ÊäÄÊúØ/">ÊäÄÊúØ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Èù¢ËØï/">Èù¢ËØï</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://github.com/missionOdd/2022/01/03/java-design/&title=„ÄäÁ≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ„Äã ‚Äî üéâ Missionary's Blog üòÜ&pic=https://github.com/missionOdd/img/avatar.jpg" data-title="ÂæÆÂçö">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="ÂæÆ‰ø°">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://github.com/missionOdd/2022/01/03/java-design/&title=„ÄäÁ≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ„Äã ‚Äî üéâ Missionary's Blog üòÜ&source=WebÂêéÁ´Ø/JavaÂú®Â≠¶/ÂçïË∫´" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
            <div class="mdui-container">
  <div class="mdui-tab" id="tab">
    <a href="#tab1-content" id="tab1" class="mdui-ripple">Ê∏∏ÂÆ¢Áî®Êà∑</a>
    <a href="#tab2-content" id="tab2" class="mdui-tab-active mdui-ripple">GitHubË¥¶Êà∑</a>
  </div>

  <div id="tab1-content" class="mdui-p-a-2">
    
      <div id="comment" style=""></div>

  </div>
  <div id="tab2-content" class="mdui-p-a-2">
    
          
    <div onclick="ShowGitment()" id="gitment-display-button" style="display: block;">
        <span>ÊòæÁ§∫ Gitment ËØÑËÆ∫</span>
    </div>
    <div id="gitment" class="hide"></div>


    
  </div>

</div>

        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2022/01/03/super-egg-drop/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">01ËÉåÂåÖÈóÆÈ¢ò | ÁúãÊáÇÈ∏°ËõãÊéâËêΩÁöÑÊú¨Ë¥® + ÊªöÂä®Êï∞ÁªÑ‰ºòÂåñ</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2021/12/14/majority-element-ii/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Ê±Ç‰ºóÊï∞II ÔºàÊë©Â∞îÊäïÁ•®Ê≥ïÔºâÁî®Á±ª‰ºº‰øÑÁΩóÊñØÊñπÂùóÊ∂àÈô§ÁöÑÊ∏∏Êàè‰æãÂ≠êËÆ≤Ëß£</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>ÁõÆÂΩï</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#‰∏Ä„ÄÅESÁØá"><span class="post-toc-number">1.</span> <span class="post-toc-text">‰∏Ä„ÄÅESÁØá</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1„ÄÅÊ¶ÇËø∞"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1„ÄÅÊ¶ÇËø∞</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÁâπÁÇπ"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">ÁâπÁÇπ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÂäüËÉΩ"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">ÂäüËÉΩ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Âú∫ÊôØ"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">Âú∫ÊôØ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Á´ûÂìÅÂàÜÊûê"><span class="post-toc-number">1.1.4.</span> <span class="post-toc-text">Á´ûÂìÅÂàÜÊûê</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÂØπÊØî"><span class="post-toc-number">1.1.5.</span> <span class="post-toc-text">ÂØπÊØî</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#IKÂàÜËØçÂô®"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">IKÂàÜËØçÂô®</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text">ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3„ÄÅÈ´òÁ∫ßÁâπÊÄß"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">3„ÄÅÈ´òÁ∫ßÁâπÊÄß</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Êò†Â∞ÑÈ´òÁ∫ß"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">Êò†Â∞ÑÈ´òÁ∫ß</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã"><span class="post-toc-number">1.3.1.1.</span> <span class="post-toc-text">Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Âä®ÊÄÅÊò†Â∞Ñ"><span class="post-toc-number">1.3.1.2.</span> <span class="post-toc-text">Âä®ÊÄÅÊò†Â∞Ñ</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#DSLÈ´òÁ∫ß"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text">DSLÈ´òÁ∫ß</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ËÅöÂêàÂàÜÊûê"><span class="post-toc-number">1.3.3.</span> <span class="post-toc-text">ËÅöÂêàÂàÜÊûê</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Êô∫ËÉΩÊêúÁ¥¢"><span class="post-toc-number">1.3.4.</span> <span class="post-toc-text">Êô∫ËÉΩÊêúÁ¥¢</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4„ÄÅÂÆûÊàò"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">4„ÄÅÂÆûÊàò</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÂÜô‰ºòÂåñ"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text">ÂÜô‰ºòÂåñ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ËØª‰ºòÂåñ"><span class="post-toc-number">1.4.2.</span> <span class="post-toc-text">ËØª‰ºòÂåñ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à"><span class="post-toc-number">1.4.3.</span> <span class="post-toc-text">Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à"><span class="post-toc-number">1.4.4.</span> <span class="post-toc-text">DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#‰∫åÔºöDocker-amp-K8SÁØá"><span class="post-toc-number">2.</span> <span class="post-toc-text">‰∫åÔºöDocker&amp;K8SÁØá</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Why-Docker"><span class="post-toc-number">2.0.1.</span> <span class="post-toc-text">Why Docker</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Ê†∏ÂøÉÊ¶ÇÂøµ"><span class="post-toc-number">2.0.2.</span> <span class="post-toc-text">Ê†∏ÂøÉÊ¶ÇÂøµ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Âü∫Êú¨Êìç‰Ωú"><span class="post-toc-number">2.0.3.</span> <span class="post-toc-text">Âü∫Êú¨Êìç‰Ωú</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÂÆûÊàò"><span class="post-toc-number">2.0.4.</span> <span class="post-toc-text">ÂÆûÊàò</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#‰∏â„ÄÅNettyÁØá"><span class="post-toc-number">3.</span> <span class="post-toc-text">‰∏â„ÄÅNettyÁØá</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Ê†∏ÂøÉÁªÑ‰ª∂"><span class="post-toc-number">3.0.1.</span> <span class="post-toc-text">Ê†∏ÂøÉÁªÑ‰ª∂</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1„ÄÅÊï¥‰ΩìÁªìÊûÑ"><span class="post-toc-number">3.0.1.1.</span> <span class="post-toc-text">1„ÄÅÊï¥‰ΩìÁªìÊûÑ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2„ÄÅÈÄªËæëÊû∂ÊûÑ"><span class="post-toc-number">3.0.1.2.</span> <span class="post-toc-text">2„ÄÅÈÄªËæëÊû∂ÊûÑ</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÁΩëÁªú‰º†Ëæì"><span class="post-toc-number">3.0.2.</span> <span class="post-toc-text">ÁΩëÁªú‰º†Ëæì</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´"><span class="post-toc-number">3.0.2.1.</span> <span class="post-toc-text">1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã"><span class="post-toc-number">3.0.2.2.</span> <span class="post-toc-text">2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò"><span class="post-toc-number">3.0.2.3.</span> <span class="post-toc-text">3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ"><span class="post-toc-number">3.0.2.4.</span> <span class="post-toc-text">4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5„ÄÅWriteAndFlush"><span class="post-toc-number">3.0.2.5.</span> <span class="post-toc-text">5„ÄÅWriteAndFlush</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÂÜÖÂ≠òÁÆ°ÁêÜ"><span class="post-toc-number">3.0.3.</span> <span class="post-toc-text">ÂÜÖÂ≠òÁÆ°ÁêÜ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò"><span class="post-toc-number">3.0.3.1.</span> <span class="post-toc-text">1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2„ÄÅÊï∞ÊçÆËΩΩ‰ΩìByteBuf"><span class="post-toc-number">3.0.3.2.</span> <span class="post-toc-text">2„ÄÅÊï∞ÊçÆËΩΩ‰ΩìByteBuf</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3„ÄÅÂÜÖÂ≠òÂàÜÈÖçjemalloc"><span class="post-toc-number">3.0.3.3.</span> <span class="post-toc-text">3„ÄÅÂÜÖÂ≠òÂàÜÈÖçjemalloc</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4„ÄÅjemalloc-Êû∂ÊûÑ"><span class="post-toc-number">3.0.3.4.</span> <span class="post-toc-text">4„ÄÅjemalloc Êû∂ÊûÑ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ"><span class="post-toc-number">3.0.3.5.</span> <span class="post-toc-text">5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ"><span class="post-toc-number">3.0.3.6.</span> <span class="post-toc-text">6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ"><span class="post-toc-number">3.0.3.7.</span> <span class="post-toc-text">7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ"><span class="post-toc-number">3.0.4.</span> <span class="post-toc-text">È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#1„ÄÅFastThreadLocal"><span class="post-toc-number">3.0.4.1.</span> <span class="post-toc-text">1„ÄÅFastThreadLocal</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2„ÄÅHashedTimerWheel"><span class="post-toc-number">3.0.4.2.</span> <span class="post-toc-text">2„ÄÅHashedTimerWheel</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3„ÄÅMpscQueue"><span class="post-toc-number">3.0.4.3.</span> <span class="post-toc-text">3„ÄÅMpscQueue</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´"><span class="post-toc-number">3.0.4.4.</span> <span class="post-toc-text">4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Âõõ„ÄÅLEETCODE"><span class="post-toc-number">4.</span> <span class="post-toc-text">Âõõ„ÄÅLEETCODE</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêPythonËØ≠Ê≥ï„Äë"><span class="post-toc-number">4.0.1.</span> <span class="post-toc-text">„ÄêPythonËØ≠Ê≥ï„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêËÉåÂåÖÊ®°Êùø„Äë"><span class="post-toc-number">4.0.2.</span> <span class="post-toc-text">„ÄêËÉåÂåÖÊ®°Êùø„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÂõûÊ∫ØÊ®°Êùø„Äë"><span class="post-toc-number">4.0.3.</span> <span class="post-toc-text">„ÄêÂõûÊ∫ØÊ®°Êùø„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë"><span class="post-toc-number">4.0.4.</span> <span class="post-toc-text">„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë"><span class="post-toc-number">4.0.5.</span> <span class="post-toc-text">„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë"><span class="post-toc-number">4.0.6.</span> <span class="post-toc-text">„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„Äê‰∫åÂàÜÊ®°Êùø„Äë"><span class="post-toc-number">4.0.7.</span> <span class="post-toc-text">„Äê‰∫åÂàÜÊ®°Êùø„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë"><span class="post-toc-number">4.0.8.</span> <span class="post-toc-text">„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#„ÄåÂçï‰∏≤ÈóÆÈ¢ò„Äç"><span class="post-toc-number">4.0.8.1.</span> <span class="post-toc-text">„ÄåÂçï‰∏≤ÈóÆÈ¢ò„Äç</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#„ÄåÂçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò„Äç"><span class="post-toc-number">4.0.8.2.</span> <span class="post-toc-text">„ÄåÂçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò„Äç</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#„ÄåÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò„Äç"><span class="post-toc-number">4.0.8.3.</span> <span class="post-toc-text">„ÄåÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò„Äç</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç"><span class="post-toc-number">4.0.8.4.</span> <span class="post-toc-text">„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç"><span class="post-toc-number">4.0.8.5.</span> <span class="post-toc-text">„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÊªëÂä®Á™óÂè£„Äë"><span class="post-toc-number">4.0.9.</span> <span class="post-toc-text">„ÄêÊªëÂä®Á™óÂè£„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÂâçÁºÄÂíå„Äë"><span class="post-toc-number">4.0.10.</span> <span class="post-toc-text">„ÄêÂâçÁºÄÂíå„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÂèåÊåáÈíà„Äë"><span class="post-toc-number">4.0.11.</span> <span class="post-toc-text">„ÄêÂèåÊåáÈíà„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë"><span class="post-toc-number">4.0.12.</span> <span class="post-toc-text">„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë"><span class="post-toc-number">4.0.13.</span> <span class="post-toc-text">„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#„ÄêÂõæËÆ∫„Äë"><span class="post-toc-number">4.0.14.</span> <span class="post-toc-text">„ÄêÂõæËÆ∫„Äë</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá"><span class="post-toc-number">5.</span> <span class="post-toc-text">‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1„ÄÅURLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ"><span class="post-toc-number">5.0.1.</span> <span class="post-toc-text">1„ÄÅURLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ"><span class="post-toc-number">5.0.2.</span> <span class="post-toc-text">2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞ÔºàbitÊï∞ÁªÑÔºâ"><span class="post-toc-number">5.0.3.</span> <span class="post-toc-text">3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞ÔºàbitÊï∞ÁªÑÔºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4„ÄÅÈáçÂ§çURLÔºàÂàÜÊú∫Âô®Ôºâ"><span class="post-toc-number">5.0.4.</span> <span class="post-toc-text">4„ÄÅÈáçÂ§çURLÔºàÂàÜÊú∫Âô®Ôºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ"><span class="post-toc-number">5.0.5.</span> <span class="post-toc-text">5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ"><span class="post-toc-number">5.0.6.</span> <span class="post-toc-text">6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ"><span class="post-toc-number">5.0.7.</span> <span class="post-toc-text">7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ"><span class="post-toc-number">5.0.8.</span> <span class="post-toc-text">8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#9„ÄÅÂú®Á∫ø-Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ"><span class="post-toc-number">5.0.9.</span> <span class="post-toc-text">9„ÄÅÂú®Á∫ø/Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ"><span class="post-toc-number">5.0.10.</span> <span class="post-toc-text">10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï"><span class="post-toc-number">5.0.11.</span> <span class="post-toc-text">11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#11„ÄÅÊâãÂÜôÂø´Êéí"><span class="post-toc-number">5.0.12.</span> <span class="post-toc-text">11„ÄÅÊâãÂÜôÂø´Êéí</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#12„ÄÅÊâãÂÜôÂΩíÂπ∂"><span class="post-toc-number">5.0.13.</span> <span class="post-toc-text">12„ÄÅÊâãÂÜôÂΩíÂπ∂</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#13„ÄÅÊâãÂÜôÂ†ÜÊéí"><span class="post-toc-number">5.0.14.</span> <span class="post-toc-text">13„ÄÅÊâãÂÜôÂ†ÜÊéí</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#14„ÄÅÊâãÂÜôÂçï‰æã"><span class="post-toc-number">5.0.15.</span> <span class="post-toc-text">14„ÄÅÊâãÂÜôÂçï‰æã</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#15„ÄÅÊâãÂÜôLRUcache"><span class="post-toc-number">5.0.16.</span> <span class="post-toc-text">15„ÄÅÊâãÂÜôLRUcache</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†"><span class="post-toc-number">5.0.17.</span> <span class="post-toc-text">16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè"><span class="post-toc-number">5.0.18.</span> <span class="post-toc-text">17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó"><span class="post-toc-number">5.0.19.</span> <span class="post-toc-text">18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC"><span class="post-toc-number">5.0.20.</span> <span class="post-toc-text">19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar"><span class="post-toc-number">5.0.21.</span> <span class="post-toc-text">20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ"><span class="post-toc-number">6.</span> <span class="post-toc-text">ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú"><span class="post-toc-number">6.1.1.</span> <span class="post-toc-text">1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã"><span class="post-toc-number">6.1.1.1.</span> <span class="post-toc-text">ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ÊñπÊ°à‰ºòÂåñËøáÁ®ã"><span class="post-toc-number">6.1.1.2.</span> <span class="post-toc-text">ÊñπÊ°à‰ºòÂåñËøáÁ®ã</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ"><span class="post-toc-number">6.1.1.3.</span> <span class="post-toc-text">ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ"><span class="post-toc-number">6.1.1.4.</span> <span class="post-toc-text">ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú"><span class="post-toc-number">6.1.1.5.</span> <span class="post-toc-text">ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò"><span class="post-toc-number">6.1.2.</span> <span class="post-toc-text">2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î"><span class="post-toc-number">6.1.3.</span> <span class="post-toc-text">3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç"><span class="post-toc-number">6.1.4.</span> <span class="post-toc-text">4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°"><span class="post-toc-number">6.1.5.</span> <span class="post-toc-text">5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû"><span class="post-toc-number">6.1.6.</span> <span class="post-toc-text">6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÊäÄÊúØÈÄâÂûã"><span class="post-toc-number">6.2.1.</span> <span class="post-toc-text">ÊäÄÊúØÈÄâÂûã</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÊñπÊ°àËÆæËÆ°"><span class="post-toc-number">6.2.2.</span> <span class="post-toc-text">ÊñπÊ°àËÆæËÆ°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü"><span class="post-toc-number">6.2.3.</span> <span class="post-toc-text">1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü"><span class="post-toc-number">6.2.4.</span> <span class="post-toc-text">2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü"><span class="post-toc-number">6.2.5.</span> <span class="post-toc-text">3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü"><span class="post-toc-number">6.2.6.</span> <span class="post-toc-text">4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç"><span class="post-toc-number">6.2.7.</span> <span class="post-toc-text">5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç"><span class="post-toc-number">6.2.8.</span> <span class="post-toc-text">6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß"><span class="post-toc-number">6.2.9.</span> <span class="post-toc-text">7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú"><span class="post-toc-number">6.2.10.</span> <span class="post-toc-text">8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú**</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó"><span class="post-toc-number">6.2.11.</span> <span class="post-toc-text">9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1„ÄÅÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì"><span class="post-toc-number">6.3.1.</span> <span class="post-toc-text">1„ÄÅÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç"><span class="post-toc-number">6.3.2.</span> <span class="post-toc-text">2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß"><span class="post-toc-number">6.3.3.</span> <span class="post-toc-text">3„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4ÔºöÊé®ÊãâÁªìÂêà"><span class="post-toc-number">6.3.4.</span> <span class="post-toc-text">4ÔºöÊé®ÊãâÁªìÂêà</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5„ÄÅÂ•ΩÂèãÊé®Ëçê"><span class="post-toc-number">6.3.5.</span> <span class="post-toc-text">5„ÄÅÂ•ΩÂèãÊé®Ëçê</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫"><span class="post-toc-number">6.4.</span> <span class="post-toc-text">Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Áâ©ËÅîÁΩëÊû∂ÊûÑ"><span class="post-toc-number">6.4.1.</span> <span class="post-toc-text">Áâ©ËÅîÁΩëÊû∂ÊûÑ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#DCMÁ≥ªÁªüÊû∂ÊûÑ"><span class="post-toc-number">6.4.1.1.</span> <span class="post-toc-text">DCMÁ≥ªÁªüÊû∂ÊûÑ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#‰∏âË¶ÅÁ¥†"><span class="post-toc-number">6.4.1.2.</span> <span class="post-toc-text">‰∏âË¶ÅÁ¥†</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#‰∫ë-Ëæπ-Á´ØÂçèÂêå"><span class="post-toc-number">6.4.1.3.</span> <span class="post-toc-text">‰∫ë / Ëæπ / Á´ØÂçèÂêå</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•"><span class="post-toc-number">6.4.1.4.</span> <span class="post-toc-text">Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Èó®ÈîÅÊé•ÂÖ•"><span class="post-toc-number">6.4.1.5.</span> <span class="post-toc-text">Èó®ÈîÅÊé•ÂÖ•</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ÂêÑÁßçÂçèËÆÆ"><span class="post-toc-number">6.4.1.6.</span> <span class="post-toc-text">ÂêÑÁßçÂçèËÆÆ</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#IOTÊµÅÈáèÊ¥™Â≥∞"><span class="post-toc-number">6.4.2.</span> <span class="post-toc-text">IOTÊµÅÈáèÊ¥™Â≥∞</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß"><span class="post-toc-number">6.4.3.</span> <span class="post-toc-text">Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#‰∫ßÂìÅÁöÑËÉåÊôØ"><span class="post-toc-number">6.4.3.1.</span> <span class="post-toc-text">‰∫ßÂìÅÁöÑËÉåÊôØ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Èù¢‰∏¥ÁöÑÊåëÊàò"><span class="post-toc-number">6.4.3.2.</span> <span class="post-toc-text">Èù¢‰∏¥ÁöÑÊåëÊàò</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ÂçèËÆÆÁöÑÊØîËæÉ"><span class="post-toc-number">6.4.3.3.</span> <span class="post-toc-text">ÂçèËÆÆÁöÑÊØîËæÉ</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Êï¥‰ΩìÊµÅÁ®ã"><span class="post-toc-number">6.4.3.4.</span> <span class="post-toc-text">Êï¥‰ΩìÊµÅÁ®ã</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Áõ¥Êí≠ÊµÅÁ®ã"><span class="post-toc-number">6.4.3.5.</span> <span class="post-toc-text">Áõ¥Êí≠ÊµÅÁ®ã</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Êí≠ÊîæÊµÅÁ®ã"><span class="post-toc-number">6.4.3.6.</span> <span class="post-toc-text">Êí≠ÊîæÊµÅÁ®ã</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à"><span class="post-toc-number">6.4.4.</span> <span class="post-toc-text">Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à"><span class="post-toc-number">6.4.5.</span> <span class="post-toc-text">ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï"><span class="post-toc-number">6.4.6.</span> <span class="post-toc-text">ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°"><span class="post-toc-number">7.</span> <span class="post-toc-text">‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß"><span class="post-toc-number">7.3.</span> <span class="post-toc-text">3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•"><span class="post-toc-number">7.4.</span> <span class="post-toc-text">4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°"><span class="post-toc-number">7.5.</span> <span class="post-toc-text">5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞"><span class="post-toc-number">7.6.</span> <span class="post-toc-text">6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7„ÄÅÁ≥ªÁªüËÆæËÆ°-ÂæÆËΩØ"><span class="post-toc-number">7.7.</span> <span class="post-toc-text">7„ÄÅÁ≥ªÁªüËÆæËÆ° - ÂæÆËΩØ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ"><span class="post-toc-number">7.7.1.</span> <span class="post-toc-text">1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2„ÄÅÈ°∂Â±ÇËÆæËÆ°"><span class="post-toc-number">7.7.2.</span> <span class="post-toc-text">2„ÄÅÈ°∂Â±ÇËÆæËÆ°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á"><span class="post-toc-number">7.7.3.</span> <span class="post-toc-text">3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®"><span class="post-toc-number">7.7.4.</span> <span class="post-toc-text">4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö"><span class="post-toc-number">7.8.</span> <span class="post-toc-text">7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞"><span class="post-toc-number">8.</span> <span class="post-toc-text">ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°"><span class="post-toc-number">8.0.1.</span> <span class="post-toc-text">1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°"><span class="post-toc-number">8.0.2.</span> <span class="post-toc-text">2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞"><span class="post-toc-number">8.0.3.</span> <span class="post-toc-text">3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ"><span class="post-toc-number">8.0.4.</span> <span class="post-toc-text">4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5„ÄÅÊàòÁï•Âª∫Ê®°"><span class="post-toc-number">8.0.5.</span> <span class="post-toc-text">5„ÄÅÊàòÁï•Âª∫Ê®°</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6„ÄÅÁõ∏ÂÖ≥ÂêçËØç"><span class="post-toc-number">8.0.6.</span> <span class="post-toc-text">6„ÄÅÁõ∏ÂÖ≥ÂêçËØç</span></a></li></ol></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    

</article>

    <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        Êàë‰ª¨‰∏ÄËµ∑Êù•ËÆ©Ëøô‰∏™‰∏ñÁïåÊúâË∂£‰∏ÄÁÇπ
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/reward-wechat.jpg" alt="ÊâìËµè‰∫åÁª¥Á†Å">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">ÂæÆ‰ø°</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">ÊîØ‰ªòÂÆù</span>
            </div>
        </label>
        
    </div>
</div>

    

</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>LinksÔºö</span>
    
    <span class="blogroll-item">
        <a href="https://github.com/missionOdd" target="_blank">HOME</a>
    </span>
    
</p>

        
    </div>
    
    <div class="mdui-bottom-nav">
  <a href="javascript:;" class="mdui-ripple mdui-bottom-nav-active">
    <i class="mdui-icon material-icons">history</i>
    <label>Recents</label>
  </a>
  <a href="javascript:;" class="mdui-ripple">
    <i class="mdui-icon material-icons">favorite</i>
    <label>Favorites</label>
  </a>
  <a href="javascript:;" class="mdui-ripple">
    <i class="mdui-icon material-icons">&#xe80e;</i>
    <label>Hot</label>
  </a>

</div>
    <div class="bottom">
        <p>
            <span>
                Missionary &copy; 2018 - 2022
            </span>
           	
           	<span>
           		<a href="http://www.miitbeian.gov.cn/" target="_blank">Á≤§ICPÂ§á19008953Âè∑</a>
           	</span>
           	

            

            <span>
	            Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/codefine/hexo-theme-mellow" target="_blank">mellow</a>
            </span>
            

            
            <span>
	            Hosted by <a href="https://coding.net/pages" target="_blank">Coding Pages</a>
            </span>
            


        </p>
        <p>
          
              
<span class="site-uv" title="ÊÄªËÆøÂÆ¢Èáè">
    <i class="icon icon-user"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>


<span class="site-pv" title="ÊÄªËÆøÈóÆÈáè">
    <i class="icon icon-eye"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>


          
          <span id="timeDate">ËΩΩÂÖ•Â§©Êï∞...</span><span id="times">ËΩΩÂÖ•Êó∂ÂàÜÁßí...</span>
          <script>
              var now = new Date();
              function createtime() {
                  var grt= new Date("09/15/2018 12:49:00");//Ê≠§Â§Ñ‰øÆÊîπ‰Ω†ÁöÑÂª∫Á´ôÊó∂Èó¥ÊàñËÄÖÁΩëÁ´ô‰∏äÁ∫øÊó∂Èó¥
                  now.setTime(now.getTime()+250);
                  days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
                  hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
                  if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
                  mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
                  seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
                  snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
                  document.getElementById("timeDate").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å "+dnum+" Â§© ";
                  document.getElementById("times").innerHTML = hnum + " Â∞èÊó∂ " + mnum + " ÂàÜ " + snum + " Áßí";
              }
          setInterval("createtime()",250);
          </script>
        </p>
    </div>

</footer>

    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light mdui-ripple"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://github.com/missionOdd/2022/01/03/java-design/&title=„ÄäÁ≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ„Äã ‚Äî üéâ Missionary's Blog üòÜ&pic=https://github.com/missionOdd/img/avatar.jpg" data-title="ÂæÆÂçö">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="ÂæÆ‰ø°">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://github.com/missionOdd/2022/01/03/java-design/&title=„ÄäÁ≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ„Äã ‚Äî üéâ Missionary's Blog üòÜ&source=WebÂêéÁ´Ø/JavaÂú®Â≠¶/ÂçïË∫´" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>Êâ´‰∏ÄÊâ´ÔºåÂàÜ‰∫´Âà∞ÂæÆ‰ø°</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACLElEQVR42u3a0U7DMAwF0P3/T4PEExKs3Ot0E01PniaY2pwgGTv24xGvj6/1/XO+fj4hefLjFQsDA+OyjNkmjr9z/Jxnv22PDAMD426MNhQeh8Vko8mRJXvDwMDAaANukuphYGBgvDrg5snc8VswMDAwWkYSBNeTxRnp5FocAwPjgoxZY+A9n1/e38DAwPj3jFkzMnna7L3DXWFgYGzNOE7UktKxBedlcJ2AYmBg3IAxW0kqudJaKJJFDAyMrRnJi1fGLNoGwyxkY2Bg7M3Ir+mT1mbSmFwZuaj/DhgYGBdnrAxyRQMQy2+JdoKBgbE1o03X8oK2DaDt+MUvB4eBgbE1Y9aMXEn1cnAbsjEwMHZl5Alfeyp5Qpm/HQMD426MojU4CoXFqMRo7AMDA+MOjLxoTFK3WTtz/eAwMDD2ZrThbDa2lZey+Vui/xsYGBgbMdor+zxcJtd5s8bnH1U4BgbGpoyVMLoyQtH+/Jc9YGBgbM04DrJtwF0ZGhsmhcmXMDAwLs5oQ+1ZW2zHvIqbQgwMjE0ZK5f7K9dzbRPi6U4wMDC2ZiQXW8ePmI1Z/BFA46YmBgbGHRgf5ZqVsithNyloMTAw9macEK3LS7q2hG4H1DAwMHZl5Gnfe0Y0ZoEeAwPjDoy2uXhCFD+rCsfAwMAo07V2FGM2IoaBgYHRzjDk4TJvT9ZXeBgYGDdgtO3JWXjNj6AeEcPAwNia0RaQwyLz1A7GEIOBgXE9xidS5mqYV0mP2gAAAABJRU5ErkJggg==" alt="ÂæÆ‰ø°ÂàÜ‰∫´‰∫åÁª¥Á†Å">
</div>



    
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
   <script type="text/javascript" src="//cdnjs.cat.net/ajax/libs/animejs/2.2.0/anime.min.js"></script>
   <script type="text/javascript" src="/js/plugins/fireworks.js?v=1.4.4"></script>


    <!-- main-js -->
<script type="text/javascript" src="//cdnjs.cat.net/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.4.4"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.4.4"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.js"></script>

<script type="text/javascript" src="//cdnjs.cat.net/ajax/libs/node-waves/0.7.4/waves.min.js"></script>

<script type="text/javascript" src="/js/method.js?v=1.4.4"></script>
<script type="text/javascript" src="/js/blog.js?v=1.4.4"></script>

<!-- third-party -->




<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?18b812f3375b09bd66be7e3a46d7cc2d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<script type="text/javascript" src="/js/plugins/local_search.js?v=1.4.4"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    
        <script type="text/javascript" src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script type="text/javascript" src="/js/plugins/valine.js?v=1.4.4"></script>

    
    
        <script type="text/javascript" src="/js/plugins/gitmint.browser.js?v=1.4.4"></script>
<script type="text/javascript" src="/js/plugins/gitment.js?v=1.4.4"></script>
    





    <!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdnjs.cat.net/ajax/libs/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>




    <script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'Á≠â‰Ω†ÂõûÊù•ÔºÅ';
                clearTimeout(titleTime);
            } else {
                document.title = '(„Å§„Çß‚äÇ)Ê¨¢Ëøé!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>




    <script type="text/javascript">
  daovoice('init', {
    app_id: "8997440a"
  });
  daovoice('update');
</script>


    <script src="//cdnjs.cat.net/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script type="text/javascript" src="/js/custom.js?v=1.4.4"></script>
<script src="//cdnjs.loli.net/ajax/libs/mdui/0.4.1/js/mdui.min.js"></script>
<script src="//cdnjs.cat.net/ajax/libs/photoswipe/4.1.2/photoswipe.min.js"></script>
<script src="//cdnjs.cat.net/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js"></script>

<script type="text/javascript">
jQuery.noConflict();     //Â∞ÜÂèòÈáè$ÁöÑÊéßÂà∂ÊùÉËÆ©Ê∏°
</script>
<script type="text/javascript" color="213,0,0" opacity='0.7' zIndex="-2" count="20" src="//cdnjs.cat.net/ajax/libs/canvas-nest.js/1.0.1/canvas-nest.min.js"></script>
<!-- <script type="text/javascript">

jQuery(function($){


});
</script> -->

</body>
</html>
