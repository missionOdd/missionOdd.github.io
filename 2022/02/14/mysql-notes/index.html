<!DOCTYPE html>
<html>
<!--
„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ  „ÄÄ„ÄÄ„ÄÄ/„ÉΩ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ/„ÉΩ
„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ „ÄÄ„ÄÄ „ÄÄ„ÄÄ/ „ÄÄ„ÉΩ„ÄÄ„ÄÄ„ÄÄ „ÄÄ / „ÄÄ„ÉΩ
„ÄÄ   „ÄÄÔºøÔºøÔºøÔºøÔºøÔºø / „ÄÄ „ÄÄ „ÉΩÔºøÔºø/„ÄÄ „ÄÄ „ÄÄ„ÉΩ
„ÄÄ   „ÄÄ|„ÄÄÔºøÔºøÔºøÔºøÔºè„ÄÄ„ÄÄ„ÄÄ „ÄÄ „ÄÄ „ÄÄ„ÄÄ   :::::::::Ôºº
  „ÄÄ„ÄÄ| |„ÄÄ„ÄÄ„ÄÄ„ÄÄ / Ôºè„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄÔºº „ÄÄ „ÄÄ::::::::::::|
„ÄÄ „ÄÄ| |„ÄÄQQ„ÄÄ„ÄÄ„ÄÄ| Ôºà ‚óèÔºâ„ÄÄ„ÄÄ„ÄÄ Ôºà‚óèÔºâ  „ÄÄ ::::::::::::|
„ÄÄ„ÄÄ| |191965461 |„ÄÄ „ÄÄ„ÄÄ„ÄÄ „ÄÄ„ÄÄ„ÄÄ„ÄÄ  „ÄÄ:::::::::::::|    Êú¨‰∫∫‰∏Ä‰ª£Á†ÅËèúÈÄº
„ÄÄ„ÄÄ| |„ÄÄ„ÄÄ„ÄÄ„ÄÄ „ÄÄ|„ÄÄ „ÄÄÔºà__‰∫∫__‰∏ø   „ÄÄ.....:::::::::::::/   1998Áîü
   | |ÔºøÔºøÔºøÔºø„ÄÄ„ÉΩ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ    .....::::::::::::::::::::<    ÂÆÖ
„ÄÄ ‚îîÔºøÔºøÔºøÔºèÔø£Ôø£„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ    „ÄÄ:::::::::::::::::::::::::|  Ê¨¢ËøéÂãæÊê≠
„ÄÄ„ÄÄ|Ôºº„ÄÄ„ÄÄ„ÄÄ |„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ„ÄÄ:::::::::::::::::::::|
„ÄÄ„ÄÄÔºº Ôºº„ÄÄ„ÄÄÔººÔºøÔºøÔºø„ÄÄ„ÄÄ„ÄÄ„ÄÄ „ÄÄ„ÄÄ ::::::::::::::::::::::::|

-->
<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    
    
    <title>MYSQL| MYSQL‰ºòÂåñÊÄùË∑Ø+Áü•ËØÜÁÇπÊ¢≥ÁêÜ | üéâ Missionary&#39;s Blog üòÜ | Missionary ‰∏≠ÂõΩ üëã</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="ÊäÄÊúØ,ÂéüÁêÜ,MYSQL,‰ºòÂåñ">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.css">
    <link rel="stylesheet" href="/css/style.css?v=1.4.4">

    
        <link rel="stylesheet" href="/css/third-party/gitment.css?v=1.4.4">
    
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":false,"app_id":"7yVfPXhFH02yrjkOWJ2agpo6-gzGzoHsz","app_key":"CGsuOukhiIkc4nE75fKtUtXy","icon":true}'),
            v: JSON.parse('{"enable":true,"appid":"7yVfPXhFH02yrjkOWJ2agpo6-gzGzoHsz","appkey":"CGsuOukhiIkc4nE75fKtUtXy","notify":true,"verify":true,"placeholder":"give me some sugers plz...","avatar":"wavatar","highlight":true}'),
            g: JSON.parse('{"enable":true,"lazy":true,"owner":"missionOdd","repo":"FAQ","oauth":{"client_id":"3dffefee0452a0a23205","client_secret":"1b1394230850e312a0a178bdd41c4e70893d759f"},"perPage":6}'),
            d: JSON.parse('{"app_id":"8997440a"}')
        };
    </script>
    <script type="text/javascript">
        window.lazyScripts=[];
    </script>
    
        <script type="text/javascript" src="/js/plugins/daovoice.js?v=1.4.4"></script>
    

<link rel="alternate" href="/atom.xml" title="üéâ Missionary's Blog üòÜ" type="application/atom+xml">
</head>

<script src="//cdnjs.cat.net/ajax/libs/pace/1.0.2/pace.min.js"></script>
<link href="//cdnjs.cat.net/ajax/libs/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<link rel="stylesheet" href="//cdnjs.loli.net/ajax/libs/mdui/0.4.1/css/mdui.min.css">
<link rel="stylesheet"  href="//cdnjs.cat.net/ajax/libs/animate.css/3.5.2/animate.min.css">
<link rel="stylesheet" href="/css/custom.css?v=1.4.4">
<link href="//cdnjs.cat.net/ajax/libs/photoswipe/4.1.2/photoswipe.css" rel="stylesheet">
<link href="//cdnjs.cat.net/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.css" rel="stylesheet">

<body>
    <div id="loading" class="active mdui-progress">
  <div class="mdui-progress-determinate"></div>
</div>

    <aside id="menu" class="">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      
      <img src="/img/brand.jpg" class="brand-bg">
      
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light rubberBand ">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Missionary</h5>
          <a href="mailto:z1165996866@hotmail.com" title="z1165996866@hotmail.com" class="mail">
            
              <span>z</span>
            
              <span>1</span>
            
              <span>1</span>
            
              <span>6</span>
            
              <span>5</span>
            
              <span>9</span>
            
              <span>9</span>
            
              <span>6</span>
            
              <span>8</span>
            
              <span>6</span>
            
              <span>6</span>
            
              <span>@</span>
            
              <span>h</span>
            
              <span>o</span>
            
              <span>t</span>
            
              <span>m</span>
            
              <span>a</span>
            
              <span>i</span>
            
              <span>l</span>
            
              <span>.</span>
            
              <span>c</span>
            
              <span>o</span>
            
              <span>m</span>
            
          </a>
          <a href="/atom.xml" rel="alternate" class="mdui-btn mdui-btn-dense mdui-color-theme-accent mdui-ripple">
              <i class="fa fa-rss"></i>
              RSSËÆ¢ÈòÖ
            </a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://github.com/missionOdd" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
              <li>
                <a href="https://leetcode-cn.com/u/missionary" target="_blank">
                  <i class="icon icon-lg icon-gg-circle"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="">
              <a href="/" >
                <i class="icon icon-lg icon-home"></i>
                HOME
              </a>
            </li>
        
            <li class="">
              <a href="/photos" >
                <i class="icon icon-lg icon-camera"></i>
                PHOTOS
              </a>
            </li>
        
            <li class="">
              <a href="/books" >
                <i class="icon icon-lg icon-book"></i>
                BOOKS
              </a>
            </li>
        
            <li class="">
              <a href="/categories" >
                <i class="icon icon-lg icon-th-list"></i>
                CATEGORIES
              </a>
            </li>
        
            <li class="">
              <a href="/tags" >
                <i class="icon icon-lg icon-tags"></i>
                TAGS
              </a>
            </li>
        
            <li class="">
              <a href="/archives" >
                <i class="icon icon-lg icon-archives"></i>
                ARCHIVES
              </a>
            </li>
        
            <li class="">
              <a href="/about" >
                <i class="icon icon-lg icon-user"></i>
                ABOUT
              </a>
            </li>
        
            <li class="">
              <a href="https://github.com/missionOdd" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                GITHUB
              </a>
            </li>
        
            <li class="">
              <a href="https://leetcode-cn.com/u/missionary/" target="_blank">
                <i class="icon icon-lg icon-gg-circle"></i>
                LEETCODE
              </a>
            </li>
        
            <li class="">
              <a href="http://weibo.com/missionodd" target="_blank">
                <i class="icon icon-lg icon-weibo"></i>
                WEIBO
              </a>
            </li>
        
            <li class="">
              <a href="/custom" >
                <i class="icon icon-lg icon-plus-square"></i>
                LINKS
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>MYSQL| MYSQL‰ºòÂåñÊÄùË∑Ø+Áü•ËØÜÁÇπÊ¢≥ÁêÜ</span>
            
        </div>
        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">
    <img src="/img/banner.jpg" class="header-bg">
    <div class="container fade-scale">
        <h1 class="title animated tada delay-5s">MYSQL| MYSQL‰ºòÂåñÊÄùË∑Ø+Áü•ËØÜÁÇπÊ¢≥ÁêÜ</h1>
        <h5 class="subtitle animated swing delay-5s">
            
                <time datetime="2022-02-14T05:50:37.000Z" itemprop="datePublished" class="page-time">
  2022-02-14
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ÊäÄÊúØ/">ÊäÄÊúØ</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ÊäÄÊúØ/‰∏≠Èó¥‰ª∂/">‰∏≠Èó¥‰ª∂</a></li></ul></li></ul>


            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>



<div class="container body-wrap">
    <article id="post-mysql-notes"
  class="post-article article-type-post" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">MYSQL| MYSQL‰ºòÂåñÊÄùË∑Ø+Áü•ËØÜÁÇπÊ¢≥ÁêÜ</h1>
        <div class="post-meta">
          
            <time class="post-time" title="2022-02-14 13:50:37" datetime="2022-02-14T05:50:37.000Z"  itemprop="datePublished">2022-02-14</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ÊäÄÊúØ/">ÊäÄÊúØ</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ÊäÄÊúØ/‰∏≠Èó¥‰ª∂/">‰∏≠Èó¥‰ª∂</a></li></ul></li></ul>



            

            
<span class="post-comments-counter" id="/2022/02/14/mysql-notes/">
    <span class="post-meta-item-icon">
        <i class="icon icon-comment-o"></i>
    </span>
    
    <a href="/2022/02/14/mysql-notes/#gitment-display-button" onclick="ShowGitment()">
        <span class="post-comments-count gitment-comments-count" itemprop="commentsCount"></span>
    </a>
</span>



    <span class="leancloud-comment">
        <i class="icon icon-comment-o"></i>
        <a href="/2022/02/14/mysql-notes/#comment">
            <span class="valine-comment-count" data-xid="/2022/02/14/mysql-notes/"></span>
        </a>
    </span>


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            
            <h1 id="ÂâçË®Ä"><a href="#ÂâçË®Ä" class="headerlink" title="ÂâçË®Ä"></a>ÂâçË®Ä</h1><p>Â§öÊï∞Êù•Ëá™ÁéãÊ†°ÈïøMYSQLÁ≥ªÂàó<br>Á¨îËÆ∞‰ºòÁÇπÔºö‰ªéË∞É‰ºòËßíÂ∫¶ÂéªÊåñÁü•ËØÜ</p>
<h2 id="Á¥¢Âºï"><a href="#Á¥¢Âºï" class="headerlink" title="Á¥¢Âºï"></a>Á¥¢Âºï</h2><p>Ë∞É‰ºò‰∏∫‰∏ªÁ∫øÔºåËøõË°åË¥ØÁ©øÔºåÂÜçÂºïÁî≥„ÄÇ<br>‰ªémysqlÂàùÊúüËÆæËÆ°Ë°®ÂºÄÂßãËÄÉËôëË∞É‰ºòÔºå<strong>ÊéßÂà∂ÂçïË°åÊï∞ÊçÆÁöÑÂ§ßÂ∞è</strong>„ÄÇ<br>‰∏çËÉΩÂÉèÂàùÂ≠¶ËÄÖÔºåÁõ¥Êé•Êù•‰∏Ä‰∏™varchar(255)ÔºåËøá‰∫éÊµ™Ë¥πÁ©∫Èó¥„ÄÇ<br>varchar‰∏çÂÉècharÂÆöÈïøÔºåÂÆÉÈ¶ñÂÖàÈ¢ùÂ§ñÂ≠òÂÇ®1Êàñ2Â≠óËäÇÁöÑÈïøÂ∫¶ÔºåÂÜçÂ≠òÂÇ®‰∏Ä‰∏™ÂèòÈïøÁöÑÊï∞ÊçÆ„ÄÇ<br>Â≠òÂÇ®Â∞±‰∏çÂæó‰∏çËÆ≤B+Ê†ë„ÄÇ</p>
<p><strong>B+Ê†ëÊòØmysqlÁ¥¢ÂºïÊï∞ÊçÆÁöÑÂ≠òÂÇ®Êï∞ÊçÆÁªìÊûÑ</strong>„ÄÇ<br>ÂÖà‰ª•<strong>ËÅöÁ∞áÁ¥¢Âºï</strong>‰∏∫‰æãÔºå‰ª•‰∏ªÈîÆËøõË°åÁ¥¢ÂºïÊ†ëÔºåÈùûÂè∂Â≠êÂ≠òÂÇ®Á¥¢ÂºïÔºåÂè∂Â≠êÂ≠òÂÇ®Êï¥Ë°åÁöÑÊï∞ÊçÆÔºåÊØîÂ¶ÇbigintÁ±ªÂûãËá™Â¢ûÔºåÈô§‰∫ÜÂ≠òÂÇ®Êú¨Ë∫´8Â≠óËäÇÊï¥ÂûãÔºåËøòÂä†‰∏ä‰∏Ä‰∏™6Â≠óËäÇÁöÑÂêë‰∏ãÊåáÈíàÔºåÂØπ‰∫ébigintÁ±ªÂûã‰∏ªÈîÆÔºåÈùûÂè∂Â≠êËäÇÁÇπÁöÑÊØè‰∏ÄÊù°Êï∞ÊçÆÈúÄË¶ÅËá≥Â∞ëÂç†Áî®14Â≠óËäÇÔºåÔºàtipsÔºöB-ÊòØÂºÄÂå∫Èó¥ÔºâÊØîÂ¶ÇÔºåID 1ÔºåÁúüÊ≠£ÁöÑËäÇÁÇπÂ≠òÂÇ®Ê†ºÂºè80 00 00 01ÔºåID 3 ‰∏∫80 00 00 03ÔºåËøôÊòØ8Â≠óËäÇÔºåÊåáÈíàÊù•ËØ¥ÔºåÊòØ6Â≠óËäÇ„ÄÇÊ†πËäÇÁÇπÊòØ16kbÁöÑÂÜÖÂ≠òÈ°µÔºå16kb*1024/14Á∫¶Á≠â‰∫é1170Á¥¢ÂºïÊï∞ÊçÆÔºåÁ¨¨‰∫åÂ±ÇÊúâ1170ËäÇÁÇπÔºåÊØè‰∏™ËäÇÁÇπÊúâ1170‰∏™ID+ÊåáÈíàÔºåÈÇ£‰πàÔºåÁ¨¨‰∏âÂ±ÇÂ∞±ÊòØ1170^2ÔºåÂ§ßÊ¶Ç1Áôæ‰∏áÂè∂Â≠êËäÇÁÇπÔºåÂè∂Â≠êËäÇÁÇπÂ≠òÂÇ®ÁöÑÊòØÊâÄÊúâÊï∞ÊçÆ„ÄÇ<br>ÈÇ£‰πàÔºåÂ¶ÇÊûú1Êù°mysqlÊï∞ÊçÆÔºåÊ≤°ÊúâÂ•ΩÂ•ΩËßÑÂàíÂÆÉÁöÑÂ§ßÂ∞è„ÄÇÂ¶ÇÊûú1Ë°åÊúâ16kbÔºåÈÇ£‰πàmysqlÂè™ËÉΩÂ≠òÂÇ®1Áôæ‰∏áÊù°Êï∞ÊçÆÔºåÂ∞±ÊòØ1‰∏™ÂÜÖÂ≠òÈ°µÂè™Êúâ1Ë°åÊï∞ÊçÆÔºåËøôÊòØÈùûÂ∏∏ÊÅêÊÄñ„ÄÇÂ¶ÇÊûúÊòØ1Ë°å1kb ÔºåÈÇ£‰πàÔºå1‰∏™ÂÜÖÂ≠òÈ°µÂ≠òÂÇ®16Ë°åÔºåÈÇ£‰πàÔºå1ÁôæÂ§ö‰∏á‰πò16ÔºåÂèØ‰ª•Â≠òÂÇ®1ÂçÉ6Áôæ‰∏áÔºåÂ∑Æ‰∏çÂ§ö2ÂçÉ‰∏áÊù°Êï∞ÊçÆ„ÄÇ</p>
<p>ËøôÈáåÔºå3Â±ÇB+Ê†ëÂá∫Áé∞‰∏Ä‰∏™3Ê¨°IOÁ¥¢Âºï„ÄÇÊØèÊ¨°IOÁ¥¢ÂºïÊó∂Èó¥Â§çÊùÇÂ∫¶O(logn)ÂÖ∂ÂÆûÂ∞±ÊòØÁî®‰∫Ü‰∫åÂàÜÊü•ÊâæÔºåËøôÊòØB+Ê†ëÊü•ËØ¢Âø´ÁöÑÂéüÂõ†‰πã‰∏Ä„ÄÇÂàöÂàöËÆ≤Âà∞ÔºåÊúâ‰∏Ä‰∏™ÂÜÖÂ≠òÈ°µ1Ë°åÊï∞ÊçÆÁöÑIOÔºåËøôÊü•ÊïàÁéáÊòØÁõ∏ÂØπÊÖ¢ÔºåËøôÂ∞±Ê∂âÂèäÂà∞Âä†ËΩΩÂÜÖÂ≠òÈ°µÁöÑÈóÆÈ¢òÔºå16kbÂÜÖÂ≠òÈ°µÂä†ËΩΩÂá∫Êù•ÔºåËøôÁÆó1Ê¨°IO„ÄÇÈ¶ñÂÖàÔºå‰∏ÄÂ±Ç16kbÂÜÖÂ≠òÈ°µÂä†ËΩΩÂÆåÊàêÂêéÔºåÂÜçËøõË°å‰∫åÂàÜÊü•ÊâæÔºåÂÆö‰ΩçIDËåÉÂõ¥ÔºåÁÑ∂ÂêéÊåáÂêë‰∫åÂ±ÇÔºåÊ≠§Êó∂ÔºåÂèàË¶ÅÂä†ËΩΩ16kbÂÜÖÂ≠òÈ°µÔºåÂú®ËøôÈáåËæπÔºåÂèàË¶ÅÂÆö‰ΩçIDËåÉÂõ¥ÂéªÂä†ËΩΩÁ¨¨‰∏âÂ±ÇÔºå‰∏âÂ±ÇÂèàË¶ÅÂä†ËΩΩ16kbÂÜÖÂ≠òÈ°µÔºåÂÜç‰∫åÂàÜÊü•ÊâæÊúÄÁªàÂÆö‰ΩçÊï∞ÊçÆ„ÄÇÂΩìÁÑ∂Ôºå1Âíå2Â±Ç‰∏ÄËà¨ÂõûÁºìÂ≠òÈ¢ÑÁÉ≠ÔºåÂáèÂ∞ëÊü•ËØ¢IO„ÄÇ‰ΩÜÊòØÔºåÂ¶ÇÊûú1Ë°å16kbÔºåÊü•ËØ¢Â§öË°åÔºåIOÊ¨°Êï∞‰æùÁÑ∂ËæÉÂ§ß„ÄÇ<br>ÊéßÂà∂1Ë°åÊï∞ÊçÆÂ§ßÂ∞èÔºåËøôÂ∞±ÊòØB+Ê†ëÁöÑ<strong>È´òÊâáÂá∫ÊÄß</strong>„ÄÇ</p>
<p>‰∏∫‰ªÄ‰πà‰∏çÁî®‰∫åÂèâÊ†ëÔºü‰∏çÁî®hashË°®ÔºüBÊ†ë‰πü‰∏çÊÄé‰πàÁî®Ôºü<br>BÊ†ëÔºå<strong>ÊØè‰∏Ä‰∏™ËäÇÁÇπÈÉΩË¶ÅÂ≠òÂÇ®Êï∞ÊçÆ</strong>„ÄÇ‰ªéÊ†πËäÇÁÇπÂºÄÂßãÂ≠òÂÇ®Êï∞ÊçÆÔºåËøôÊó∂ÂÄôÔºåÂ¶ÇÊûú1kbÊï∞ÊçÆÔºåÊúÄÂ§ö15Êù°ÔºåÂÜçÂä†‰∏ä16ÊåáÈíàÔºåÊåáÂêë16‰∏™‰∫åÂ±ÇËäÇÁÇπÔºå‰∫åÂ±ÇËäÇÁÇπÂèà16‰∏™ÊåáÈíàÔºå‰∏âÂ±ÇÂ∞±Â§ßÊ¶ÇÊòØ16ÁöÑÂπ≥ÊñπÔºå369‰∏™Âè∂Â≠ê„ÄÇ‰∏âÂ±ÇBÊ†ëÔºåÊíëÊ≠ªÂ∞±Ëøô‰πàÂ§ö„ÄÇÂ¶ÇÊûú2ÂçÉ‰∏áÊù°Êï∞ÊçÆÔºåÈÇ£‰πàmysql‰∏ÄÁõ¥IOÂÜÖÂ≠òÈ°µÔºåÂÜç‰∫åÂàÜÊü•ÊâæÔºåÈùûÂ∏∏Ë¶ÅÂëΩ„ÄÇ<br>‰∫åÂèâÊ†ëÂë¢ÔºåÂéüÂõ†‰∏ÄÊ†∑„ÄÇBÊ†ëËµ∑Á†ÅÊòØ‰∏™Â§öÂèâÊ†ëÔºåËøò‰∏çÂ¶ÇBÊ†ë„ÄÇ<br>ÈÇ£HashMapÂë¢ÔºåÂú®‰∏çÂÜ≤Á™ÅÊÉÖÂÜµÊòØO(1)ÔºåËÄåÊ†ëÁöÑÁ¥¢ÂºïÔºåÊü•ËØ¢ÊòØO(logn)„ÄÇ‰∏∫‰ªÄ‰πà‰∏çÁî®hashË°®Ôºü<br>Á¨¨‰∏ÄÁÇπÔºå<strong>‰∏çÊîØÊåÅÊ®°Á≥äÊü•ËØ¢</strong>Ôºå‰πüÊ≤°ÊúâÊúÄÂ∑¶ÂåπÈÖçÂéüÂàô<br>Á¨¨‰∫åÁÇπÔºå<strong>‰∏çÊîØÊåÅËåÉÂõ¥Êü•ËØ¢</strong>Ôºå‰∏Ä‰∏™‰∏™Á¶ªÊï£hashÔºåÂ§™ÊÅêÊÄñ‰∫Ü„ÄÇ<br>Á¨¨‰∏âÁÇπÔºåhashÂÜ≤Á™Å‰∏çÂèØÈÅøÂÖç„ÄÇ</p>
<p>‰∏∫‰ªÄ‰πà‰∏çÁî®Ë∑≥Ë°®Ôºü<br>Ë∑≥Ë°®ÊòØ‰∏ÄÁßçÈìæË°®ÁöÑ‰ºòÂåñÔºåÊü•ËØ¢O(logn)„ÄÇ<br>‰∏ªË¶ÅÊòØmysqlÁöÑÂ≠òÂÇ®‰ªãË¥®ÊòØÁ£ÅÁõòÔºåÈìæÂºèÁªìÊûÑÊòØÂ≠òÊîæÂÜÖÂ≠ò„ÄÇ<br>mysqlÊï∞ÊçÆÊòØÂùóÂΩ¢ÂºèÔºåÊòØ16kbÂÜÖÂ≠òÈ°µÔºåÂú®ÂÜÖÂ≠òÈ°µÂÆö‰ΩçÊï∞ÊçÆ„ÄÇÈìæË°®ÊòØ‰∏Ä‰∏™‰∏™nodeËäÇÁÇπÔºåËäÇÁÇπÂè™Êúâ1Êù°Êï∞ÊçÆÔºåÁ£ÅÁõòIOÊõ¥Â§öÔºåËÄå‰∏îÁ£ÅÁõòÊó†Ê≥ïÂØπÈìæË°®È¢ÑËØª„ÄÇ<br>B+Ê†ëÊï∞ÊçÆÂàÜÂ∏ÉÊõ¥ÂùáÂåÄÔºåÊØè‰∏ÄÊù°Êü•ËØ¢ÈÄüÂ∫¶‰∏ÄÊ†∑ÔºåÊõ¥Âπ≥Ë°°Á®≥ÂÆö„ÄÇ<br>Ë∑≥Ë°®Êï∞ÊçÆÂàÜÂ∏É‰∏çÂùáÂåÄÔºåÊü•ËØ¢Êï∞ÊçÆÁªèËøáË∑ØÂæÑÈïøÂ∫¶ÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ</p>
<p>B+Ê†ëÊúâ‰∏Ä‰∏™ÊúÄÂ∑¶ÂâçÁºÄÂéüÂàô<br>ËÉΩÂ§üÊîØÊåÅÊ®°Á≥äÊü•ËØ¢ÔºåÊØîÂ¶ÇÊü•ÊâæÂêåÂßìÁöÑÔºåÁéã1ÔºåÁéã2ÔºåÁéã3Áõ¥Êé•ÈÅçÂéÜÂè∂Â≠êÂÜÖÂ≠òÈ°µÔºõ<br>ËÉΩÂ§üÊîØÊåÅËåÉÂõ¥Êü•ËØ¢ÔºåÊØîÂ¶ÇÊü•ÊâæIDËåÉÂõ¥Ôºå‰ªé1Âà∞100Áõ¥Êé•ÈÅçÂéÜÂè∂Â≠êÂÜÖÂ≠òÈ°µÔºõ</p>
<p><strong>ËÅöÁ∞áÁ¥¢Âºï</strong>ÔºåÊòØÊØè‰∏ÄÂº†Ë°®ÈÉΩÊúâÁöÑ‰∏ªÈîÆID<br><strong>ËæÖÂä©Á¥¢Âºï</strong>ÔºåÊòØËá™Â∑±ËÆæÁöÑÁ¥¢ÂºïÔºåÊØè‰∏™ËæÖÂä©Á¥¢ÂºïÈÉΩÊúâ‰∏ÄÊ£µÂè∂Â≠êÊòØÁ¥¢ÂºïÂÄº+‰∏ªÈîÆÁöÑÊ†ë  </p>
<p><strong>ËÅîÂêàÁ¥¢Âºï</strong>ÔºåÂ§ö‰∏™Â≠óÊÆµËøûËµ∑Êù•ÁöÑÁ¥¢ÂºïÔºåÂ¶ÇÊûúÊ≤°Êúâ‰∏ªÈîÆIDÔºåÂèØ‰ª•ÊòØËæÖÂä©Á¥¢ÂºïÔºõ</p>
<p>Â¶Ç‰ΩïÂú®Ë°®ÈáåËæπÂÆö‰πâÁ¥¢ÂºïÔºü<br>Ë¶ÅÁúãÂ≠óÊÆµÁöÑÈöèÊú∫Â∫¶ÔºåÈöèÊú∫Â∫¶Ë∂äÈ´òÔºåÂÆö‰πâ‰∏∫Á¥¢ÂºïÁöÑÁ¥¢ÂºïÊïàÁéáË∂äÈ´ò„ÄÇ<br>‰∏æ‰∏™Âèç‰æãÔºåÂ¶ÇÊûúÂ≠òÂÇ®1000‰∏á‰∫∫ÔºåÊÄßÂà´Âè™ÊúâÁî∑Â•≥Ôºå‰πüÂ∞±ÊòØÂè™Êúâ01‰∏§ÁßçÊÉÖÂÜµÔºåËøô‰∏™Â≠óÊÆµÂÆö‰ΩçÊÄßÂ§™Â∑ÆÔºå‰∏Ä‰∏ãÂ≠êÂÆö‰ΩçÂà∞Â∑Æ‰∏çÂ§ö500‰∏áÁöÑËåÉÂõ¥ÔºåÂª∫ËÆÆ‰∏çÂä†ÔºåÂõ†‰∏∫Âä†Á¥¢Âºï‰ºòÂåñ‰∏çÂ§ßÔºåËÄå‰∏îËøò‰ºöÂ¢ûÂä†ÊèíÂÖ•Êï∞ÊçÆÊó∂ÁöÑ‰∏Ä‰∏™Á¥¢ÂºïË¥üÊãÖ„ÄÇ<br>Â¶ÇÊûúÊòØÊó•ÊúüÔºåÈöèÊú∫ÊÄßÂæàÈ´ò‰∫ÜÔºåÊÄé‰πàÁúãÁ¶ªÊï£Âë¢ÔºåÂëΩ‰ª§show indexÔºåÁÑ∂ÂêéÁúãcardinalityÔºàÊâ£‰ΩéÂÜÖ‰∫Ü‰ΩìÔºâÁöÑÂÄºÔºåÊé•Ëøë1ÔºåËØ¥ÊòéÁ¶ªÊï£Ë∂äÈ´òÔºåÂ∞±ÈÄÇÂêàÁ¥¢Âºï„ÄÇÂΩìÁÑ∂ÔºåËøôÊúÄÁªàËøòÊòØÂØπÂ∫îÊàë‰ª¨ÁöÑ‰∏öÂä° Êù•ËØ¥„ÄÇ</p>
<p>cardinalityÁöÑÂÄºÔºåÂ§öËØ¥‰∏Ä‰∏ãÔºåÂÆÉÊòØÈÄöËøáÈááÊ†∑ÁÆóÊ≥ïÔºå‰ºöÂÆûÊó∂ÂèòÂåñÁöÑ„ÄÇ</p>
<p><strong>Ë¶ÜÁõñÁ¥¢Âºï</strong>ÔºåÂÆÉÂÖ∂ÂÆû‰∏çÊòØÁ¥¢ÂºïÔºåÂÆÉÊòØ‰∏ÄÁßçÊïàÊûúÔºåÊ≤°ÊúâÊ†ëÔºåÊåáÊü•ËØ¢Êó†ÈúÄÂõûË°®ÁöÑÁ¥¢Âºï„ÄÇÂÖ≥ÈîÆÂú®‰∫éselectÁöÑÂ≠óÊÆµÔºåÊòØÂê¶ÈÉΩÂú®ËæÖÂä©Á¥¢ÂºïÁöÑÂè∂Â≠ê‰∏≠„ÄÇÂ¶ÇÊûúÊòØselect * ÔºåÈÇ£ÂÆÉÂõûÁªèÂéÜËæÖÂä©Á¥¢Âºï‰∏âÂ±ÇÔºåÁÑ∂ÂêéËÅöÁ∞áÁ¥¢Âºï‰∏âÂ±Ç<br>ÔºåËøô‰∏™ËøáÁ®ãÂ∞±ÊòØÂõûË°®ÔºåÂèëÈÄÅ‰∫Ü6Ê¨°IOÔºåÂ∑ÆË∑ùÂ∞±‰∏äÊù•‰∫Ü„ÄÇ</p>
<p>Á¥¢ÂºïÂâçÁºÄÔºöÊääÊñáÊú¨ÂâçÁºÄ‰Ωú‰∏∫Á¥¢ÂºïÔºåÂ¢ûÂä†ÈïøÊñáÊú¨Êü•ËØ¢ÊïàÁéá„ÄÇ</p>
<h3 id="QÔºö‰ªÄ‰πàÊÉÖÂÜµÁ¥¢ÂºïÂ§±ÊïàÔºü"><a href="#QÔºö‰ªÄ‰πàÊÉÖÂÜµÁ¥¢ÂºïÂ§±ÊïàÔºü" class="headerlink" title="QÔºö‰ªÄ‰πàÊÉÖÂÜµÁ¥¢ÂºïÂ§±ÊïàÔºü"></a>QÔºö‰ªÄ‰πàÊÉÖÂÜµÁ¥¢ÂºïÂ§±ÊïàÔºü</h3><p>ËÆ∞ÂøÜÔºöLOL+-*/ not null  function convert join<br>Like  ‰∏çÂåπÈÖçÊúÄÂ∑¶ÂâçÁºÄÁöÑÊ®°Á≥äÊü•ËØ¢ÔºåÊØîÂ¶ÇÔºå‰ª•%ÂºÄÂ§¥<br>Or    ‰∏çÂåπÈÖçÊúÄÂ∑¶ÂâçÁºÄÁöÑOrÔºåor‰Ωú‰∏∫conditionÁöÑËøûÊé•Á¨¶ÔºåÂΩìÂâçÂêé‰∏§‰∏™Êù°‰ª∂ÈÉΩÊòØÁ¥¢Âºï‰∏çÂ§±ÊïàÔºå‰ΩÜÂá°Êúâ‰∏Ä‰∏™‰∏ç‰∏∫Á¥¢ÂºïÂ∞±‰ºöÂ§±Êïà„ÄÇ</p>
<p>LianËÅîÂêàÊü•ËØ¢Ôºå‰∏çÂåπÈÖçÊúÄÂ∑¶ÂâçÁºÄÁöÑandËÅîÂêàÊü•ËØ¢ÔºåabËÅîÂêàÁ¥¢ÂºïÔºåÂ¶ÇÊûú‰∏ç‰ª•a‰∏∫È¶ñÈÉ®‰Ωú‰∏∫Êü•ËØ¢ÔºåÂ∞±‰ºöÁ¥¢ÂºïÂ§±Êïà„ÄÇ</p>
<p>+-*/ Êù°‰ª∂Â≠óÊÆµÂä†Âáè‰πòÈô§ËÆ°ÁÆóÔºåÁ¥¢ÂºïÂ§±ÊïàÔºåÊØîÂ¶ÇÔºåageÂπ¥ÈæÑ-1=10ÔºåÂ§±Êïà„ÄÇ</p>
<p>not Èùû‰∏çÁ≠â‰∫éÔºå!=Ôºå&lt;&gt;Ôºåis notÔºåÂèñÂèçÈõÜÂ∞±‰ºöÂ§±Êïà„ÄÇ</p>
<p>null Â≠óÊÆµis null Âíå is not nullÔºå‰∏ç‰∏ÄÂÆöÂ§±ÊïàÔºåÁ¥¢ÂºïÂÖÅËÆ∏nullÔºå‰ΩÜÊòØB+Ê†ëÁ¥¢Âºï‰∏ç‰ºöÂ≠òÊúâbullÂÄºÔºåÊØîÂ¶Ç age is not nullÔºåÂèØ‰ª•Ëµ∞Á¥¢ÂºïÔºåËÄå‰∏îËøòÊúâ‰ºòÂåñÂô®ÂèØ‰ºòÂåñ„ÄÇ‰∏∫ÈÅøÂÖçÂ§±ÊïàÔºåÂ≠óÊÆµÂ∞ΩÂèØËÉΩËÆæÁΩÆnot nullÔºåÂ¶ÇÊûúÈúÄË°®Á§∫nullÔºåÂ∞ΩÈáèËÆæÈªòËÆ§ÂÄºÔºå‰ΩøÁ¥¢ÂºïÂÆåÂÖ®ËÉΩÂ§üÊûÑÂª∫Âà∞B+Ê†ë„ÄÇ</p>
<p>function ÂØπÂ≠óÊÆµ‰ΩøÁî®ÂÜÖÁΩÆÂáΩÊï∞ÔºåÊØîÂ¶Çdateadd(propName, -1) =2022.1.28ÔºåÂ§±Êïà„ÄÇ</p>
<p>convert Â≠óÊÆµËΩ¨Êç¢ÔºåÊØîÂ¶ÇÔºöÂëòÂ∑•IDÊòØvarcharÁ±ªÂûãÔºåÊü•ËØ¢Áî®‰∫Ü id = 12345ÔºåËøôÂ∞±ÂèëÁîüvarcharËΩ¨intÔºåÂõ†Ê≠§ÔºåË¶ÅÂä†‰∏äÂçïÂºïÂè∑„ÄÇ</p>
<p>join ËøûË°®ÁúãÊÉÖÂÜµÔºåÂ¶ÇÊûúidÁ±ªÂûã‰∏ç‰∏ÄÊ†∑ÔºåÈÇ£Â∞±‰ºöÂ§±Êïà„ÄÇ</p>
<p>ÊàëÊòØÂ∞±ÊòØÊàëÔºå‰∏ç‰∏ÄÊ†∑ÁöÑÁâàÊú¨‰∏ç‰∏ÄÊ†∑ÁöÑÊàë„ÄÇ</p>
<p>select * from table where A&gt;3„ÄÇAÊòØËæÖÂä©Á¥¢Âºï„ÄÇ<br>mysql5.5Ôºå‰∏ÄËà¨ÊòØÂÖ®Ë°®Êâ´ÊèèÔºå‰∏ç‰ºöÁî®AËæÖÂä©Á¥¢ÂºïÔºå‰∏âÊ¨°IO„ÄÇËøôÈáåËÄÉËôë‰∫ÜÁ¶ªÊï£ËØªÁöÑÈóÆÈ¢òÔºå‰ªéËæÖÂä©Á¥¢Âºï‰∏âÊ¨°IOÔºåÊãøÂà∞ÊâÄÊúâIDÔºåÂÜç‰ªéËÅöÁ∞áÁ¥¢ÂºïÂèëÁîüË∂ÖËøá‰∏âÊ¨°IOÊãøÊï∞ÊçÆÔºåËá≥Â∞ë6Ê¨°IOÔºåÊúâÁâπÂà´Á¶ªÊï£ÁöÑ5‰∏™IDÔºåÂ∞±Êúâ3 + 1+5+5=11Ê¨°IO„ÄÇ<br>ÂÆÉÊúâ‰∏Ä‰∏™ÈòàÂÄºË°°ÈáèÔºåÊØîÂ¶ÇÂ∞è‰∫é20wÊï∞ÊçÆÊàñÂ∞è‰∫éÊÄªÈáè‰∏ÄÂçäÔºåËæÖÂä©Á¥¢ÂºïÂ§±ÊïàÔºåËÅöÈõÜÁ¥¢ÂºïËøõË°å‰∏ÄÊ¨°‰∏âÊ¨°IO‰πãÂêéÔºå‰ªéÂè∂Â≠êÂÖ®Ë°®Êâ´Êèè„ÄÇÂ§ß‰∫é20WÊï∞ÊçÆÔºåÂà©Áî®ËæÖÂä©Á¥¢ÂºïËøõË°åÁ¶ªÊï£ËØª„ÄÇ</p>
<p>mysql5.6+ÔºåÂºïÂÖ•<strong>MRR‰ºòÂåñ</strong>ÔºåËß£ÂÜ≥Á¶ªÊï£ËØª„ÄÇÁ´ãÈ©¨ËæÖÂä©Á¥¢Âºï3Ê¨°IOÊâæIDÔºåÂ≠òÂÖ•ÁºìÂ≠òÂêéÊéíÂ∫èÔºåÂÜçËøõÂÖ•ËÅöÈõÜÁ¥¢Âºï„ÄÇÂ¶ÇÊûúIDÈó¥Èöî‰∏çÂ§ßÔºåÂ∞±ËøõË°åÂè∂Â≠êÈ°∫Â∫èÊâ´ÊèèÔºåÂ¶ÇÊûúIDÈó¥ÈöîÂ§ßÔºåÂ∞±‰∫åÂàÜÊü•Êâæ„ÄÇ<br>È°∫Â∫èÁ£ÅÁõòIOÔºåÊØîÈöèÊú∫IOÔºåÂèØËÉΩÊèêÈ´ò10ÂÄç„ÄÇ</p>
<p>Âú®ËÆ°ÁÆóÊú∫‰∏≠ÔºåÈöèÊú∫ioÁöÑÈÄüÂ∫¶ÊØîÈ°∫Â∫èÁöÑioÁöÑÈÄüÂ∫¶ÊÖ¢ÂæàÂ§öÔºåÂõ†‰∏∫Âú®‰∏Ä‰∏™Êü±Èù¢‰∏≠ÔºåÈöèÊú∫ioÂøÖÁÑ∂‰ºöÈÄ†ÊàêÁ£ÅÂ§¥ÁöÑÈöèÊú∫ÊóãËΩ¨Ôºå‰ªéËÄå‰∫ßÁîü‰∏ÄÂÆöÈáèÁöÑÁ£ÅÁõòioÔºåËÄåÈ°∫Â∫èioÂàôÂèØÈôç‰ΩéÂà∞ÊúÄ‰Ωé„ÄÇ</p>
<figure class="image-box">
                <a rel=MYSQL| MYSQL‰ºòÂåñÊÄùË∑Ø+Áü•ËØÜÁÇπÊ¢≥ÁêÜ href="6E93E449-CEDB-431F-9F78-ADB219D3FC91_20220303211957.png?v=1&type=image&token=V1:geO33iNjY-_a2JB32jzPvAkcUhKneA_8zPt3utACWRg" title="ËæìÂÖ•ÂõæÁâáÊèèËø∞" data-fancybox="images"><img src="6E93E449-CEDB-431F-9F78-ADB219D3FC91_20220303211957.png?v=1&type=image&token=V1:geO33iNjY-_a2JB32jzPvAkcUhKneA_8zPt3utACWRg" alt="ËæìÂÖ•ÂõæÁâáÊèèËø∞" title class></a>
                <p>ËæìÂÖ•ÂõæÁâáÊèèËø∞</p>
            </figure>
<p>Á¥¢Âºï‰∏ãÊé®ÔºöÂÖàÂú®ËæÖÂä©Á¥¢ÂºïËøáÊª§ÊéâÊâÄÊúâËÉΩÂ§üËøáÊª§ÁöÑÔºåÂÜç‰∏ÄÊ¨°ÂõûË°®„ÄÇ</p>
<h2 id="MysqlÈîÅ"><a href="#MysqlÈîÅ" class="headerlink" title="MysqlÈîÅ"></a>MysqlÈîÅ</h2><h3 id="MVCCÊ¶ÇÂøµ"><a href="#MVCCÊ¶ÇÂøµ" class="headerlink" title="MVCCÊ¶ÇÂøµ"></a>MVCCÊ¶ÇÂøµ</h3><p>‰∏ÄËá¥ÊÄßÈùûÈîÅÂÆöËØªÔºå‰πüÂè´Â§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂„ÄÇ<br>‰∏ÄÂè•ËØùÔºåÂü∫‰∫éËá™Â∑±ÁöÑÂõûÊªöÊú∫Âà∂Ôºå‰∏∫Âπ∂ÂèëÂú∫ÊôØËØªÁöÑ‰ºòÂåñÔºå‰∏∫‰∫ÜËææÂà∞ËØªÊìç‰Ωú‰∏çÈúÄË¶ÅË¢´ÈîÅÂÆöÁöÑÊïàÊûúÔºåÂä†Âø´mysqlËØªÂèñ„ÄÇ<br>Â∫ïÂ±ÇÂü∫‰∫éundo logÂõûÊªöÊó•ÂøóÂíå‰∏ÄËá¥ÊÄßËßÜÂõæ„ÄÇ<br>Êé•‰∏ãÊù•ÔºåËÆ≤‰∏Ä‰∏ãmysql‰∏çÂêåÈöîÁ¶ªÁ∫ßÂà´ÁöÑMVCCË°®Áé∞„ÄÇ<br>‰ªé‰ΩéÂà∞È´òÂàÜÂà´ÊòØ read uncommittedËØªÊú™Êèê‰∫§Ôºåread committed ËØªÂ∑≤Êèê‰∫§Ôºårepeatable readÂèØÈáçÂ§çËØªÔºå‰∏≤Ë°åÂåñËØª„ÄÇ<br>ÈªòËÆ§ÊòØÂèØÈáçÂ§çËØª„ÄÇ<br>Â∑≤‰∏âÊù°Á∫øÁ®ãÊù•‰∏æ‰æãÂ≠êÔºåAÔºåB‰øÆÊîπÁ∫øÁ®ãÔºåCËØªÁ∫øÁ®ã„ÄÇ</p>
<p>AÔºåCÂêåÊó∂ÂØπ1Êù°Êï∞ÊçÆËØªÂÜôÔºåCÂºÄÂêØ‰∫ãÂä°ÔºåAÂéª‰øÆÊîπÔºåAÂú®‰øÆÊîπÂâçÁîüÊàê‰∏ÄÁâàÂø´ÁÖßÔºåÂ∞±ÊòØundo logÔºåA‰øÆÊîπÂÆåÊàêÔºåÂπ∂‰∏îÊèê‰∫§„ÄÇÁõÆÂâçÂèà‰∏§‰∏™ÁâàÊú¨ÔºåBÂèàÂØπÊï∞ÊçÆÊîπÔºåÂèàÂØπÁîüÊàê‰∏ÄÁâàÂø´ÁÖßÊèê‰∫§ÔºåÊ≠§Êó∂Êúâ‰∏â‰∏™ÁâàÊú¨„ÄÇ<br>CÁ∫øÁ®ãÂÜçËØªÔºåCÁ∫øÁ®ãËÆøÈóÆÂì™ÈÉ®ÂàÜÔºü<br>Âú®ÂèØÈáçÂ§çËØªÊÉÖÂÜµÔºö<br>CËØªÁöÑÊòØÊúÄÂéüÂßãÁâàÊú¨„ÄÇ</p>
<p>Âú®ËØªÂ∑≤Êèê‰∫§ÊÉÖÂÜµÔºö<br>CËØªÁöÑÊòØÊúÄÊñ∞BÊèê‰∫§ÁöÑÁâàÊú¨„ÄÇ</p>
<p>Âú®ËØªÊú™Êèê‰∫§ÊÉÖÂÜµÔºö<br>AÁ∫øÁ®ãÊîπÔºåÁîüÊàêÁâàÊú¨undo log ÂêéÔºåÊú™Êèê‰∫§„ÄÇ<br>CËØªÁöÑÊòØÊú™Êèê‰∫§ÁöÑA‰∏≠Èó¥Áä∂ÊÄÅÁöÑÊï∞ÊçÆ„ÄÇ<br>ËøôÊòØÊó†ÊâÄË∞ìÁâàÊú¨ÊéßÂà∂‰∫ÜÔºåÊòØ‰∏ÄÁßçÂç≥Êó∂ËØªÂèñ„ÄÇ<br>ËØªÂèñÊ≤°ÊúâÊåÅ‰πÖÂåñÁöÑËÑèÊï∞ÊçÆÔºåÊòØËÑèËØª„ÄÇ</p>
<p>Âú®‰∏≤Ë°åÂåñÊÉÖÂÜµÔºö<br>ÁêÜËß£‰∏∫Êó†ËÆ∫ËØªÂÜôÊìç‰ΩúÔºåÈÉΩ‰ºöÈîÅË°®ÔºåÊìç‰ΩúÊòØ‰∏•Ê†º‰∏≤Ë°åÔºåÊó†ÊâÄË∞ìÁâàÊú¨ÊéßÂà∂„ÄÇ</p>
<p>ËØªÂ∑≤Êèê‰∫§Ôºå‰∫ãÂä°ÈöîÁ¶ª‰∫ÜÂêóÔºü<br>Ê≤°ÊúâÈöîÁ¶ªÔºåABÁöÑ‰øÆÊîπÔºåÂΩ±Âìç‰∫ÜCÁöÑËØªÂèñÔºåËøùËÉå‰∫Ü‰∫ãÂä°ÈöîÁ¶ªÊÄß„ÄÇ</p>
<p>ÈÇ£‰πàÔºåÂèØÈáçÂ§çËØªÔºåCÁöÑËØª‰∏ç‰ºöÊî∂Âà∞ÂÖ∂‰ªñ‰∫ãÂä°ÂΩ±ÂìçÔºåÂÆûÁé∞‰∫ãÂä°ÁöÑÈöîÁ¶ªÊÄß„ÄÇ</p>
<p>ÂØπ‰∫éËØªÊú™Êèê‰∫§ÔºåÊ≤°ÊúâÊåÅ‰πÖÂåñÁöÑ‰∏≠Èó¥Áä∂ÊÄÅÁöÑËÑèÊï∞ÊçÆ‰πüËÉΩËØªÂèñÔºåËøôÂ∞±ÊòØËÑèËØª„ÄÇ<br>Áé∞Âú®Êàë‰ª¨Âá†‰πé‰∏ç‰ºöÁ¢∞Âà∞ËÑèËØªÔºåÈô§ÈùûÔºåÈöîÁ¶ªÁ∫ßÂà´Êîπ‰∏∫ËØªÊú™Êèê‰∫§„ÄÇ</p>
<p>ÂØπ‰∫éËØªÂ∑≤Êèê‰∫§ÔºåÂ¶ÇÊûúC‰∏Ä‰∏™‰∫ãÂä°‰∏≠Âú®A‰øÆÊîπÂâçÂêéËØªÂèñ‰∏§Ê¨°ÔºåÂèëÁé∞‰∏§Ê¨°ËØªÂèñÁªìÊûú‰∏ç‰∏ÄÊ†∑ÔºåËøôÂ∞±ÊòØ‰∏çÂèØÈáçÂ§çËØª„ÄÇ<br>Â¶ÇÊûúAÊîπ‰∏∫Âà†Èô§ÔºåC‰∏Ä‰∏™‰∫ãÂä°‰∏≠Âú®AÂà†Èô§ÂâçÂêéÁöÑËØªÂèñ‰∏§Ê¨°ÔºåÂèëÁé∞Á¨¨‰∫åÊ¨°ËØª‰∏ç‰∫ÜÔºåËøôÂ∞±ÂπªËØª„ÄÇ</p>
<p>ÊàëËÆ§‰∏∫Ôºå‰∏çÂèØÈáçÂ§çÂíåÂπªËØªÊú¨Ë¥®Áõ∏ÈÇª„ÄÇ</p>
<p>ÂØπ‰∫éÈáçÂ§çËØªÔºåÈÄöËøáË°åÈîÅËß£ÂÜ≥‰∏çÂèØÈáçËØªÔºåÂÜçÈÖçÂêàÈó¥ÈöôÈîÅËß£ÂÜ≥ÂπªËØª„ÄÇ</p>
<p>ÂØπ‰∫é‰∏≤Ë°åÂåñÔºåÁî®Ë°®ÈîÅÔºå‰∏ç‰ºöÂá∫Áé∞‰ª•‰∏äÈóÆÈ¢ò„ÄÇ</p>
<h3 id="ÈîÅ"><a href="#ÈîÅ" class="headerlink" title="ÈîÅ"></a>ÈîÅ</h3><p>‰∏ÄÁßçÊòØÈîÅÊú¨Êù°ËÆ∞ÂΩïÔºå‰∏ÄÁßçÊòØÈîÅËåÉÂõ¥„ÄÇ<br>ÂÖ±‰∫´ÈîÅÔºö‰∫ãÂä°ÂÖ±‰∫´ËØª„ÄÇ<br>Êéí‰ªñÈîÅÔºöÈôêÂà∂‰∏Ä‰∏™‰∫ãÂä°Êîπ<br>Â§ö‰∏™‰∫ãÂä°ËÉΩÂêåÊó∂Ëé∑ÂæóÊüê‰∏ÄË°åÁöÑÂÖ±‰∫´Á®éÔºåËøôÂè´ÈîÅÂÖºÂÆπ„ÄÇ<br>Ëã•‰∫ãÂä°ÈúÄË¶ÅËé∑ÂæóÊüê‰∏ÄË°åÁöÑÊéí‰ªñÈîÅÔºåÂ∞±Ë¶ÅÁ≠âÂæÖÊâÄÊúâÂÖ±‰∫´ÈîÅÂèäÊéí‰ªñÈîÅÁöÑÈáäÊîæÔºåËøôÊòØÈîÅ‰∏çÂÖºÂÆπ„ÄÇ</p>
<p>InnoDBÊúâ‰∏âÁßçË°åÈîÅÁöÑÁÆóÊ≥ïÔºö<br>Record LockÔºöÊôÆÈÄöÁöÑÂçï‰∏™Ë°åÈîÅÔºåÊÄª‰ºöÈîÅ‰ΩèÁ¥¢ÂºïËÆ∞ÂΩïÔºåÂ¶ÇÊûúÊ≤°ÊúâÁ¥¢ÂºïÔºåÂ∞±‰ºöÈîÅÈöêÂºè‰∏ª„ÄÇ</p>
<p>Gap Lock Èó¥ÈöôÈîÅÔºåÈîÅ‰∏Ä‰∏™ËåÉÂõ¥Ôºå‰∏çÂåÖÊã¨ËÆ∞ÂΩïÊú¨Ë∫´„ÄÇ<br>next-key lockÔºöÂ∑¶Âè≥‰∏§ËæπÁöÑGAP Lock + Record LockÔºåÈîÅ‰∏Ä‰∏™ÂåÖÊã¨Êú¨Ë∫´ÁöÑËåÉÂõ¥ÔºåÂØπ‰∫éË°åÊü•ËØ¢ÈÉΩÈááÁî®ËøôÁßçÊñπÂºè„ÄÇ</p>
<p>InnoDBÁöÑ[next-key lock]Êú¨Ë∫´ÁöÑËÆæËÆ°ÊñπÊ°àÂ∞±ÊòØÂ∑¶ÂºÄÂè≥Èó≠ÁöÑÔºå‰æãÂ¶Ç</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from t where c2 = 10 for update;</span><br></pre></td></tr></table></figure>
<p>next-key lockÂàôÈîÅÂÆöÁöÑÊòØ c2=10 ËøôÊù°ËÆ∞ÂΩïÊú¨Ë∫´Ôºå‰ª•ÂèäÂÖ∂[Á¥¢ÂºïËäÇÁÇπ]‰∏ä c2=10 ÂâçÈù¢ÁöÑÈÇ£‰∏™gap„ÄÇ</p>
<p>‰ΩÜÂú®RRÈöîÁ¶ªÁ∫ßÂà´‰∏≠Ôºå‰∏∫‰∫ÜÈÅøÂÖçÂèëÁîüÂπªËØªÔºåÈúÄË¶ÅÊääÊâÄÊúâÂèØËÉΩÊèíÂÖ• c2=10 Ëøô‰∏™ÂÄºÁöÑ‰ΩçÁΩÆÈÉΩÂä†‰∏äÈîÅÔºåÊâÄ‰ª•ÂØπ c2 =10 ÂêéÈù¢ÁöÑgap‰πü‰ºöÂä†ÈîÅ„ÄÇ</p>
<p>ÂΩìÊü•ËØ¢ÁöÑÁ¥¢ÂºïÂê´ÊúâÂîØ‰∏ÄÊ†áËØÜÂ±ûÊó∂ÔºåNext key Lock ‰ºöÈôçÁ∫ß‰∏∫Record LockÔºå‰ªÖÈîÅÊú¨Ë∫´„ÄÇ</p>
<p>Á¥¢Âºï‰∏äÁöÑÁ≠âÂÄºÊü•ËØ¢ÔºåÊú™ÂëΩ‰∏≠ÔºåÊâÄÂú®ÁöÑNet-Key LockÔºåÈÄÄÂåñ‰∏∫GAP Lock „ÄÇ</p>
<h2 id="Êó•ÂøóÁ≥ªÁªü"><a href="#Êó•ÂøóÁ≥ªÁªü" class="headerlink" title="Êó•ÂøóÁ≥ªÁªü"></a>Êó•ÂøóÁ≥ªÁªü</h2><p> ‰ªéÊèíÂÖ•Âú∫ÊôØÂºÄÂßãËÆ≤Ôºå<br> mysql ÊèíÂÖ•‰ºö ËÆ∞ÂΩïÊåÅ‰πÖÂåñÊó•ÂøóredologÔºåÂ¶ÇÊûúmysqlÈùûÂ∏∏È´òÂπ∂ÂèëÊèíÂÖ•Ôºå‰ºöÊúâ‰ªÄ‰πàÊÄßËÉΩÁì∂È¢àÔºü<br> È¶ñÂÖàÔºåÈù¢‰∏¥ÊúÄÂ§ßÁöÑÊÄßËÉΩÁì∂È¢àÔºåÂ∞±ÊòØIDËá™Â¢ûÈïø„ÄÇID‰∏çÈáçÂ§çÔºåÂ∞±ÊòØÊï∞ÊçÆÂÆâÂÖ®ÔºåËØ¥ÊòéÊúâÈîÅÔºåÂ∞±Ê∂âÂèäÂà∞blockÈòªÂ°û„ÄÇ<br> 5.1.22‰πãÂâçÔºåÊâÄÊúâÊèíÂÖ•Êúâ‰∏™auto increase lockingÔºåÂÆÉÊòØ‰∏Ä‰∏™ËΩªÈáèÁ∫ßÈîÅÔºåinnodbÊèê‰æõ‰∫ÜÊòØËá™Â¢ûÈïøËÆ°Êï∞Âô®ÔºåÂÆÉÊòØ‰øùËØÅËÆ°Êï∞Âô®Á∫øÁ®ãÂÆâÂÖ®„ÄÇÊèíÂÖ•sqlÊèê‰∫§ÂâçËøõË°åÈîÅÁöÑÈáäÊîæÔºå‰ªñ‰∏çÈúÄË¶ÅÁ≠â‰∫ãÂä°Êèê‰∫§ÂêéÊâçÈîÅÈáäÊîæÔºåËøôÁÆóÊèêÈ´òmysqlÊÄßËÉΩÔºö‰∫ãÂä°Êèê‰∫§Ê∂âÂèäÂà∞mysqlÊåÅ‰πÖÂåñÁöÑÈóÆÈ¢òÔºå‰∏ÄÊó¶ÊåÅ‰πÖÂåñÔºåÂ∞±Ë¶ÅÊ∂àËÄóÁ£ÅÁõòÂÜôÂÖ•ÁöÑÊó∂Èó¥ÔºåÂ¶ÇÊûúÊèê‰∫§ÂêéÊâçÈáäÊîæÔºåÂ∞±ÊòØË¶ÅÁ≠âÂæÖÂä†‰∏äÊåÅ‰πÖÂåñÊó∂Èó¥„ÄÇ5.1.22‰πãÂêéÔºåÊääidÂ≠êÂ¢ûÈïøÔºåË∞ÉÊï¥‰∏∫‰∏âÁßçÊ®°Âºè„ÄÇ‰∏ÄÁßçÊòØÂéüÂßãÁöÑËΩªÈáèÁ∫ßÈîÅÔºå‰∫åÊòØÈªòËÆ§Á≠ñÁï•ÔºåÂàÜ‰∏§ÁßçÊÉÖÂÜµÔºöÂ¶ÇÊûúÂ∑≤Áü•ÊèíÂÖ•Êï∞ÊçÆÊï∞ÈáèÔºåÊØîÂ¶Ç10Êù°ÔºåÈááÁî®‰∫ÜÊõ¥ËΩªÈáèÁöÑ‰∫íÊñ•ÈáèÔºåÂ¶ÇÊûúËá™Â¢ûÈïøËÆ°Êï∞Âô®ÊòØ0ÔºåÂèØÁü•ÊúÄÁªàÊòØ10ÔºåÂè™ÈúÄË¶ÅÊää1-10ÂàÜÈÖçÁªô10Êù°Êï∞ÊçÆÔºå‰∏≠Èó¥Êó†ÈúÄblockÈòªÂ°û„ÄÇÂØπ‰∫éÊú™Áü•ÁöÑÊèíÂÖ•Êï∞ÈáèÔºåÂàôÈááÁî®ÂéüÂßãÁöÑ‰∏ÄÊèíÂÖ•‰∏ÄblockÁöÑÊñπÂºèÔºõ‰∏âÊòØÊó†ËÆ∫Â¶Ç‰ΩïÈÉΩÁî®‰∫íÊñ•ÈáèÔºåËøô‰ºöÂØºËá¥ID‰∏çËøûÁª≠ÔºåÂ∞ÜÂ®ÅËÉÅÂà∞mysql‰∏ª‰ªéÂêåÊ≠•ÈóÆÈ¢òÔºå‰∏çÂêåËäÇÁÇπID‰∏ç‰∏ÄÊ†∑‰∫Ü„ÄÇÂ¶ÇÊûú‰∏çËÄÉËôë‰∏ª‰ªéÂêåÊ≠•ÔºåÂèØ‰ª•Áî®„ÄÇ</p>
<p>‰∏ª‰ªéÂêåÊ≠•ÔºåÊúâ‰∏§‰∏™Á≠ñÁï• Ôºö‰∏ÄÊòØrbrÔºårowÂΩ¢ÂºèÔºåËÆ∞ÂΩïÊØè‰∏ÄË°åÊúÄÂêéÊõ¥ÂèòÊ†∑Â≠êÁöÑËØ≠Âè•Ôºå‰∫åÊòØsbrÔºåstatementÂΩ¢Âºè„ÄÇÂ¶ÇÊûúÁî®statementÔºå‰ºöËÆ∞ÂΩïÊèíÂÖ•ËØ≠Âè•ÔºåÈÇ£‰πàÂú®‰ªéÊúçÂä°Âô®ÔºåÊâßË°åÊú™Áü•ÊèíÂÖ•Êï∞ÈáèÁöÑËØ≠Âè•Ôºå‰∫íÊñ•ÈáèÂΩ¢ÂºèÊèíÂÖ•ÔºåID‰∏çËøûÁª≠ÔºåÂèØËÉΩID‰∏ç‰∏ÄËá¥„ÄÇ</p>
<p>Âú®ÊåÅ‰πÖÂåñredo log‰πãÂâçÔºå‰ºöÂ≠òÂÖ•redobuff log ‰∏Ä‰∏™ÁºìÂÜ≤ÂûãÊó•ÂøóÔºåÂú®commitÊó∂Êâç‰ºöfsyncÁ£ÅÁõòÂà∑Êñ∞ÔºåflushÂêåÊ≠•Âà∞Á£ÅÁõòÔºåÁÑ∂ÂêéÊúÄÁªàÂà∞Á£ÅÁõò„ÄÇ</p>
<p>ÈóÆÈ¢òÊù•‰∫ÜÔºå1000‰∏áÊù°ÊØè‰∏Äcommit‰∏ÄÊ¨°ÈÄ†ÊàêÂà∑ÁõòÔºåÊúâÊÄßËÉΩÈóÆÈ¢òÔºå‰πü‰ºöÂΩ±ÂìçÁ£ÅÁõòÂØøÂëΩ„ÄÇËøô‰∏™ÁõòÂà∑ÂÖ∂ÂÆûÂÅö‰∫Ü3ÁßçÁ≠ñÁï•Ôºö‰∏ÄÊòØÊØèÊ¨°Êèê‰∫§Âà∑ÁõòÔºåËøôÊòØÊúÄÂ•ΩÁöÑÔºå‰∫åÊòØÊØè‰∏ÄÁßíÂÆöÊúüÂà∑ÁõòÔºåÊòØÊâßË°åsqlËØ≠Âè•ÁöÑÁ∫øÁ®ãÂú®ÂÅöÔºåÁõ∏ÂΩì‰∫é1000‰∏áÊù°Âè™Êúâ‰∏ÄÊ¨°Âà∑ÁõòÔºåÊúâ‰∏ÄÂÆöÂª∂ËøüÔºåÂèØËÉΩÂ≠òÂú®Êï∞ÊçÆ‰∏¢Â§±Ôºõ<br>‰∏âÊòØ‰ªé‰∏çÂà∑Êñ∞ÔºåÊ≤°Êúâredo logÔºåÂÆïÊú∫Â∞±Êó†Ê≥ïÊÅ¢Â§ç„ÄÇ</p>
<p>redo log ËÆ∞ÂΩïÁöÑÊòØÂÜÖÂ≠òÈ°µÁöÑÂÆûÈôÖÊï∞ÊçÆÔºåbin log Âè™ÊòØËØ≠Âè•Â±ÇÈù¢ÁöÑÊï∞ÊçÆÔºåÂÆÉ‰∏çÊòØÁî®‰∫éÊÅ¢Â§çÈÄªËæë„ÄÇ</p>
<p>Êàë‰ª¨ÊúÄÂ•ΩÊòØÂú®‰ª£Á†ÅÂ±ÇÈù¢ÔºåÂ∞ÜÂ§öÊù°Êï∞ÊçÆÂèòÊàêÂêå‰∏ÄÊù°ËØ≠Âè•ËøõË°åÊèíÂÖ•Ôºå‰∏ÄÊ¨°ÊÄßÊèê‰∫§„ÄÇÂ¶ÇÊûúÊï∞ÊçÆËøáÂ§ßÔºåÂèØ‰ª•ÂàÜÊâπbatchÊØè2000Êù°ÊèíÂÖ•„ÄÇËøôÊ†∑commitÁöÑÈáèÂ∞èÔºåÊÄßËÉΩÊèêÂçáÂèØËææ10ÂÄç‰ª•‰∏äÔºåÂõ†‰∏∫ÁõòÂà∑ÊúâÊÄßËÉΩÁì∂È¢àÔºåÁ£ÅÁõò1ÁßíÊíë‰∏ç‰Ωè1ÂçÉÊ¨°Âà∑„ÄÇ</p>
<p>binlogÔºåÁî®‰∫é‰∏ª‰ªéÊï∞ÊçÆÂêåÊ≠•ÔºåÂåÖÊã¨pitÂêåÊ≠•„ÄÇ</p>
<p>undo logÔºåÊúâ‰∏§‰∏™ÂäüËÉΩÔºå‰∏Ä‰∏™ÊòØÂõûÊªöÔºåÊúâ‰∏™undoÊÆµÔºåÁêÜËß£‰∏∫ÊúâÂá†‰∏™Èò∂ÊÆµÁöÑÂõûÊªöÂø´ÁÖßÔºå‰ª•ÂÆûÁé∞MVCC„ÄÇ</p>
<p>ÊÄªÁªì<br>MVCCÁªìÂêàundoÊù•ËØ¥Ôºå‰ª•Âèä‰∏çÂêå‰∫ãÁâ©Á∫ßÂà´ÁöÑË°®Áé∞ÔºåÊèêÂà∞redo logÔºåÁªìÂêàmysqlÊèíÂÖ•ÊÄßËÉΩÔºåÂ∞±Ë¶ÅËÅîÁ≥ªIDËá™Â¢ûÂíåÊèê‰∫§Âà∑Áõò„ÄÇ</p>
<hr>
<h2 id="ÂÖ∂‰ªñÁöÑÈóÆÈ¢ò"><a href="#ÂÖ∂‰ªñÁöÑÈóÆÈ¢ò" class="headerlink" title="ÂÖ∂‰ªñÁöÑÈóÆÈ¢ò"></a>ÂÖ∂‰ªñÁöÑÈóÆÈ¢ò</h2><h3 id="QÔºöÊâßË°åËÆ°ÂàíÔºü"><a href="#QÔºöÊâßË°åËÆ°ÂàíÔºü" class="headerlink" title="QÔºöÊâßË°åËÆ°ÂàíÔºü"></a>QÔºöÊâßË°åËÆ°ÂàíÔºü</h3><p>Êàë‰ª¨‰∏Ä‰∏ÄÊù•‰ªãÁªç,Âπ∂ËØ¥ÊòéÊØè‰∏™Â±ûÊÄßÊúâÂì™‰∫õÂèØÈÄâÂÄº,‰ª•ÂèäÊØè‰∏™ÂèØÈÄâÂÄºÁöÑÊÑèÊÄù„ÄÇ</p>
<ul>
<li><p>id: Ë°®Á§∫Êü•ËØ¢‰∏≠selectÊìç‰ΩúË°®ÁöÑÈ°∫Â∫è,ÊåâÈ°∫Â∫è‰ªéÂ§ßÂà∞‰æùÊ¨°ÊâßË°å</p>
</li>
<li><p>select_type :<br>ËØ•Ë°®Á§∫ÈÄâÊã©ÁöÑÁ±ªÂûã,Â∏∏ËßÅÂèØÈÄâÂÄºÊúâ: SIMPLE(ÁÆÄÂçïÁöÑ), PRIMARY(ÊúÄÂ§ñÂ±Ç) ÔºåSUBQUERY(Â≠êÊü•ËØ¢‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™selectÊü•ËØ¢)</p>
</li>
<li><p>type :<br>ËØ•Â±ûÊÄßË°®Á§∫ËÆøÈóÆÁ±ªÂûã,ÊúâÂæàÂ§öÁßçËÆøÈóÆÁ±ªÂûã„ÄÇ<br>ÊúÄÂ∏∏ËßÅÁöÑÂÖ∂‰∏≠ÂåÖÊã¨‰ª•‰∏ãÂá†Áßç: ALL(ÂÖ®Ë°®Êâ´Êèè), index(Á¥¢ÂºïÊâ´Êèè),range(ËåÉÂõ¥Êâ´Êèè),ref (ÈùûÂîØ‰∏ÄÁ¥¢ÂºïÊâ´Êèè),eq_ref(ÂîØ‰∏ÄÁ¥¢ÂºïÊâ´Êèè,),(const)Â∏∏Êï∞ÂºïÁî®, ËÆøÈóÆÈÄüÂ∫¶‰æùÊ¨°Áî±ÊÖ¢Âà∞Âø´„ÄÇ</p>
<p>ÂÖ∂‰∏≠ : range(ËåÉÂõ¥)Â∏∏ËßÅ‰∏é between and ‚Ä¶, Â§ß‰∫é and Â∞è‰∫éËøôÁßçÊÉÖÂÜµ„ÄÇ<br>ÊèêÁ§∫ : ÊÖ¢SQLÊòØÂê¶Ëµ∞Á¥¢Âºï,Ëµ∞‰∫Ü‰ªÄ‰πàÁ¥¢Âºï,‰πüÂ∞±ÂèØ‰ª•ÈÄöËøáËØ•Â±ûÊÄßÊü•Áúã‰∫Ü„ÄÇ</p>
</li>
<li><p>table :<br>Ë°®Á§∫ËæìÂá∫Ë°åÊï∞ÊçÆÊâÄÂú®Ë°®</p>
</li>
<li><p>possible_keys :<br>È°æÂêçÊÄù‰πâ,ËØ•Â±ûÊÄßÁªôÂá∫‰∫Ü,ËØ•Êü•ËØ¢ËØ≠Âè•,ÂèØËÉΩËµ∞ÁöÑÁ¥¢Âºï,(Â¶ÇÊüê‰∫õÂ≠óÊÆµ‰∏äÁ¥¢ÂºïÁöÑÂêçÂ≠ó)ËøôÈáåÊèê‰æõÁöÑÂè™ÊòØÂèÇËÄÉ,ËÄå‰∏çÊòØÂÆûÈôÖËµ∞ÁöÑÁ¥¢Âºï,‰πüÂ∞±ÂØºËá¥‰ºöÊúâpossible_Keys‰∏ç‰∏∫null,key‰∏∫Á©∫ÁöÑÁé∞Ë±°„ÄÇ</p>
</li>
<li><p>key : ÊòæÁ§∫MySQLÂÆûÈôÖ‰ΩøÁî®ÁöÑÁ¥¢Âºï,ÂÖ∂‰∏≠Â∞±ÂåÖÊã¨‰∏ªÈîÆÁ¥¢Âºï(PRIMARY),ÊàñËÄÖËá™Âª∫Á¥¢ÂºïÁöÑÂêçÂ≠ó„ÄÇ</p>
</li>
<li><p>key_len : Ë°®Á§∫Á¥¢ÂºïÊâÄ‰ΩøÁî®ÁöÑÂ≠óËäÇÊï∞Ôºå</p>
</li>
<li><p>ref :<br>ËøûÊé•ÂåπÈÖçÊù°‰ª∂,Â¶ÇÊûúËµ∞‰∏ªÈîÆÁ¥¢ÂºïÁöÑËØù,ËØ•ÂÄº‰∏∫: const, ÂÖ®Ë°®Êâ´ÊèèÁöÑËØù,‰∏∫nullÂÄº</p>
</li>
<li><p>rows :<br>Êâ´ÊèèË°åÊï∞,‰πüÂ∞±ÊòØËØ¥ÔºåÈúÄË¶ÅÊâ´ÊèèÂ§öÂ∞ëË°å,ÈááËÉΩËé∑ÂèñÁõÆÊ†áË°åÊï∞,‰∏ÄËà¨ÊÉÖÂÜµ‰∏ã‰ºöÂ§ß‰∫éËøîÂõûË°åÊï∞„ÄÇÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ã,rowsË∂äÂ∞è,ÊïàÁéáË∂äÈ´ò, Â§ßÈÉ®ÂàÜSQL‰ºòÂåñÔºåÈÉΩÊòØÂú®ÂáèÂ∞ëËøô‰∏™ÂÄºÁöÑÂ§ßÂ∞è„ÄÇ</p>
<p>Ê≥®ÊÑè: ÁêÜÊÉ≥ÊÉÖÂÜµ‰∏ãÊâ´ÊèèÁöÑË°åÊï∞‰∏éÂÆûÈôÖËøîÂõûË°åÊï∞ÁêÜËÆ∫‰∏äÊòØ‰∏ÄËá¥ÁöÑ,‰ΩÜËøôÁßçÊÉÖÂÜµÂèäÂÖ∂Â∞ë,Â¶ÇÂÖ≥ËÅîÊü•ËØ¢,Êâ´ÊèèÁöÑË°åÊï∞Â∞±‰ºöÊØîËøîÂõûË°åÊï∞Â§ßÂ§ßÂ¢ûÂä†)</p>
</li>
<li><p>Extra Ëøô‰∏™Â±ûÊÄßÈùûÂ∏∏ÈáçË¶Å,ËØ•Â±ûÊÄß‰∏≠ÂåÖÊã¨ÊâßË°åSQLÊó∂ÁöÑÁúüÂÆûÊÉÖÂÜµ‰ø°ÊÅØ,Â¶Ç‰∏äÈù¢ÊâÄÂ±û,‰ΩøÁî®Âà∞ÁöÑÊòØ‚Äùusing where‚ÄùÔºåË°®Á§∫‰ΩøÁî®whereÁ≠õÈÄâÂæóÂà∞ÁöÑÂÄº,Â∏∏Áî®ÁöÑÊúâ: ‚ÄúUsing temporary‚Äù: ‰ΩøÁî®‰∏¥Êó∂Ë°® ‚Äúusing filesort‚Äù: ‰ΩøÁî®Êñá‰ª∂ÊéíÂ∫è</p>
</li>
</ul>
<p>QÔºö‰∏∫‰ªÄ‰πàË¶ÅÂÅö‰∏ª‰ªéÂêåÊ≠•Ôºü</p>
<ol>
<li>ËØªÂÜôÂàÜÁ¶ªÔºå‰ΩøÊï∞ÊçÆÂ∫ìËÉΩÊîØÊíëÊõ¥Â§ßÁöÑÂπ∂Âèë„ÄÇ</li>
<li>Âú®‰∏ªÊúçÂä°Âô®‰∏äÁîüÊàêÂÆûÊó∂Êï∞ÊçÆÔºåËÄåÂú®‰ªéÊúçÂä°Âô®‰∏äÂàÜÊûêËøô‰∫õÊï∞ÊçÆÔºå‰ªéËÄåÊèêÈ´ò‰∏ªÊúçÂä°Âô®ÁöÑÊÄßËÉΩ„ÄÇ</li>
<li>Êï∞ÊçÆÂ§á‰ªΩÔºå‰øùËØÅÊï∞ÊçÆÁöÑÂÆâÂÖ®„ÄÇ</li>
</ol>
<p>Q: Áî®ËøáprocesslistÂêóÔºü<br>show processlist Êàñ show full processlist ÂèØ‰ª•Êü•ÁúãÂΩìÂâç MySQL ÊòØÂê¶ÊúâÂéãÂäõÔºåÊ≠£Âú®ËøêË°åÁöÑ sqlÔºåÊúâÊ≤°ÊúâÊÖ¢ SQL Ê≠£Âú®ÊâßË°å„ÄÇ</p>
<p>Q: ËÆ≤‰∏Ä‰∏ãMySQLÊû∂ÊûÑÔºü<br>MySQL‰∏ªË¶ÅÂàÜ‰∏∫ Server Â±ÇÂíåÂ≠òÂÇ®ÂºïÊìéÂ±ÇÔºö<br> <strong>Server Â±Ç</strong>Ôºö‰∏ªË¶ÅÂåÖÊã¨ËøûÊé•Âô®„ÄÅÊü•ËØ¢ÁºìÂ≠ò„ÄÅÂàÜÊûêÂô®„ÄÅ‰ºòÂåñÂô®„ÄÅÊâßË°åÂô®Á≠âÔºåÊâÄÊúâË∑®Â≠òÂÇ®ÂºïÊìéÁöÑÂäüËÉΩÈÉΩ Âú®Ëøô‰∏ÄÂ±ÇÂÆûÁé∞ÔºåÊØîÂ¶ÇÂ≠òÂÇ®ËøáÁ®ã„ÄÅËß¶ÂèëÂô®„ÄÅËßÜÂõæÔºåÂáΩÊï∞Á≠âÔºåËøòÊúâ‰∏Ä‰∏™ÈÄöÁî®ÁöÑÊó•ÂøóÊ®°Âùó binglog Êó•ÂøóÊ®° Âùó„ÄÇ<br> <strong>Â≠òÂÇ®ÂºïÊìé</strong>Ôºö ‰∏ªË¶ÅË¥üË¥£Êï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåËØªÂèñ„ÄÇ server Â±ÇÈÄöËøáapi‰∏éÂ≠òÂÇ®ÂºïÊìéËøõË°åÈÄö‰ø°„ÄÇ<br> Server Â±ÇÂü∫Êú¨ÁªÑ‰ª∂<br> <strong>ËøûÊé•Âô®</strong>Ôºö<br>ÂΩìÂÆ¢Êà∑Á´ØËøûÊé• MySQL Êó∂ÔºåserverÂ±Ç‰ºöÂØπÂÖ∂ËøõË°åË∫´‰ªΩËÆ§ËØÅÂíåÊùÉÈôêÊ†°È™å„ÄÇ<br> <strong>Êü•ËØ¢ÁºìÂ≠ò</strong>:<br> ÊâßË°åÊü•ËØ¢ËØ≠Âè•ÁöÑÊó∂ÂÄôÔºå‰ºöÂÖàÊü•ËØ¢ÁºìÂ≠òÔºåÂÖàÊ†°È™åËøô‰∏™ sql ÊòØÂê¶ÊâßË°åËøáÔºåÂ¶ÇÊûúÊúâÁºìÂ≠òËøô‰∏™ sqlÔºåÂ∞±‰ºöÁõ¥Êé•ËøîÂõûÁªôÂÆ¢Êà∑Á´ØÔºåÂ¶ÇÊûúÊ≤°ÊúâÂëΩ‰∏≠ÔºåÂ∞±‰ºöÊâßË°åÂêéÁª≠ÁöÑÊìç‰Ωú„ÄÇ<br> <strong>ÂàÜÊûêÂô®</strong>:<br> Ê≤°ÊúâÂëΩ‰∏≠ÁºìÂ≠òÁöÑËØùÔºåSQL ËØ≠Âè•Â∞±‰ºöÁªèËøáÂàÜÊûêÂô®Ôºå‰∏ªË¶ÅÂàÜ‰∏∫‰∏§Ê≠•ÔºåËØçÊ≥ïÂàÜÊûêÂíåËØ≠Ê≥ïÂàÜÊûêÔºåÂÖà Áúã SQL ËØ≠Âè•Ë¶ÅÂÅö‰ªÄ‰πàÔºåÂÜçÊ£ÄÊü• SQL ËØ≠Âè•ËØ≠Ê≥ïÊòØÂê¶Ê≠£Á°Æ„ÄÇ<br> <strong>‰ºòÂåñÂô®</strong>Ôºö<br>   ‰ºòÂåñÂô®ÂØπÊü•ËØ¢ËøõË°å‰ºòÂåñÔºåÂåÖÊã¨ÈáçÂÜôÊü•ËØ¢„ÄÅÂÜ≥ÂÆöË°®ÁöÑËØªÂÜôÈ°∫Â∫è‰ª•ÂèäÈÄâÊã©ÂêàÈÄÇÁöÑÁ¥¢ÂºïÁ≠âÔºåÁîüÊàê ÊâßË°åËÆ°Âàí„ÄÇ<br>  <strong>ÊâßË°åÂô®</strong>Ôºö<br>   È¶ñÂÖàÊâßË°åÂâç‰ºöÊ†°È™åËØ•Áî®Êà∑ÊúâÊ≤°ÊúâÊùÉÈôêÔºåÂ¶ÇÊûúÊ≤°ÊúâÊùÉÈôêÔºåÂ∞±‰ºöËøîÂõûÈîôËØØ‰ø°ÊÅØÔºåÂ¶ÇÊûúÊúâÊùÉÈôêÔºå Â∞±‰ºöÊ†πÊçÆÊâßË°åËÆ°ÂàíÂéªË∞ÉÁî®ÂºïÊìéÁöÑÊé•Âè£ÔºåËøîÂõûÁªìÊûú„ÄÇ</p>
<h3 id="QÔºöÂ§ßË°®ÊÄé‰πà‰ºòÂåñÔºü"><a href="#QÔºöÂ§ßË°®ÊÄé‰πà‰ºòÂåñÔºü" class="headerlink" title="QÔºöÂ§ßË°®ÊÄé‰πà‰ºòÂåñÔºü"></a>QÔºöÂ§ßË°®ÊÄé‰πà‰ºòÂåñÔºü</h3><p> Êüê‰∏™Ë°®ÊúâËøëÂçÉ‰∏áÊï∞ÊçÆÔºåÊü•ËØ¢ÊØîËæÉÊÖ¢ÔºåÂ¶Ç‰Ωï‰ºòÂåñÔºü<br> ÂΩìMySQLÂçïË°®ËÆ∞ÂΩïÊï∞ËøáÂ§ßÊó∂ÔºåÊï∞ÊçÆÂ∫ìÁöÑÊÄßËÉΩ‰ºöÊòéÊòæ‰∏ãÈôçÔºå‰∏Ä‰∫õÂ∏∏ËßÅÁöÑ‰ºòÂåñÊé™ÊñΩÂ¶Ç‰∏ãÔºö <strong>ÈôêÂÆöÊï∞ÊçÆÁöÑËåÉÂõ¥</strong>„ÄÇÊØîÂ¶ÇÔºöÁî®Êà∑Âú®Êü•ËØ¢ÂéÜÂè≤‰ø°ÊÅØÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•ÊéßÂà∂Âú®‰∏Ä‰∏™ÊúàÁöÑÊó∂Èó¥ËåÉÂõ¥ÂÜÖÔºõ <strong>ËØªÂÜôÂàÜÁ¶ª</strong>Ôºö ÁªèÂÖ∏ÁöÑÊï∞ÊçÆÂ∫ìÊãÜÂàÜÊñπÊ°àÔºå‰∏ªÂ∫ìË¥üË¥£ÂÜôÔºå‰ªéÂ∫ìË¥üË¥£ËØªÔºõ ÈÄöËøáÂàÜÂ∫ìÂàÜË°®ÁöÑÊñπÂºèËøõË°å‰ºòÂåñÔºå‰∏ªË¶ÅÊúâ<strong>ÂûÇÁõ¥ÊãÜÂàÜ</strong>Âíå<strong>Ê∞¥Âπ≥ÊãÜÂàÜ</strong>„ÄÇ</p>
<h3 id="Q-‰∏ÄÊù°ËØ≠Âè•ÁöÑÊâßË°åËøáÁ®ãÔºü"><a href="#Q-‰∏ÄÊù°ËØ≠Âè•ÁöÑÊâßË°åËøáÁ®ãÔºü" class="headerlink" title="Q:‰∏ÄÊù°ËØ≠Âè•ÁöÑÊâßË°åËøáÁ®ãÔºü"></a><strong>Q:‰∏ÄÊù°ËØ≠Âè•ÁöÑÊâßË°åËøáÁ®ãÔºü</strong></h3><p><strong>Êü•ËØ¢ËØ≠Âè•Ôºö</strong></p>
<ul>
<li><p>ÂÖàÊ£ÄÊü•ËØ•ËØ≠Âè•ÊòØÂê¶ÊúâÊùÉÈôêÔºåÂ¶ÇÊûúÊ≤°ÊúâÊùÉÈôêÔºåÁõ¥Êé•ËøîÂõûÈîôËØØ‰ø°ÊÅØÔºåÂ¶ÇÊûúÊúâÊùÉÈôêÔºåÂú® MySQL8.0 ÁâàÊú¨‰ª•ÂâçÔºå‰ºöÂÖàÊü•ËØ¢ÁºìÂ≠òÔºå‰ª•ËøôÊù° sql ËØ≠Âè•‰∏∫ key Âú®ÂÜÖÂ≠ò‰∏≠Êü•ËØ¢ÊòØÂê¶ÊúâÁªìÊûúÔºåÂ¶ÇÊûúÊúâÁõ¥Êé•ÁºìÂ≠òÔºåÂ¶ÇÊûúÊ≤°ÊúâÔºåÊâßË°å‰∏ã‰∏ÄÊ≠•„ÄÇ</p>
</li>
<li><p>ÈÄöËøáÂàÜÊûêÂô®ËøõË°åËØçÊ≥ïÂàÜÊûêÔºåÊèêÂèñ sql ËØ≠Âè•ÁöÑÂÖ≥ÈîÆÂÖÉÁ¥†ÔºåÊØîÂ¶ÇÊèêÂèñ‰∏äÈù¢Ëøô‰∏™ËØ≠Âè•ÊòØÊü•ËØ¢ selectÔºåÊèêÂèñÈúÄË¶ÅÊü•ËØ¢ÁöÑË°®Âêç‰∏∫ tb_studentÔºåÈúÄË¶ÅÊü•ËØ¢ÊâÄÊúâÁöÑÂàóÔºåÊü•ËØ¢Êù°‰ª∂ÊòØËøô‰∏™Ë°®ÁöÑ id=‚Äô1‚Äô„ÄÇÁÑ∂ÂêéÂà§Êñ≠Ëøô‰∏™ sql ËØ≠Âè•ÊòØÂê¶ÊúâËØ≠Ê≥ïÈîôËØØÔºåÊØîÂ¶ÇÂÖ≥ÈîÆËØçÊòØÂê¶Ê≠£Á°ÆÁ≠âÁ≠âÔºåÂ¶ÇÊûúÊ£ÄÊü•Ê≤°ÈóÆÈ¢òÂ∞±ÊâßË°å‰∏ã‰∏ÄÊ≠•„ÄÇ</p>
</li>
<li><p>Êé•‰∏ãÊù•Â∞±ÊòØ‰ºòÂåñÂô®ËøõË°åÁ°ÆÂÆöÊâßË°åÊñπÊ°àÔºå‰∏äÈù¢ÁöÑ sql ËØ≠Âè•ÔºåÂèØ‰ª•Êúâ‰∏§ÁßçÊâßË°åÊñπÊ°àÔºö</p>
<p><code>a.ÂÖàÊü•ËØ¢Â≠¶ÁîüË°®‰∏≠ÂßìÂêç‰∏∫‚ÄúÂº†‰∏â‚ÄùÁöÑÂ≠¶ÁîüÔºåÁÑ∂ÂêéÂà§Êñ≠ÊòØÂê¶Âπ¥ÈæÑÊòØ</code> <code>18`</code>„ÄÇ`</p>
<p><code>b.ÂÖàÊâæÂá∫Â≠¶Áîü‰∏≠Âπ¥ÈæÑ</code> <code>18</code> <code>Â≤ÅÁöÑÂ≠¶ÁîüÔºåÁÑ∂ÂêéÂÜçÊü•ËØ¢ÂßìÂêç‰∏∫‚ÄúÂº†‰∏â‚ÄùÁöÑÂ≠¶Áîü„ÄÇ</code></p>
<p>ÈÇ£‰πà‰ºòÂåñÂô®Ê†πÊçÆËá™Â∑±ÁöÑ‰ºòÂåñ[ÁÆóÊ≥ï]ËøõË°åÈÄâÊã©ÊâßË°åÊïàÁéáÊúÄÂ•ΩÁöÑ‰∏Ä‰∏™ÊñπÊ°àÔºà‰ºòÂåñÂô®ËÆ§‰∏∫ÔºåÊúâÊó∂ÂÄô‰∏ç‰∏ÄÂÆöÊúÄÂ•ΩÔºâ„ÄÇÈÇ£‰πàÁ°ÆËÆ§‰∫ÜÊâßË°åËÆ°ÂàíÂêéÂ∞±ÂáÜÂ§áÂºÄÂßãÊâßË°å‰∫Ü„ÄÇ</p>
</li>
<li><p>ËøõË°åÊùÉÈôêÊ†°È™åÔºåÂ¶ÇÊûúÊ≤°ÊúâÊùÉÈôêÂ∞±‰ºöËøîÂõûÈîôËØØ‰ø°ÊÅØÔºåÂ¶ÇÊûúÊúâÊùÉÈôêÂ∞±‰ºöË∞ÉÁî®Êï∞ÊçÆÂ∫ìÂºïÊìéÊé•Âè£ÔºåËøîÂõûÂºïÊìéÁöÑÊâßË°åÁªìÊûú„ÄÇ</p>
</li>
<li><p>Êõ¥Êñ∞ËØ≠Âè•ÊâßË°åËøáÁ®ã</p>
</li>
<li><p>Êõ¥Êñ∞ËØ≠Âè•ÊâßË°åÊµÅÁ®ãÂ¶Ç‰∏ãÔºöÂàÜÊûêÂô®„ÄÅÊùÉÈôêÊ†°È™å„ÄÅÊâßË°åÂô®„ÄÅÂºïÊìé„ÄÅredo log(prepare Áä∂ÊÄÅ)„ÄÅbinlog„ÄÅredo log(commitÁä∂ÊÄÅ)</p>
<p>Êõ¥Êñ∞ËØ≠Âè•Ôºö</p>
<p>update user set name=‚ÄôÂ§ßÂΩ¨‚Äôwhereid = 1;</p>
<ol>
<li>ÂÖàÊü•ËØ¢Âà∞ id ‰∏∫1ÁöÑËÆ∞ÂΩïÔºåÊúâÁºìÂ≠ò‰ºö‰ΩøÁî®ÁºìÂ≠ò</li>
<li>ÊãøÂà∞Êü•ËØ¢ÁªìÊûúÔºåÂ∞Ü name Êõ¥Êñ∞‰∏∫ Â§ßÂΩ¨ÔºåÁÑ∂ÂêéË∞ÉÁî®ÂºïÊìéÊé•Âè£ÔºåÂÜôÂÖ•Êõ¥Êñ∞Êï∞ÊçÆÔºåinnodb ÂºïÊìéÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÂêåÊó∂ËÆ∞ÂΩï redo logÔºåÊ≠§Êó∂ redo log ËøõÂÖ• prepare Áä∂ÊÄÅÔºåÁÑ∂ÂêéÂëäËØâÊâßË°åÂô®ÔºåÊâßË°åÂÆåÊàê‰∫ÜÔºåÈöèÊó∂ÂèØ‰ª•Êèê‰∫§„ÄÇ</li>
<li>ÊâßË°åÂô®Êî∂Âà∞ÈÄöÁü•ÂêéËÆ∞ÂΩï binlogÔºåÁÑ∂ÂêéË∞ÉÁî®ÂºïÊìéÊé•Âè£ÔºåÊèê‰∫§ redo log ‰∏∫Êèê‰∫§Áä∂ÊÄÅ„ÄÇ</li>
<li>Êõ¥Êñ∞ÂÆåÊàê„ÄÇ</li>
</ol>
</li>
</ul>
<h3 id="Q-ÔºöÈáçÂÅöÊó•ÂøóÂà∑Êñ∞Âà∞Á£ÅÁõòÁöÑÁ≠ñÁï•ÊúâÂá†ÁßçÔºåÊúâ‰ªÄ‰πà‰ºòÂä£Ôºü"><a href="#Q-ÔºöÈáçÂÅöÊó•ÂøóÂà∑Êñ∞Âà∞Á£ÅÁõòÁöÑÁ≠ñÁï•ÊúâÂá†ÁßçÔºåÊúâ‰ªÄ‰πà‰ºòÂä£Ôºü" class="headerlink" title="Q ÔºöÈáçÂÅöÊó•ÂøóÂà∑Êñ∞Âà∞Á£ÅÁõòÁöÑÁ≠ñÁï•ÊúâÂá†ÁßçÔºåÊúâ‰ªÄ‰πà‰ºòÂä£Ôºü"></a>Q ÔºöÈáçÂÅöÊó•ÂøóÂà∑Êñ∞Âà∞Á£ÅÁõòÁöÑÁ≠ñÁï•ÊúâÂá†ÁßçÔºåÊúâ‰ªÄ‰πà‰ºòÂä£Ôºü</h3><p>innodb_flush_log_at_trx_commitÁî®Êù•ÊéßÂà∂ÈáçÂÅöÊó•ÂøóÂà∑Êñ∞Âà∞Á£ÅÁõòÁöÑÁ≠ñÁï•„ÄÇ n ËØ•ÂèÇÊï∞ÁöÑÈªòËÆ§ÂÄº‰∏∫1ÔºåË°®Á§∫‰∫ãÂä°Êèê‰∫§Êó∂ÂøÖÈ°ªË∞ÉÁî®‰∏ÄÊ¨°fsyncÊìç‰Ωú„ÄÇËøòÂèØ‰ª•ËÆæÁΩÆËØ•ÂèÇÊï∞ÁöÑÂÄº‰∏∫0Âíå2„ÄÇ n 0Ë°®Á§∫‰∫ãÂä°Êèê‰∫§Êó∂‰∏çËøõË°åÂÜôÂÖ•ÈáçÂÅöÊó•ÂøóÊìç‰ΩúÔºåËøô‰∏™Êìç‰Ωú‰ªÖÂú®master thread‰∏≠ÂÆåÊàêÔºåËÄåÂú®master thread‰∏≠ÊØè1Áßí‰ºöËøõË°å ‰∏ÄÊ¨°ÈáçÂÅöÊó•ÂøóÊñá‰ª∂ÁöÑfsyncÊìç‰Ωú„ÄÇ n 2Ë°®Á§∫‰∫ãÂä°Êèê‰∫§Êó∂Â∞ÜÈáçÂÅöÊó•ÂøóÂÜôÂÖ•ÈáçÂÅöÊó•ÂøóÊñá‰ª∂Ôºå‰ΩÜ‰ªÖÂÜôÂÖ•Êñá‰ª∂Á≥ªÁªüÁöÑÁºìÂ≠ò‰∏≠Ôºå‰∏çËøõË°åfsyncÊìç‰Ωú„ÄÇÂú®Ëøô‰∏™ËÆæÁΩÆ‰∏ãÔºå ÂΩìMySQLÊï∞ÊçÆÂ∫ìÂèëÁîüÂÆïÊú∫ËÄåÊìç‰ΩúÁ≥ªÁªü‰∏çÂèëÁîüÂÆïÊú∫Êó∂ÔºåÂπ∂‰∏ç‰ºöÂØºËá¥‰∫ãÂä°ÁöÑ‰∏¢Â§±„ÄÇËÄåÂΩìÊìç‰ΩúÁ≥ªÁªüÂÆïÊú∫Êó∂ÔºåÈáçÂêØÊï∞ÊçÆÂ∫ìÂêé ‰ºö‰∏¢Â§±Êú™‰ªéÊñá‰ª∂Á≥ªÁªüÁºìÂ≠òÂà∑Êñ∞Âà∞ÈáçÂÅöÊó•ÂøóÊñá‰ª∂ÈÇ£ÈÉ®ÂàÜ‰∫ãÂä°</p>
<p>‰∏æ‰æãÔºö ÊèíÂÖ•50‰∏áÊù°Êï∞„ÄÇÊ≠£Á°ÆÊñπÊ≥ïÔºöinnodb_flush_log_at_trx_commit = 1ÔºåÂ∞Ü50‰∏áÊù°Êï∞ÊçÆÂú®‰∏Ä‰∏™‰∫ãÂä°ÊàñËÄÖÂ§ö‰∏™‰∫ãÂä°‰∏≠ÂàÜÊ¥æÊèê‰∫§ÔºåÂáèÂ∞ëfsyncÊ¨° Êï∞</p>
<h3 id="QÔºöpurge-Êìç‰ΩúÊúâ‰ªÄ‰πà‰ΩúÁî®-MySQL-ÁØá-deleteÂíåupdateÊìç‰ΩúÂèØËÉΩÂπ∂‰∏çÁõ¥Êé•Âà†Èô§ÂéüÊúâÁöÑÊï∞ÊçÆ„ÄÇ"><a href="#QÔºöpurge-Êìç‰ΩúÊúâ‰ªÄ‰πà‰ΩúÁî®-MySQL-ÁØá-deleteÂíåupdateÊìç‰ΩúÂèØËÉΩÂπ∂‰∏çÁõ¥Êé•Âà†Èô§ÂéüÊúâÁöÑÊï∞ÊçÆ„ÄÇ" class="headerlink" title="QÔºöpurge Êìç‰ΩúÊúâ‰ªÄ‰πà‰ΩúÁî® MySQL ÁØá deleteÂíåupdateÊìç‰ΩúÂèØËÉΩÂπ∂‰∏çÁõ¥Êé•Âà†Èô§ÂéüÊúâÁöÑÊï∞ÊçÆ„ÄÇ"></a>QÔºöpurge Êìç‰ΩúÊúâ‰ªÄ‰πà‰ΩúÁî® MySQL ÁØá deleteÂíåupdateÊìç‰ΩúÂèØËÉΩÂπ∂‰∏çÁõ¥Êé•Âà†Èô§ÂéüÊúâÁöÑÊï∞ÊçÆ„ÄÇ</h3><p>deleteÂíåupdateÊìç‰ΩúÂèØËÉΩÂπ∂‰∏çÁõ¥Êé•Âà†Èô§ÂéüÊúâÁöÑÊï∞ÊçÆ„ÄÇ</p>
<p>‰æãÂ¶ÇÔºå DELETE FROM t WHERE a=1; Ë°®t‰∏äÂàóaÊúâËÅöÈõÜÁ¥¢ÂºïÔºåÂàób‰∏äÊúâËæÖÂä©Á¥¢Âºï„ÄÇÂØπ‰∫é‰∏äËø∞ÁöÑdeleteÊìç‰ΩúÔºå‰ªÖÊòØÂ∞Ü‰∏ªÈîÆÂàóÁ≠â‰∫é1ÁöÑËÆ∞ÂΩïdelete flagËÆæ ÁΩÆ‰∏∫1ÔºåËÆ∞ÂΩïÂπ∂Ê≤°ÊúâË¢´Âà†Èô§ÔºåÂç≥ËÆ∞ÂΩïËøòÊòØÂ≠òÂú®‰∫éB+Ê†ë‰∏≠„ÄÇÂÖ∂Ê¨°ÔºåÂØπËæÖÂä©Á¥¢Âºï‰∏äaÁ≠â‰∫é1ÔºåbÁ≠â‰∫é1ÁöÑËÆ∞ÂΩïÂêåÊ†∑ Ê≤°ÊúâÂÅö‰ªª‰ΩïÂ§ÑÁêÜ„ÄÇËÄåÁúüÊ≠£Âà†Èô§ËøôË°åËÆ∞ÂΩïÁöÑÊìç‰ΩúÂÖ∂ÂÆûË¢´‚ÄúÂª∂Êó∂‚Äù‰∫ÜÔºåÊúÄÁªàÂú®purgeÊìç‰Ωú‰∏≠ÂÆåÊàê„ÄÇ purgeÁî®‰∫éÊúÄÁªàÂÆåÊàêdeleteÂíåupdateÊìç‰Ωú„ÄÇËøôÊ†∑ËÆæËÆ°ÊòØÂõ†‰∏∫InnoDBÂ≠òÂÇ®ÂºïÊìéÊîØÊåÅMVCCÔºåÊâÄ‰ª•ËÆ∞ÂΩï‰∏çËÉΩÂú®‰∫ã Âä°Êèê‰∫§Êó∂Á´ãÂç≥ËøõË°åÂ§ÑÁêÜ„ÄÇËøôÊó∂ÂÖ∂‰ªñ‰∫ãÁâ©ÂèØËÉΩÊ≠£Âú®ÂºïÁî®ËøôË°åÔºåÊïÖInnoDBÂ≠òÂÇ®ÂºïÊìéÈúÄË¶Å‰øùÂ≠òËÆ∞ÂΩï‰πãÂâçÁöÑÁâàÊú¨„ÄÇ ËÄåÊòØÂê¶ÂèØ‰ª•Âà†Èô§ËØ•Êù°ËÆ∞ÂΩïÈÄöËøápurgeÊù•ËøõË°åÂà§Êñ≠„ÄÇËã•ËØ•Ë°åËÆ∞ÂΩïÂ∑≤‰∏çË¢´‰ªª‰ΩïÂÖ∂‰ªñ‰∫ãÂä°ÂºïÁî®ÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•ËøõË°åÁúü Ê≠£ÁöÑdeleteÊìç‰Ωú„ÄÇÂèØËßÅÔºåpurgeÊìç‰ΩúÊòØÊ∏ÖÁêÜ‰πãÂâçÁöÑdeleteÂíåupdateÊìç‰ΩúÔºåÂ∞Ü‰∏äËø∞Êìç‰Ωú‚ÄúÊúÄÁªà‚ÄùÂÆåÊàê„ÄÇËÄåÂÆûÈôÖÊâßË°å ÁöÑÊìç‰Ωú‰∏∫deleteÊìç‰ΩúÔºåÊ∏ÖÁêÜ‰πãÂâçË°åËÆ∞ÂΩïÁöÑÁâàÊú¨„ÄÇ</p>
<h3 id="QÔºöËØ¥ËØ¥‰∏ª‰ªéÂ§çÂà∂ÁöÑÂ∑•‰ΩúÂéüÁêÜ"><a href="#QÔºöËØ¥ËØ¥‰∏ª‰ªéÂ§çÂà∂ÁöÑÂ∑•‰ΩúÂéüÁêÜ" class="headerlink" title="QÔºöËØ¥ËØ¥‰∏ª‰ªéÂ§çÂà∂ÁöÑÂ∑•‰ΩúÂéüÁêÜ"></a>QÔºöËØ¥ËØ¥‰∏ª‰ªéÂ§çÂà∂ÁöÑÂ∑•‰ΩúÂéüÁêÜ</h3><p>1Ôºâ‰∏ªÊúçÂä°Âô®ÔºàmasterÔºâÊääÊï∞ÊçÆÊõ¥ÊîπËÆ∞ÂΩïÂà∞‰∫åËøõÂà∂Êó•ÂøóÔºàbinlogÔºâ‰∏≠„ÄÇ</p>
<p> 2Ôºâ‰ªéÊúçÂä°Âô®ÔºàslaveÔºâÊää‰∏ªÊúçÂä°Âô®ÁöÑ‰∫åËøõÂà∂Êó•ÂøóÂ§çÂà∂Âà∞Ëá™Â∑±ÁöÑ‰∏≠ÁªßÊó•ÂøóÔºàrelay logÔºâ‰∏≠„ÄÇ</p>
<p> 3Ôºâ‰ªéÊúçÂä°Âô®ÈáçÂÅö‰∏≠ÁªßÊó•Âøó‰∏≠ÁöÑÊó•ÂøóÔºåÊääÊõ¥ÊîπÂ∫îÁî®Âà∞Ëá™Â∑±ÁöÑÊï∞ÊçÆÂ∫ì‰∏äÔºå‰ª•ËææÂà∞Êï∞ÊçÆÁöÑÊúÄÁªà‰∏ÄËá¥ÊÄß</p>
<p>Â§çÂà∂ÁöÑÂ∑•‰ΩúÂéüÁêÜÂπ∂‰∏çÂ§çÊùÇÔºåÂÖ∂ ÂÆûÂ∞±ÊòØ‰∏Ä‰∏™ÂÆåÂÖ®Â§á‰ªΩÂä†‰∏ä‰∫åËøõ Âà∂Êó•ÂøóÂ§á‰ªΩÁöÑËøòÂéü„ÄÇ‰∏çÂêåÁöÑÊòØ Ëøô‰∏™‰∫åËøõÂà∂Êó•ÂøóÁöÑËøòÂéüÊìç‰ΩúÂü∫ Êú¨‰∏äÂÆûÊó∂Âú®ËøõË°å‰∏≠„ÄÇËøôÈáåÁâπÂà´ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂ§çÂà∂‰∏çÊòØÂÆåÂÖ® ÂÆûÊó∂Âú∞ËøõË°åÂêåÊ≠•ÔºåËÄåÊòØÂºÇÊ≠•ÂÆû Êó∂„ÄÇËøô‰∏≠Èó¥Â≠òÂú®‰∏ª‰ªéÊúçÂä°Âô®‰πã Èó¥ÁöÑÊâßË°åÂª∂Êó∂ÔºåÂ¶ÇÊûú‰∏ªÊúçÂä°Âô® ÁöÑÂéãÂäõÂæàÂ§ßÔºåÂàôÂèØËÉΩÂØºËá¥‰∏ª‰ªé ÊúçÂä°Âô®Âª∂Êó∂ËæÉÂ§ß„ÄÇ</p>
<p>‰ªéÊúçÂä°Âô®Êúâ2‰∏™Á∫øÁ®ãÔºå‰∏Ä‰∏™ÊòØI/OÁ∫øÁ®ãÔºåË¥üË¥£ËØªÂèñ‰∏ªÊúçÂä°Âô®ÁöÑ‰∫åËøõÂà∂Êó•ÂøóÔºåÂπ∂Â∞ÜÂÖ∂‰øùÂ≠ò‰∏∫‰∏≠ÁªßÊó•ÂøóÔºõÂè¶‰∏Ä‰∏™ÊòØSQL Á∫øÁ®ãÔºåÂ§çÂà∂ÊâßË°å‰∏≠ÁªßÊó•Âøó„ÄÇ</p>
<h3 id="QÔºö‰∏ª‰ªéÂ§çÂà∂bin-log-Êó•ÂøóÊúâÂá†ÁßçËÆ∞ÂΩïÊñπÂºè"><a href="#QÔºö‰∏ª‰ªéÂ§çÂà∂bin-log-Êó•ÂøóÊúâÂá†ÁßçËÆ∞ÂΩïÊñπÂºè" class="headerlink" title="QÔºö‰∏ª‰ªéÂ§çÂà∂bin log Êó•ÂøóÊúâÂá†ÁßçËÆ∞ÂΩïÊñπÂºè"></a>QÔºö‰∏ª‰ªéÂ§çÂà∂bin log Êó•ÂøóÊúâÂá†ÁßçËÆ∞ÂΩïÊñπÂºè</h3><p>ÂèòÊõ¥Êìç‰ΩúÂ∞ÜÊ†πÊçÆÈÄâÂÆöÁöÑÊ†ºÂºèÁ±ªÂûãÂÜôÂÖ• binlog Êñá ‰ª∂ÔºåÁõÆÂâçÊîØÊåÅ‰∏âÁßç formatÔºö</p>
<p> statement-based ReplicationÔºàSBRÔºâ ÔºömasterÂ∞ÜSQL statementsËØ≠Âè•ÂÜôÂÖ•binlogÔºåslave ‰πüÂ∞Ü statements Â§çÂà∂Âà∞Êú¨Âú∞ÊâßË°åÔºõÁÆÄÂçï ËÄåË®ÄÔºåÂ∞±ÊòØÂú® master ‰∏äÊâßË°åÁöÑ SQL ÂèòÊõ¥ËØ≠Âè•Ôºå‰πüÂêåÊ†∑Âú® slaves ‰∏äÊâßË°å„ÄÇSBR Ê®°ÂºèÊòØ MySQL ÊúÄÊó©ÊîØÊåÅÁöÑÁ±ªÂûãÔºå‰πüÊòØ Replication Èªò ËÆ§Á±ªÂûã„ÄÇ</p>
<p>row-based ReplicationÔºàRBRÔºâÔºö masterÂ∞ÜÊØèË°åÊï∞ÊçÆÁöÑÂèòÊõ¥‰ø°ÊÅØÂÜôÂÖ•binlogÔºåÊØèÊù° binlog ‰ø°ÊÅØË°®Á§∫‰∏ÄË°åÔºàrowÔºâÊï∞ÊçÆÁöÑÂèòÊõ¥ÂÜÖÂÆπÔºå ÂØπ‰∫é slaves ËÄåË®ÄÂ∞Ü‰ºöÂ§çÂà∂ binlog ‰ø°ÊÅØÔºåÁÑ∂ÂêéÂçïÊù°ÊàñËÄÖÊâπÈáèÊâßË°åÂèòÊõ¥Êìç‰ΩúÔºõ</p>
<p> mix-format ReplicationÔºöÊ∑∑ÂêàÊ®°ÂºèÔºåÂú®ËøôÁßçÊ®°Âºè‰∏ãÔºåmasterÂ∞ÜÊ†πÊçÆÊ†πÊçÆÂ≠òÂÇ®ÂºïÊìé„ÄÅÂèòÊõ¥Êìç‰ΩúÁ±ªÂûãÁ≠âÔºå‰ªéSBR„ÄÅRBR‰∏≠Êù•ÈÄâÊã©Êõ¥Âêà ÈÄÇÁöÑÊó•ÂøóÊ†ºÂºèÔºåÈªòËÆ§‰∏∫ SBRÔºõÂÖ∑‰ΩìÈÄâÊã©ÈÇ£ÁßçÊ†ºÂºèÔºåËøôÂèñÂÜ≥‰∫éÂèòÊõ¥Êìç‰ΩúÂèëÁîüÁöÑÂ≠òÂÇ®ÂºïÊìé„ÄÅstatement ÁöÑÁ±ªÂûã‰ª•ÂèäÁâπÂæÅÔºå‰ºòÂÖàÈÄâÊã© ‚ÄúÊï∞ ÊçÆ‰∏ÄËá¥ÊÄß‚Äù ÊúÄÂ•ΩÁöÑÊñπÂºèÔºàRBRÔºâÔºåÁÑ∂ÂêéÊâçÂÖºÈ°æÊÄßËÉΩÔºåÊØîÂ¶Ç statement ‰∏≠Âê´Êúâ ‚Äú‰∏çÁ°ÆÂÆöÊÄß‚Äù ÊñπÊ≥ïÊàñËÄÖÊâπÈáèÂèòÊõ¥ÔºåÈÇ£‰πàÂ∞ÜÈÄâÊã© RBR ÊñπÂºèÔºå ÂÖ∂‰ªñÁöÑÂ∞ÜÈÄâÊã© SBR ‰ª•ÂáèÂ∞ë binlog ÁöÑÂ§ßÂ∞è„ÄÇÊàë‰ª¨Âª∫ËÆÆ‰ΩøÁî® mix ÊñπÂºè„ÄÇ</p>
<p>SBR Âíå RBR ÈÉΩÊúâÂêÑËá™ÁöÑ‰ºòÁº∫ÁÇπÔºåÂØπ‰∫éÂ§ßÈÉ®ÂàÜÁî®ËÄåË®ÄÔºåmix ÊñπÂºèÂú®ÂÖºÈ°æÊï∞ÊçÆÂÆåÊï¥ÊÄßÂíåÊÄßËÉΩÊñπÈù¢ÊòØÊúÄ‰Ω≥ÁöÑÈÄâÊã©</p>
<h3 id="QÔºö-‰∏ª‰ªéÂ§çÂà∂ÊúâÂá†ÁßçÊñπÂºèÔºü"><a href="#QÔºö-‰∏ª‰ªéÂ§çÂà∂ÊúâÂá†ÁßçÊñπÂºèÔºü" class="headerlink" title="QÔºö ‰∏ª‰ªéÂ§çÂà∂ÊúâÂá†ÁßçÊñπÂºèÔºü"></a>QÔºö ‰∏ª‰ªéÂ§çÂà∂ÊúâÂá†ÁßçÊñπÂºèÔºü</h3><p>ÂºÇÊ≠•Â§çÂà∂</p>
<p>MySQL ÈªòËÆ§ÁöÑÂ§çÂà∂Á≠ñ Áï•ÔºåMaster Â§ÑÁêÜ‰∫ãÂä°Ëøá Á®ã‰∏≠ÔºåÂ∞ÜÂÖ∂ÂÜôÂÖ• Binlog Â∞±‰ºöÈÄöÁü• Dump thread Á∫øÁ®ãÂ§ÑÁêÜÔºåÁÑ∂ÂêéÂÆåÊàê‰∫ã Âä°ÁöÑÊèê‰∫§Ôºå‰∏ç‰ºöÂÖ≥ÂøÉÊòØ Âê¶ÊàêÂäüÂèëÈÄÅÂà∞‰ªªÊÑè‰∏Ä‰∏™ slave ‰∏≠„ÄÇ</p>
<p>ÂçäÂêåÊ≠•Â§çÂà∂</p>
<p>MasterÂ§ÑÁêÜ‰∫ãÂä°ËøáÁ®ã‰∏≠ÔºåÊèê‰∫§ÂÆå‰∫ãÂä°ÂêéÔºåÂøÖÈ°ª Á≠âËá≥Â∞ë‰∏Ä‰∏™ Slave Â∞ÜÊî∂Âà∞ÁöÑ binlog ÂÜôÂÖ• relay log ËøîÂõû ack ÊâçËÉΩÁªßÁª≠ÊâßË°åÂ§ÑÁêÜÁî®Êà∑ÁöÑ‰∫ãÂä°„ÄÇ</p>
<p>Â¢ûÂº∫ÂçäÂêåÊ≠•Â§çÂà∂</p>
<p>Âº∫ÂçäÂêåÊ≠•ÂíåÂçäÂêåÊ≠•‰∏çÂêåÊòØÔºåÁ≠âÂæÖ ACK Êó∂ Èó¥‰∏çÂêå rpl_semi_sync_master_wait_point = AFTER_SYNCÔºàÂîØ‰∏ÄÂå∫Âà´Ôºâ ÂçäÂêåÊ≠•ÁöÑÈóÆÈ¢òÊòØÂõ†‰∏∫Á≠âÂæÖ ACK ÁöÑÁÇπÊòØ Commit ‰πãÂêéÔºåÊ≠§Êó∂ Master Â∑≤ÁªèÂÆåÊàêÊï∞ÊçÆ ÂèòÊõ¥ÔºåÁî®Êà∑Â∑≤ÁªèÂèØ‰ª•ÁúãÂà∞ÊúÄÊñ∞Êï∞ÊçÆÔºåÂΩì Binlog ËøòÊú™ÂêåÊ≠•Âà∞ Slave Êó∂ÔºåÂèëÁîü‰∏ª‰ªéÂàá Êç¢ÔºåÈÇ£‰πàÊ≠§Êó∂‰ªéÂ∫ìÊòØÊ≤°ÊúâËøô‰∏™ÊúÄÊñ∞Êï∞ÊçÆÁöÑÔºå Áî®Êà∑ÂèàÁúãÂà∞ËÄÅÊï∞ÊçÆ„ÄÇ Â¢ûÂº∫ÂçäÂêåÊ≠•Â∞ÜÁ≠âÂæÖ ACK ÁöÑÁÇπÊîæÂú®Êèê‰∫§ Commit ‰πãÂâçÔºåÊ≠§Êó∂Êï∞ÊçÆËøòÊú™Ë¢´Êèê‰∫§ÔºåÂ§ñ ÁïåÁúã‰∏çÂà∞Êï∞ÊçÆÂèòÊõ¥ÔºåÊ≠§Êó∂Â¶ÇÊûúÂèëÈÄÅ‰∏ª‰ªéÂàá Êç¢ÔºåÊñ∞Â∫ì‰æùÁÑ∂ËøòÊòØËÄÅÊï∞ÊçÆÔºå‰∏çÂ≠òÂú®Êï∞ÊçÆ‰∏ç ‰∏ÄËá¥ÁöÑÈóÆÈ¢ò„ÄÇ</p>
<h3 id="QÔºöInnodb-Âíå-mylsam-Â≠òÂÇ®ÂºïÊìéÁöÑÂå∫Âà´"><a href="#QÔºöInnodb-Âíå-mylsam-Â≠òÂÇ®ÂºïÊìéÁöÑÂå∫Âà´" class="headerlink" title="QÔºöInnodb Âíå mylsam Â≠òÂÇ®ÂºïÊìéÁöÑÂå∫Âà´"></a>QÔºöInnodb Âíå mylsam Â≠òÂÇ®ÂºïÊìéÁöÑÂå∫Âà´</h3><ol>
<li><p>ÊòØÂê¶ÊîØÊåÅË°åÁ∫ßÈîÅ : MyISAM Âè™ÊúâË°®Á∫ßÈîÅ (table-level locking)ÔºåËÄå InnoDB ÊîØÊåÅË°åÁ∫ßÈîÅ (rowlevel locking) ÂíåË°®Á∫ßÈîÅ , ÈªòËÆ§‰∏∫Ë°åÁ∫ßÈîÅ„ÄÇ</p>
</li>
<li><p>ÊòØÂê¶ÊîØÊåÅ‰∫ãÂä°ÂíåÂ¥©Ê∫ÉÂêéÁöÑÂÆâÂÖ®ÊÅ¢Â§çÔºö MyISAM Âº∫Ë∞ÉÁöÑÊòØÊÄßËÉΩÔºåÊØèÊ¨°Êü•ËØ¢ÂÖ∑ÊúâÂéüÂ≠êÊÄß , ÂÖ∂Êâß Ë°åÈÄüÂ∫¶ÊØî InnoDB Á±ªÂûãÊõ¥Âø´Ôºå‰ΩÜÊòØ‰∏çÊèê‰æõ‰∫ãÂä°ÊîØÊåÅ„ÄÇ‰ΩÜÊòØ InnoDB Êèê‰æõ‰∫ãÂä°ÊîØÊåÅ‰∫ãÂä°ÔºåÂ§ñÈÉ® ÈîÆÁ≠âÈ´òÁ∫ßÊï∞ÊçÆÂ∫ìÂäüËÉΩ„ÄÇÂÖ∑Êúâ‰∫ãÂä° (commit)„ÄÅÂõûÊªö (rollback) ÂíåÂ¥©Ê∫É‰øÆÂ§çËÉΩÂäõ (crash recovery capabilities) ÁöÑ‰∫ãÂä°ÂÆâÂÖ® (transaction-safe (ACID compliant)) ÂûãË°®„ÄÇ</p>
</li>
<li>ÊòØÂê¶ÊîØÊåÅÂ§ñÈîÆÔºö MyISAM ‰∏çÊîØÊåÅÔºåËÄå InnoDB ÊîØÊåÅ„ÄÇ</li>
<li>ÊòØÂê¶ÊîØÊåÅ MVCCÔºö‰ªÖ InnoDB ÊîØÊåÅ„ÄÇÂ∫îÂØπÈ´òÂπ∂Âèë‰∫ãÂä° , MVCC ÊØîÂçïÁ∫ØÁöÑÂä†ÈîÅÊõ¥È´òÊïà ;MVCC Âè™Âú® READ COMMITTED Âíå REPEATABLE READ ‰∏§‰∏™ÈöîÁ¶ªÁ∫ßÂà´‰∏ãÂ∑•‰Ωú ;MVCC ÂèØ‰ª•‰ΩøÁî®‰πêËßÇ (optimistic) ÈîÅÂíåÊÇ≤ËßÇ (pessimistic) ÈîÅÊù•ÂÆûÁé∞ ; ÂêÑÊï∞ÊçÆÂ∫ì‰∏≠ MVCC ÂÆûÁé∞Âπ∂‰∏çÁªü‰∏Ä</li>
</ol>
<p>Êù•Ê∫êÔºöÊ≤≥ÂåóÁéãÊ†°Èïø</p>
<h3 id="ÊâãÂä®Áî®beginÂºÄÂêØ‰∫ãÂä°ÔºåÁÑ∂ÂêéÊâßË°åupdateËØ≠Âè•ÔºåÂÜçÁÑ∂ÂêéÊâßË°åcommitËØ≠Âè•ÔºåÈÇ£‰∏äÈù¢ÁöÑupdateÊõ¥Êñ∞ÊµÅÁ®ã‰πãÂâç-Âì™‰∫õÊòØupdateËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑÔºåÂì™‰∫õÊòØcommitËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑ"><a href="#ÊâãÂä®Áî®beginÂºÄÂêØ‰∫ãÂä°ÔºåÁÑ∂ÂêéÊâßË°åupdateËØ≠Âè•ÔºåÂÜçÁÑ∂ÂêéÊâßË°åcommitËØ≠Âè•ÔºåÈÇ£‰∏äÈù¢ÁöÑupdateÊõ¥Êñ∞ÊµÅÁ®ã‰πãÂâç-Âì™‰∫õÊòØupdateËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑÔºåÂì™‰∫õÊòØcommitËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑ" class="headerlink" title="ÊâãÂä®Áî®beginÂºÄÂêØ‰∫ãÂä°ÔºåÁÑ∂ÂêéÊâßË°åupdateËØ≠Âè•ÔºåÂÜçÁÑ∂ÂêéÊâßË°åcommitËØ≠Âè•ÔºåÈÇ£‰∏äÈù¢ÁöÑupdateÊõ¥Êñ∞ÊµÅÁ®ã‰πãÂâç Âì™‰∫õÊòØupdateËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑÔºåÂì™‰∫õÊòØcommitËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑ?"></a><strong>ÊâãÂä®Áî®beginÂºÄÂêØ‰∫ãÂä°ÔºåÁÑ∂ÂêéÊâßË°åupdateËØ≠Âè•ÔºåÂÜçÁÑ∂ÂêéÊâßË°åcommitËØ≠Âè•ÔºåÈÇ£‰∏äÈù¢ÁöÑupdateÊõ¥Êñ∞ÊµÅÁ®ã‰πãÂâç Âì™‰∫õÊòØupdateËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑÔºåÂì™‰∫õÊòØcommitËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑ?</strong></h3><blockquote>
<p>‰∫ãÂÆû‰∏äÔºåredo logÂú®ÂÜÖÂ≠ò‰∏≠Êúâ‰∏Ä‰∏™<code>redo log buffer</code>,binlog ‰πüÊúâ‰∏Ä‰∏™<code>binlog cache</code>.ÊâÄ‰ª•Âú®ÊâãÂä®ÂºÄÂêØÁöÑ‰∫ãÂä°‰∏≠Ôºå‰Ω†ÊâßË°åsqlËØ≠Âè•ÔºåÂÖ∂ÂÆûÊòØÂÜôÂà∞<code>redo log buffer</code>Âíå<code>binlog cache</code>‰∏≠ÂéªÁöÑ(ËÇØÂÆö‰∏çÂèØËÉΩÊòØÁõ¥Êé•ÂÜôÁ£ÅÁõòÊó•ÂøóÔºå‰∏Ä‰∏™ÊòØÊÄßËÉΩÂ∑Æ‰∏Ä‰∏™ÊòØÂõûÊªöÁöÑÊó∂ÂÄô‰∏çÂèØËÉΩÂéªÂõûÊªöÁ£ÅÁõòÊó•ÂøóÂêß)ÔºåÁÑ∂ÂêéÂΩì‰Ω†ÊâßË°åcommitÁöÑÊó∂ÂÄôÔºåÈ¶ñÂÖàË¶ÅÂ∞Üredo logÁöÑÊèê‰∫§Áä∂ÊÄÅÁî±prepareÊîπ‰∏∫commitÁä∂ÊÄÅÔºåÁÑ∂ÂêéÂ∞±Ë¶ÅÊää<code>binlog cache</code>Âà∑Êñ∞Âà∞binlogÊó•Âøó(ÂèØËÉΩ‰πüÂè™ÊòØflushÂà∞Êìç‰ΩúÁ≥ªÁªüÁöÑpage cacheÔºåËøô‰∏™Â∞±Áúã‰Ω†ÁöÑmysqlÈÖçÁΩÆ)Ôºå<code>redo log buffer</code>Âà∑Êñ∞Âà∞redo log Êó•Âøó(Âà∑Êñ∞Êó∂Êú∫‰πüÊòØÂèØ‰ª•ÈÖçÁΩÆÁöÑ‰∏ÄÂÖ±Êúâ‰∏âÁßç)„ÄÇ Â¶ÇÊûú‰Ω†ÂõûÊªöÁöÑËØùÔºåÂ∞±Âè™Áî®Êää<code>binlog cache</code>Âíå<code>redo log buffer</code>‰∏≠ÁöÑÊï∞ÊçÆÊ∏ÖÈô§Â∞±Ë°å‰∫Ü„ÄÇ</p>
</blockquote>
<h3 id="Âú®updateËøáÁ®ã‰∏≠ÔºåmysqlÁ™ÅÁÑ∂ÂÆïÊú∫Ôºå‰ºöÂèëÁîü‰ªÄ‰πàÊÉÖÂÜµ"><a href="#Âú®updateËøáÁ®ã‰∏≠ÔºåmysqlÁ™ÅÁÑ∂ÂÆïÊú∫Ôºå‰ºöÂèëÁîü‰ªÄ‰πàÊÉÖÂÜµ" class="headerlink" title="Âú®updateËøáÁ®ã‰∏≠ÔºåmysqlÁ™ÅÁÑ∂ÂÆïÊú∫Ôºå‰ºöÂèëÁîü‰ªÄ‰πàÊÉÖÂÜµ?"></a>Âú®updateËøáÁ®ã‰∏≠ÔºåmysqlÁ™ÅÁÑ∂ÂÆïÊú∫Ôºå‰ºöÂèëÁîü‰ªÄ‰πàÊÉÖÂÜµ?</h3><ol>
<li>Â¶ÇÊûúredologÂÜôÂÖ•‰∫ÜÔºåÂ§Ñ‰∫éprepareÁä∂ÊÄÅÔºåbinlogËøòÊ≤°ÂÜôÂÖ•ÔºåÈÇ£‰πàÂÆïÊú∫ÈáçÂêØÂêéÔºåredolog‰∏≠ÁöÑËøô‰∏™‰∫ãÂä°Â∞±Áõ¥Êé•ÂõûÊªö‰∫Ü„ÄÇ</li>
<li>Â¶ÇÊûúredologÂÜôÂÖ•‰∫ÜÔºåbinlog‰πüÂÜôÂÖ•‰∫ÜÔºå‰ΩÜredologËøòÊ≤°ÊúâÊõ¥Êñ∞‰∏∫commitÁä∂ÊÄÅÔºåÈÇ£‰πàÂÆïÊú∫ÈáçÂêØ‰ª•ÂêéÔºåmysql‰ºöÂéªÊ£ÄÊü•ÂØπÂ∫î‰∫ãÂä°Âú®binlog‰∏≠ÊòØÂê¶ÂÆåÊï¥„ÄÇÂ¶ÇÊûúÊòØÔºåÂ∞±Êèê‰∫§‰∫ãÂä°ÔºõÂ¶ÇÊûú‰∏çÊòØÔºåÂ∞±ÂõûÊªö‰∫ãÂä°„ÄÇ (redologÂ§Ñ‰∫éprepareÁä∂ÊÄÅÔºåbinlogÂÆåÊï¥ÂêØÂä®Êó∂Â∞±Êèê‰∫§‰∫ãÂä°Ôºå‰∏∫Âï•Ë¶ÅËøô‰πàËÆæËÆ°? ‰∏ªË¶ÅÊòØÂõ†‰∏∫binlogÂÜôÂÖ•‰∫ÜÔºåÈÇ£‰πàÂ∞±‰ºöË¢´‰ªéÂ∫ìÊàñËÄÖÁî®Ëøô‰∏™binlogÊÅ¢Â§çÂá∫Êù•ÁöÑÂ∫ì‰ΩøÁî®Ôºå‰∏∫‰∫ÜÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÂ∞±ÈááÁî®‰∫ÜËøô‰∏™Á≠ñÁï•)Ôºåredo logÂíåbinlogÊòØÈÄöËøáxidËøô‰∏™Â≠óÊÆµÂÖ≥ËÅîËµ∑Êù•ÁöÑ„ÄÇ</li>
</ol>
<p>‰ΩúËÄÖÔºöÊöÇÂÅú‰∏∂ÁÆó‰∏çÁÆóÊîæÂºÉ<br>ÈìæÊé•Ôºö<a href="https://www.nowcoder.com/discuss/810539?source_id=profile_create_nctrack&amp;channel=-1" target="_blank" rel="noopener">https://www.nowcoder.com/discuss/810539?source_id=profile_create_nctrack&amp;channel=-1</a><br>Êù•Ê∫êÔºöÁâõÂÆ¢ÁΩë</p>

        </div>
        
<blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2022-03-17T13:09:18.599Z" itemprop="dateUpdated">2022-03-17 21:09:18</time>
</span><br>


        
        ËΩ¨ËΩΩÊ≥®ÊòéÂá∫Â§ÑÔºåÂéüÊñáÂú∞ÂùÄÔºö<a href="/2022/02/14/mysql-notes/" target="_blank" rel="external">https://github.com/missionOdd/2022/02/14/mysql-notes/</a>
        
    </div>
    <div class="mdui-chip" id="accost-btn">
      <span class="mdui-chip-icon mdui-color-red-a700"><i class="mdui-icon material-icons">&#xe311;</i></span>
      <span class="mdui-chip-title">Accost</span>
    </div>
    <footer>
      <div class="mdui-chip">
        <a href="https://github.com/missionOdd">
            <img src="/img/avatar.jpg" alt="Missionary">
             About Missionary
        </a>
        </div>
    </footer>
</blockquote>


        
            <div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">Ëµè</a>
</div>

            
        
        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MYSQL/">MYSQL</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/‰ºòÂåñ/">‰ºòÂåñ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ÂéüÁêÜ/">ÂéüÁêÜ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ÊäÄÊúØ/">ÊäÄÊúØ</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://github.com/missionOdd/2022/02/14/mysql-notes/&title=„ÄäMYSQL| MYSQL‰ºòÂåñÊÄùË∑Ø+Áü•ËØÜÁÇπÊ¢≥ÁêÜ„Äã ‚Äî üéâ Missionary's Blog üòÜ&pic=https://github.com/missionOdd/img/avatar.jpg" data-title="ÂæÆÂçö">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="ÂæÆ‰ø°">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://github.com/missionOdd/2022/02/14/mysql-notes/&title=„ÄäMYSQL| MYSQL‰ºòÂåñÊÄùË∑Ø+Áü•ËØÜÁÇπÊ¢≥ÁêÜ„Äã ‚Äî üéâ Missionary's Blog üòÜ&source=WebÂêéÁ´Ø/JavaÂú®Â≠¶/ÂçïË∫´" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
            <div class="mdui-container">
  <div class="mdui-tab" id="tab">
    <a href="#tab1-content" id="tab1" class="mdui-ripple">Ê∏∏ÂÆ¢Áî®Êà∑</a>
    <a href="#tab2-content" id="tab2" class="mdui-tab-active mdui-ripple">GitHubË¥¶Êà∑</a>
  </div>

  <div id="tab1-content" class="mdui-p-a-2">
    
      <div id="comment" style=""></div>

  </div>
  <div id="tab2-content" class="mdui-p-a-2">
    
          
    <div onclick="ShowGitment()" id="gitment-display-button" style="display: block;">
        <span>ÊòæÁ§∫ Gitment ËØÑËÆ∫</span>
    </div>
    <div id="gitment" class="hide"></div>


    
  </div>

</div>

        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="prev">
      <a href="/2022/02/15/p7-interview-skills-1/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">Èù¢Áªè | Âü∫Á°ÄÈù¢+Ë∞É‰ºòÁªèÈ™åÔºåÈ´òP7ÂºÄÂèë‰∏ÄÈù¢ÊëòÂΩïÁ¨îËÆ∞</h4>
      </a>
    </div>
  

  
    <div class="next">
      <a href="/2022/02/12/p8-interview-skills-2/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Èù¢Áªè | ÁªìÂêà‰∏öÂä°ÔºåÊ≠•Ê≠•Ê∑±ÂÖ•ÔºåP8Êû∂ÊûÑÂ∏à‰∫åÈù¢ÊëòÂΩïÁ¨îËÆ∞</h4>
      </a>
    </div>
  
</nav>


    
    
        <aside class="post-widget">
            <nav class="post-toc-wrap" id="post-toc">
                <strong>ÁõÆÂΩï</strong>
                <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ÂâçË®Ä"><span class="post-toc-number">1.</span> <span class="post-toc-text">ÂâçË®Ä</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Á¥¢Âºï"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">Á¥¢Âºï</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QÔºö‰ªÄ‰πàÊÉÖÂÜµÁ¥¢ÂºïÂ§±ÊïàÔºü"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">QÔºö‰ªÄ‰πàÊÉÖÂÜµÁ¥¢ÂºïÂ§±ÊïàÔºü</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#MysqlÈîÅ"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">MysqlÈîÅ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#MVCCÊ¶ÇÂøµ"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">MVCCÊ¶ÇÂøµ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÈîÅ"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">ÈîÅ</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Êó•ÂøóÁ≥ªÁªü"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">Êó•ÂøóÁ≥ªÁªü</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#ÂÖ∂‰ªñÁöÑÈóÆÈ¢ò"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">ÂÖ∂‰ªñÁöÑÈóÆÈ¢ò</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QÔºöÊâßË°åËÆ°ÂàíÔºü"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text">QÔºöÊâßË°åËÆ°ÂàíÔºü</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QÔºöÂ§ßË°®ÊÄé‰πà‰ºòÂåñÔºü"><span class="post-toc-number">1.4.2.</span> <span class="post-toc-text">QÔºöÂ§ßË°®ÊÄé‰πà‰ºòÂåñÔºü</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Q-‰∏ÄÊù°ËØ≠Âè•ÁöÑÊâßË°åËøáÁ®ãÔºü"><span class="post-toc-number">1.4.3.</span> <span class="post-toc-text">Q:‰∏ÄÊù°ËØ≠Âè•ÁöÑÊâßË°åËøáÁ®ãÔºü</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Q-ÔºöÈáçÂÅöÊó•ÂøóÂà∑Êñ∞Âà∞Á£ÅÁõòÁöÑÁ≠ñÁï•ÊúâÂá†ÁßçÔºåÊúâ‰ªÄ‰πà‰ºòÂä£Ôºü"><span class="post-toc-number">1.4.4.</span> <span class="post-toc-text">Q ÔºöÈáçÂÅöÊó•ÂøóÂà∑Êñ∞Âà∞Á£ÅÁõòÁöÑÁ≠ñÁï•ÊúâÂá†ÁßçÔºåÊúâ‰ªÄ‰πà‰ºòÂä£Ôºü</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QÔºöpurge-Êìç‰ΩúÊúâ‰ªÄ‰πà‰ΩúÁî®-MySQL-ÁØá-deleteÂíåupdateÊìç‰ΩúÂèØËÉΩÂπ∂‰∏çÁõ¥Êé•Âà†Èô§ÂéüÊúâÁöÑÊï∞ÊçÆ„ÄÇ"><span class="post-toc-number">1.4.5.</span> <span class="post-toc-text">QÔºöpurge Êìç‰ΩúÊúâ‰ªÄ‰πà‰ΩúÁî® MySQL ÁØá deleteÂíåupdateÊìç‰ΩúÂèØËÉΩÂπ∂‰∏çÁõ¥Êé•Âà†Èô§ÂéüÊúâÁöÑÊï∞ÊçÆ„ÄÇ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QÔºöËØ¥ËØ¥‰∏ª‰ªéÂ§çÂà∂ÁöÑÂ∑•‰ΩúÂéüÁêÜ"><span class="post-toc-number">1.4.6.</span> <span class="post-toc-text">QÔºöËØ¥ËØ¥‰∏ª‰ªéÂ§çÂà∂ÁöÑÂ∑•‰ΩúÂéüÁêÜ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QÔºö‰∏ª‰ªéÂ§çÂà∂bin-log-Êó•ÂøóÊúâÂá†ÁßçËÆ∞ÂΩïÊñπÂºè"><span class="post-toc-number">1.4.7.</span> <span class="post-toc-text">QÔºö‰∏ª‰ªéÂ§çÂà∂bin log Êó•ÂøóÊúâÂá†ÁßçËÆ∞ÂΩïÊñπÂºè</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QÔºö-‰∏ª‰ªéÂ§çÂà∂ÊúâÂá†ÁßçÊñπÂºèÔºü"><span class="post-toc-number">1.4.8.</span> <span class="post-toc-text">QÔºö ‰∏ª‰ªéÂ§çÂà∂ÊúâÂá†ÁßçÊñπÂºèÔºü</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#QÔºöInnodb-Âíå-mylsam-Â≠òÂÇ®ÂºïÊìéÁöÑÂå∫Âà´"><span class="post-toc-number">1.4.9.</span> <span class="post-toc-text">QÔºöInnodb Âíå mylsam Â≠òÂÇ®ÂºïÊìéÁöÑÂå∫Âà´</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#ÊâãÂä®Áî®beginÂºÄÂêØ‰∫ãÂä°ÔºåÁÑ∂ÂêéÊâßË°åupdateËØ≠Âè•ÔºåÂÜçÁÑ∂ÂêéÊâßË°åcommitËØ≠Âè•ÔºåÈÇ£‰∏äÈù¢ÁöÑupdateÊõ¥Êñ∞ÊµÅÁ®ã‰πãÂâç-Âì™‰∫õÊòØupdateËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑÔºåÂì™‰∫õÊòØcommitËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑ"><span class="post-toc-number">1.4.10.</span> <span class="post-toc-text">ÊâãÂä®Áî®beginÂºÄÂêØ‰∫ãÂä°ÔºåÁÑ∂ÂêéÊâßË°åupdateËØ≠Âè•ÔºåÂÜçÁÑ∂ÂêéÊâßË°åcommitËØ≠Âè•ÔºåÈÇ£‰∏äÈù¢ÁöÑupdateÊõ¥Êñ∞ÊµÅÁ®ã‰πãÂâç Âì™‰∫õÊòØupdateËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑÔºåÂì™‰∫õÊòØcommitËØ≠Âè•ÊâßË°å‰πãÂêéÂÅöÁöÑ?</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Âú®updateËøáÁ®ã‰∏≠ÔºåmysqlÁ™ÅÁÑ∂ÂÆïÊú∫Ôºå‰ºöÂèëÁîü‰ªÄ‰πàÊÉÖÂÜµ"><span class="post-toc-number">1.4.11.</span> <span class="post-toc-text">Âú®updateËøáÁ®ã‰∏≠ÔºåmysqlÁ™ÅÁÑ∂ÂÆïÊú∫Ôºå‰ºöÂèëÁîü‰ªÄ‰πàÊÉÖÂÜµ?</span></a></li></ol></li></ol></li></ol>
            </nav>
            <div class="toc-bar"><div>
        </aside>
    

</article>

    <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        Êàë‰ª¨‰∏ÄËµ∑Êù•ËÆ©Ëøô‰∏™‰∏ñÁïåÊúâË∂£‰∏ÄÁÇπ
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/reward-wechat.jpg" alt="ÊâìËµè‰∫åÁª¥Á†Å">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/reward-wechat.jpg" data-alipay="/img/reward-alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">ÂæÆ‰ø°</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">ÊîØ‰ªòÂÆù</span>
            </div>
        </label>
        
    </div>
</div>

    

</div>

    </main>
    <footer class="footer ">
    
    <div class="top">
        
            <p>
    <span>LinksÔºö</span>
    
    <span class="blogroll-item">
        <a href="https://github.com/missionOdd" target="_blank">HOME</a>
    </span>
    
</p>

        
    </div>
    
    <div class="mdui-bottom-nav">
  <a href="javascript:;" class="mdui-ripple mdui-bottom-nav-active">
    <i class="mdui-icon material-icons">history</i>
    <label>Recents</label>
  </a>
  <a href="javascript:;" class="mdui-ripple">
    <i class="mdui-icon material-icons">favorite</i>
    <label>Favorites</label>
  </a>
  <a href="javascript:;" class="mdui-ripple">
    <i class="mdui-icon material-icons">&#xe80e;</i>
    <label>Hot</label>
  </a>

</div>
    <div class="bottom">
        <p>
            <span>
                Missionary &copy; 2018 - 2022
            </span>
           	
           	<span>
           		<a href="http://www.miitbeian.gov.cn/" target="_blank">Á≤§ICPÂ§á19008953Âè∑</a>
           	</span>
           	

            

            <span>
	            Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/codefine/hexo-theme-mellow" target="_blank">mellow</a>
            </span>
            

            
            <span>
	            Hosted by <a href="https://coding.net/pages" target="_blank">Coding Pages</a>
            </span>
            


        </p>
        <p>
          
              
<span class="site-uv" title="ÊÄªËÆøÂÆ¢Èáè">
    <i class="icon icon-user"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_uv"></i>
</span>


<span class="site-pv" title="ÊÄªËÆøÈóÆÈáè">
    <i class="icon icon-eye"></i>
    <i class="busuanzi-value" id="busuanzi_value_site_pv"></i>
</span>


          
          <span id="timeDate">ËΩΩÂÖ•Â§©Êï∞...</span><span id="times">ËΩΩÂÖ•Êó∂ÂàÜÁßí...</span>
          <script>
              var now = new Date();
              function createtime() {
                  var grt= new Date("09/15/2018 12:49:00");//Ê≠§Â§Ñ‰øÆÊîπ‰Ω†ÁöÑÂª∫Á´ôÊó∂Èó¥ÊàñËÄÖÁΩëÁ´ô‰∏äÁ∫øÊó∂Èó¥
                  now.setTime(now.getTime()+250);
                  days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
                  hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
                  if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
                  mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
                  seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
                  snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
                  document.getElementById("timeDate").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å "+dnum+" Â§© ";
                  document.getElementById("times").innerHTML = hnum + " Â∞èÊó∂ " + mnum + " ÂàÜ " + snum + " Áßí";
              }
          setInterval("createtime()",250);
          </script>
        </p>
    </div>

</footer>

    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light mdui-ripple"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=https://github.com/missionOdd/2022/02/14/mysql-notes/&title=„ÄäMYSQL| MYSQL‰ºòÂåñÊÄùË∑Ø+Áü•ËØÜÁÇπÊ¢≥ÁêÜ„Äã ‚Äî üéâ Missionary's Blog üòÜ&pic=https://github.com/missionOdd/img/avatar.jpg" data-title="ÂæÆÂçö">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="ÂæÆ‰ø°">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=https://github.com/missionOdd/2022/02/14/mysql-notes/&title=„ÄäMYSQL| MYSQL‰ºòÂåñÊÄùË∑Ø+Áü•ËØÜÁÇπÊ¢≥ÁêÜ„Äã ‚Äî üéâ Missionary's Blog üòÜ&source=WebÂêéÁ´Ø/JavaÂú®Â≠¶/ÂçïË∫´" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>Êâ´‰∏ÄÊâ´ÔºåÂàÜ‰∫´Âà∞ÂæÆ‰ø°</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACKUlEQVR42u3aS07EQAwFwLn/pUFihYSGPNsdRLorq0gMnVQWln+vV3x9fF3f7/Pr5wnJya87LgwMjMcyqi+R3787591fq58MAwPjNEY1yFajX/Lhfv80F++MgYGB0UrsEkYSoDEwMDDmATd/9SQoY2BgYEyK2KRkTRp2eXC/pRbHwMB4IKM3GPib+9vnGxgYGP+e0RtG5o2ztU9/+ywMDIytGb+Xl0l612MkZXCSkhYOxcDA2IKxas0r/zTVQcItCSIGBsYDGdURZjVZzJcwqm+LgYGxN2MewXoBOjlncTMOAwPjsYz5skVyTm85LF/RwMDAOIeRvHq+tpUPLBcsjWFgYGzNWNW56rXn8iSyuoiGgYGxE6Oa8K1qvVWfjoGBcSajOpLslbu9sFv4PQYGxtaMSVOs+r/l0WPxWRgYGHszqknhZEVskoBGGS4GBsZ2jLK4lcbNE83yDBYDA2Mjxmh60Fq2yJ9VXu/AwMA4hpEvpOYPy5PCfHR6EXAxMDA2YuSvOwm1k4QyKpUxMDAOYFRbbHlhmSR2vVXXQrsNAwPj4Yy8iO2lidUTqsEdAwPjBMakfM0b93nYzYM4BgbGOYxJmZosiq09ubrkgYGBsRMjCbLVpth8/at6DgYGxgmMSVu/WpoursIxMDAwWuladUiQl8EXOyMYGBgYgysZVeaf4O0IEwMDY2tGb6livmZRTR8vAi4GBsamjF77vheg87B7CwYDA+N5jE9drbwqqBhkygAAAABJRU5ErkJggg==" alt="ÂæÆ‰ø°ÂàÜ‰∫´‰∫åÁª¥Á†Å">
</div>



    
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas>
   <script type="text/javascript" src="//cdnjs.cat.net/ajax/libs/animejs/2.2.0/anime.min.js"></script>
   <script type="text/javascript" src="/js/plugins/fireworks.js?v=1.4.4"></script>


    <!-- main-js -->
<script type="text/javascript" src="//cdnjs.cat.net/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.4.4"></script>
<script type="text/javascript" src="/js/plugins/ios-orientationchange-fix.js?v=1.4.4"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.js"></script>

<script type="text/javascript" src="//cdnjs.cat.net/ajax/libs/node-waves/0.7.4/waves.min.js"></script>

<script type="text/javascript" src="/js/method.js?v=1.4.4"></script>
<script type="text/javascript" src="/js/blog.js?v=1.4.4"></script>

<!-- third-party -->




<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?18b812f3375b09bd66be7e3a46d7cc2d";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>



<script type="text/javascript" src="/js/plugins/local_search.js?v=1.4.4"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script>



<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    
        <script type="text/javascript" src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script type="text/javascript" src="/js/plugins/valine.js?v=1.4.4"></script>

    
    
        <script type="text/javascript" src="/js/plugins/gitmint.browser.js?v=1.4.4"></script>
<script type="text/javascript" src="/js/plugins/gitment.js?v=1.4.4"></script>
    





    <!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdnjs.cat.net/ajax/libs/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>




    <script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = 'Á≠â‰Ω†ÂõûÊù•ÔºÅ';
                clearTimeout(titleTime);
            } else {
                document.title = '(„Å§„Çß‚äÇ)Ê¨¢Ëøé!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>




    <script type="text/javascript">
  daovoice('init', {
    app_id: "8997440a"
  });
  daovoice('update');
</script>


    <script src="//cdnjs.cat.net/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script type="text/javascript" src="/js/custom.js?v=1.4.4"></script>
<script src="//cdnjs.loli.net/ajax/libs/mdui/0.4.1/js/mdui.min.js"></script>
<script src="//cdnjs.cat.net/ajax/libs/photoswipe/4.1.2/photoswipe.min.js"></script>
<script src="//cdnjs.cat.net/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js"></script>

<script type="text/javascript">
jQuery.noConflict();     //Â∞ÜÂèòÈáè$ÁöÑÊéßÂà∂ÊùÉËÆ©Ê∏°
</script>
<script type="text/javascript" color="213,0,0" opacity='0.7' zIndex="-2" count="20" src="//cdnjs.cat.net/ajax/libs/canvas-nest.js/1.0.1/canvas-nest.min.js"></script>
<!-- <script type="text/javascript">

jQuery(function($){


});
</script> -->

</body>
</html>
