<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>üéâ Missionary&#39;s Blog üòÜ</title>
  
  <subtitle>Missionary ‰∏≠ÂõΩ üëã</subtitle>
  <link href="https://github.com/missionOdd/atom.xml" rel="self"/>
  
  <link href="https://github.com/missionOdd/"/>
  <updated>2022-02-20T16:43:40.211Z</updated>
  <id>https://github.com/missionOdd/</id>
  
  <author>
    <name>Missionary</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Èù¢Áªè | Âü∫Á°ÄÈù¢+Ë∞É‰ºòÁªèÈ™åÔºåÈ´òP7ÂºÄÂèë‰∏ÄÈù¢ÊëòÂΩïÁ¨îËÆ∞</title>
    <link href="https://github.com/missionOdd/2022/02/15/p7-interview-skills-1/"/>
    <id>https://github.com/missionOdd/2022/02/15/p7-interview-skills-1/</id>
    <published>2022-02-15T07:50:37.000Z</published>
    <updated>2022-02-20T16:43:40.211Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="6cbcc5cd8a23a7aa187c266bf6df1e949f600162f5905b069da8fc49a1e8a45e">4c4fd9e09482e311844f0584b2bdee0d161fcfef30e9a8b92a83c9a32f76ed99a2bd1ac35892d3b01fad95391022b7f8c49854b431a7e21c3a9092d9729291ace0ae2cc5dd095c2ebe575ae870d4c6012b88730018f3ff09d93dfcdcd3ef1a226ed49cf9a99927f4ed5d420af3d8bc3a436d0e736b2df3c1395ca1fd324cc4f567c8a49d8a12e4b48f121cd842cce9a5ea2c8dd2d80efcd94038be1e7c71d65cdb27138fe09c0dc6f64237e253bde394a1ee4145bb30b6919a2b0096eb4b9159a2fc2fe2478dad9c5b1c433573b21e4643bb3de19c76a5a6529386c849d401c74fca4f3b71f3ec502e2bf609dddf688fed2c30881bdce0e6b39bde1b0dc2b43b19e7fec665fd4f7e4cb35a1aedef7689beb27d6ae4c4ce76389e1e2ea6724610332496be121961456392676b1593174d0a754ed824334f3b405b9d1b8f41d9a96291b7045bfbc8fc9f0f271d123a4791c5ce514582380b631b62eca92679b7e669bea9f6da582f2584cd6f03d8d2e2032a6696fd83698c5a6b29269dd0c1daa652a2fda7b3bfc8bbef2682585d352b34abda47f01ad97ccf2c81d1d53553bdb1e8e832e4b7a54716fc824b44d649e26d0037faaf12883e36ee4f33c5c1e09c372ae3f5d3c9595dc4cf10466b35fa1e60b1d5752c7ce9cdd463904cc84a59b65fd53828ae95d6042b7b946858d8c8424587be88003f051ee7c15f2f1863a253f1219214b5837a507c060ee1a7f5bd4f5d43371b6c10617a89be8f6dccd9f1d963518d52e9ed6001ad985f07242e31d3ccc238f2cffc775f75c6392fec48d163f0e52a91dac59889a487844dacdb0ab0966f3db551ee4a870a28a610ca292b40d1f35630f446e44cd721084de26f84237d1f7ecd21d459f06c3f5825d134f12d3ec77cd133e4982a6086ad601f0a58a769070dd2eee9140a80fa93484dac6e3d5de5e9be4690ee697323f500b3ec9ea13ace3dbe2cf09b6161a72e2f9b0d6f72da7f17a8cdd485ec22edec651db46a739314e2a7d1a3ec204921ddb65fbce8850db2b9d255e938b0d611f7f99dfcfda7dae4217d0e22bf72f1817c71b4120803fce0f7698501f278c7467b27f708b9c7533012e226d86058479e372cae9a7576d024b5920a6b5b41c3a194847c950c3f0044052bf187e204f8fce2d8643e3ce7ec7c7b2e59f6b89b6788406d4c5114bd3dc0f268f47425786b512f585104bd761cddc456a8432ab5ccdaccd1a5c49b0ed5cbe0a82fa24179befbc8689fce88183fab05c377b62306bbd4de78571528ecaba9aba12b621d39a70c1ffff7ac179c012d002c236feeb6500df598a23d220691e0285451a7ad14d4ce1546266709a6340904ef611c8a99729b189499a93329ab4ba8a1340f0e6b406d81a70f0af1986c3345a20f0c2dc0c4daf42331a24b484cc339cb9d528872f86239eb3f478fbb8f6aa3ff3d21b558ac87b1974675cd048dc931e9ad1b318237b1068e433cca654ebcf1cf3015ea221848f433b3b8d2e78d7125d381d402ed4f6ff4c6091cc638ba4c61917e3ae743bef6f5d7d8485f3084fbeb655758cd655c7d6aeb82599c8b8f39a250aae148f60a1cb76474936f5c178c9c15487412913bb90aa49b2cd66daa348d8f5821252041c1ef7462244fb84fb4597df227be73518b25b9efe7005d9d8f3d83f893e53cfdfbe943c25620da58415c472b12bd70b611991ce88bed1c56ce9158cc2518223fc44bd8fe70c35f23b6caafd908514fcabb4b5734bf770f36b9b9d8888548fff572eeca2931b4a9cd8eb059857d7a7574317e674e71244fd0849530ffac7736642332cd63db439346581500562fa7c98f73d035d54b6c5e5498fa821c70171220c8588ae6f2b0aac450cb88946fca2ff246d08ccd93c97d05f220ada15ad0946cb29bad0e92bc14ca14ae3af232c05ef81d2c25b0a7e176628b1cdb9a6e71cf83abaed949eca68606674bba225f0d01804fce1a15f8e603c990d5e56b6fa7ad01cd0a7a9240d026603b02736d65ee64d8111739005cb5c80399559f9cc94daa5d40e4cf7490b2fba5b9c170dd8248a5862734bfca629f441676c1ca7ea18ea31d7bd400f87b7435c42abbcb47b896241edea6a94a7e49897168775b223f867ff18f1cc0a781fc282b3f19bc83f5cac9896b57f35c0b0da24fcf12da1a4ef2c79643b836eb000f14942d97fc34d0e27fac8aae2379ba007e2618b4a54b3daabeef6a67309a909fdce8e7170423dfc0f1ef0f42a3909636aadc817d86e81c2726a027debb1f441dafdfc54035372e58f21e0c9ca27b5965ab5a90f96874ebdb617514bbdbca97f70a1d0a367f0e34cb6c9263ae66b39bf617e884353927fc03f6857a0f259339b6e134a1c4f5664b814b13dcc17145a81ea5345b912a22521afa022a9cb862a1ec4141a4a77255d1ac32a93ae5962074da28205a70b9d44d03a033734a0ca6c8b5908ec9bfb74569463b1a1c640d0039c540a0034dedcb30cc37b76aaf6c208364f5f9f659414aafe7a48c6a07c89d86324cbb1bf0dcfb08a2b6b3b61a14ccffc53caf9938322a8c4fdfc07c6b704380a362d6d50c80b176440130ec49480d6ef64a4b968ca9f448a5c1bee71e640f92501c282ef1bb017ac994d22a6d36a099d34f97733d2751a0bf7c51da050a01847609d3ae9f8328ab2bc3004fb5caa516aa0f8a5e321d215d30a0d98de6d2183272a9762acf74ea4988a194bd62c3ef486dbdc68f151f488deb9c401b0397091a57ab116b59ef815d50104efaf0ba6992c0a40787c8019222263cb87406b0e6df011bd803eebfe00264f153e69295133abc699fc51c5e34dddded65d4300e189b5e93e25f6aac9ff1f73d433015b086340741db27828d3fe42c69821307112cf1dd0ce44a623bb0bb6c00564db5e3d3740bdbc9a6e6dc358f3aba682124a39fa87b09e85e3da632aba76e72646467b0f78d73bad1693c829759ab4a707e0ec3b1592f4b02b184649245154226dab4176c62b359fa09f2ae2f1e6176050fb29651932e4b2bb046c8065a8592b9d5ac05cdb469788fefec4ffa78a277ea01f95586d8af156f3c37c48d1d5c505e0373552d8f5cbcc85e1901413d10517b663363e72de0693fd4e04e5c129f831381ecb2df28fb165435bf5fb40bfbe70d98fea833b775864e966d8a47dfebaaf815448fa4249af2a75a8c6bece5d1bd66a7686340437715d0c3c91d7e7ca78e39cd770aef4bf713a8e3c2e7edb4a0ea113ae3ef6fcad5fab977590af3621a425ff112e207adba2ed5e6d9c79fa57f214996f084021ef0ad2cd7516d06806a4e021702ca37b3469fd3c921551a4808eed55bce6bc58d31a3d34ed3d9e5678e8e20d792a53bbda4ddaf506e92b166ef77e57fbc4c8b819fb3eb2b15c95a118003eecfc14bee2fd899c187488c5982cd4499bb4b1d8533a2d58d53ced9824f85f965b889b9172b1a73293552aa936264037d8a7133f1c3bd42e08c50df5c7bf91fea919c984bdf70cac5d84382c48ea8f4b7cdbd551f24a4c44689cb875ed299d28b6b0911120b6e17dccfd5b3ae7a1b1616cd887b2750d695691c63fd86074aa8587e349d5b39ad8ea90824b58923fbe05035bd5f44a5ab4428d8cee237f08951b28e1bea740553e7fc8529845a79a394e4e86b220edccf2c77d789d30828d1244c110374a2a36d55d6e2a74ac196f6813d8b3d7503bb5aca44c0da42e8c6e7ae89ca3206916959ff89a639de1a621e3fd7b787b72b1def32149c2c2341efe355cb3190ae5670e892cce23b78b206cbee94ea3f131a9e476108a31115f0a70a3d711fd371639986de32309c21e9640233f7dfe22199873d4946d04ce661e93f3861be5ad915b592b4f94ad0b83f27ea2aebb4544c3b0c1da5183b98d9d0a589714a3182dfe880f24c50a32e840a28f7a00d45967a108a48f4f51c568aa125d4116898bb3492a3c4aec179c55389920c97e6b32cf5dd614589ded670c230016fe386d61322f424f98acb08e8240a6d4eae0e6c5ce4bbe77a34475c117b13e019b8e2e59c245ad1a92baa44379228b968f22b5a471c9ba9a2d889ca290497bf0f05fb648871f77c6b0d1a74859beb4f2ca490372ed04b6607b5dc1228f46ad4ae8abf6cc86a1a706303c73be292249d2da01860cc504736902a5975b575e0c90455c0eecae8ed2166517f9e432954d4a0acadf9c4b11f5339b27608b5fe1702b064484552382cb010b6fa48008d75edfe0f707d117f1b051bad0407ca7e73a772c44c5a8b2a62464a1e33f51764639e9df331ce233133df2c8a08e0cc5006f629f0f68b79b5e75f23255e1900155e687505728d15e118210594978208d128db6d9e7bc80a1ee8521dcebd5ff1fc971bd465312024ad0013f75ba4bfbebf559ad0b82f49893a329c0fcac219d33891bdd746881e4ef968c084f155d90bdce3d49e90c4e8af3aea11f40cf0e31d2ae9ad6ec817689b3f3a7d1f5484b4cd8d0b4a0b08c8c09d39de7b5e0159baeb2d4a9aea52bbb19b66b914802e9c7a728f1ad6a2a4fa36c424f9fc6e5055703da61318717fc6d82ada04c76d011b620f2ab403f2e08e125cae53b49bd659e6619d0ccf8b1081e9e88773542a4ef3ee99042ad80aa396ffe0dc7add28c013c95f3988f3fb305c1220cc384b9c8fac2f8a854e8472ba0813b89e15981876b0dfc7c52c6a420eb5ff2d454fdb47b9dfe63025817f1e876bdae78b0d7764d3ef28c4e98296179a23763d8c18fd4af57920ce2deedc1a0cd8121fcc697d5f86da31d02fe9b50a2469f43db384dbc7d3363c7d2a73c9aeacc4d115a0feebf2bed24f45767ec2952135c38dfe703e615e6284579febff4c68e0795b9fd8034d2c2d9453c4408296ead907e2b38759c06e29f0f764ca537357963bababd0a9752fba6c481522c79c73ef180e83b810f3bb1e5c220742a52072eadf29ff863498e6fc2d71db9c0987207757d96d2b253ca41df2235d06198e6f1782fd91b9a05104b6e5f80a693d74781532a210863012376053b37b0e547ccedc68b13be29cb44b7d15587a43fe024283c12a4a70dd227464490df955f2368111ea2517bff5a8f6e59bf05b482e5f291d2bc8af3f650774781e6122115431d98f9c6d2dec69210db48a2492fc4a43954eff52e438333d3fe947ef9d4882bd278b6249e2a878564b3f6ed19302bc83a70d5cef136c778d2da6fe542775cdf95c09a273302703e13b9a989725a45f74eab9fe5f2457fe7c947be543542baf8e051ea8dafb46b3e45e6286261dd1f2b9b71ee05245708394cd5763ec1fee4e6147f30ef593794230519cca8dd1c6211636d23f9b806ec5cad37ee23e067cad2a3357c9bacaa9982b5f3c347dcfe274fce5117261e767dab30ad3dafd6f01b2a69a89f8794c39c58b7ee657b4ee34fb8d8e56c1f36d106cd5478d99f82549f105a38ba9449f94460bf4b8e83f66ceb15f54807e6faeb0487e0d60911f1dd7fd45d7bf8de895d929a0c619f6add8a6cbda34ff3f645d497ecebc180ff5cf524ae36ddb6460d216e5230e486fa82aa897ae2ab2b52835baa4fa19412f598c9f8591bf0491ae9becad733b10547e28f69d099c100180b70f36b726bc71cba0c3edbf5929da27634f47036557229e7a534e352adc13a5d8465a765add155f7d040fd7d2f98164d3639e713f694269f077f4753ad9f029e77dfaad4fcd2cfe9260e777ca3f7e6d63f73cb72a91549fb8d9b7c75c0cfcd78cbdb543fec934f8b92de57b307ada9b52ff3dc24cb302ddc3e87273113077bfbde89be4a0645853423afe813c386de977cfd25433e6ebe231ce844f77d04e32e3b1603cfbef4636c359127a4ace550d9e99fbf02a552dcced6aa339e6db38bec7f8250298248506c87a2b8e30ac6391b1912f35b7d56ae2dd7eacdcbaba76be9274a4634f6eccfdf10575e308b3676912cbb337710d43cae6674333eeaed0fb7b0ee970dc161f866b9133700cf9fe08e67069f72e2b6077b24c6e27acf1e199d274dead127f1943e9e7ac1fee142e7eabc0d7d1d8382a73ccf4f4d514fce9200724ff3fc641ad4f078aca4b6e4b1840416bca5ed192ca1af02906a0fd878b4da16f17e9966f32c308cfd76150bccc92e3d44fc657d142e7d59c33ad478842d85b868b1623242a04d365d7c5ac36a037b422282501e625599deb47ee65e0bec9c0d45318b06ade3735a7feacded8831b109ef4698f2314672d4f648cf68e695fa6338a9cb9c99aa6999963d83e602fb2a133117ef0f680d0433b5176192fa3730b19b23b9693d17567c47e02a2957b61c56f2b02cae4b30103d6ecad95b49717a2df7c916b844651807bee0ef4c6994f324b629cf897716f3551fd158b44ffdc10dbba60ea70b085993c42d51d13a77053abdc4bbb6a9a8795c8faed7aaf4b3cba074b230879125c8ec2c96e0ca38882764347a9aae79774fae6be9bb2191589a2fe65840ad621ba4949e341f5c4711033aff7c1c88e5907affbe394f3aec44ee99c2694a6f4bfa5130dd9a05f68d1feb3dc6bf103abcc09ac61f4f70147eb41c4192562592561b71bf202b8944746558500ed006fd7ef2ceb1b7e8b389bc0d2f2caa594637cfb9f188ce00433f15baa8e339a248452376fdc30583b3848a88c6ce406e9430a04941837396f98a92b625983d5bc7f8b62a7a4c69677faf46174e9ddee7b3a4cfd198923a6a7c2c8ee450981821f2a41c0371494618c7e370a161accb2a48ce1481e9109243bdc47bbb3eed430f26328954381ae4f61efbb470373cbd9395c501e19c21a1987c3e121c0d0241db580a9ae7ea478d3a65ea719103e2fa3294a86e53c47d5b27d0b9a7f7fd3fc18377a752dd02b6cc11690d9893e7731e0ff99f5431e136fed63bdc24d07e1c09fab36f4b8b83ce17dd95fe0016c10fcc6783c224bc1269d94ffe8cc2d6bd249a851350a391af680968c503eb9215016cb08d58afa38c5d0adf81636862386e64829bc5afbb30c3d5b780d6f9cf3d21fdc36ea44426b9c1797a31a2d2c910ca71a48aa90c3b83d2d497202c6300cac816136432711700f5d9e11d92d65235208dce121db45c62ff72eac974f0617cd7934fc10b21fe046634fe9ae4b476c5bd26c51a380b74684f0e86a7f986123c8ff2844fb14c6d48e2c4fef6ffdf07e5bccb60593a8a40e9fbfbe1593b7a24841e2131c43bd700a2f8a334c1d5741e73cbded33fb695b2c02f4c17edd7e0dd64b5d63641b482fc0429868962d806310d54e66571fb6d9c3b35f0f8d3c1b42075fc6c018e3fcab43e56727a86a44f2a9307f66f4ee834cc68e4159149fe0675dbbaae140f62958188228f04ec16ef93326c2c236f834b8f716daeb7cd7a99f181e8b4be38bc2740a53fee5a2eec633f96bb99d5100bcc4cc036ef0094aa53516e084ddd3c13f4fc8d2a73b5fa945f0f078218624599a4b268a47e6e859c3466318409aed83b01aff096559c47dd0c4e887fda5e073d684ce9e07d7a8625ea5ac518d67bb4c946b1adac0dcb3e1f6c20a72839d22b39e0dc0a0a34afde8b280838f14abf30dc49a6bda3765b868593941d50a052e47726aa00ef053e5f5d50b2d158f4746d4ad3c3fe082283ff6991dedcd67aca129a8e0e04d0c4bf4ea3832606307ee377922ce2f20e99a8db000a55ba739981dc6d3737dcb1ce862d1ba73a9667c203c3e741cb77b44ba2eed76c45197d75edc73e444fc4b892df2034babdc73fce9cd029073a68372ee02aec1421afe4803c75bfc813bfb8a0c74ede3f65e4adf2312c4d81c521f45250d5ac82571dd0c5c55cacc40f0e508f92d5e0b00782db09a0b633e1ee66624aa1ee7f277de87cecd21eb3697f09d7da9b3224aaa86f99e48bdbccedab405a38e5d36a4b6a4771fda54b050aff6b02a876f1cc6f6a95525890b80ca1c402b9ad3fe182559a8ed170269b81d4f01d466a262f3af3a05dc905f60b1e5b4aafa35c5981ff9e19267142364d7a81df63d4ccb1b6762d564dbdfae0ed87f71030e581cfb91e09855aae84c00eb36a1167ccb7e268ae38ccb52e3817198c9ddd6cb3d128a8070ee77c7ba9f32e4e2155336c496de4b1140a0d751917a5bb85eeb4c606d93045a66681722d5371652c6e3efdae8a5f562c4b465357d3c93138b7fe6858acae9e16b51a761b4ec00e63a0b35638c45fedb3cf30fece7f744d81d9c6b40935827aa6d2671226eeb7219e68d64563aed9a0639f2fc1197add9702f674aa9d167c5373f1c9242f50e32c60d0a659041780f31c8d371914ce7cddb8f4ec0e1a209465939a1ad032f7deedde5d61bfbc1aa71822c705bc99ead6795bdfd2812b94cd8bcae7a433432ef22906712a14efa29eedebfea96569e32780fa84bdd852fc03e7c869bd9f2280655a84e31b5ee81ff67632c4ec741b34fed810c5ddb4b403e5eb676ce16f27913a041f31b1a16c5c1002e44c22b86602838222f6f36bc249a7192b1b285b3a424d2aae46f984cf31b75ee7a659ab6f5de9b09c12c6f450ff7db0cc09b33d26c22d1840d0f1cf12e04854919cf525536c1f0ecf2fb13039f1e9b8bd91a56ed97fe4424a23a5e64abbba8a69ad4e00ff6e90e7d64ddded8a71e85d4fd4cb1531b0a2c2a0daefa10a748c0241478fb1a4e87898bcd704cc5c561d5a3de50a16a4f0c30ac94ac76382111948c640257f202469328eccf256326b40b1fec752b5bc8417e245a742f63024fe8a21388be2803396938b4b0ab2dca0a1dc711e19719dbdb3be23252a6a948d6624921855f47bdd51df2d2be4a5dcfc3c9be992616512479d07d6ecaf3b2d1cb68b87e341e3e1876065a1b27e235e18daab13a6f20f88883aaa3fb50c0fd31c95f883d3b02e99b0441ff83200ba402b961fab991d1455d493f96e71d554f17f3472bacc9af2f26160acc1fce8ba620140938d3242f2e767544c1bf83a4caf7ae0771a3fd6d577ec6e29baaf4f3c656ec1990e48349a0b578913c5100bcde704b8257494fddbb5d364907ade8d51753d679cb4207efc41a38ffee1592a185f1b79897ed0012f9a0de6318408b181d064e75b5a46cfbe8929642f5591fa1c697c53597ebe46282887dffb9b425a27b84a2e0121f001e73c5af879b40e3037908a946dd1471415b0e8fd6b811b468b0c1b84999ce47a6fa5c6c044227d9e2c5e205b8e9bb6ba58283119422f82f63d9f5af6ca2ea6ec83464a14a7d0de773ae7bdfc170df43b9b65b1b21e6d251e991ebf632dbac64913b1aa483bf468dabc9b009cba7fbf780cac808cdb4ddff68b5613307bbb556f1c1650572a9e91b4e0ee64e1fc01d5a276ca8d3820768a4d92b8f7e68d494ea8e195760d3192e6d08fb6a552372c28b130fa0a7383d8d5e6a571ec8f2c06b995d3b97bac7b5e9ce4fe37a7a71a0576c84f2b94178836db0de35cee0db2f602a706c602b69d9150c0d8749dfeda93c0ae8467a9f9871d9451649dba5d9b1e63e1faa7a67cd2f9a237368e6a01dd7d1b2fd1a46fb2a5749790b01f14308dcd8d47fefb3966a2b8489ad335746240bc8e2005c5c5f67b5761af1ec9aab44a64932c7a6d071387445760b28318f04bdd922a92dc3d83b7ab8676b89551f26780a61994465999c2d57ef611da063b03675813e0476d2d651e226f30cdf1a2d69413e7a4a3425593892be202a0d57f052f3134180d952564ef67851defd740b5c78cde6d8868ffb31ffc632bef68290d298edd7b3d427c8b19e00af6053b4c6717ef5b5acfc2f3a869b7bf5d9729704682c99c954f8ebf3436869e33e8d3fd5a93571063f57012492f4a3da0be65b7459060738e6cde8391570359ba560d4aa2025a1816923c975d931564f253e9395ec7ec0ff42c2e901f926c426d6d101e815e38bce52c0a6b1228e1e148a03cfb0429c784a6168ca1ab5f9758eddf9657a0941a69b26347e6b562728cb8f745d95d93ef93a9f65568963a8d305cc225098c2a8d6e440f3564299076a90d2f1bbac21e2b51ac418d615777219a83022e320a28bbe93bdb17f109cd6764001a9e99d1da41c7aa5dde675be4ec4a41956fda82aa481b1a21737da50d6c256cdbb2de1a86c7faa4eb8caa0151be616a64b820ed41c123818ca0c46291129ce9e31a66f63c9247a61f1d8f7569e9bdb7d42bc1fd402d684d3b6ff47c24a5a338366ec272d251df397bba354638f82f2ced2d99f2d090d0e8ab93a2bb64ae059e1319bb36029be2786cf33d5634b3ef990a8229119d92def9ead09f3ef67efa13d201587215a3d0703c3f56c4a1c55f22aca7474c69dee782f0b12140b01b21590e6bfc6fba54abc373728ae8f076fc8285c2485c38f57e37f70e7eb81ea7f3d56510ebcfe039e5e51b38e7f1deed024cb37a18ce5ea89d18260d6a7fb9f705eefbf7e3ee25f9848b5c63cb67e9bc482933268cc361a19c33a4796c1a5030869dac7a149754bcbbc58f03b9d2e576a0984d4e9c07ea648fff2a884779ee4c30c80234a7b8c1760b562f528e13f8c7e7157c2ceb86c1d500546de340695b0219322107d919693c751e84e3a82c6b8e58e97223df76e41832adbe8419e9a64a1b7297b366c4bc5d4fb7b15e43dab62d8291e168c6a4e54cc3307cbe9eb283ed0e8af86098efed4e8e4013ce4a16d3bd7668a1884be3ebee6de338e5727e1de425ad04efb17f00f939132750d1781597c38ce1510988d8efe2729bde026c6289c67d77e361e579b9122e65490b162ffe6f3e2d777516c891faf2eb747c454f8e362cea562ab7b82879ad4129c93c40110a11be8f00510287cc3974b046ed5c73482ad03e6cc497584c15486f1d08b0fee8daf463eda07a224e3cf2ddbe1b74f2b566b06d25fbbe0a4bd9cf378ecc092c70c47fb36d626e522ce5c69dd968c05ae6a2c491d26673a8537b724f611add529872598375e6f52411fd85b2e460aab8f0e580fdf5a4a745ff7a3aa507eb8ea88acaa19f7e51a3e424dc49385557aaf41a41a215aa4f9d0bf430193f845c631a8ca4a51801873d0a527c88e658dfc54923aaedfc175ecec763bb28ecfb663d5e644b2838aaad503c261a5b87d5a6b7c766a2eb6ff203527bb08239b2b28f69ac0b2a947148e6d8fa778194d56cb41e3e4841c3b63b4f05d3bcfe80ecfb2e0a7405c3e3a054fb791bb0ab4fb602f1f4b50a74246299697cce078859939bdd088ce5a0adc4076c4fcc9bd6ab6e88b2c176e7ee0d6e4ee22d385dc7ce177ccf0c812e761ee783b6b9e63748ba7daa81b19ceff3fb13b434b000a240b248ef506b2864d8f98d0b829dbaa4ac713460125a1ce900bf07ef57c4bf718150e054145086c923c3777ee039e4016494e13addfbf2e419180afeee0ad420dca7b86b26ff6c2fd5d61cb241b77fdd33a2b77760653f58c2bee8184792ec16fb02448aa459487e4c5b1d4fa9237aded1dded62a40d3cee08e79b60a3c3de46196e3ec53223ca2ec0f19d5ef3ec2cfdfa56753b960532dff7dcc54c39983ae93b67fbd82d91be1bbb15a9847922b44255fe47046086f6ad3455803139f2ca4a13cbf23dd2b0feaecd3c169d1cd6e8b286366408574545573724b476e2dd85fc8d73ef3d316b744d1fd8feb216583fa85ee6b1e8721000bad3e5482d792fabae096662678702388da27efcfa0384c6a4d4b4cea33367d3b17ca36f18f4f311eeec135569b1d2898fb3670f55f37e7f948151d1d119b109743c36cf756059af46718d9e11f48d53c8c9cf3387bcd8617b248ff67462b2088132cf24273fc8b041e10079cf5e87995527af17048d31736f68f6fa58a4597d137f3ec802c02540f26dfb42ad5fb332a3915f01a01d34a7f5df5b4d95ff79c1555a9f60d4150aea1de4827c7eded82cd9e4138982415b3c3f70f38bebc46fef432257f1af50919b322ba4344926775ffce6333e33bf340f829007ed20477d0d9c00b67501b456e22eddcea996817ff904710ea53b552e39ae4ab5f956eb2e51e86673e471fd1e7d9451331386f307d9b0b52c39ca6f3aca973d1020855534ce7d79e2a7b00f8f36d47e823693634d36eb0cc232e02d4ec1d72c253b4f5fe6a2d67bc28b855b1b330d117f901517d9e8e51587dfefdf65a271416ec02c88d4d0137d14c87dbd49f9c16db25aa92119ae74bcb3dc954b719f6f39609ab84b032e285341e52a3c23d7929ab11af54755f919f2a27431e172ca8fc2c882ade2dbcf55d1292db2fc97a88874f25ea7e26e2eba6795be8333a691b3d071956a68d84a7fe7eec350e09bee6b4a80364f9febcebfd63835b80ae11094ec363c9cf13c7de8d3b2cb5fc4e603b9fbf0fd6818bdfbba1fab1a0f8fc8359545acbf46d09e7d0b51c1e4357b7683ff4506a9c478036f50928bf07ccf741e39d3f20493bf8a38db2a783b7db39ae580d7a1a34271654453f1eedb87841158f2dbfdcbd8881e2521ea7c640d6337bfb0b9f625ad4bd4752046b83df3593ace14446960e0800d2c04e8def5a4388be538c804f0ddf8b7f90137e40ad7665dc6fef6ec3ca9c792ad2da7fa7409a368f9d871aea3c1927589e7865eedd96bc3ccd8b387a64fccef2514e90e1c14cdc3137d8a7b940266fd890ad6f60092a5f564dcf530ecde78ce33a4f790587adfce0959cf18b6d3212b6a6f58b659e106d547e7c81c5dcaa64d2da0a2aa38e35bad6629613ac60eb41df0ea2083728b0afbec19c9fa51acf96c75813c34f5a5b820f2994f2417dd0de0527a803483b76ab8089b4557092ef5d4935cc65f6b4c3e28a6e6b8109558d8eb7485922d741718d6f637fb7c9ed3e364d8ab00bf52d1c4e512ae50a7e9bb870377145f04243fac6ff20a717e7cc666988764f2570bb9245a95985e559bb1769212f099a1a8d4996fde1eeb0307a675b0ff2eb51fe574faefcd4bd961265d7b5c1f33ab3dfbf4b0f0b919544ad24c3e28ba40730fe6c9f8e8785ec81fe4962e9b4557f646ae3b38fe72fec049dca199b7521dfbadb0cb8a9f8c795049d05a89e4799d6d14043c9a77e89494c013a54d449590a5523739145bc605801d745e28386a36e0cd3abf2bd360bfbf4484aae2912c7d357f399261b900c7e3fa12a064f812ccb919ee3dddc75397862d56dc4902ea1487a92856946a7dfcc56dc267ece0486423a9ddaa973ed1ca527a4c857804b50f51cf3c40ab4b5d66b16094844cd4c2f116337f74976b61cd8fe1bf951c3e761724cf4e4ffde813bd212011749207a47a629b1b07262d4584e51e19b1fd1be25b1246d7f984b11203b464442d1a99cdf23be9e5aba35acc1ca12e360a689fa9dd780227595cecc07ba98f1bb0e040cfb4c1daaaaf705d72fe1cce70848722efc697c9c6593cae3d895e00e27c5b0342da700d11b56a9a3b210ec62558f879bcefd8d32cc13ffa6b2426a8cea4825457436aaecfdb38e5774bad4696c5609be4412b0da374c768a6a2560bb3d141648e2df8f2d17b31006490726b1257616d44d5c384345ccc1fe17c3b9575bcca0b45a89dd7488269e2d5f50fa258f76000d3d5f684df71758419d0d9d58ffb257904b60fc3225e3a0b883f64ed407478df3879f2d87198fdcc26e4d8f2879267a34eb553e43d40e5afc70c4c6f36f4746153d64019ee1426e98a592b7e1773448110e8fccc4225d3dfe40d9b8f80dab76f825e7a9f90c31c3f01b9284848a1e414fb5a107796750f1900327311362be8890bac3ad360dc9cec9cf3c885ddeffb6ef5de8c5f3b545751f41260929b56b01e55b4644fae97c730389627b6b1e7a561a5cab041ee8cf1fe22a61d8cc978c1d46e083a1c9106c5a51609e0c418361e8bea9cde866007c2d55e5d710d0351092dada0400da9fa8147f8e1f6a657acfb4523ca02b8ebe81c17f80274409a5c5e75a6f859366b877b30bc1fcbc4b643251679025a5c9ee566257b245b7c9603e217fdd36e6fcf4833ae6fa9965c5febd8433f1a6fd901bd5d8ce04179732724ac06a9bedf080f60d3c19f813463a5d8ef4e22cbec990498cfe15c1b3104aefaeafe3e36e0be990f9257b8305d4fc5a30312a57dddc83b4d5a4e763188e2d3176e08556fc448484ce7c7ff946c094dd00147d22b0f51de4a4f4ed708866318368a60d06237d35776603476eb9d740f07a246b5e2295d8996947900686f98a51c9ac2863461ac0b9b22c9fbdf167aa7aa4c3a333db89a4519d8c135815bb1e7c8327c028800a67e1909ce42b92dfb706c3e96787205d84558f0ce85113d2a2cae9b0eaa62747a42b28c6e1901986510406dc8ed7d753e8ba2bda7c4711d8775c6d8771644e576b9db3a4abe833218799fdae257192f49bd3dfc71b6d0e202e1335015ff9173609be01eda0d1423d34348747f8536f6910e81b413386f1b7cb4bfa5bf34b8bfbc5665e90b312456303244fadf8b5a98115e1591d3b095cf86bccfd49d85df3d74743b7a5e39357ba6cb702482e912fd81ce32bc4111154c0a9f6f8ab0633120a9224fd67d54f7670b0740d2f4250642f1bb37770ad300b73431ca90275cbbdbe4866114fb688e5cee79bf9d8360a7ea935196c777afe3f91679dc6524daa764544473d706fb315bc2b69cffbab03ae4548c83ead607cdbd357e40ca05ef5f04dd0fdc6742e27667b05e364321a869b7dc1c69381aa9f228650ddc9dab47a43c43bb6a3d6096eb3bc75f375666959721a95e4255e1a99951d3d6977ae4a14ddcad949ae590bd1f27d395e357763987d9459fb50545f44f95f219b7e94ae84d9d5781032f57d88d90ff126ee19cd027d81b537cb1da880f9ae2387c8fee42ba769587f6fae531bd845439da2ae2b0cd5b4b5f71111d2895abd85fb80a1ab6ad0f9f00947e5e7ea354789bf0c6d153bf3b1418cd624b2e3fb488a5f8de60dab25964724c6819d18ec7087e545db35a9b6b87c622ff6f055f315efba6335f564cad8af5d6e132a5421f7796cd9c944ffb2e452987cbcc03f297d9184c36bb2b1cc89070ec9056b5c0b4d7c216f06754d2aadf85f228bdf468d482ef51cbc9f1ceb7d03486e44becc69f51e0d994dcf35e45914b09a2b8b458d5fa45ddc4ad9f7073dec5f7902cdf93ec1d27b4958a72f9f9438f26368abc539f7fa30b3b2b950f936b42bcb9ad0eeadee7c8f29044f88444627af3a1b74876df4a422637de28fdffb4a6e0190cb5c71f57bc23b157aa905f409aeebe45d8c304c6b5123a5d8d7520b77057176fec6f3568f5248484246891928bad08b4507f989c0b3e9c3b76a2fb34683be96d19cf6d0aae7346aab7c2845f0bd3f1a748df07db6a44e440759a9b4323aa53de8eda337d546592f75b4569905a79b22a9204954fd40b33b3908e067b56bff8e9649054a9c834100860eec60fb3f145047d8f03d70e0b22ba4765d154d83840da24da56ec28366ef3d8545c314904d1b8ae0178b51aa4a902f55889552c337bd9932c89391fdf1d545b85c1443faa850a3d9637da358c656acf6b46473281757b6979f7add1eb5fb3bd41f07df0497268adc5e9881b1a50faf132b2df369248f63e64e8f085ef498d3e8c0ecbee5135b84d12a7e6e8cf70e2366c5c6fcaa115725ea3014ce91f0e103769e75b2d881e50956b203171f9b66337f87fe9b0a83a1d6f4acdb559f080b2c6848d9635199cfa92e2ad73cf72cb28161ca6e5eea8f9bb77fd5e11907de533f598aeebb94d55162abb8f8d8478031e4b14b81d4d8d6a751271250723e63563ef46e2b9acb40b6f5f2a7001b042d945f21b38609f27aa7bd687ea9aaff8f79e33c9df5d1d1b4ade614c7953b90a98f7572d7059c36c0f1fe1e4b55c3ef9ad4d0bb48124afc85d60097ce13473ce85981da0b49fc47cf1d0d69b835dbbba338343b67923e5392395044f9190cb9ec8bcfea771debf9a14a3547211910d1d925a4cf3996961f16dd77d190b3e6704ae469720b88d44708651b797f09e90dc7628fc5a0cd9a5bdf34d2d8e0745baaed1c5924a0003d0e0463dd291003e67a9e2368f18fb47c6753dacc8860ecfa66451f77bb8fc843c6acce5196d3193cd56ca246e4acadc5496249329ea6ebf7a47891e0aeee128275d42d1ca823d89320abfb2a622d6d7d392a3c18aa9720e76653ee1a3afb6ee9bc266565f93bd28ef54e6ed719ce4518ac4ad515a3cc0d189b31e79fdceff0b0f8cbc4bc6f76e1c209cf5d4f9eaf0b017958babb475711f4fce4e5b3407ddec917e94c053bc003a10f1ce7300a06b3bde6312ca5368d6633f7322f6baa67114a4f3bc52cfc3574cf1c1061a53dc9b0fd3c06e106842f945f127cbd2c1e08eb57c14721f0b964b686bed6a271e9513aad3a8d82c4eff700b33943a6214a499265667facaad4b5fb6624db9d2c52cae30ba27b70c2809eed8270adb673ceda907344cac33dbea72c7e5e9b3710851ed28cc6a159abff562b36bbfce5f0517b4a047dafb63883bf6ba62783ec9be31995977c4a069ed62cbe6481396f546cb775cd766ae755c9372e070c244755f95cec9efa67107dead305ee30eeef49e5c5065187756b66fff93bf076b01a26e1f48a41496dc287ebf64b3e314ed5e216ca276b0608cbf506490df4dfd7660b108210e19806ae014466382630690cb24ec7932525d3d3f99d27fc2f95f20197ad2b951736342ed470d56ff8d536273cf49ff64aa7ee75b63b95b7a881da050825aa27401b9e1df0ee8dbded4457c958db50fb8cc212038a08a161aaa81909f414e9989c511ef0195efd425df06d5a392c6b804fd2a3e1122bbac50e02b3679adcfac9913f75e05905425d010b395bb0cea1a9599353201cb980e37d6cc1028bd1682233e974835bf5fdca8e0be48d9b1890f00242cc540ad012a682fe52d856d7d6c4a5b182f3a7f043bf189b7fa165933a30bd7b59dbf54c31a584894883dd222fc7d3aef3bcaf3bf3bbb3b35e70e45514677248b1a3e38ef75c38e1b75a2721737c6b6aef21d67def93c8b03a85581a163bd033307e0285477b085548989220abb2b727afea6392def0427a94bd04d739cea1b9158008bc7f1f01f0395cc4bedacda0eafe2a8dd0dd1651e2e8859c1cc1a43e3010802fb83a7eb6a9ef3ba7b01a98788cf67d51e85790c2648b551e9ae16dd60d41c97fbbeb75c4f1b03517d25e51772a1f5ba4bcba4cf6bc2f17dd7dd71fd36d84e13ab72abb46ca4061789ca5df8a68801872551c64a0ed4ba49b4e610cb3fd718d3e19491aeaf04f490421cdc5488afa4c17d8b8f7b19a227e0463c815d54ee8d040ab6655bdf0e36d61f0cbb374bb7c8458eeed42c9f9bb025b1e4e5052e5a6004034fd994e1e6e2805acc57986965acec1cee04135ed0ab4c3a529b662dcc98a7f90d60e2fb3de5534237563b828eb647918255646b798196c06c4538a4d5c1660fd23b3b012dc1620e1e4eb2a7956e7891557c287cf522756d4dbe1f5fc167814c8c420c64be93cb7f7879e6fb14c4ee53ed7fe3510d003604190884d4e8197166043c0e83effd3e9d3d43d50fbe1427bbf8ede1e23f40c7dd430f175800ccfd791342edf83cbdfcfdb66de76f68c2666254e8e88a9f8ffb82c50c51f2d171dcf92159ff69674415e2cbe565ba3d9c6f6295aa22d9a6eb0a0eaa579ea16c14523b7b762da908eec1c61deda2b675aa70a6dc019622e700e9a7aa02d1bcec769225dcea645b61804e0a3a41cc4fd19fd6d33ef8cfdf7611bd96ad59233ba79196e7e0055e81d01c684cf18e546b1da4487cccd7a0a12ec9c25eab76279c4cf539a1f623d50f1e4f770bce62439bc45e91ef0c6e8a8dcd1ed360ef6c8bae6a95df4f3a37a652c9fb18b2c5fac55ca7ea22c40f80c8507ed8ca7e61b9e3b4760cd7850df791eb8c97d9683760141f383aafcf1571dd7ad023d8edf1ef4091a3888e25b0a8482f989a1fe3b7c359f191a84da80faec5f7334cec2f5f65b04e50abfa0910e7588ccd9873b4c41ff56e8b27e630dd9df0b9b3f41a7583c9d435f538506ea6d18a57ff189c2220d372c8a00adf9ed09ae1970f0783ae04989067078b634cb4e77474d5f1916df1acb53cd023a1f82ab233fa188711c2974c01ca2097e16cbd854b1f3cce61963d014d1d2ab6859e4bafe3778876d9b1d0371a7df7b4ef1d98c53517b9eab7dfb0dafae3e1aa60fc574c38c7ab4dfd07810e56b61ec070e8807c0165768975d7f303b1143de0264f71fe49a4636d9412a96fac2a0ba71c1ff4827dabc302776ec5cd80fca4e8bf35fbdeb94bb1dfa399663a54720fffc5b685032c2793c0b1b201b3202777b20b132f386d59b8cbbeb51cec6adc1950e1991f6b9496469d81d9876b3d3c0ae924c6840d4ebf58819302d74541e4184656bc57b613bc9944b79fc9c43d9eba805e63158ff58d3235a0321264bd3dbd10f9007e6780ae9fac9acf15505a4771dd6e8b0d9a78b31a5ce39b8e072a29a228f54358cfd2a27b8b9e4fd638e2e51aba27de87a9ea13d020a7d3e52ff232f714024e4e6416fd51486b3a0e7b3e594b39ac29ba7660ebb86372669758b87e9a28ff8bd4630acb957e8e85e68c2860b6b3b6669e51b7e1910b53545600b8758b43a3173a423ab55956bf1f7e61bc133d38a374ed4a965f53e3f6bfb1e2556befad27d5205a9204524884aee73ceb567fb43a235d2d213d53840d92409a6a058f82321602afdc74c5bbdbe47c7d5c4997c5cc5cdb48957c401fa018e5cfb8508c69a6a75333bb982821d4a92becb161f8acc50adb7d48b4a5843837d45f221111c82f4d47aee252970580db60b4bdd5f43886a2dc44be8997f5fc18595f2579fe8baef5efe6b280b3493c3e2863a16f69887dcbe0e158a907e2b17414547045ba7fadf9674b2f226463dae82f9e459b1f2b8e08455a43df968ac56785b534164f0f7cb990d14ac79bbba8a58315a4b87f3ef79d6bc550e4cf1fa97b6996f705d3333c3899ee921cd0c990761a8c2447d4deb582a55cd3413c0cadea5a3490f9b1097ab246fad356f7bcc1896ac28c7b425a17db2e6db832ee4b6029dd34ebd0339a054e7bc6eb43dd18c695f256793a3191875a13b33d2896a44d2c01f081fb4ece96d61db268a1c6bdceaea3cad04efe44e1ef57c08e86a47801cdd05fbf3b5826aa2dbc723dfc63ab48c76e005af8a6a2473ff93f79d86f1270a12b3607a6362f2adb568942e420f8576f54f1068aa29cc3754e15a4af76eb0fd2238eb6cb2068fb90f36e2b928ddcf6be80c2533e4b1cf637d3bb4a005215d0500bac86bb574a82feb7a85cb15aca9a05be92dd04c71ca355797570f5bdba224dfe6f2198647d870450cb9d657fb0442c9de7a23dc50f6b29e30985ee9501e99092e728887d50d899e5efd2191c96596720432e743f6d84a81e45ec0e4cda8aa01acd498fce96da2a5cb4763cc00eabc6ad1bde4a556c2bb61da66d2ec74458f81fbb6f5de6ea168457c84779c915a7f40dedfd62b516760676caad2b7d48e8b48ff69e08abb91ecfbc06528f4896478dcc1f54c57fb7fddb5ae1a1bb82b27e62fcab5922d99a81ce59e4c74fbcca226501e24ba955a70103b5af8fbd1b34ed4893cbb5e1f819a6f7043b65477aabae6c6b27b05907fd7b876a82e53dede636bbbc2fab3bc32b3f1dd04f7ada92471df6036d6bc8b4f77595709b085d929f264573e1975a2ea4c9e3063adcd4af6b7551a062807e89328e3a89908070a9dcc658fbbb4f177d33b303030fb7db5b050202bd7d89d77756c0384659bbadd43156dac7b62ac07aab7ad0d6164e165194527edfb207be1c3ceeb739ebb48289d8154c3b4b55bafe52454823c0a24f9e1126d27325e9a3c72b1c25b29c16239232dd5f6b26f6a526d6ead09cf8196da37780368582879ca5c19f8406db3b7db19d3e0e7f68517b1a8dee74b3f90c2712fb582506956ee7c8b341e757d1056680bc29a9ba6815e918d6e642c2bfd6adee717f782ee79df4b0d1877a9257644660debdcdb50d56364ed8d402820005b13821e59b35f67382bccfb880636ab998790f814d93b7b23020f350f45dece5a365bd8da8e9e87f0cfe19956d8ec23da5929111eece0cbd3d1a8ebace520949922d99a08318e5f4e20c258624bde028b8fc7f9d7a93f3ab0f26a4edf559057449e9d2b9979c4af84a9b31f93fe1d90e5e9bfb9502fb2982993ed5f5c07662d5ceb5eeca282dfa0390805332d008f20aaabf31a0d69cb650031f1aa87bc415eca88ef8998d22d5457c1d659410278687526c014a6db7d45ac898c633a459edc945e83b4a1a587fa912ae9417dc3ac7e0ee0490e03c4c834f09e39fda74e5345087a3ebbb8e95a480a88a174b5ec61e7b4e57bf3cb5249a80ef2dad1696aff8bcf63bc25de30f10ec387a84df6f05862942f149865347860527ebd5461cc7fa552bc3bfd33382884351452ddfb3de4e49460f3c29087924d11364e0a0226fad77c7ca2db5bd98277595dd1c58ec94ded126d49de61791a5509028c97b0eb0f6e4b05e0a586bde25be8fd1055be368b4a20923ec631eaaa972571c8e44f280e787738e183d90f87c0ebb35b55bebf6364aa2acea3f4c2d1f8804963e80f0d35659618ead089f4d308b8e0e1ccd6983e2db54a9a46ec183ab2d8ba9c585697f7cc5f18ec2f534e7747bdd705ee37a216d1bc5e8265aeb4c617df5b2a18b8d372388212f7ff35e914c49b48f1e749b82e0d980608dd6337f058e5ebd8f48fdab704469f116372c6fd5bb2b57561b116a2c9e2d279aac54a6dcdb76caec79ef121ea52324d8df8956827d98b4e49eb2b98dbd4debd4b39c2fb2f1fdfa311d5c3a7088f4f665c05b074c6da688640448a66f08b7bae283abfe41d16d3744bf398b4f1493d3990401dff199768f67c16a454d7653d1a2eab54d279d1b1be69e7f3e3e553a08f24e59870caaabb7fb0a790fb4e4dbe092e4c83bd63d8ba1363f1ef4d3ebd8576fc8eadf7073159f70ec5dfd06862eba4ce1dac5528177053176ab059c38623b855f95cc460a4fee433c2979a954f3f795625b9c71c2bc42aa8f9c32066bd580c7f9b31fbcf0239ae4ce54502d17c36b226b3cd1da47a174f10981b6cea63368cd68925c5361648082c48cc32b7f6313f9795c3d83b894247e1786034549504330a501a4c9b126bbf9b33e365e2f46a60faaea70901e0f945da28dd4bd356ac2c32cb130d6c4384b0f7f0e7ecd09455482cf6769c2d92c3d31a7400e62a0c51a6a09a344378442b9047e3f59f040fa07d0ea8047b9dc1526efea76cf44f5d8c7bf0b913cfcbe95221b283b83480424b301d02bcef400ce26ca282950aa8cb5f7675dcb9956ebaab7b04eefa932edb1b0a9492b1b7e49ec8c39a1a0b73d6e798b68d0180d6989d73de58ad2a1c34a89f198cfb75ef0c1e23edf40cf6b72254ba9ac30de6d71968687e1caec49779adf19c087b960cf289ea666a3fd3363f78cd0f819a570966fdda1cd4ff6bc5d372d4869ec74a5c9be26c43dee578b4eba8ea7f47265ecf0f2e61e57be1556968bf57d7e15ca8ec2640bdbf312668d2a281beeb55f08d797ec695e79b68058c6cf3dada5fc139d9810bdbd2afecbd6ad0aeb6e5c208696fb1f938cc6029ceb5bd292e57e839acb637584b6d796d88bf2eecf0ec32ea20c48cbf9c022fcb86adc76004dec255ecfc62bd7c2a7a174002873e31587620d23a9668d20693a1d7c4378e9eee37e8ba610069aebf31bfa72900f01d98f6aec2a3ac28f8e31f2240135ecad7c6180b3325b3cd23c93d4a242b3f0c0ac52b9691231f5c12acf05eb0eabe2a9cc5149791e246ab05ae5088fd8525a73cdb922f445a75f794d4fdcd70e2f0993217a3877d35bef109a9a40153b98ed1799f249c32d6c20ae109911e225a0bf298200d0a7ad7b668ef1a802f4adb0e0917c1aac969495f38eb7b2dde8f7a400b3b77af55c4d805862129ef386cd1313e0e8ca5135d1a6424db307d6ac35eb693c1e8ece3863f8e530328a5d5bcb21216b10b2d3a946b7fc2a2e753df1174256f6581ba8f1fb940d237c673697dd6e3d17d7dc7784b431ad150a9119fd3141755fc68c4eca55546d9e71d5f75020383d020e01ea4abe532f7f9776aeaabb9793cbfb0cd85f30bd2c6d132b01bb64a88311cf7e3e619dc8acd350fff59282d4852f7637554c5e3d2149c23e19659ea3698d349c700580abde989b83807a7059701709e49bc39c33429957eba6bf0d53a8e3cd7e45bb2a4dc7b4b3df8021bb17afdee435e32d3f90e666661d49f1cba35c969d9e6e3c3a3c03834b13888bbf38850d2c13bc6a1e004518b17a9ec80f378a59894207fe117b002053e7d51f208631779b8c81a811ca46698ebfe1ee7e643371c9efe6e339dd4fdbd98e609f22a0501282cf511b39d520162159ea444a8c64f9e3ed04652dd70c51c660fc9537fbed3a39578fa169934d1856eb6cd6bec2053779821ba7d00a6f2eb1265c0cc3c013bfb721345f7f9f27a81c10fc725b5a0be615cd80861987c42fe71028cc2ab048e455d15e0ff742b608dc288be6686d685bc2bc6e2e7d68257739ff35425152e92b48fd98eae6c494c4f6eda18e7e7a9e75932144db853503308e0929c9898a1b66f5e71c05c5bfe61596ca65cd07a3d064fffcb7e068616d3bf342b9a9cc2e2610c16bb6e6e8a763bc03a2dfbb9d3d1944902e4a6a6e40dae88b4cd7585b2cc5114fb372963706a20a1604e554fc9c2278da1d03cac96324c144c4dc94ec9dd1a55623b367d47f368bd49b5a5d52526118beac45a4af59b73b4b3e6d85d9005deaccd7fd3e8a5653c6ab2830527cc4d6334a9e3b21a4274a2d93d2e6e96c9a4e550a06ff93643c8d10c2210af51b8d9f4dada3b8908c1853b758fb780e3f2017fe9cfabc4694a5e34da35d3a22e064055fe38b96076eeb6222b91766bd311521416bab2bda8f336b2d960e4c8279416676f67352bdc7c30ea371e14ba586d57cc06e1919989a8f9e3e158f7fc7756c4119c3949ed19d2792a0ad87e3881196c43dc9990f3a4dee28042bb7736d3c9f8f5428cc9bf0cd1691a12e40ce8b198071334265f06f92b718b68c2547427c2bc856c417f4c424158faae3d1ad2acda94f5e75b042b9ea2b285e66636ae74ffb4e7e32725c28e3d8734cd37a385c6550fd0028ffef333f3c504ee95db021bf2c199496aea04ffe96451c30a26d9dbef733b8a0e0afac133678fd5dcf42200f924bb59e4706fa02698c4a2ea6bf8dab0a73a606ce7e894d65f9226b6df96c06e44f1e9fb08e4c77cbec384cd9aeb2e7041cce456050408241a4face12ed03fcbe90de0f0671c0c4edb1b0f7ace0ff0746c9ba7eb307caec21a1591bb58fe90179ab8490fff5e992517110cc10255c3e000b0d7b6741fbee69a79556d4629b9b339296e91efe6435cafdfd08110b37c457420a0662032600163de5ee583173be1bee1fa15e12533975dd8c401a19d17b5da7e2f017c8b3c1fd8533e97d33b9f9b785858f80e16dcc12eae7f4e9a96510d72c17b3931731d47ce69fa9c8e1bdeefba6e58856c1566a2ea9c8d00225ec65f6796e058b85cb8f6bc5fc60fabdd535788013f5ef97c7148b89dfd244c1dace7652702ed0fabbaee63bcc4be394a9315ac9a73387e643602c53a44d800ada528828f9deb43fb3a8846d61d612c299e7d4eea0ce7a344a13b418675c5214de2a50dbf9254ad7422fdab1c1f9372953ad841e76078f9071fc6639df8ecca57cbb0839acbc451bfed176ced5b54f7253c4ee46e70358676cafe97cd8767d7e602989b30b045e002541ca8ce0ace1e5e968627144a93fdcfeeb1806f6045c3bdc7f56246cda91082f945112ba65a7439e9a41235082903a623e8f578f9e0aa0816b92afd64d71d27fa5930a7e1ac38936461121a2b3a39d8e97838fc97dd9c92d8fa7603d580079e8c229da2ca9e99064de7215d4b29a9ef6e97ca8804902ce2291ade63bb4c5f71c122f3b883fbcfd99247c12248af09b458001b544efb1c5180d9bb93ac474ed4f40c95c7551cc1b7b1ce162e77545e98c665430672ee59c692138202bdf9174713c6e538971133bc8173336ad70017fbb8966577993621bdcc1791caa6e18c90edc23d150390224fd8de51668b4832183a3d67234409bf71b1ad3d9c855b17144fe49577fd6ad72f20c39ef38a0f3bbd41d89c13304c3b15886a49f29e20b2f9566da46bf595df12f0123e3dd039f5fea4955c282aefec1d34400e0e9b9905ff0d367114491f47090dad54e73b6a04d3388e11223c3f7c9e9515ad82c6348d6f1cb9cece116475c1a6e98d44065843d78d93fd533422c11e8c633524c6261c63b350c58e667c55a899893e87d599fafd2bb21d7ea3936f2aa1f9473c023c7d971c4aa347f1bb787be400a448c567a4d08118eed69adc7a26a6a8999593092dab9e39192ccb2a71fb06432c90644dcd7c1d98e44d590320d57c80b3bd7d7185af4f970e9b98286c08a391392f7fcdeb7f5c8a3d356c2d4bd806e192aada0836b8274c9ab5d07692d679e78bca7661fafd4a59420dd0c0cb61e8062eea7f20770b55238332a7082cb736582a9f3b7ef05a91ddf24bd362930b1e0ddb5e377da53048168ba657ff3c1aafd34fac9b350eef2c37bb62df976bb3967fb8db1a62c533e39451d75c7ddb0ad25e08836a7330831b8fd5cf0f9d65f91a9452bd1b44d91655a952c8959ea8ee68860c1d6e7c80e9ad7cb8f13eadcbdb7d09e4a390a510aaec2c8ffb84272448089721fc9e8b6baa18c827fe06ba9860e9dff3b29bf5ef910923964868db4b3a5f33a0b16a0fd83597b54e4c4705b46d516832b114dd9d86f1938f18eaa00874b0f9be7424559af24da01fe078c4435546b3097ab66bc61689226cabfaa84301330df4268ab5a92a4b65e6e74be184d4da322bcf29259ab07c0b34b7cf5dffb720b40a51906cfaf1f88b727f9c996a332da1d90dde5c7acdc63acecd76cea199b74bcd44727488c026f4556e7ef153a84f2d0c60b23d97bfe46ffb53c908a3625daef2e9da01f3bbbe08a618805b7feff402003866d3bfdca827342708d42bef4528405f6dad2aedf4dde22f95c9793d152fa96bc65e81aa5e0fa90d9383df591b78ddfb3a7bb3d1bcc10a035bb8ee346eebd2e120e2888d7a0c0e9d25083022c506ae5bd460e996ffb8503f974ed592cf4f0fd0c3f0251e17203f6ecc745ccbf029c4e75e31e4b676d69bbd7db1f12a6c54964d194cfdd49632bab6c88d78694f7b9e200f04abc6281c7c619311cca1408a7b0397fdb8ebf4561509627d0ea2ee2429f79d528506a1aa05d3d4bb4402794c31bbd53e8e3c512a65da09b3a7314ae72488cc30564de1d9ae1b8110aab40bc56778b6a022ccbe204f66470672e2a44cf04285404187b33d9cd11fdfa7688ed6a2d8a3951df2aa420ee0a339f1055ffaaa2c9eb8ecdf65bd9a34eb3e32be458b26bc7125a4c1bea15a0055ce840de33ccf5539716a7906615b115598a894dc269eb6f8b04a883a13ea44851062c0871082d1dc210275ed913c8b858a295c4902ff0b66d4f817a5c133f5f1dccdff10d9def562d59e970f1ffc2a49b624969ff51956239d782a393d19594098151625540d2f03fdd2fc25d3d218bfb11d51523dc6e37089ae9d3fddeaff0942165d561c93bf74ae41a7f6e4afec8536e7febb2d0e550923ef9a5f9611639990b2bc91edfeafc29b30e3dbd04fe9bf2b8e9dac9b5154aba3b97487b3fbf64d5a98bdb05c562388cd128b38bbf10a721cd86f532e362122daf0ca2157d17bc4ce439b31151839116d985459d43b260c7f8a483caf5bb4575cf78a9c711395fa73192f50dac766d949286f601614dff305e63ee39f82c27a65a7019c78e25b9929d6ed2d016ec536369f6df3c75a16cd3c091313c221cf756960a47db35218ce54ed5cb58d5237d092c33f7d32e6e7e4830bfb271b417c781002dae0157a5aacfc20f5e6c671fa6cc426992aa70a548667c25e4549ad0e769d27d46bb70687c4ff6a37a44ca2c0da55f84d6d22ec5bc4669693e3bd2520eba129f8c03ad8aeac3e231f06335f94266c980c1cb6925db4c5c00a608fe1cfc4f3b48614014f793f087ea76b37f4f75fcdfd7720fe2734d1d70eb235f0ae43ff67d575baf1785b0890895cc5155db31ddc4a82c590b8eaeb5029610a36a8c56821e4d9d0451960052caf472af18050744eba6ecd7c3115c9182195173b125f8df754601b6139c143f90ff46eb2d21c84e2a6c671a3ef8918d03489d59f31269b6c8580ffe7de396a8d76dc8808ff2b9ba50b89f8bf07570b426969c3badebf4472d764bfa43828bebfd837412b0dd6e80f30c0379206f9a79caa955f8d1e6ec52b4db23cc4034f542f8d0d93c0a30910419f423911ec57610073c3f849236ba977f2341007a489d9385595e25bf1b8cf17bfef218a385c337ec7968cc432afc101e6aad7091f6c2cdac08f5e1ba5b516d3d6500efeff1166515ad53bd87d6be71e14ba9c4e9b1475d36a187aa8ea14a0225b440dfa1f857fe6090d6a32e018453d1f6f5e5750a4235bc6e227feab1e37e04632f0dd3d24fad864749bde9821f2f96a36bf95033fdd120d5b74e94d9b1a89cde67e6c20c87150a914def94e02b7fe210a0df177cf48a4f97607aff370f9550d18b9900c32e4b481db388ba2e6d83c328c75a9cc4fd1bcae580c1a067b83abd3d336bf272b2c8ee78cbe2d7da008269b86fec335fa2a3e380c8c37badeca508a2456626da5b6d0cd70e53c5e26311e2b0ca2f1b6594d1fbbf07c0aad90f67c32c5faf2500447761535aeebc45bf0c9e12d21783485fdc4ad6d8a046a931d93a0f72e14662686ca2663c517a3ed827f0497c2ceecb329f087b003108aa207f70483b727d475c68ecccc3fc97bb21d9174e0a9abde06cba13aceb396653e448c9562b9d1b0632549ff21d3ec1659174b441caa7d8d2698a6a1e169e4f01fcd197f65316486e91e69aded2815518f3d60a1d6865e0f4bcdea0be7186d64348712b7dd07d9cc95681a8e7c33c0d4a0d00324f84a37f1b0865a8186df31736a3ea874cff44298292ffd927159b4b5bed852a98b1983d21bc6c853e428d41a0f9ccd42cd78bd83b55609aa1d282995fcfac6abbf417ce66628452b1bdbf776a9b18a7ca08260623683c5374da16edb9d99a3a5283c6f87911cd2fbbb3d8fcf8b659a062da40232148447794f1c068081aad323a339db2fc86397320fd4852cf053df2a932006d432d828a1e11f6a6718da70be3d153eee8e317419c45a5787d8684064fd0219b4de53253f2878a16b678ab8ed650cdf2a5d9ba73f0ac0f4499998b22ef62296dab14d820631205035df5caa60bd016deaf9b7a6cbf295be276ae227e8012acf6e306ca4628caa7dc6262cacf61c7f44faa2f86929448213541aee0e541b8894527403335c0d1ccdd8169eb3bd563ad99e229f22e4c5876a4cf035955d1ac4d7f4f1560195d1b63f318419bead511dac8f557f33b9dddb14f1c1428299aabfd4f7a9bf4a4bd8d13fb8acebb2269c3cbef28c433553eecfdfae82ebda8c38c26b40cfbff328ef8f9094cf0bbb51d1b1561c1dbd158d7d7e0ab1fee44d923a7e7e243e7329a2221571bbadcdaed1e47e9ad60dbde6043ab24b8bc957d569efca2baa11c9c70f102db6e8ea4142dd9338c708195fb033ea14eb58469d78bdf57bd00b70747e03bb6c6108bde2e006d02583f108c3af6f82c511e161da5b41887915fb3339a504ec6bb573b534e01fe3e9b08991527a9b7e8568cdf229a02e62b13a6c9fc2dde2ded233330331bb8bb00602fd2aceee1e629ef091d32b93c37e34758ba0f1fb1a7998e75dc7c8fa5be235b9d0075675f8945a608ea317a6c29445a0fa85f2694bcf7b4e118836f6203d82e5f0b6b0193e0adb5f5f4454258e388937c554f16aab99d224688e84aeb1cd9befea1be744904dc327885690a158814673ff872f742b052c33057b1473fd1fad87ee7ff98003753a6206f6495e2ce86e8d7c9eb363a9456a40abcf91b81fed254c3c413b1781c872c999cd618902d2053fa8b40a94d0a0fe48169d6ce74f3ef439aa0f1b0179703cf47374840c5c427d96f0b384edf3db1ce4b550128fac9927a5d5740ef2d9bd887f1dafe9c4ef62b2b5af0aab214443a8fe3af2a619ba5952b1e0ee76d1c8923c17c2377977fa115bbaa54ff0677dc9cf6200ee241a5ae3e0cb0315c4bf0572c79ff3a9d9840ea8543b08d1b8d668b4afef560ed0c4e6691126fa5f2f576690728c502f7a79ef7c1d3e8c221228e1105daa07222175164d1cfd74fab68fbaff47a1329256f4feb845ee1e4ae3d30ebe547d306f27c2ddebf58a670a79fa4db0150496ca94d5268e124763b52a9b38131c8e95c990bc284427bb5d76ed395366af8780c0d67ee9315515f800e1f1e63b0d57fc1c274150b51c8fb5aff41c04e21c72e53c189ec66eee1a6711ce1a95a12e5ac386c4c3130ad7c24fdd7c38c66edf584bb24f954c56eaa9ca0fc5fb7c68986749338511d2d5320a01203e2694a3abe9c5bd7388cda0416243eed561e62d1056ac08a856e149e014c32cdfe0f788a2298adc61758211f5544eff9654947539a73042ab5959f0dff24c04e7f7d6b458fd1438f5dbbe2f1dbe4ffc4ea6605866599e5c4ce71fb8061ff3fd2d82273df7a2ea92afdcb124b2841cb7e7d2a88c15e4eb0032df08a0d6877c7f8a4adc8e838ad79b0f1f8a4de7fd6e2b7725eee14ffa66530fee28878e46a969fe5f17a42fbbd52787de0f8801873fbb82c3805513dd885a80beb1aedc0cb914a12dbf1a9c600274004e95c94379b22f23a3734e986eeb3846a4e7970134ab262f864348af1841a996e9872806d48a617237d7abbd55aec78df9096e41ac6c275919f4ef6e553caaa7f43e19ebd4680d8628f4a49f1074068a69cee7808be8e2f8721adc03dfe356edfd772e7ad3f0aceec5792cc4e95a1ea0857ab552782e4a6edf06c98b29026ea8b42019afb71aa64acd22ff0184bc4a4666c58a8bff243757f873691c2318c30bca4816621ea5010124f625e1ec491ea7cbbeec292c80e3abccc8bfa0aa2a349976cd604123d51c8a12579da608ed1f11bea3286b38f11dc29fe4375c3c8aaa7a51779eaad3f7207bf8bd43b28d426d1156601a4930d262990375a0bf42a48fde3f5a790588f74e13ded19acb7ba009d879651792e3bc314f6ec21adb83b2d1f9e3d9b5ad330fb648d7f5d32fa4a8a1d751d60c6912673bef5158d81b476d9fde9bfb736aaea4c959e516fd1793e0dd051d6c60b29128451129216262e3a5c4a65383b36834743f75882a9f85c77474ed8aaa9a2d5b0ef2b36b4ae0f21055fb60c0bb1336ebd2c1108de4e065a23f2110f6f80ac138750223e302efbebcb3fc50cc88bc910a87ebb7ca71ab377243ff9f3870a438e0b03972b51e47ce4ae801fe78296f16740aa92d5f75a042fe621e89e04ad49221a850e85c4dcb29e9fc71c81554b98397039ad7df13064778b3b446e3a1167fc9f95296a0c5d63642a325a1448eb91dcb93b94b8f7a9493d4508c3c82db11faad2f1b67fedab1fe1023586990f14dfea6d997f9af4eb54f9e816c5afe7b9907f304981e601fd670933280aeec31e96273170356d824433aaefd8415fcbc8e567a4bfea7a7eaf63938c4629dd28b2bf2bcf6bc9fd49a63b2f6abee1909c03ece1c1d9f46674c5f71784c569401b5e7a41dd9bea9e00ed39e9061bc2550742ff28e15dd9c9cb5efd9809c1be77626dc7ec2daeadcb5da69d11863be2d758e0bbf4dcfb549e844bbdb345f552320a56aeca819306a9b2877ec395f7fa7576119afe136b8f940c5a83654b4c3025ccfc49c1a7eb9295043726a1c62af0068bcf75be03c8a1998bab715987a775ea8573caef8994299ff78b8c216fdad74fe39e2acf6fed60af04aeea57c94e37f3c6de7d1b4b4c24d9773e555cda82b4b3f6ce78a222ffa71a8b3f32922140427d53b68d8d8b44e510bbe3b3ca04f953a85571c0b5a953a246f5f0c44a8e6ddccf22acd1845b388f292d6cb47f5d0cd5e31ccf6969ae7d955dc2336bc8394fb73857295014bd15dc61b59a0c3d9898942aed7e8c2914977ea991c9d2421e0de499746303deb13c43640cff3c3aebe475e5282ca94253c67d37596ce51aee6d6fde52b82b04350960e4d8f5860aeb63dd4d98a0d2f8ef6a1e11d679a0798cb012a6b760898a464417d9701b525d372e9be326e5a90e1784a93a4bfff8cb02673aaafd5877d674b8efe00e75a0f83841af9fb5e1bc28fb423ffec69cd3c643cfb036eca0bee8b4743db988c2aefa59aaf1a1ed580d9b95a2a39e1cf4807dab91e8a27965694cf8b59240242fbb7b11733a9de6693cc0de24ae461021cd0067f02fa07fc93cf08fc87aad840deaba968b718762d4f544a9b980057df473588232c5ec9c9dff67eaf242bfcfce8cde9a5bb05f51eb43fa44893752ea725dc0db02c0dccf0b917075380fbf9cf853a88b0e6695a31f700bc28bc672e5c0bd3d9fe5087c8e19f5fa043f14f224130b32818e6c1d1dc92c37189da28b1de40f17b7e910b4b7f52d87bf6528f6bc6e6b8d9aac6561c8eaeb43baaa63b106de522d6ce6581ad9b7159467fffd35cfed2e8b5fd17805d30b8268bf09d49b9fa28dbfd857be113ccd236893d484db919538ea1be6c9065756d973da3a48aa2ea8d967513e13ee51f7072b9de39a8c6f2bdd1d1dbbd3f9c220b483eb8a679062c12433707ea0b8294168fd518e0dbc79fb7c1715dc6f4e9a52b7b5a1b3abac8204b2edf34e4de21063623c8a9c37e38b65b77fc038f95b959825c9fa46e3c904a61e78b2f67796adf4e172485ae0f56dc4b64e8a0414bac17220b63c76d573f275fea2421ef8385f9a160238e77a7b2d29e4725770ee054cbd23ac505067dbb0cd7f798ef60c841dc344eb3a9be83c76c818aea98e9c1df1059d5a9d54e196906f5c93de64cfaa3c29b6cc6bc0c1489f895d4646910d884319f7d60e9693f4e4868f4c0ed0287fba6b015cc5a9e6c98231ef72eceae8919106fcf72dee91f2662c682a29926d35ec0a0ca559ee42d009ff32c76f4640df49bd65dcfe64762a845826316965def91b2c23e36a7881a23d01c29c26a8edb2b8e54095d8579b6b86003c1bb54355a87201a3a13ac8cc7d9014426bfcb5e50bbdbf0d47ea4fa555da53af9d421b5fa5290e0fe6bb6a9dc647c0ec9d4fdf16dcfec8c9b9281ee85004ddce5c900b49ba84bacd08fd11cac86c486fbc42e5de2435973ec2cab4693a910e75d5e88803c5dcfd21551f0f272a2be2d2d312f7f919ac191ac9bf892d05523f7fcf45e6374123de1ef2fa938198d4241074abc1e5f7404c7a80a0c4acf594646f9de0154db9b68ad3a214c63caf42e56ca8ed1e8de7e11b0ec619ccaae146fa67a438930c56f5383e4542ee6cf08c53611771c079dc3ae995d9bdde1bdd063312d6e1151cd77a71c32ee5940ee25125c26fbbba0d711e29f981b6488f3ff6f0e08b94ba9755be455dfac425d94fdfd43250dfe3b1d94ac57577a90f5b839f30d774d11d6b034a2ece798eceb320ed6fb80762b974ec28643938131ec4490905c910b78caa714b1af0d48e0c4245f601e650e2fe20e83d94cf46663c0dec39788532d0567544fdf6d0beb617c8f230933ca4cfa9ac6c9c231680006eb7eb9adc82e0b98a465b47eb113918643ad2389b8fa3437b3a8fbdf4125c757930e3b59e141b3fe340c8cd8651ce34b8ac719c32553b9a5eb9224b6b1e2694b79a2b97050a9ac5932246c64f9f434ba14760e5ff04a2c707412865fc1f8974c6e162047030938c4876904b374851428598f133f32ca295bdeb4d9c40f9e7b7df492334a0bbdf7022982536eb75e80eff137605dd0ffb88c917fbce121cfb7bd99872c6ae17e9f2516309da6de6538ce6652e3b8218fd4a1f7d6a4cf2886b9afdfc74534ad9e66d306f0a36dedd4151e40eed8e435351f4b3ff93055745157f6867635e2b775b8421cf9724de12a0074033fff33b6943284aceb08e7ad7ff89b9f2286c387e07eee2f6585f538117e1fcfe703f2af6c5eba3faae01187ab690f7efde034cc541d0f498beefa11c6d5489cb04b500a46a5f000a3cf441253a75d2fb6e2a67485989be050f44afad9cbc0ba2006853551ed67b1c74ac95e68ea47c1de11ab510e633150d1349dc07d998eb0bc7fe4ed0093cb6a94bcb769712f13cf1d1d485ad1eec8d1be342d771be3f4d98732ea44eea521960f80e47f1bdb4940a890bf0e5de2967cc81a165715c3c217ae45a4b4aa5b84e3313404a577021dafd72eca14fccc5efa677e22932283e01b7680b17ce864ec3ef8b56979ea55bfd3219a28a573aaabfd7f9576fca7d932a74b6bd5ee1bb47dc38dfa7ccf01d3bfd1da67b7a0ce4eb7b02506a6ada462d69616d72507bcce16c89c841e0a92750b7bc5040f45f07566bca4745bc152b746075ac8fd49c0d6e0fe0aeb187293439a3ffd3d2ca95e5176954071f0caa3ca9eb9c401872a9ac16dea194590e88677a79f3fa14eeded65d03e360aebdfc36f3b09d8d35b1f0942b3be389dd338bdd0212994d7cf52239eb2cedeaf7cd1c1c5722d2fa4f6fb14a3af651cb666fd8ca98181d0a82b929d4f33d3571a90340a86f63bd5f0639633882e3962351df59a9fac222702cfdf9596f738478425dc548a6fc7f44bb146c4e1e0bf5728e849b291d7986ddfe99eee0c1bcddafaf75fe93bdafe7c28988ed497ea64886b539f839d0af18a60056b5477fa0b0fe79f760cdcbe6a8d0dcfe514afde1b65f41ded707eb2f57b0798b7f682d48b0e92a9c70b61e3199217703181b94cf6c719cd230bd923bb415ab48d2b90c50b15bbe467155332e169163ec2f4447957a32aed4bfdd0b2084d41d327829e1e6a2388d38b1d12de4a5ddbf688d92d2e79f398a572c4332975b2d9f9709908b9dbe70d14963a930eed38726cbf23eda102edbc70ee42a131f83376d5b167469985b418027d86dc706b9ca8ccc1d69a385c9bf6e0535905032e8ac8160b253cc421083da43825d00913b5c09b2f84518af535a58ad7c8e3bafd33e1ad1537888fa84367dbdeb17bd2b6719ecfd05ee57ea3716161409cece09ae7356feeba542b0af5f00a9bed01e765039576177d90a2645aade4feaa2c5eb881f10a04791413b50c714dab52ca4f8c357e7ba138c1358230c5c179ab847cfd8743f96ee0fa1d2888d01cc0dbc48480a5d3944c91c5cde479c159d92c53919783fa5cf3bb5d59d7a301bd302d04e63f90913053b9ed5e63f7036cee35cec4c6e76d3e0036cace9c49d7e1907173baf630eacb52fc3de0ccb1cc0509e0ed52ccbaf646aeb244f33cd50ad0f6d0722fc908e4f1fbc9f32055e6ed463a97eaa36dc435034a053cf457f1ab86fcecc47780cac3390e8b789ef6bef6225ec0405b606505d7ee4717c57e6126a2fb1707f904503c06ccf62861c9c2517447b9aa70a47cbaad9cdf4a28c581c63a82c483eddfb5a725ea749d33bdf869effcf3ba39613ecc3e114cb198b62a2ff1383f9277f2d5b90b82d377991c55b417511e8c15384cb592e06174bae889f58afbe2bc8fbc146458999b81ea4fbbc709e74ebf9bb964f99804da7e9db9b687d4cc5a3a79dcafaa4014b94626ac9fb2de8f78e2e619f1d994bc788ef9996d0d3b213bd0d8c1c6b654264979069f58c79852a28612db8d0310ff4220bc3ce76fd1ca970db524b58a0e5cd785e8f3a1cda83cc51460b2b2775412717232437efc37a3e2f0c414f4bdbf612096488861a6cd720ce47fd1acd8e36b042fa437733d8717bf43ee6388441b9ded409113be536f89ca9dd860ccbc3e3593849b0653a863f74e32b2be89f0f5238a727d51ec7142a58f4db63b24edebecf3e2bc4e2f77cd36bfc2b8ed5ccb649368edb81cbf5ee9ad97449d902ded77e22ad9c22b0b4a462c52774b0dc6ed7e070b513be202ae12359de0ef1555e00dd07ccd7ba564f4946b5f742bfc0653420a897c51b51a4967bef52ac2447c7fa9ee3f1e90c97695326c7dd573d2fd98f6a49ebf89af33a6427560576d4223f8e005534e0d8836c0c6b3fbc573ac30ccb90ddd15d207ccb5d7b77faab07285626c92559e5aa058a510292b035666bb9811c551b958af5d14d4edb363eb74363df8b6249e489c98f8f230ee30f201c0d514b89e523ceb2faf3ae3ccacae7d56c6e8fd9f6c90d95720b161944ef00dae03a86db56b5c4c6f0ca0951eb32997dfc26501f41daad8463a879d848fda91ddac4e9d07568e304559365734ce6d1841a841307feadfb098ac5eb8cf1eec8bf33b5128b3f12484ea398eefd5d85b85bb621b7c5d36d7ff16552834fe9a108c4db07c665017b7c1a0685f7a7ab72c2de58c7310943e61bb93fd1786770c39ae97a4bf4aaef1114f3b6310ea60fe04dce02a515ae62039e0253f0f445d7b1d980ba1326035696800cc6652ca4fe7fd9cfa9232f1a9e6c38b5925bf1b7e1372d51f7a2986fcdfffa0c46a0e69084e7ab04d3346c91776c6e9acd8f82195310af43c68b9bcb91c0fb7251e020e749ed1e43ff027b8b8878d1c410c9b6d845b40fbbe372b24e77428622aa555370f116d2acfbb9bb107cf49500834be1ccd444b9f3c5393129ca237b03ce682eabdaba89cfb58eb4431b02356990d4c2ba637d5636351ee5706a1dcabbee51e98030e65f2362181982b6ec2aaac835e49aecbee8ad16c25bf13cf84c2be73daf8a5288f35727bf096273dcedd9572f173e71365c8763bd1ef295ade4da1dcf7c5c9e1ebdee0bbd09123c578d43655a98268a8c9417ab9f03f8d36ca5331f63028db293ddc1a9fef447b4693d14014f6a6e74c0821237b778630c10e1bb75cb8d94d46c488f540407f3f534527cba2b3f093e11ea1b764e7947e24f02592e180d8833a50b623316b4a6ae84d778be0cc3d66b31b5a70b965d4b44f5d2b6cdebf6890f79a33283b2ee111081d30429f2bf1a18e6f3243edd3103ca4ef6f415d1a726e428d33ba114cee2022e55a8395e560fdec90e230b5cd1af1e214151b89cc28c943b5c8bbf7ac03d446cbd3b385ec6b2b9f997786057843e1f046e5b78c9d72547560b81fcf2b48d528a0aef57a9718d23bdd0be7795c619358e12b8ddf7dc0bdee004017ba4376e8e8176a0a4c9323fd17bbc4feb763aa5ab30babed96f789f9fe18bcdcc1ec1a1d4b752d07f7b9122f1d8e3614d4e4f7bf2ac3e3417dbebbbc22f6a848a2c9d2ad28563a68128dbac32525f54b3e79f5ea8d54547097b5acf1b21da2098d8a1386129dae6b85b4a7d131748ee39e03dfc5102f12628f523544b9d1d85eeb5252869ab9f9e27a90fc10a29b6f6b572bc121636327d45044bec17d7324092b9352de29ec2ff0be24cf11c27629467af6b6d7ce4aaf7cc8fc10a8184bd3bb8b0a89c0b6a23b104a21971af89fd39c4a26d41e2eb515b9bd282eb9bc50c1b2238a3b7e7f708eabb2947cc6a45f61b42f0de40178ab093f1cb897f201429cce7824471f493e12929a6abc820a7a71654f4f2d105377ce7044f1c8fd87f7a1e3e14300449020564c1bf770e73866d2a8fd7356325dc006a43ef07b1276d5556d5cb32bcdad3651e94c0ca95ea0ddb65598bc5d8a404faae456411f002bf2837872405dc567088f7f626f2edf59a635718e0e5bd545a8b8f9d763ded4946e5cad1a7c48775c37474ca97ed3a8166a1cbdd584736f18c7ac978324a8e832b0d5c3d0556b15e35b17e815adc42f371305c6a13430853ba1824533df8655ebd98163f8ff6a35ce5b33a651768f755e898a2d7282157f1e20f6653b387b67905fb9ab87bd378faefe6baf0c819da592a2e0f310a4891b68b1a0dfa5a835f1b57ab290c98317766f0d0b522962f2732f99f62322bb3f340cc373495e8b08b5dad09ba744f4e0a32e500df78122a9d74bbcdbe2fcc7bcad517729233eac408de2def1bb7bd46770248c18493a8eb0707c4a5277dc0c60e275616600e8fb258cfb947d6017d271aee0199ffefa8562d6464dad14017311d2aee42c855f6410fc8c06c23c0cc2342b4a32404ed81ec09e7a9447c4d806419ad0c1d7157f8298217f089f47919463929ea9c4cdbbe53ee2233485aa0d2302392771db800e34edbd4e86118a2669387adc908995c56c7981a1cbf3eed3a0836dc49df677773bd6439b459bde17d17e6f90c9041bed17bc043267c1ffec7095119f32a6426afdbc44a5889ac7f55dd3ac40d6a2c4076a2e42b43b2c5143c41835a6a067c098f1e9bf8185059833f55fffb719988cb1047088b064699230e8e8731a0b01a8f1bed436bcfcd2bfa7c41354c7687298f059b8a5cf77379873f3fdc62cdb97f54ca6b5fe59b3fc84e23ec1c242922ce8eefcd72f510f169b47c847a2256140fbb97fdc98a265fdce9e03e90232bd5d1782b2bf2d0ef6e884697d0f5a7085f4888339647a36aa4a4c694321fa7e13e19ab8f642543df028e1766d0d394df2f58e8028ec6b5b2a126e4805e69af3149a709e737ef27efacbc32328d1716a7ff5c3a88fc4a974e9e3d0031306aff7ba0e51e823150acc654455b557049b6e1657716ee7d991a70166d0a69d257d212382bdc9547c2e5b69b7fc65c4e31f51575bafeedb776b12e34e3a107dd94e8caa126978f5b94ea9de281b102574233d5ea7f9b3b3106820205010295e3018c5c2fac2f0da733c7dac0e8b9251b8afa15cce04afedb7f53a8926f2eca1c3138d4372805b2e6f187f22b0a4cb3f88bd540fe729d328530ed98d448de8f317831a1c14a08652daa0f7f65dcc90e2def639fc69f3d88931ca6889b8bca9233918b884b89069e9123a3edf5b598d8eb125ec9831de59ff8e8dbaa51c1ddab24fdbd5a3b03e27a51cb8be26bfb2184c0f56fb956e86c3e9a5b9a3ca3428dfc334a1b30ce689d74736f15d9f2f7a4647ddf4f9635222a7fdcfa7b890d376d3e2c1e97440b7885625cf88beb89416828d1436d5a461391379636fb75511a63ea089181de59b273ebb1dacb0cabad7f140f224fc9a700e3a233f62b089e03918ced7b061faf71eb69480df6c956b57e7bd0bd5b0e51f2e0f5ecfa6628f5609c6d95aed1daf722facb28bb841e9376d853750c138a970cb4e864877996339e542d35ec46d5467f4e90dfb139cba4414239e42e6efb511ccbfcfcd1efddd624d4f2a7ebd155cd2a5da55a6c45fee90df399f1e4835b1d0dc36286ec7fe876e65aea00bab4ee1941e5bb1e3cd2a0ddbaad81a2ee785adccd7a939dd47b2e51d4ef97956880843be71df3912570484ddd7d936f98eb406a4e18c8b33918fa9d2b0dfcbd8558a8abd0f88b8adc99ebbd47d2359f9a37265fe8e9e5bc58ff5065274dc06c24c33658bd17232730552a82080abf6116f87c00580cecb928805eac72aab11402e96e904077130d2f4a50cc019ff3731bf2fa89c086c2a1bd092adb914d99b6e36b6cd5323863f1b115a97d4a2c64c2fa3925ddda7697dc9018d08a56fd61a3a7e7e37099664896253e47431471339e55d622a55254e2968cb50656ad801a41d0acc910a60578332dae4b31360b1188ae43c834543c99b84ffeb4f833a0d7a89eba8ec8ca438d9dd3922b7f12a247b23517cc862f60b1aafd5e00fdd64bac641ec0479c38bf2e2f6186ee5d6133b965798aaff1112f1d7ea38b94154eb561e0295e448e7da311d38d3646bb2432d75d0acf1f4176a70b567a6a4d514d97a00e70fa63f6d627cbc5416d567cf2b41a2f2a20c7792bf5dd1341df228d0a8850258efa86818f7374d163c501ef5dfea8fbdf72c0c3b9f62c8c1f0ef316b8cfa9b9b22040e14fb3c2c610781741478dce5cf5053e469995033e7644cfafebb6b2a322ba81add179452ca98fc0d6d3f8ed60743f5d2eebd9bfc3bf57303b6a7fdf0d72269dc40a97fe29b13fe745957fb5c8f7958e6db9b8da8112d5b4c88c2ce3f4c1a3b7880e5e04dabfd5fbc1ce6bb10bf3ed07d2b819f4ae3d12c2d0fb3b368c3933f5f8a5e7d120fdd2f2a27c4de7deb8523f6f12024d5ef854e42c48ff5bafabf12c1c7eccce7b9a04ccd10d8d9bfc02011c45f4bb495cb95fc17f0834ca0ee7bf1878fa9794fdd0dd8341641a2c90978c8cf6de6f4af710b9955940e5a1a2ab8bba7431dd21aec37e342f6327d665a9a33b232f1a0975e06f1cca79eccce5b19105c6e688c35ddf43f73d992f26bc010e90902fd7e0caf74ff979b1e7f179ebf1264d23a7e56a03ada3a6e5facda44978e6a616303d0449548ad5d7303876fe6ef3a34ad6e145d2a120a14b79a05aee82cdb092bf1638388c8a16b01dd0278336d71f2dae9dff830f58fb57c9c3ecbdc7e778064c5891f8866b52fa9b393355274e0ad7eda992719fc09d98f158a490a20b02c6f4651316e022db265b3584223f8eb9201bb1e6d4354e6aad567d400eb5610d1ed031a898be756d6de5a0f4aab7ffd7324eb390265c62c23c9861b10974d437a9883318fcb7acd7f9c6355270b05cd921c6bfd6cb0bb434a2cb20f1c04696e0fa97f4cc7a35ac04ef6217562a862cf6bee6d91fed97b1236e4613203f13247c33870bf80dd160d0a59480ce008077e921d9c4fa125b96a450aeafc7bbdfe09b21db0e381b7877fab7d84ee91b1c74e4e703f40bcc653ff7eee3688f2584558ca117eb4f260d928db848dacee827788f9f306452892e080a46398dd2654316e0339acac435a2b5578b4dc30c92ddbe03c82b71a4254d7569737e1961182a3bbd3eee185b07307c2874e99a3c7120637169a4957cbe06d16efbcb757bf99d916c0cc4bed5c357f39a1639f08bf7d2443a4b6f77fa156e17119d50de5f33f29a83239a7015cd56e3c594d93a43005e9cf829f09ba31c93928c853d1913a98a814df8761a5be817f33a1cc459f3b09cef6759bab18dee019920c4e60ed62a5bbc8956bb87cd474d1db6284a07b37c690e6fa67aac9fe65dc54a9ae42a71f7c8bc06a5c83909dc3c5737f3d11d8244d2eee6f57f48db3a91189df84247b295666a3ee47764a51bbbbb2c0fe7098c1b970655cbbbd6f56db52186311f24866462fd1a2d1f0c5f34fee56c7f5a2d847e7009b611dfb3845e02f78cd28d1c5c2b5a0342f829a57821c7c4f94dcc7774356a2e9f644c88ba8e09c974c1a5f2500e803f63c410555800dd0f54d560711d4b68c1cf530de4cc96ca7772427b269e233c08056a7bf8883e08251ad5bf109dacd962b3828c25246a04b8c59c32028f68cf2781ac2fcce239cf42f9644c5b3465f8ce49163729f647a3bfa926af08c4a83d2a44ac5a2b41e245ec5d74ce839af9847003cd5270264e480ad39ca78477ddbf48514cb72b4a8360c3273eec3aff16dfdc6ebaee8d3af06b77cb355b90d6675ca53b1aedf5ef661a9db2007e0d77d4a0722fadc16b6f774168a860eeb464fb2d7a38b009fb7934875e971d115af2fa1b48c8f8ed1e1dea5e504f2d0a075e22fcd88b8301e3889d1226dc4a73ccd9ed35c93b1566e52323bf152c9281e05a31aa27b004dd8373cdcdd1669813030391012de0e77db85be6c0a0467e31268bb3c7dadb23a2519a620994a419a86fce8357b308c637c1233837da5e640b403c34eea669bcbd54fdf5f421914304796ab6365543b9f223431f7f7ac65b1fa542aef1688a2ca9c93f6723c79ade645a0fd10efeb355099c535a21ae47daf80bb140da0169ccadca868562e6d46f9b99d46691e619d92e7fbb8e4e2dfd8ba18c8299bcdf6c982504959e6f7f3be69f66273cb8293f5ff2589272bf26313de7322a6b3659f153a5ec18605b2fdb7438c01012faaeb61c0599a76f3b9acbf1c80229b3e32340e5b10073ef31df52331350eaec9d8dc5bc7ecfa71612ed5dd0503f73c08daf2e47509faa0e4243197d49381a9ef532509f21454c93b01de1ef40ddc3710d7bd20b149f3b5ab455c9af719552c620d4ceea0062e662ae612a777f7f9d5cf1ad3a774b0dd067d2eca858592a53ba8977bcf6cc954aea1a211eb5417879fdd661be26ef9ebac7b2d3accaa9914a213cf2b2c7db3f7bd549b7f1934562f4365f72fb7b97b91a5f66a40706560432789fe61e685c9cd70cdfdd7a0148e948a36e1311335f19a6a3c1d10c3b2cada61c3294d71f6b0902ca13958b71d1e69bf468988dfd9d8d1aa677d88adb6009f5515fdb8318a129e4bc6d10df57f7b0f4684b339c3a0b81f3b7cad6af7964ec2b34dedae4deacb1d2b21159ad23c4d336c4a1b878867e20af70e0c90e32d95d294967cb1d57d8ca2836edddf232da6917fe528e1a5282057f3bf7be369c55a3848fd5f79e47f960f3d69737e124e2cb24f83afbc3d548ee198a7169a8df42681d52b544839313e18df383b43941332955a5f9e2f59031a1128b366518554b12752a636f051b2bc64dc4735ad2c7caa9aa0394b38265d7ffc48f4eb46c859e95269f7c61274862db52e832e8c2d2fd0687461ce627f017065f9fb9e3ebe75a760fa84c2266ba1d4612ced5eda0267477b883cab72c35a21af482017ff3e651331577628fb892291c05a28566945c7e8f83964194bbd88791424dea3edc7e0e6d66c7af2e016604d07ade38009e94c00ec778f0e0093b3f611963dbbe58b46ed9ca606422b84f6c6c853a95f27c2cc244399fe89306a5e588a4ed30fcf03c21b3add59bc66500dfac51b074f8122e97469fc78ce11187e07d664359e8ea343b7302b2c5f8cc6f419fea83c9da988dff7927b76ae38ac102b099295017672cf49d788d8bdbbca906a381077b816e979e0bfb9342a4ae1a58698230070aa32cabff464207e101d441473406ada3232dc19184988d88d38c151e96b850d43e83ee0a2db7d7416501d3e48ef1ea50e226b5bd096431f8b3a425805ade814688648d1ad4be4777e9bfa0f3f70257261d3da27fb5a0745f24d847467c6acecdca1f1f616405729c49ed4beeb41d89e71eeece74eee5d5964bb26bb6f7918e35e7de470ce690539726cdebf2cedcfc653408de2eb24d3d03e97b63843a36b072ea40efe96f896af832c0cd944ad4207ad694e53ef946a09d1099805969b7a1cdb1896676a102f9ac325ebb8100ad4aab14fe7c5bc6ae81906b97d1798df9a729ebc822e7d73acfef0ebc5b4d861d8278bd45017d64e01efeac73d3c6b712a1daccd328e0f48eec7258d583e389da8b67520c94cce8cc1949baccd611a6a2394b3b439fe74d9f19e862843eb2a3dbeacc4640dd83bfdfc5f9bf340ea1a7396d0b7e74eb5a6578124d2de03bc3e605d7f86bd91871d0c96cc2786d43be8efc79de4cdc2490de41f94c4cdf7983b39c1d36f3adf6a5abfd0da711f12642bb6fffd08a70e18a3c9532028846b228430a789d04d1a0b441560c8e9e311eaa8f6532edd36a2bb63b9e97b202929716095745c7a57f52e6dd935080e263053808a948d06804dc0c8b702ec9f2f485a058f24ab9cacf56a3df8e3f8a942f7a153a5020a878d121567dd77384323fd2e5bc1a4f58717981962623d86887223f4f1082a54f117d80622e5837627e37b3618730ef8490c4960834410685b2d3fafe8f50efb9979eb4b1e05a77bfa50fdd18c7e911d9afd2255a7b0dcb6a1dcc0ad32c3f90d7fe5df2f12777a03209fecdb4593a387c276b3b2eb3a1083bf9aa01204e6c6a44d16cc0a12b5e85e599186395720798471654c6ff88275c676b90d0850c8e6b9288360eac99886c349e66891eeaa5d279fe39258676d13efb1139625dbc68e4d3f6fc0276d0a296803c6ac33ee8b8210243b901bc5b9b33f53edeb84aa9c272796401e701d1fd346ef2c8323f68f044c2950f3ca99f9cacc9d9763975deee437963357c35cf2e1987537cdecdd767c1a79aaf71fb3841188a4b4a1ed36250ff2a8969489313561f2d768ae3194f3ed4aacca17365bb3d94de021e2a8bcaad912fe84cff0b0695d896b8ff08572386d825b692466f6f5f990ec7468e376405fdab5dbfa017b1202c0117957a4147ba31a931d3a4cda2c28b02088c4102efb367fa42c0ab58e275c27da405fe4b6a57bdd9959b997e47c7e710419fbb18d611ec197aeaa7e55c6e8ed8c0124ef32d226064ac587f0b8ae688fe3e294925ccdc252cf6424a655d3ce5c6c7f53929cd2ca7a29d49a5edd09dad421e6fb514f578c1901f74366805b9e2b829dad0e0edc6a8d81485e66dacf6565eea5999a4650d9ccb525c52d8750dafd288f7af616be3a4b39041de350c2445b43c982a820b88b2c7adaf8c9f24c997c0557b0c6c4707d74b9fb5bd2869081eacc4a2de061df9ff58e4a9d36b15ee4bd2683dbbe97bc2ba18efb1a26c6035ba2e36cb007120fd905e109fe5b0b2dddb3ba84d60929c22d6d2e5436b49a84bc44ddf13cd85421c515711078e08491427f290f4e68cad47c1e60de4ea867e2f5bb7b5ed937ca46d6eb5c6a325abfbbe4294f93d2f417331754a22dd252afb9a3dd3a1d6b8ecf99964367ee08c25adc0d57c19bf6ad608c58a4879946d8b8a7a88b03ed487cc47cb673fdb492635f947df3e88d9809166afd3cb92393355cc15652dced1171a4832d0c1e68282f7bd675d0192c673e72caf7b897ada4df005541e6e1cc3bf0c9ef141ac74e5e6420161b26963058f43c6f8178b06c0cfde46702a2bcb1904fc25acfb9e5db3f6b099f2d35657d72bf7d0376529acb191b5d142f899e5f402d93ff3c3927d0f402d8902793649b15a0415812eae8a5d387b467d31a18d4c3aaf09a2d401f12f2402a47436d2d4d00edc8f0690bf117265f135c6fdf0d5f0ef27f03fb5a59a7ccb4996c8aea460a8b2f249c4cbd44052ca352c3fa0301a9e0e6bb107b6e055d5c48bcc78a3ce6dec78c2b6adaec5d4f855e9292975c1da66bfd8ebd3d91e297110220b69440215d65b574c69ab611af45865f0647e9721fda25778b2e31a2a214e6cf653670c8b179ffab49661386eced490a76690df3b1c060da94988da965a9ca45d83a5c3a2458c90ebcb2e968d99e73d53a7948e1f67b11346abb4d02947539e271fabae9ccd42a77ea0a61194a3e67bdf0a1b6b816f7a77d2c7fdbab57f25bf3cec54136457d327bc2544876b9823889d542410ffa81c9c07c601e54db8c39cfb412da08f6f9ed9af4b8a009f845a5075c46b8aed401dc1bcfa7050668eb9a9c9208cf64df58dc182e779608af99e41c914151cf59422ba9a8eeedb59fb16a49ec3cc054acfc631630578d0cfb33967c39579d2696056dbe0f9d8fe84bbd82c26249bf0b167b240344fa8788a7755f3f2e8d1c2879f411e8e8f4b643dc190d7fbf86d23f5f3ec8df5e9b4215ce79831d79aa88c3072c3b82a564bed3051a613511907f08439c3784a405311060ac48496f014a283ec5d5e1199e00251121f98d84fcafee8cd38679b21f1a9f74af9d89be20511373409c45c60194198c6c8b22ad00f58fcc8a8c95d10522e381a4f5bf34175c5fa31107b082175f7f216518b401eff5f18b528db5f3b8161641e2aea6bd46b29574a40d52bd178977fd012107b369c93c17803f3ef237ead8238083e1986557715a82b144125a13037b254da6fc16f02e89d7c5ef6ae1761e2c960867a2d8ddb2fda470f340eb2b61753928dd9a5f95081d10dfb94b256d5e5b8e5136f24469bfa09a62a8f51cd7d8e9d0a6f90dcaa83dda2258440980fe0d296c1fb80e702e7c2536559cfe1fd2cc0d099125fe11ea9800369e813e8a1154c4bad4befd4b3491acbb6336a4e1ca98079cc13cfb9f02da5c061f7c74f8fee48a568b125c7a0d54b77767af00a2f2083f120239b60c21c32633b36021b186aa4fa6bc11f31beec8ee7233e5f40e5d301a013d32b43f91496693b58d2ef248f8b7592b922e3d67b54b0526a3a8a6fd933caf712121873647d61d04f15ddad32d645af4f3298d808c824e9298f756db318eaa8d1cedbcc30488ada55a8a34edc246ffdb129d648f3bc97bb7248ed1d13b42cbca78758488fb03ffe9b813fe6c403fdf6bd9c3b88562bd9ed0438cf4bd96ed9503331a7bdf52239b85dbebda11f3fa891d820175a9c27aa129e4ab86aa1ecb5dd7b30ac445463994b6c236f388e8d9f9b25616d350b1f0b82cd115273df797e1aa7ab5b595e2a514268c8c1d24058c18e0427423c84aa93c7ecfc03a13d5cb7fc2e4b7ee588d2ed0ccad42180a1b2da95ae039ddc4948631e9435b9ffbb0b7605dc7e151d3bbfa12c074a73884d05958b3229bd94b82acad361425a1d6295303af2201d61f92070632237ebbf55c92ed0da4090b57fb746bd92ac3c3cab0399e95b08ce5450139c063d963c26921aae79ea8b51a3820678fd5f5d153ee623a1cf26738b1453011e24098adf61235fe883ca286d3fddec4b18742af46bbad08031bbca4815aaec1c1f0230119facb11f2f667d0b665344f71db0168ec62a1e08ca701d432a7f89eac502b471edac5c93a9a78716775544b99cb382c0e35ba7b29d5fcb6844f1b63daf1ae3d9b02832f482ba017f982a7f3ee6ee941d341bb114f706b0652ab009b4e4c909a8189f7a97c4a8c637061c317a4cbd856fe73dd6b530ad62b132c85a3db802bb48ea88df41daa7ad4c072ea6749a1124c88c2bad5551629b0f20d04d28122237601d73979f7a203a2fa4bfac69fd5779f8b80953cc96e29f092820659e8f976522333fd7376af927c8ecd6c7ea01c696d9ada2844a5ba3e688ccca042e51d0c2fa833b84616c50cf04c0e5267b2fd58b275f588a2a46bc98eb68c0ea9185f143b52c6c2d2fa762bd775797997bcb8b7b2334dd638367b8856f958f525862d85f6c0e2c3b58fd00b3cecd2244585ca28c25afdf6d11dd10c163e8cc474b62fc46fa3a56a40b7fbe5cce8f05c658129bdbb2b84458e42ddc1eece0fe09d3c3d3425205753ecfbcf5850e6a8c05313dac5233cab43114e567b6098a31e041c7aa1c9d70642497d682e4b38ab1e318c54ac8fe4963c9dc3060a664f5c9b29f6467c381b20a574dc0632ac36c2ca818fed51d7a8cfe5bd615120e564e2e28be270eb2327a494a21d538106e64478a846765a98c6c72e0c7d95ac706f942c1e1ac8f2cb63786145bb49c141153df4e20edb7cc68ec2d685f7e4a75387d6149b29efed1a5c387bc06064cd2439736d39450e660f5449d9afb3e233304c1cfc44a2940dedb36641a7d530c611acb48c65f8fe960cdf6c3e3f02f912d36c4af20f7c1c70974f9b6c8bece41f53ccbec2877713479683bde7df7f0ef1ad0775e49711f9fb79c035a2b2812c863a5c37ad6a52c7c3c88c1113b34e21333404e72e0d6dabc33e642c32397f85af07d2cb4ecd8b29ed49b33db278aad56420ecba3838029e78e3a24b0569bc2e61869e7ff7dc7b88dbdfe1ff6c3529ebd779ce896faa0c73b83d244696e0e9a8cbfe9395d87b9cc8975db3660280b2e9718ffb62006e150f8f8bbb6f74a0c3485d5a10a9260d986b01d78d742f46acc745a8f5567a3f5199e98a537653f66537e5ec38b87b5b877eef627d546c8d65bd9b6290135c9cb0f34c798addb6c751b2a6386478d91c54c1e1e0af88a08c84832e81131ecd3b9d3af700bf2109289b3be3c4b1474d6bdf8d310b4b65a35560f7c92c88760bf78b4b849662ec7374e80508196478bb8a09489c29e490049335f3c2434046744d1f615c14187c0f51a9e01f82751e8afaa35733818f3f34407a35619d54ce5131086730a8374bd8333f70c3d3d2bccbf93d661dcd2fdc55b94de7926430acc6c02277cd967c938d4bd8d5572bc33c888af22ee47d2d1d97d115cf5976d3b1514cf692c3b4e38bbc57ac0d749b801754ede171c5a087262262595a480e5d5eebe15279d1bce2c91def4e61020f228c739aec10e2238f7f439d878931da79c62ae53bc5c0bf9dc3ee350c3e34780c0e8358f3352952baf7b35c5ae65f04c17257ef28aafdc371326b541c099edf491d613bf27f46d2f87e4d8d936707449ba4c49c877af5a4ae152f1155fa8c130688db01ec77977455a48c6ae626755df6eb8797b5d83b20aa55a765417dd04ec242d35e78c193d972335fabc86be95063d26b1ae6b50d9061ba5fa1645f6fe3d83c42e27328518c348cadb13a7ad882aa0fbeee6e0a90e82a1e29dec39345d46476b735506481ad68076f844c42e4abb2011303abd6fe6a65b61f46d62e64ada5ea3d62e60c9a26a017cd9f614731a4100063dea0451469e30ffd6da5c1b076d1b00df6be0fad9b71d94213abc2fbbeb614de58b4fb0c1be1452dcdbdc45dfecde97acdee426e78a73107588f16345f3b64905ac9408e86535a4ff6914b3d520618aadcb680c09a47e616b70bbc174e75f3c38c44bf387ec14b7e5178a90ad39e9cc734e4ede00fd0bd4679802ce0cf5cead33327d63bbd47ff51749cecb31ad31a304572b1eeea1b7715931674f2393e63fbbdde2bb1061cf52e1474eb1a44558198c4f141a7bd9a9d71112c829738b9de7b1403ed996cac889d4d1fbf63d959a3aba601a158b2d6ab168a5831c14c6d9e99e76f55540658bc6b9c30e51f8c4b0799409bd52d9d280bed212738613c045dc652d85f032bd3080417975ea0f9cf793e9cc2c629dd4ec28da38c313b478f773d4d01c8802e0cde8b553ac6271b8d3aa2604b4a46528076420084074acfccbacb0c901e738cf88c5bc1ac97999f741632a1d3363ec219845d8214bb6da7ce370e6aa48fa1bba74a6b24061fa02867efa4459b8aa9294df95052699c578cf824efd2c8a610fddfb980423c72eefadf21490a093ebb53b82efb37c8b9a886d2b459f5fcb730c3c1f27396eb4582d1bb500d738e4030d757c3046d52e3949495f160bddfe7809d77a99d697364a06f8a9f06c7a0b493263673b30f47876ac19de09db7c5160eb60b8affd2b9bf055e44ebff8b6e3879277b360d1574c5f6419c777b92e7187b471689f4e1fa6944b2f62e30f7fa8b9c702e17be69e43a3dc091e18fe052519692356ede3e6f48e554bdbc6edecff45bb1a6394e1fa7ec309580dff23ab273f3e2936594aaa588a3d6c8f5c67306e2dbe34722177ac9bca6bb7de72b0536a7ad20707979c624e071b0b46127dc82200b958f1814e3181c74a3a1e85f8ea413a14f51785827092396593ce91e5846424cf861ac4bba24fa551f2e12b2f26541bda0c4d4f1a308dd9a266de311beb0f73fa7a15aad3c678f2bcbd4f0ba227019e5a0f0e4bcd38c06231376c89900a5c7a96cfa8bd82eac986de23d859be97418db94ffd7eb222a53ff96e7e1a35d0053ab3525a78ad3d6c55d4e72633e1ae2437bc91c09ac32b2ced6d41a2a9d4cd58a8e5a815e916a25afbe4b480f572900641079a815defbef67c402cf982f0448c0d77c51ce1d735e7ebb5474f8d390fa027d2a112d04797a1942fbc50de0d6950f527d6a34f65083377df490c983b8a8e2e665ed9f9730ec44d41dd959f1e4820a8a891b006290fe057d150250e80f044ec85185940855159da12c2bde27032acde222a07dee7006eb2b789ce9522c21e798416ce05bea560bc25206af5304998f1abdb012e9a283afc777e3a7eec264fd2420ad2f46cfa55f465b06555e837e6fd787cf331420183fcbbd8cdc7047d123952da5b4d55bd71d6c7ec0bf08cb51ae2a670b74475ac0dffcf241e03fc9d8d0fd2cec1ccc21c6fb7f59b23cd94c92c7ae5df825e855f89741284cf518801ecf27f49885b625b52edf1964f678dda93f9df72d0226dbe75cef8e5d8638ccacbef53d3fac89dfb8288bd97df1cc56e25079112bc3275c14b7c845b92873a3cfd1ad628b981af70c8a948f94c0336b9ec2cb7dbaa4b8e765cec5f4ea80688be507203cf5943c5b9a8ec243d558d529d12d2a57faa6f4e79c036d5647c7fa099df2fb77b61a49e5e9ece55792645615ca677683d37677afea3b5761e602c825256c03cb1677dd07002d2e61d54e8b1ebcba45b95e1e8986d761dbca22ad17ca14703aded4533bd9473740ac9eca680e847583aa43771c16de992e9d0efb57b28a6758af2e6116497b83b13d1bcf8faf3c5f35e5d77342ce398bf23bb06c3826fa0b979938039f59cb983e57a3725ab1a5f459eabc6644d20054874807ba22e0b4b32ad87295304e9c62a0e650ecadaeb524d5752859925fa486b16a2ae1b9df18799194311e3ef8e6da6641ff72b9ceab3d0303116e9daad7077935dc70c35377bd2e6c42d1e05bc062aec39c5524f538c2e21c1c440c1e6a906365cf1b2fb56239b89f92fea4f71c642d2c133c55dd675119cc675693467afc99f9c42f96dd9467a18faeb1ca87f1b54f788a090b3982f49654bc438f16eec19c5450f515e582587aca4fb8b997fb7f8cfe5e653069b3dca193c5089b1161372ea75af78f436f9905d83d808387feafd87ff3c523b51c669a32485819a82492c14c606cd754e1dfc08f55ac72dacbdade80255430de17b0d7294e6ecde2d82186531b2ba647c9f5e90f953194cbe25bde3b203724089617bb50876c64afa23790b59c9ebfca55f82b89163c74d3456dbf0a246befb46ee1cc1e7b7254c461a2083c5c86fb9449fa4359d8aa14f32025b3e0395e31a36dccfda9d7b058bdb03649777f6fc4b93a51a2f3a4ec47000c5fcaa99dcc26d963dbf795072c86bbd177d2ddb7a52fbde8eef900b2ff5c12789a8068a212704f2dbda3f6b94b37b699f9840c4c2014a45ddbb29a3ecd409eb3dcad17c7ce1e2b39dc8799925213c9c0103f47658834d9b078ff2f8fd4b1ac7dad34184b5c6d6c7e65673f620f6124ba6e384b223a4c62295f5589e2e3d01396785bc79ca6408abe55a50fbc3df92ac57430dfec3ec60a983b55f90487ca77624a1fa002867916579c281efd0aae424236c908b34c6d040d0d95d90b6370d2a0920139d474b982d6e1148cc61d6bb936e2cf247b7b9ff668ac84ef053e5043ecc1045a6d93163ff1dc107e605acf707d54ae434945c1884e9d2ca26ed9754f67554f9891510bc304d977db279903a54e7ecf49a668c6083528c9369f539c761dfcc444fe2d3435de60a766e145f18524ff43b14c35290e31c674970ac372ef8e52d307eb796aeb48c943569069a23b19434e0123d739c3d3e3900547099cb95ebf4cb77faf10206881dc7ece0eb876dce084768086d0b84a2e38d0294fd88dca2177c4ae91175a1fccb082b6728fa425390717537387e849e00bdaa594c37376fb4c658e101c1b01dbd5e6c5526312c5e7bffb9ce07b022698d119d41dbdcae7f28d42e1ebfc25a2ce3196b6776e91716b4fbfd84f2a9782ed137ed069c67ffd6206e0b7b88017a3eed4e0f95c5cce5543c6b7d79b3f0a8e5a2287b62a19b4aacc916f282a062d28e6083974878448cd257ac6ded6ae076145d7248f76eb4f8dc85cb8c9247b6e79b13771e818d4414da1768a5eaf24338e436c6e20f6b5c942277e2dfa5685f824d1eaaa209e25ded34705535c0d03bd63401d069a500bf99357be98c6d85110e97a6bf16f4bcb93b923068537992819b1a9f0aaac0e07169bea2d831172907dbe8e6c542ffbb545f553acfc986a964d245a3cad930a88d6d971bf8a4a964e79ae2996c7047c9d9fe43240455123e21dc9de2a075d06c07f1d7902010022794a7ad5a29624e84587910f5f3d1e676703f1fa678f34865f37fd5f90153fc69db326e22ae27e9ca0e56908fce4825532533da27bc6598fbc20142ad6286b4c044bd0cdf651edc1ce7e43d1b07f048f8cab42021122366739445781772c8bdfa4d296e141519acea70599bd3d0dec064ef5a73600a57fced8609879766eee68f7794660ea195ff076a64a66b51548e32b8615de3b7a21d3b13623dca15017aa8c16c409144bd7d514674e5b86fedf35c31b4da7c25446fbd69e4bb674da908226cce7b8cb4d1154a572686f9506e75fed62a7ed80db9c8a498f3fa0a61c0924ecad3a070a96bcc4c9f2c4ff5bc7e7b3f493f167c9938f4a949a0faa4cd367a3af96ff09a0d75f4416a33c26c4e68bc8ce55084418b40048893cb581b136f12c2bda99ef17362443687794e42a1f66b22a288d805299c364780d993bab28400c8247d944392c9cefed331bda505cbbee7fe874e66fe4fd02b5eeb178c6c0b3b5ab38e5f76ad758e82ae908de68d2e3de47734b62805f00f26d72628a078be3449af219a1d97499fd811ee795916674b7081d5cead2f4556503dc6034226fe7e9528c739181701b174cedb919b861876901c4cb31aaf04ae0e2869f738997cffc11b9042d5518e112c891ba54fb773cebaa83ff0289919289df6994c2922cb7b3e548a3917f9d6026c75c858a0991098da81dc8becc119c5ca467d1d2ab9f0dedc5119219557e8f956a108bd1a7bea8851cc6726f27991f1c04bc9bf410d50f7f668630d4d603d8035d37891757b402b1b98763c81569dba3f18bbc4a736a0a95cb158c2e54b32906d08e3e9503b9f723851995826448349a8945395bb9dd5a7d4d9df9b02eaae4e1a0e40ef64ee1680e869f9cbfedd1a3578c326167835e80cb0610d6f0666ea427af3d959887c411522b3504a33b16dcaf87ac2e4abb67200161c71b480dcd898b809b0ab8c79554091be4495837b4b653e23b362cfb475d4f5f92f6c2239d8c9cd116cc447c4c7545e748e420a9ea7226e505de7a8ee52fff38c66757406ecb8b41cf785aa9b501c9d77c4c2be7e838d851f6e570bcbe5ec2de13350c2f2e5b19c3dc32820d8c1a3c992fa1bad4874da68f22dea7ec700700f0d1a39fdbb8c58661f09068c7cf042313dffe667ab1f86e3b3c0d1ccbbc0e57894279d1e341bf145a8a46ec7610c50af0779db68c0632fc40ec281951603f25f59bd3a439988b4f4f33aaeee67af8dccb9e8fbaa21915659813cb5d740bfd97046c11fd9431077140c2233629c9ada26127c6bf1e210a7039addcef1b34c0284368faf4d6a28ca749ff551c5d871dc0f2036024ef83c39e476453ffbda72a623c08f38fa04d8138165e084e5614677b061675e26e1eef5dbeb5c67fa9a27b702e9670b638d32e4cb14a5e5925247633b4b7aac8fd43f906e3818fc99a0e65c58b1a157fd96db214ac2f82fc6bdb532ff6486ee21a24417aa239de663e00a4cd17016b8248f905557362a8856a3312fd39f0072ddfc99d70125936c358916d59f0ce1ffa1ae5500302e88d681a7f0931f18f71916bea0ddfb14d48b903d3670a4bb50dc676273a17652f061ad457a8aff3eb6c2c2539b0e8852bacad5c4db0ca768a3bc12d22805cd62edd9688d906bedc54a5b65fc96d0e4b6e998d1137a262faebc7bf8434e1d8ff7476d87d30c59bf206c570041c71ad918331b53e98eeb4b0b81093074a4e272775cd77a7f91573c140d8694354fe1881eb6fc1d666f2b06361af0f6174acbf40d12becebc5ae5d4f10946f839be9b42914f64be225ddb3626369388909f72af05582d38a9fdd10698b6555c88b704910344f63045da49dd8609754746dbf586d6d6fe12509ea593fff7a4a5bb4a5b94b71e41568dc0dc4c03007b9d597a8843813f79882b32c9daa7ce3c3328b34765f4c8ac58c4cc345574b4e19724d5f783ef36f0625b353ee6112e12e88f9351c4daf3d6c425f59affec665efcdd630cc8863c2b9ecb906c238fcd339f57803be8ef28deae91fed7ff82f33fb58a36d5fe919a9013aecacef279be663881e84e6a6c62c1adb98dd03bfe97e5641a53745d56a9b0e1ea47b05d884015418a3ce77ed42e4c3061dc2042dcce164256957b2bf692633f8950f869d698440e9cb231d958d555a0d94627d1addce8297b062b728a2dbdfc57987ca74c9d4ac234086463f94db8c68d56fad7e14e695250ddcbbee42f86a1485e68cd988593b4efa245b34669704b1e780c1f4f186aa6837fb9ec3f84e53ceba8549c41f2e3cc7e58909e8bbb6c27beebfc285bced0e10360f9144dbc9b16d2074401ab764a1747096bbcd1c5a205eb4f1701b6e09c04eb54a071e8fbac7935e8361d526214963775d45b05044db0db32db7ec3c3f018d74e4e45484b4f2ed4b673ef8d43cc999622f8822a1511dcbf4ad84f92ccbd68b241726265ca1cd7cdfeb8f70079f87bf6ebec4d958316e8f92c781c25fc8fde278f5d988a96576ac08b8fc15efab3a4582d911c8a7fa2224c32a4cd7aa264a2f8d7f62aef577d7668b3fad8f91cd8e32c49c0de71350a3a300ac85b9cdfcd78e4d1f13392eed056da232a29d3c31f4589763810ba72ea199ddc4bcaec35cad19981232ba62c4047a0e52db429c6a50b861792962074a08e64e8f8f4d09a1caae97e2a79202509b3f40d1dfba85a93182c7e01cbcea84e34889c56e7897fcaed42b05eee325df60d581d7d94f4f444c0ac3e23750f27923896a3a7bda73f31f0b26767c84811a24d753844ac1e842b52243421456fb4dceefc3fe3357a68ad1d3603c0e1b80066b5cea759808baf45021d22fec383edcb452c85c6fc0781f205c616f73cf2629286d596a065e06251c7da7390416c5a6a679b1cbf9c2dd81bbd63c3e6755370cb999b69e4170fa87604c13d92213c8a4ef063d377d5a7a770586df458d241a70445411011fec26362443b19924ff890592710679d44641622b46d404d8136a3f1bd6debd987d70b3cdddb039ab3b20182d36ed251c35d19680708754f78494ed0d85ea9ce9e1f336e045b70b0bde47567de97de3b33af989901cae5d6aa2c9911de951ea89123f4a28484ae804b2724aeee77e8f44816cc7219a658312a5ad22e22308cdab2e2ae735d3c7c32f34b7752b197857154b4b0b23cb523cab236d6b473e95bd34d91b92527aa1070c678477cc78a2f0baf3b0d3c926b9f25f7a954eef3b9d7271e2df023bc2121c52c2b7fdbe2ed4f50dec87166e5f69937c179e61cb46e24221e73461ba41852d80e9842ad999b441168d027a380078247bc7e4e000f1c50f26c75e786622cbed8b0e843788f9b7e77d67c5d4d01d55fdade8c12120ebd7b01c1e83e1e47fb6d9e30f433aab5a756d84c6c17b5cfc22bed09e12850ed59b26c664685c3a1a8d31b3f00737dbafab52d573716916aad6c872e8fd683c593ea7b915cfa44d7e062b17ef3aebe342a71ebc65fbcdc8d4c26721f3c844c6fbbb3501f1a75b81b0e2bea9c8e52eebde533e3e96f321a6b81ecd13a9ae46671f603e393031b02dd6431282fa86ae5762881fb4781f04051e42e4c25a358190f7943d8fb9d592e21b0120b42a9119c382776c0ba470381e9ee6e577a51b6c59fa0b3a646ee60e1b943546c1c37de6ef8a866ab5aa413bccc3eb35fa26265565ca5b4fe4f3f3a93352a5186fac046c53388c79df616be10ff7fe3013cd6b32bce859a6227793584ae38bf8ce61d7d322dc8d47465011a153edb9226ebded441106513a040671b44e02af6ac601111f9149e0446607233943711be834ca286d9d4680278ff7f84063505d83502ff3820039ee3064e40f616e5b06e6e764c6e899984c333c6c4ba9514a4eb21fe8f5a2d220527cb6b232583b785c3f6208297cdc6184b1e4934525f18ff140f1726e635f503f82d8d78a3f6af0efc515c519a064fa73ce552964475ac4ea11456c5f0a725569056d621a8ec81373434543ff7af39d059a1f8cc9347796a2894effc285976a270c45d8ece3564860482d7ccd1d537f1aac63967a20e4cc84da1c28b9c24469202f462a2509d2749baae913a938e4cb4a48f9934986cfb71a8257204584073a639cd61defc458ca5d272c1ba5fde1f483ee8628aafaa8fc5a54d7d21bc82164a5da148adcecd8caa3c227722e70b4b783844d113332e03f58aff15d7c66e24342ac0ae2fd4fab802e08efcacdbf264f553c51d81a452f5cacbc98b368c834ec39747081756b55b4278965ac2b108f520c015593b08650eb82af57af66610c7c12e51b66a8ca3c61cad0ba6ea786809db83da2a2a327124e7d204eae3b3bdebc23f8e9145a78f1e76b6222daea27894736aea6ae16ea602795834c980d8febdde3d77a22965ae552b56c7ec9ccbb4f5c7bf3ed0ed4557c053b10162e1a8423591beeaf3c1fb03b0949e3ab6f34e2c7d79c279013a1a3681d9126614e1b57133c49e2ef1294e75a5bcf4bd9fbbe46eb79222c573f71631c29b175c956296806b291ce359ebd68841e52dbac35a451038df7b0c2fbda3935f3f8cdb97cc18af8ac9c058d474ae6a179524abb249e7cb4a1fef3c63ea948e025f6304e3cd38565580d72d4f5f1d33166732773f772440d2bc358d7847ba19d63c18e128054f62f01992b48e7969616c98d7b25316fa134877d4bc4d7fd0734c1d75eb0ed8e56fcbdac2da7c1336a5a46341dc8d5a76e8561ed6d44af478824247e23e5e0d2da1429bc01a8bd4a5aef4b51b52d87c3c55df999bfa802fad1636f6b86a3a1282985af07657e9a33c998a9022587540a00c7ef3998eaeb75b2f2b0253a913c9f7c277cb90ce0eb207f65a02a23f9bb5f49803dd36df04dcc301d1582a44b78d075fccc61c06dbc3ed9e00414bd72c5f06ba3a0257ac845ee6ef01171cdf49475b671a002c27a3379f8fea6d8b8b054afc6be73e0c20d8b242a2db8fffc110a108b4ef711ea6d6d3e46c9de8beefffa8c9530a9078a7d518a19ef8c6c0f02300eeae7fcf683a9501dfa6d936d3ec37cb488767755b30fa58e66aa8221d0c5ce8a154fe843ca5ed1a3789312a7ffcc14ea0eb31e42bf5ad504f4cb1fa3a4f392fee80b79d9e09a29dd8a7c21b02ccfbc8edb0c5ff38c06d70a42708cbeb9f966bb59289742afe1ab6271b01ee8acfbcd5b23edb906156bd12f7718c73c4e06758dd623f2d43c40b92b2953f1a4eb03625cda0e707e70dd1ffc527466bcb7e8410dc7dc8ece990ddd3d789b7c586fda1faa9d6fe568c69d6fc6f97a9c3dc78aee767a4377bd744b5f54bcdcd0df8e16509cddcb26bffc384673201c747d0eb66d2ef84b01b410a342cf341f4ac55b40cad1d2724f8dbbcd823db6811936379de721b94c8b9300c3be47607097bd8facc415634d8bbf9061e86a7beba00a6e3b4bff6bcd656f6e708ebcfd2063071d85472c359e58ceef6f24e9a3e16594c8f1227df7f8517b9a47aac80b7edb5114b54b58c8f17291eab613ae03c06c9ec76ac503c292edbfb0ea2b40950502ad12b502c0cfc243972a29f8ca05cea4af26549bd841e3d4049e191aa251383c3a9f5563c02d9fc337724a30a6ba38f6d9b77a063adbbb188c4d0e0b77ff7d66857446af3ec90f08137e68c59164d1775982752255c2f791e4f54b256ced3f30a059dea4bdc4f7409b83627590e9cec54a9fa54745f6174989689506e799a8dbc5d1d3b4e23bf686b9a556c82afcfa066d725713c4a2092ac21e17442846057a0921a236cb965d1b2f2644df2bdaf295f84203fb06537d2912851c7e509d33327e053d49962a3d2af72cee1ceb30ecb1f913916931ad5394c224794a92f4be0bfc5df522a0b33635de9c01bd2d4a355cefb8bfa2bd1a7fcff8ba82111d15c365bd73f5e8a7756ec18e947b6388e0813dea507cdbcd81c048755fc42b6c801aa4d938ab91118ed89b1b67cbaaec6bcbd1a72c1c2462d0bc23654b2846045c78cd75f91b9f48e68d0721667c3a3c82fc570293071aa6b7c6104fa7ffe3474cf72a857776c98bd47bafa364006b5040f0e56ca519d616d79702df7e665107b0769c51250c1cd5dd3b8a600d760ed3add980ed38adda1c7fe8f9ed6e779669a16ea92b3b37cff991998937a1e39f5c4f0f7827798ced5a1a5a8821bb0e6d9f232320ebf288f65239fcc7e98a697aa171271d7eb55c47bf40a958efcbe3275d4d7c32afafcd05b280fe91a27d3e608de3a17d320f10c2e29aa5864ac8b6063e1c86853472984ed9d37be2c64f683d70b0132cb1860f48201bda88dd0b2f1cfc270cf7651641a9aea0a7a58260034bc0a9e713ba62f577060ca28617e01c5f3fbebedc52d4089294535dc34354195d0f19b387c51605b60468fa118118f729f62757f8a4c1ba4ff1556d1c8d5a6ac5ebfac66f514dfcb386c618984691270109af6ad0a62d7c53b3eb72bb67ec213b2065b89a5d5b3da0834d1b3770877ed373aced8248a4579f664f0d11f807ceec2d0f4cdb25763b21af99aac2a1deb99ee6b265b9ca72051d2629e398da10503fac3161b9e594e16962da740103a8fbe700a1cd42620e056ad0c227779d65dd449c78f9dc7a3a4692cb602bbe569a8e212611a645865c793b1758885600648767782d6b71dc803f585133cde6f0ce44765441ad930a4dad446ee21f618922f189b1746993296003cf151d12d7de38f0814565dd5576724e07ca90c13f4610979fa0c5ef0438858955a109afda6b8688aa956ae4267c678b301a682927cb5b72c02e077bb38d67e198f427b6c80e2faadd9f6a0a7e893f5ff739dbb08013f55a29a2eb12537dd9c65e9c5a7508936157ec5a58ca640ef1ed0e44a852f108130afcf2c40225a29ef182a6eeaf960c66af60425274277d858af0000683a561ed7a20a7a78c7a99d9fc51173afbc795fcafbe7d66701723a678c8da96bd455779b35cb30f970019c535b2cede09e16f9451b1c99b481a04857b4cbae6bb5d91d052ace6115612edb3027811590f6dc2b732526eb317a1730fbf14827bab40e2f477225ca04338119e943cd7f6226fdd9ada5a82c2195a3f26fe98394dcb22378cef998c73e5a92fb2326165a8fdfbcf56f87f0f48cf2adc4e2ba33ce2205491eafb916536f1e899e16a0833f8b766b3fe8f2c1e501f98abde5ec8dc337d088dc9ad4db67972f5d31eaabba54cefebef03eb340ab4b3ff13ac2d5968404cb4588a0328b94ead0a331a9f073ccb17818944ad2fede40fdb4e281e3182b8618414616f4d986588cffa581aa281d528afd2d36bb7b7a9fe0af2a638f23b4ef8b0bb2d2089a8cc4ec96daa03c5c86b36533e8ca91710a6174b6b57a5d6bb73ecd74a4727d3f69e47c0dd05fdfcf79b1d417307610163ed1bdae90c82d910945fa1c9e47822f0542745753cd710cdef6f9475ff5048ecb3d1985e621227736594b41e0ba58d724f1d71d6a5c7e8a8661757ef2232ae37060eacef27debc989ae3a5060f9ebad30e05cf93eba5ed250aae67e2f7b4e55dbde8c15fc6e9e3e34520118d9095c4cfb13a179434c12bba3057caa5921848368fd81e7bb981cea60cad58052bce53532300900141358769feeb2c1f0e1836247f18bc538d2936b401c79c2231636b703b0d19b9de9bcfc902edcc9ec2152b72874d80a5b4c56d92c723a029f07cd78e382ee441551ac7da588219f4c806a3ffa3b0899a302f7617383e7bee29bcdd7d37dec032bc4108b7f7531a38411e1faccccb625520e3a1325eae674840615a2d00c88ebf6fd4ad258484167d38f90c6d8636d8066e48cc866287b422e633d770c20ca5c445a9647ac1c0b460ef902cd333b3c27cfd62402a6e0f05ab3add67b656c6dc155b535c9e1613162d8eb6109ed0cd33901abbeefd4184d99ba645fd9a7f12d6faf542c51c06bbc5cffbab570bd5bdaf12fdab8ad4d2b432a138b197e20f670070d9e41e25e06618ecae9a58e872c3f456507d5784e024830feb3722689e68c36438e7806aba958ca13354e02183221352070579a88fcdbf320f58fa4a1ca423fd698cdaaed15cc324d0ad478f9271c53bd7154665357fa837eb2b3ac84dd13d1bb2f0e0ecaf8f690239fd6fcb7bb8248c8836097109f43bd8f985c7265883c53e8e0acc93a8c29d397b644ef4f878a23d2f067133f81c6c475300af3763dc6e1dc519b0f3db7ad540a29d91ca8c7764f1511e3d0e779eb314a50130b47bb2b317c51603b1554612eb50f4b6322e6156c2b924190d6fa2c994872bf3dcea9e8a9ca69ead49298268239497ad361c823122527e9589235a23f08bd6a0e23801d94011a3831cd16f14b7f9acda99de474295d11247ac8a0930eda19fdb950bee6cc0035476d1e73d54df33d709462ecc349575cbb3d8ce25754c6470b6fbcafd23c736a479f4d82f3ad9e2f34aca1ac5e008e94172b1ffc3a130cacbe54d34c068996a0d8916de2433cd3cd05685c6d78520d4a49bc2d022add815b755a8a6ef310e67c5ec9ade8622062d972094e09a11f327aa70dfad890c817e840bf764fc2a1d9d9d51d292052e73edc2ea5c7ec70d099ac2f9f77f266aa2105b022729175271c1d55935fa0070b89d72437b809c545bae9ec05f85b5980ef35f03622d631a9406f84abf34a03863e1d637e2e2cafeaf34e3782ecd67601b74625871bfb9ab4e8d7d0583a490c2269122ca05d15d7af4c7ba76330291750acf16f655feeb740248d2a15447d29edf24043c6ef12946f9518c39d0ff0918cb7b0cb6a5be3b907baf5d5840efc53dc4209ba12488874c1d7c5879cec52cdc37f4a14cbc1642273aa159f9af3416b0c5efa49a0ee31cac9736401be41244d9e810d62b594818b4b66af2e168212b62f79277f2b74c721e8205f12ee4c0152ba6512047c5096869caec10e1228b3838c8bb76bfc064a33268e8b6e26431113dce9679989fb9143db1385b173b6a092dbfa4594604fe118cbacfcff2912a599433f6e6f66cef3147c0ff76009efda5eff1e3c211f05db1171cb699c5d197b59080bbca78c298da5410b547772822b6611f7da8dc457879bb16847407c7f859e2a7a7703aaceb76e4d4bac6860cc89787a999d251677b491d872d46f4040f8f9c79a46f487e3bbcf15b6fc7606a2caf1edffa4b5af0e312253157814b84b8de118d3823ad8d452b55114eaab4de933b00071470af9f7a6c25dc5d4a01efd91c3942adaa3c76e9f66989b941de4962a74e6bd0b22562f32def296950802635d41825ef0949bd3eeab8b6fee31ced24c98d05860ace46d8bca4dedd68c33d2607a2c65c91018a24e8bacdee0f5ccceffd1f2c5ba0681711b8f19edb90d3fc6ced75e01bd7c5bed7271c351f67de5c2d3fb197fb5f1012aee0ede14d6f29b4b31b90f46f7b5818c0f34a3491857909a7b8b32e5e4dfcd9b7107acb46f4f36f487ae095921d94317e5e3288fe0a2c315d87a4970c314ade37c2877d8bf4c49482262b9af77a52d6e8a5ab6c342cddf9053ac81f40acf471bee5</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-surge">      <input class="hbe hbe-input-field hbe-input-field-surge" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-surge" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-surge" data-content="ÊñáÁ´†ÁßÅÂØÜÔºöPlease enter the password to read.">ÊñáÁ´†ÁßÅÂØÜÔºöPlease enter the password to read.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-surge" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M1200,9c0,0-305.005,0-401.001,0C733,9,675.327,4.969,598,4.969C514.994,4.969,449.336,9,400.333,9C299.666,9,0,9,0,9v43c0,0,299.666,0,400.333,0c49.002,0,114.66,3.484,197.667,3.484c77.327,0,135-3.484,200.999-3.484C894.995,52,1200,52,1200,52V9z"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">ËøôÊòØ‰∏ÄÁØáÂä†ÂØÜÁöÑÊñáÁ´†,ËØ∑ËÅîÁ≥ªÂçö‰∏ªËé∑ÂæóÈòÖËØªÊùÉÈôê.&lt;/br&gt;</summary>
    
    
    
    <category term="Èù¢Áªè" scheme="https://github.com/missionOdd/categories/Èù¢Áªè/"/>
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/categories/Èù¢Áªè/ÊäÄÊúØ/"/>
    
    
    <category term="java" scheme="https://github.com/missionOdd/tags/java/"/>
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/tags/ÊäÄÊúØ/"/>
    
    <category term="ÂéüÁêÜ" scheme="https://github.com/missionOdd/tags/ÂéüÁêÜ/"/>
    
    <category term="Èù¢Áªè" scheme="https://github.com/missionOdd/tags/Èù¢Áªè/"/>
    
  </entry>
  
  <entry>
    <title>Èù¢Áªè | ÁªìÂêà‰∏öÂä°ÔºåÊ≠•Ê≠•Ê∑±ÂÖ•ÔºåP8Êû∂ÊûÑÂ∏à‰∫åÈù¢ÊëòÂΩïÁ¨îËÆ∞</title>
    <link href="https://github.com/missionOdd/2022/02/12/p8-interview-skills-2/"/>
    <id>https://github.com/missionOdd/2022/02/12/p8-interview-skills-2/</id>
    <published>2022-02-12T07:50:37.000Z</published>
    <updated>2022-02-17T20:09:57.932Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="6e9e70a41feb4d37023116c731924cbc770114a763dedfbeb79eb62bc55b7ba5">4c4fd9e09482e311844f0584b2bdee0d55a93e30a00b4effa04e9e685df4b31461221db616be3d2a781d374108b43c5fe8676ed097ca791d48ecff0323412ccd3bef72f4958205bf579ee454b2bbc67baae0759b324707b1e84703c16ab9b813b34619cf4e3b1e5f348b9300494d1cd639f74471522c9e5816e1d2db13b91eb1180dff1dfc2c1fbb9dcad8f4df3dda9782cae8d3af2874ee99caea9425b667acc6a8739a70dbb387d2a0b8cd7723760867dbcdcdb1b68694e3d91b11f1a6d633c8e9cc10b0a5bdc4ec51d4f5f3789a0d2032c335553298427f28c7567b1ea386b33f7ae9d4aeba32ad2b53a6b634325aa58f6d68fe269fe9ce7cee99fe4c10815f3c869794e91474ce78ac8e59270c1b027739af7f6bc084187ec34687e976f33da5275c8228d757f43cc1080b4ad5ca2bc0c653760248912b0e9ac31f6fa1f078188294ddeb2c4c269017a23fb7effe18ab1e7de94c023fac1ceb7222a536991e7b61722b5b0b5ffe073efa07047413d2d09607633fbb361199df8cb2fbd9d904a9cf624ccc45307918647e7f55b13d9b75015e1f43430e8100c0a858d037a12e0c7c73afee3b323dad4ffeec8ff12566b175f3357bb92594b263832a91a97c5e43eadccb1a59b6d5552b96d2d6ef213261d1e0d52e7c5138b2111e4992e33e1ff4fa0589f7fe76980678bdac2417cb253500006bf877eefc8722c3303059e82534d54887b654ee92dc0dae39f5b58a981b765d644bfb0be3b3e2047db07ffcdf8b523a80ae48fe097c727c7e83e7bda257b28990a2517aa32612fc8d34c624510ef7ee0a82dfe120b4f7fe7194921d0546ecea1ca01b5935009615ba4308b632a1dc795a4ecd448b9370625305f7fe1ad31f7c765aec1ca1144858b4721758dc336896ae362fd20e7bc2f7ac7b3ab094f0d7cef0fe9c6f2726c5d20a1a4e3360380083e4d8902b984917464cd674219decd75f1a80bdfeb525801851a299ffcce276e7efaf0429d00e06e3f8417b8f425c0616bcc183e58363af40135c47a0116a77cc0b421f60242a526f5617fcffefcef3d4eca8fe8833bc489be8bf1082b02fd71d6915a640585fb8ddd5e261dedb2fa08602b0191abe5258d10071645ec9a06b36a6aa638969f762ae2d275387bc1a5c89e89e52437233a9055f7bef0a34569290ef23268d0149565a728d02dbb6c68cb7e7b677de77d05948b55b802148bcab772829e25dc4ed59b3cffbb36e14bfcb269efee9c38cb1f969814d86671d3e04de7a8ed695df62752afb0f2431dac2c97dd72eb1b5cbed562a18d6ea5b809350f2dda6f4961b79940a3862e158723b45ebcdd930fb404b0585f3cd01f2355f52c03a151754afd5b66a68ba8c72283b71b99800c70c5c76edc93eafa83f9d4b527e51190d7ad77d610df6cc403d883a625a2c873f1e7dd33cae34535801ed732fd0386967d6f3afc62f8b76df680a387fc5cdaabfb5ea9ba47ed34087f5ea658f74ffeaebf1dc5231d28d3fb794b8b0d18b7839b9955d8ab1bcb45315e4640337a7059395b1003d8fa8931d9b2d1e52f77e42af1b637744fb00435b74a2b1dc1cd8b91a8b6f70d084bfda6629cd453c49f74170af3c5e85f670a926f45ce97572e5e89eb7e8299d83cd99c438638b1727e5a98870b6a5137eb86cf981f7e68ee83ddd7e24abae33e467789b0153cb33d9d48ad50dd2ebdad395f751dd22e4181232e1e380e607f7f060faef251dbe933a30591c932cb3bfee6a5f3c25969915cff5c4a194eeae8435fe89efc05ac174979148af2f53b1091c38d549246d95b8be8ea3888ba185cff36ba031cfe95edf394761417feb17c9c477ce2ecca4b14a87d2df196d7e1694a9eedff0bd186655fa7bf4ee7ab99810347ec95d3da10bd53b45a2cdf49cb82ff0329a4629cfed0f62eff1ee1f814c92a1a4dc4cb0b5373aa4f8768458ef016bd98e0fb663df7137971ea721899f255b0218a5ad36479fe0de281136160f3bf9d485081dec4df0d6b44e4bcb822f072aa72eefebfa92daa2a1c0da8ca09e464ae3373c3fca129fd805b78b605f56534f9616357c9d8a52ba3327810f3f1acff816e167255ec7094961b7ce4325043ea5a56962522c2e10951fddcb3104e6e5cebbe0ce7f37bd0fa28d7469e6305aa2577d7c5b46dd542ea7218205899822c9659b5e19621af12d438556f030839959e5e1d772102cd8c60fe00e12961dc30d62211bee01f9ae8e1884328daabdfe0cdf012de583b0453cb84274e76f2d3cebebbd4905030fdb58a395c866a21cddc10a52cf0f7d03b6761b3dfb40ab3484341e717a5e268fa6b2e9718d368fc76f0f49d055b27dfa4f8fac113e9c585a7ecab9a1cabc13ed42b0e4e6cc89f881d72359628d6df1293562f32a6d1fc18599c7093b99d01fec9da7a759db5bd76112d2ae088a0978cacef48a847503d217c1a16cd6a0779b46489b92c89d0a160f6e4b69933cb3da711539266e524fdc9cc90369b7a1915a63e413699d55f234be147e4fabc99673fca83a33e7927559ef3cc8dd2027f63d0da369d4c8a80ad3d851251e0b5cf6d2b43db1960ea7a1d4cad4145c4fa14774ec79becfb3befe01d1bc409d4a7246fb9ae896981533d6f5f281321c9c82d4b0e1a3e58b821dcf6dbd834e712cbc12eb0baa254d1cf8094c493d04d186f9c7bfc8c8bb86de66e66c7d3c91f61c32ce89f31f73450dfc953e41f808883f9fc7aa929ec6666cebfdcdd6d9d1bb604dd89dd22ee1b26307dd1badd379b5b9703dd32130d584a4b7dc7766d4f4f4de5864126b94600356e5580e6256cd1213bb9772df9d5d5c0ccac903960fe1cfdf586364c574b6758531714cda47d9b840b26ca519e3d0fdd49543413992acf2fe2e3cf75578483be2ff0ed25c83643b8d3812c29dd8ab7edb475419f7ab9b93e3d4058505aa50aecbbf8803ba4b171980c9046178a14da7fe3203abadf1321a866a2ab652c1d40a45d8a7b7491e4c85c3064500b8edbdee7693cb390c4796de0308ad2f484d28e18bd5243d4012498bcbe9ebd5b5f2842f76fd53383d49cc9eede90a4480996892b9030a1f8b66bdc0bba9de8d42e0879e378ee59ab6893e049a4de5e43d5c958b53b6edd84be5b8e840cb15334822b0da36902fde67f3fc4452fc8088ad60408ef77b03f0baeac0d6d26e941149525f27dce11b27d3ddf4d510b36ac8cc2ac21d994426608a614da0c3226d0657c460fa9f8775ec5f94742d4867b847b963fa3a6b5760abd985f82e2afd39171e4d0d1a51e70d9e8bec60b4b9da92e8457ec7c0e9deccba18149cb4ad34b85d6a307c3eeaf74d645b55e06a627f3fd0b13272096786f45ac53ca7ef12640d789d36dc63a36f01898c7c5d10552048a7f578540ae4c62f789158769bf3ab268a64e9dc501b51154d49aeb5d9736abb72868a51c6fd1d12f0dbb822b9a5e991d7e615f81f1ee55cfeca2ff5ee61656b6fdca78e749cc3f038230316b7c86b838481d7a1ea1b51f0279bc10933f6a0ce5fb6fa5064eb9a7eefb395b945ce3914abe4d33a8c4062ac8c8a1af96f30a4d9afd0c20f64d05f98bae9bce8318aa0f0ab282732df215dd9f2baca78b43e4b57e069c22c2963e2a42203a77de9283949fbaabf05ed0280c6e9642142ef3829bdacc7c8a02f77b3ba9ada463f04d21da81373578e8cea6b4ea4542b42fa3ce734d0894e94d753ed8a9c24b63720f1c894dd3cb8ffafe2d288cc70f20646ac3e2264dd392858d55bf0c017810c6d309c8967727e25cd4c35ade4a68045b36f0e4f7b63a4ea1ccc029b33247881c9c8344637c8670b843eb8392a65b22526ff632376746c86bf6119db6bc9bcbbd759824668521c9400a9c5f86b7917585f69665b4ac7ba11f11a8be9fadad34ac7e13931592b4d3a98a35623dabb6d50a5f2676c75f2d71f2ca6804c8f5576863ba7f06a617d5ac0772632d672f7fe39adbc20d2f6ad7409f005ae50e5e3d4e9f54ae28349da7a6ba6c70617b979644db002b6041f6fdc7706fb75671ef076948969687b6c57a8bfd9cda58a92a7b295fc83cbadf2174a92206df2e34065b8aef15faaf7cc8dd8927dca14eb75b3f9bbe11d36d75d0e69dc2ce0ef13bd4a842253a63226a23ac253e22176a35c5b95e9628c9e27c23a3ef76a4d375c00a02a4286d48d4cc98343f17d7267c438f061f415bfacab590505f2f76563e0b7f8fdaf0c29db87532a836b4d554b8d90813cfeceddd8a4c5e3ad45ec3a4e96fb20e189daf0648e8bced45b90bd15fafdd23a9ac266dbcee77a328653583efd6a17dccfc3c0496d9eb08ce540a4e940c4020a6ad770a369d2b3e27ac1174252a47eb06b925b29d1708bb349e9b2566edfdf626f8390e544f81ed908bc974cdd919d2b9dd7073005004df357d15255e8e24d2e74fdcf41336f7ba12a1b7e8ffdb044bbd985a5c5258022dd0ecc94fb307bba0b3437207e7d9aff22ad405bd496792261c97b62f0beab03c577ad4265a56809bf28f99e77be91f094e6477762f4d2d039a09a998ee877aa21b28e0d03d8006f68798319bbf87791ac024864d862899b6a35fa21aee40d88ba56d4fff4454db967a132abff7c45962e3333cac8ebd32b839f82afc0eeab09a90e8d6c9b0f306a058ac310be439be7a5cf5650df16f905a6411ad4dcd30dc10841e6dd1ab3e26175e2f36662e115842016e2698e4a5cf591ea350c7d37139425c42037e7b89f60ef970bfd4d38428b122d02c3581f1042b81b2a4d0f49bbe0ddf439df82843fff71623a34185a1a8b1c8f8b001cec90e0c3a7d22d9d87988393efcebc0d0459ec6a4120412e42e88651a05327625df30a8d9c8d85c7cab497725b1e5030a76e9710852f5d95faa086b54f3a06ff8429b0a3560b80342be18a1de084713828d8bd0022a6321fc4d027720d0bf14856cf219e5c8ee912dbc54ebc65e998fd5bbd4d9b972763dc542126c5e5997e2810b77c10e91e96000c7dd8acf994beebdf2a6cdc4df541e5f88962b49a5d1848c1aac1a339ef76529d1a4751634f79db36d00001fa85e4e12f3d058e797e1a5f38b50510d1f826a2d155cb5d75cb33c392c3ff244662988f91ca255da13ac4a9a14ca61b29e1e5c6d832cf9da63b48a96990af9103b2ad8ef399bbbb6cfea19fba01f83a4e028c8d76fb3e639eb5c96d17c688d460b31c72271d674a000cb247e5b57778264a362e1568a382958149a4223b1011df6dae9beea273d47d728cec029af6ab42fb009141b7c2c651764159acbe33505f44013490b7a4f4d44951cf749cf6cd5efe296a9156c733c15fc07e7094127ed81e94a9664fa20ed85af8badec85d551d22c2f4075c73c79bf606c42f2c02a85b66f133936efd0976ac8566570af60338d276c6261b631d2a0c28b1bd5cd0360908fceb5410727da48cbd6f96d910ea7b6a7c2412b8355750bc96cd7a7e7c0090c0d2a7939b32c0d20e9823866f8bdb19de25b35b531c115b40bb44494f685353027b2196673003868788416616cf8a4b2c3ba480301458f3a003e6ff8fe5980e7349b02aa4f2c44a28a3dd6125ae81731b17235f7fc7124fb37c6828ff90c09a2163a294c47983bd64eb200011001df6b0de1299433fc8258924ccf00373524803e1e617155d2a5761d47b8c8e38476003b331d69f1bb3935064e6b82fdff3025e945ce3ed3ab9020312b8e95c389524fd4cadb9bbc44d572bbe294ba3f2e290a3734ed2e956456a39523d3f99a4e115703c1279c601bf9607f1f88b418a5fcf794085e0b63fdaa26aca991040630c22c58a98c84b813ec38d966a50831ec5263f3607cc0c9b7012a72a7e5e0dffd376a1f75576dbc4893dff860f6ff71ca3fecc2d9b5bf9df384eb4c94a43e9603b62e821e22a368b118e3c04298cf14f33633b8ad49816a555fb140e3f2b4caec6a5eccdb5927077509ae35a95dda624e286d347cca0ecf5fbab8b870ea09cecdf2d8c2882f9556f88bae2206b554bcd51796515fea6eef5abb038ce11d3987eff9cc5cfd03abbad6994d68cf50541d0eab701184d1ef4fe36c504c31f49a44d096e1457495927f9055601e753f7e7a2988e5e890e2a8d7fd27b8276ca3378938ad99c60b8eb4c21df3cf31b09649b3f771ca115eb2a16499e39584e85af3a20e10f8a0e415459bf04da825ff066c30522bd02ad9ceca3a4a2d8016fd26d98268046b80123ee1c015c1247f9f3cdbf8c3054eca3704ceda1371a5eaf4d786fe65beb4e49fdaaa3f3092daeaac09eb515e2c969714027b4bde36eda001a239cb6ae679e8b65784afe13a2abefc2daa2437c4e8745afd8c2eda662948d4cfc6dd59a40807706f0eeec7228bf055938acfea04fc2694e52d30d2d04203e94229cc8a9f3a60a24fbba936c2994952917dae282c52ccac3b4c7f3de0be6233cc39084c71aebf3b4fbe724c67d9422de559620ee95ad7d6d0591f73354ed37060bbccc6cae647d22dd4666574f3bb6e697ab441b31123153d0b1f9099fde641a25137de703bcaad276092d482beb9c304a349bb905dd5f697f53d64a217ccd3a1ce1399d87226521e7db8e1c6258ca7c87b245fbc2ccdcc412b6d2c0e77f6cf67fa360a6b3eac53a66d83c04f298846a0792f43dd26811900c329bbec6022f814bc855c3e7f783deb60b99189d9dbb3f394ece94c9e5d14854085c7ec50016612b32db56d56ca98db42edc556d751fb383e5feade3d7c41c207659d9ed18f35e097a6d996a5855c25e33106260b12d86d1a1510666a083849de01a552d26ff8e284e9c02508cc42faeffe8dd11ffddde892cf11704a07f177dcfb71573546f8f4a1cfe4b776c2858f9153d6bbcfe506ff73e5f4e0aaf07992b235070aa7481c69e95b45be6e53d067a71f97ec57624e4faad906e1e896cf79307eff333e1420418a33452b2c93e63544e8ba4b04f8ca9c89461113827118353914ea3d1c1d10548505517abf1db916a9c6a2fbc8e8e2afbb41cf71dc251b70f8b149dd3b43c86c2304f986ea518bcc3a8c3d533f1722bc8057e18a6241ba2e467b02e9bb6ff996430f1182212fb3ef0ab90a0299d6e924005a8f1280dd8247e292c4b34ab7238f0bb2205bb5914ea8d37722b678c0b941bd55ed27e97b853efc8f02788a22813a691840ca6c9a816bc5481723efa7039abd26367d0bd8c66ddf52532fca862a4135a3b10b5419f73d08b9f10e6885c0a5073e7061bf49d097abeb1495e0d31af7acf37d3197e0dae6b65e2e76b456d006b86a3ad41df635a62c6b9f2cd2d10d038a0cb8b355bd5b8b151c66c6317de26b0367c59a8f207b1e0d854e721aa19dccbd5720a7889615e0791ce6b73c63cba54ef3cb350b684a6ef96ad933a10685db7a28b04fd167db1f2c215a8b073166447b340187b9fb01e297681fe6e589bd42ce564639de4315875d3f06c3ead2ddd310cb6c0b6566947b5c75c5a758b5055d6c9d00dd956e519687ecca3154520ea9efa49a85fb1940ee45ac851057e9a4614225f8a1e6379a37c58f147b78c2dfbc76365146c50b68356a08862ad3e112e734cd2750555b4ce36f157002922814d20462eacbfcefa19193b4711e9440fc9d7d5f7105e3bdc0dfa4a691b99ab8fe7da034fcc430edd9d0b52004814aeeaf9c47ffac878022270f0091f48ab5683033b4f1c34aca9f5e92a9e7535a01146452fc330c192d4597e36b6397972d75458d3732b0813234c1ba3c072e7569abbbc6bd03f289ee5de5be32bc9eeec6624b3fe6a6f5599748fc1debe235dd3d33018c4e88cbdbcfd0b257400e1fdc9e6e080f3ed1058c057e8b0c16cdab9cacee8f49013542f1837d739835647117f85e63801189902e74f8269a1844278a4ce51fe77327d7cf0f16a98661219c454634e199e05ae79389ddaf1a227d0be653b828c5ad7e3820b30e51472fdb9595403f02134f6b7ac8a3655a8fea325cb8714766746495e66546443d82f81487f6bc37a45947a7eeaa74aa279f584b955fc2e42a94ba8630366c6fb24d54c57b7f1163e0f5e36456b0d05873d937ccc02b339b3d9b33c5ca56ab6c70fec3eedec50398429122572a6ceee03c08622a87d2b956ceaa6ccf5061c00ffa9486919a1930d11c3eadd15c8307731b3923d036002123b574040283867a3dcc6660ca424954d88a8459cefecaf548f10f2cdf742d732ee6e1d8c1bfc125926586e044d22e00477403714fbec42065bedef789ee3c3b0bd8c4865ac133b1f643de0dfabb90e4386dc8178d09e550d6f0f729a29d8e0da1663da220b7e9d6f61de30ac42f1cde699259e1061a52ed17cf4716de1263771207831cdede1fdf1ccb4f48aa388547e7d3deb655f4fc27816d1d362fc99f554cc7b8ba9dcc124f2ddf35430cdd197f85d982e1750540c2a54a29abc53f33d85adabc4a606aa4f208722c78d15b3f5c03d88e625897e9505eff9da3fab93a06b353df8c3f9c21438e19fe23b23dc6d0959b113a73f42cc8286a8c6324696e317392721102ae7f9d1cd4f2b68bd28c0c7559334df234e26edbd06a5aa5fe6480fa5e695bdb62d3e0e20e34e968494a239c9737fb097a1e0867133c31bc1d0185684c69af826a5c069d2f432c7014206692c0b3388d7f1be4c8991871d3118344ab3919b27fe75a977354330f58918300f877c287626b8c7a205c93774fbafd255339a0526bcb11dbaf5ebb9d2dc501179a5444c7c8c9f3dfe6d62ef86fa06295cbfd43a2fcc82dbc17984d9a6f4a2aa058be99ed403ca6041620625ac5129688973d1ef8a5dda7eb6ffdb80d9482c970d33e2ec9fadd154e9890ac229bc6b8367e2d5d24a8f05e7d3eab598f2f93189370f52d53ef3db37e991602799559b855e96cc12d5238ca2a7f83d8750a6a0657d160aec104871d2fe8131b63e6e577643c80556179d7c936271323a101d32f7f084ea6f05b68cc36ab9489e6bcc2b944821869d103269899d965ccd744077ac082666e4a279f1564f73caf2177394e41ad8b241bcb4a19439fdcea49c0fce790c030f20451c2ab98949982fb4f32d786a0ee5f2c287ff4325b90471210f36097bfbc1e2b46a6a5b607fa3cb0c96343eabcb35d7708b3cf3f4c01c3792d55105a402c21064a8187e6ad2ffd409efe91b806d5b63cf436b538dabd814a6587cc0b1d3a338e65d2f3c2ccdfbcac1a483458064f3a817d9af2a52c7998749d0eaf5cd27c5cde34903621aef3ebbcac2fe5e1a6a74dec8ed467d626bcf1a6af84000bc2357b96ae58548b70362e33c46fe0c875803667834fc417a3542fa34e9db4b0e6f7e12b89b1790357f2d1a8c37f4d5b96d5983f01f9a3d3a8f8d49e3e31e734f5a8d7190d5786895e2c9cbb4123058b25297ce7bdf73aeb4c677122d7d690196212233b8fcf1b1ab37150df970d7c6b1ed8c67fc4f717c085b46608480a12e73098d2bf17a556db9c33f84ff5ace963a6048f3cc072ac57ad00685143d6bc14acec840a54b91fda7867c956e7e4798d437cc53a9e47c7fd674b3a5dde9b1e16df047ec2c22b464fd6a440985bfc91d5453a2e01b9ea904bdb23d008f144eac75fa4723589e2ea9ae4604d54a0e64faed4fcd8f178c80665755e1de617e238237f16ed464245fb5fcdb9da621f33cd3b7352d811b7a1716f97708fc824eb3a0e8cae7bd13a422b9d8489c3e541a501882397aadb4f6a78f1b658d34ccc40bc2d46f9536ca311d3b66f86982f7ac250864a7793aff8f38ad2500404ecbcc07cf582fcd380dc881faae5820d8d072fd09939e37bfa0d21a8a2d6db61c63d08501aabbf885a00c742353a455e17cb32000ccd07394ef82be5255fb8959937cdf7c0daaa07a64aa214aaa51ac34c5d989db3a989d70d4e38ce8b151f05af7cb04581fe37e41eb3171c5e3efa138bf089d9846880e6f3ca85e93f65f5382c9bf7b8850d75a17da55a743c53591a853a4ffbb3dcfe0ba68859232ea8fbc6b758432378737992acde40c4df09b2ce995b9bc8bc61071678ef133d592dffcbbff98b5f1114851b2ca023e075253f54998a072b7fdc41d751bec954a5796ef9f13aae4ed850a5374a91384b26772401f6060fe2897dfa6da1f21a65e34046132e726b00ab51201fcbaffa410a910400babe44d715798047a0e380e235361e4a9d6cb47d0eef73db461ca512c5eb5bfe2d1965d3882a6afc349ba28af532ad5673f3e9e9c6b4a9c22cabe66e9888efbda28d90f276c6a5d90f534146b0a52be5fc2ea22fd93d9cf2a6989484aca127821af34f15c9d03bb27add5824b648b312f3d3440852fa5664e384d7f67b2719388183876e58839f34fd129abf2790738ffc25be125d096eb31bd76542762ec7cca5b006ca07d00c12f4374bc412a6139a8e6a5206aaeb93f4dd43063a043c8fa0053d97195794263b085964010241984b1c04e70cac7aa9dd1e7e7e61ced45b6275d091d99c47477cc7861fe3b54baa548395e7e4484be3509d33476fd86b7ee35193ed997a7ce055bb1c5599f97e4d00f67281d0e2f65984528f5edc2850d3ec9df614a8f6bf1a1484c3cc39a6b601f5e14a0d1e5e00de69d2b50cfbf6aa967cf5fca6971382eded15ebfccd5773b0e719bfe9064fba2388717d6cc1828edf9c3bf936b767865a0aa68423fc649299d1552291467145122a881881118fa5b0b83272ffe7f71ddfa8994a98711b8834ffad8f3c5e2d3c9b5c367afa2182238df3ad777e61b480fc91e32fe8458ef0244509e43fd8b38c58009ce2826d5eaa25efde7d9bc1b16cfcdf8180184c87b1e397cd82f602476523d2a897726feac45ee0861772fad12f27f45ad972581d393deb16033dfc487b1c4d1dc2c131b3a0d03250399206c969840e01c3c22b24d3b7520c1e83396fe1495ec18fa7fe123180914f653b848149d95009898fb2e57b503e468bea61ea1fdc0a5a2b033b9c1da25ddf91fc17a881d69ea844147caf01e06e304406b810578c9df7ac790a3a15863c271b8ad841eef53a12cb3784a3cd9064944ad02b07d3d72fe443ef0154c85cabc4b634ddf606184c7260dc85dc0cd498e529e8e9797c21e4d64564453f8b92b9ecb1715349de7ac807d0446565d6ea1eecd39c4250c73c69c4412f20606fb43a9c93b881ed13881989ec85e048db38c010dc0c52b419ccaf9a536abe3a34e94325f30a132b031ce07653a07180af1966c5909011657b8db279f910cd445758960c8743b7054a91bca3658df17b9dcd79881a81aac2c4dbaf841edc37eea86c74639a821f5e182c6fd1de8b947f63df1f02cbccbd5519cb7dbe20d0a4bf922195d02bcf4a7392df27d9764fa535f1bfdb60bb891325bd4d469df3aadfd442b20125d3a2ed45fead87bf3e7f18814b53f28c5b686074a6a35bcd59e91b45fdeab11fdba880c0f16caf7fd04c1714fd7d49cd64c51cd5c5b2cd9b55e1e5aa45cbd21e420004056b8f5f361299651e92a35836c8184cf5d08b9cadbbb191083e2480d26bd32178ee22c262e729ba709c5c10255359126ec11d3c3ceffc1c9012a8566e753be78f1973c7b2c476b862eda933ca0e3e9e5dade6e4b4d4797dd8a3211400469fbde21dfb9c97a69b4969ace05ae5120e2293e96a0ea3371a60d4abdc299afc5d4080de61ab6c5dfe6df3a349a51597fa39416831d364f865b5c4477706e71d060aed930437dbbf15c7c50ba5eb537247afbeb6270e8e53a39958e81729dbb208151c197caf94f4f2092546adbca736914695198bc2305c4e5ca19f77071dcf446be91130ac8b0ddead5de56875d5c3b1905c0adb8efb38332ec52c83a4386e9a94e3a0fc6d0bfbd4408eba382746bc87e575791917b982a95e53f187f3f82d8d53cc6fb7351c7b131005d203abd0892c6cba280c5a48b4e0517076d80f1e59217f22bf247f195f6096c9e081b33768401f7d79dee804982728839707bf69858b11343b2a531eef07d14e9e46c61025aa958cbf7f12bb09e5ac99e6c283b4576dfda34cea67cc0461b53dce4d15b05af90730299a1cec371862bbe38dd8e0cf189945b8773245117ea29886d36fbd4df78565e8444d6140a085b18dd16b9bea4c2bd8698725a3e4e5ea818bcbacd6bea0e78622c2023d1617ab4d6e8b8fcb6dc4d2093dd95b0acc967355b689db392f6e8aa1caca1b6583fc0aec4d4c22e4c98b2f49a8027558a538066c87ecdd89d52cf2f18171ff67b73dc62d3eb993f8393b2edd2722ad3e377ffaf6ecebd7291d0a9f674914aef4f935bb96e436296aebcb918c113b6e9f001da4bf563cf04c935830e3f5a0c45f5e97303be2ebce7d673829bee5ebe31de2ec78f92228543e5a7205c260fc30f0a1405d37f4596d7fded545a36e6436fb3d96085acfc2156039ac8164810af58f4d6e824af51425cd7538b64d5cf7eb844f74fccd7db2bfea41514f60e19f8f75c1f120d03e1feb9ceeb1562cd7cf40864c3f152402811d56599ab8b24e27f386c60015d484415cca916e4fe9de57d714919f9acdedbd4857049d9207915e571bb4244a752910d0ee302a826da4ec0e76a0f606f35e2170fd7d51e9b23f38863cde8b8482bd5db7b8050cd8f124797dd668816c63ec84708f60e365db33f1139811f3bd2c1f0b9bab08b2bd9c1a8ab44b5ce622e91b6c8c6264c7693db8e1bc36489ad182daedd25a0056b870493a957ccae5ed21207d03c2219fb09b374003b4fe9e7613f4b9a3d480d1853ee4c231538332c0620f4a38a9db0c0c420d4c745ebc4a72be3ba19bd44ad98d59f2608d55c98a0154bd7ca78c8ea14a07fcf57aa6de6d59664d781c270e409489c0700b59f12cc3b38355b479e52ae8386a7563effcfe9ef226ba96bdf8630c2d9314bfbd1178040775b254910fcde8b34af0ad6f0c8fb48a0db29a6e8bc6f7dbbefb786e40a35bbc593a728ef1c74b18d2d54ee23f794e3bf17f9efd8d1c48a6b1d3baab9cbb9e6a10b4a70abd0818a6c388311fa671177ff3996477b211c5b8d980ad3f3a7e049a8a4fb15642296e2d1cee0044eeaa168d79b0c1c739ce42542488546eab393382e6165ea52e7dff69c26bf0e62d53596006faab9929798a17e3ccfb9d8d0eb858983d6ef8072489e58bfb8516ce32b55ae6ff65063ad30d359a5edfbfefc76a7350aea00f2a7fbd855045dca07c38787f435d5e0db6f9f01f143d1fa3ad20a360de0b8086acad8e8327f12f014a6a6b56eac2c635dcb38c94d87547f475c9af05200fb80a4c1f427717af276c7fcfe22161cfc66fc1e26d280a66b94098316f1a33ce83fc38b6bdf770e679f1f7e72f0edb470e53c622e4d379f525ba3c60c7a0fd5f4c55f7ec21b209b432e1d3f7a33653e05eb9d9ea685cbbdcfae13e22fcfeabe4399e87a647865bb8d299ef1ae8d960b28f4aae92c8362380c2632fa82529e0bb6cb999c2f22318150fb2cf19fe220ea90cb2ba121000bd0d859ee01da6f6ab6728307f622a7e9ce0f6281b0179ae71e4b7af4be098b0c417e888c6e2c1593de05ea552b040dda68fbfa44822164da669926b35e9c52245041a76037e21ba8b1394480416c30de21cbb9aa0b0cdc062290b48a04ae4ef943a4f1b62dc901d9b321e5c4777a0528a217711fd1b131ab800fbd04362ec954be97030da3cce696c8f160c71dec5f296eb43d149eaf64d4e11a56f0395c48c6e555bf0c9c36d736333ea8bc14515ac7ace2e2ceb21c249710694dd713f8efaa5848d48ae7809c0091602173b384ece1c90ea321c9b5fbda3291383cf1a26ac6db19f6a7cde36388c33f4456aa0843ecd24e03844eaf887d29ee9b7317b62c876204b32ba486f3a77a44ebf0eef47a4df06ce985cc65891f535382330e6b7423d87d6be336206a366b45d6f3022dd253bc61dd8d25716ca4f9dd7d627a179cd39d95454054efaeb3a599374ae3f4a965a9ee5c9eaa4524f8e07dcbc27a1998055be6e0ac0f25c70920da9e57925393fd4997440d55d2f8828c7fd473e27c319aef00eb842d7bf73d84cd6ece4ada24c6763f6680dc1ddd0086f95b69e60fe743c17977230d0fa3bec8227c83482ad96b219155754c2a6ee8bfcd827f19c3ea19065659c36b3e73142e31f1f016e940a5303b6643c5bbd86104b73f69674d9881c675a21361a38a540ce32a808396a0c6a38b34cf0db267fb1b4230c6ccbf7c13d56ab23d5a81d45acde0333857bea0d9bc1cc509515b4f0fdb9866d112cea2b3cce821387bf9f23e8833180ea6110fc2db539251603bf55390a5de24a42b36f4ce8d936aa3373b0ee179b5b640c574ffaf8b1e6251986901be4c570ba8b8c93a76fbfb36e950ea0c6a083fe2fec55812c8af2faaf73b7b55d0391cd9af14a39518f020b8c08e1926197159f31997ae0c13330cb8c558e05f8b59acedaee5b7e774785e87ac252305131aac719e03907210e53e39a425b4fd9acd84a784a7e32921b8fb7fcddd4c1801d321001019c58597d2cd5593010bf16d7766331cad299e3925dbd36d7d497ad1e1f1579d5b6bf2ffb7832d0296590a94a8c4980844358d1262bfbb054ea11f99939e3f4ea2471f0596aa92e4aca6e7dc2ac6a9da21327f1fe51325d9b1e521879e86b9b918df03aae0a1af47d181d1c472cd7f034e8a90fbc8b9be7cab679b8513f048f31346e3b61eea9e99c0c730c123bfe8edf06b2b1c3488858901e656e62fabdd8e436813d62c0af7c742f921c726c4b8ca1af82b9154fc8b75758c6aaa29ce21d156c5ba758b45dd5100569469d61b608f395ad16c71a703ace1290a3c062f0a40e14b049bd3be0c08b5f3275b78bc5affd4cd95ff730ab5faeded2d339887a0189f4712442c8acd03ab52fea21cd24225cdd503545ef8400b773524fa412e252979b744d7b2b2ea7e0f18970b851d2baee1d61b4582a58b1d1772c8765de26f425dfaad73c5c073157c45825530675dc55fea450c020d03bd7bc61f778e4c40a2816b44296300f1a347796f648d2628db38c4ef9211a007ff385ec0d43035c1609738701c04617da0adde5d1547f476b85db06a3f09702a2ffa5c271e7bed2b20aced3402168cd364b5922f14a50fd984749d38dda670d1964461c41a531d2a58681990f5a3de09fd609f6423780db35da78587698578560714086ae688798e907be41afd8ac57c14451b67b9525bb5db497ff30955295362b2bbc6be7cc1b7992b4897a3d6b2c00798d9f7fdc082918f1a8333af60df051c1ced557b0f9f6d7140569a0b6127eea123e09833caa9f39544e8e6d22f4fcbb85c891b873e0c17eb7e6cc38ca4fab564741b3be6677d5db4367e4ce5171ce881443a97421348e902170a7ae665971d2db9f6a5dc6ff47b5636c037c91fc5af398c04a402c068db145e4f6cb39ae50d5dddc410833f5cb83c4861649079529af976ebf3730f395fd89a7e7a0fb17b12851f16b56c7d0dc7736c944d219f9e74b7f9158c21b771e965a0fb4ba40d32021cd4d04b2bf2dc2b15db9fb4733e0d213ecf3096625a1bd265a72882227338186a14960452c1ce759bb09554ab222f52eeed97b9327ced94a04bd59021758cceb91bf34645ed4121b8e65be412cd45c16f413bb10afa7b1445b3e9ba862e8f8af67af2d9f90f292e5ca21d83c2792ad5d7f6d63e684aa355ec7d307156585161212119adcf78d5bb925f0f016e606f33eb88bc4b407ec02f3be1f4fdf7639ce1adc328b801ab328320cb01d71c903618b64e888b545f3fcdaf9d19b76d619ece68c9c357331903731477c17cc88033b677b69bad7fc02d1d24331a083326cd638e7056be8960762f0fe18f9f6e087799ffe6fe799eba4ee37acb00ffd9690cd7185f57938ce85fe6ca20bea95d20b9c3bf1901aba24d975ad083068d62b3cbb9c669d27d27a0211cec642ac54334ccd4fe391d7c7c94bf46b2342a52321750f3954f42454f75f33289159d71442ebeed717430f8e8a2f13445d836a65e56b3ed58a309020a1149489688251d30a0d5908ffd17d82376a885f3e46c6d4bb2c5d030e0ae7acc2206be607ab0396d05e57697af60c4df5e07825aafb9027eabf5c03c9b8bf8eb66a62469deb9016e0f2a5d127608eac5957a2142a25a8e763e23492b22762a3ba6505089f7c3514f080432a2fd1a095e07fad84a36ce13843cfe496218c7963319c4fc9b1e8cd7f5d0c549fa43729666401ed214cdd2930dcd2b9f705691bdb9972da1fafe1742e60d09d0464e52d2dcae68c91f77b7f55e38c3fdf1f7ae603bc507779d85513ed5b3d66a3d251009f659caad44fa73bdfe67bdc2b4f8b15ea63bd5a12a09d63c1d15eee1386c0c6cec505d73f86492853d1de8699e22778ce4f4eb0dbb0ed16a882be331b20455a07fc032b528c4989e4d1d8f9bc18f2972700fb78b87cb1716a3824d14c0ceec5316017b19af1338203b528647618abe87cf7c47f5ba4ee051975e3e008a2ec8f24eec34d499130302b429e92c4f0f486d50d7529775fb3086d4d60e91fed73ffcb57cdc2eeee0c8df778cc5b1ceba9f4429c03cbb1e9c566d7bf1900c5411e96f45492041db4e2e2de499ae236815b653b382c7d7a225b34413a8393f97680fd17ae6a956bf7f3dbd53bce22a86744e6761fa781c714515ef4f9265c72250eebc9dd5ad3f5ccb0bea446b558eb9be146fa88a66315350c39e36cda3ca4fe934f1744866ebeecbbe837d46c587c11d7ff942c6120ef2b5744d0c7ea9e4e887568ee3e0160f89309a5d7cedd0376099f3dbdc96d2fbf5b30f78a36f65c0421365f0f411281f43753f01906208bad6b60891e16b58f7d7184814278c4bc6dfd601f628bcef76814d92ceb8d86d4362491c9d942411eebd8849ca6ba48c3d464f894d80caa1d1bcf07c239cc16fa1e540092b85280ffa9ce330b41f4e1422d35c94e83950a0b50b46801c2f96795d21496414737763a1b3b9d6531184b8da915a0270a46ac8da2d08884bcc48bb833591ea2d2ad8eb11f5f678edbae94906789fab5c8ea672b4155d63398dc9123715ff87289524f4ad9460363f21248d618f292bb4de8956675a49729d7de22122133bce1c57ca41eaf98f0ba24592cb322151de3d80f6b1fb077e35858791bbb9d2c92bfdcdac45b9193c1150af448ed152b8f37a748a208b2591115c77146a0abf781f822bf76aa4f5ff7a5705a13599fd5c79ea2f199c88af4e50d550cd51996cf6684ac4e135f552fb034295412823362e5ded3eeb54b11f5c30497db4cf31db7c99bf51823668c9b438f712dedb4167d5ac4a4d31ca6e406aa097b00530cea68a221063e0cc825a6bd83465835d30c62c2f1e21b35ad281b10cec703d3a4039dc9720f229b9e0e6cebade87d2f68415575e37e9f58edd5ae137b24c72267285e71fea28b37d839ff402bceca1a9492331ef37c2cac83779fb4f5a7c8a7040f041da20f860c8f82069dea5a710d8969ea3f91a4b72087c6df3655fa6f6e1098fd71eefe4e71f784837427e5929783660f621d42c0bacae70abac2e432df5cf50d9b029a605cfffa472f663d136cd5c7384421691855b137c5d06feddd57bbc133729bbeb9b43e049fe104e738f35d3ceb873965645643baedd1f11cac8dcccd55b72f53f3e13f465d5874ceeeaf13ab693254b2695dfbd015ed06f26cb39ec70d8da78b7f1ab957a984e0d6b3bc2cf79e932e8083575402ad4db616680335fcffc8f62f2b3e3afb95c7ef8cc3a9dd9ffa95096704227fc1cf20608a12d13d7feb5b90e596662fb50a7d899575dc91105a9bcab87c9456986043a2ab84549a8416feb66558469055db1f9d6713f160d7fc333fcdc40c1a8c39f91c23e217010004ad76711ee87485b6b13badda78d966b694f7303658af2fdce1295b90bd2dc3f3773a4b1df9efed21a3099b8a98b6c7dca4f9a78e3d6c08a3653a4785b9a2985ff01f53952907816b661192418d3ad3b5a6442b08d1688555249c541cc9396527ad41c8d28b039df75a0dacc12d38f33fe35f43204ba394a7348362f3cd3a7c1b183fe6b7d129fc3f033d588cc1731843fddae2245a2d4b9aea2ec345ca1f06f189aa7ad1483afda8200b627cc2d4d49da53c1af46563ff49ee9789649f86ddf375d5b081103c7bc644483970c0b1970856c0cb9dfd127193350d9c50da55b0e1721d373c2cb0b287ec51103f02970a1674b78bdc137401508e9c8535d679fc238cae29409db200e6dfaa3b58f7d868d94ce9a75a99e62776e68e61afef86f6f30cfb99eb73cd8f1f6f2fb3bd0e4802026eabdabb7219c6be185a2054b61bf84552b0ccbaaf27303e395a6c493f927bbeeb6162f80cf6b7c4c527bd2642f3c2b9a16f016f4e813bdf7a5e542c7341c763a00d321053e8eda01b23a1f703844428af1b86cad3c47986db4240b522f5d8dbca4f211e52e5b16ffd662c56a4c248c358d59b984068fca1ccca11158a1a93787163360d9b0f416095909e1aa4a9fda9996762ca11e17434fe8ba1af5b0c2a65645d2d8372674fb46a0c12298511fd6b5d013209e1a4d441aa05a222c63d5b33346a5bf05e2d61131fd260d11a6d936d639284d10c3172515237e99236e3abd51b7e33623b08dcac22c767ca81497a08cd2c0a7e6aba8eeaa2c1d35c7afd608a8f59b8df712468039fe372f5c464790062105572280c17fc9f21dc937cebb48931f27fc5856f86afd6530b867564584ae3f9887d598bbe4f7f0c92258c4d0f12ffe4e12eb60f5fcf20cb72f71537e4462df437b00fab102b54e4970c93a2ca9c1477bcb1936610e839efe9fd1b0fb1397386098e7269f38a900691826e008e0b9729f9944a2130eb9a323f82c52bfe47d82399c05d62e976fff8198590ddf7f4d133e631f823c939df867c6e7805ec57a8e0bda89aaa2c9bca50474eab98c403167bba48da3a5d19745082850e28037fdffbe6ee69cb210154681941223a0ca35b86eae20dcf0c61c5882a2ebca8de4b1d931f27477b53dc6b984813c4d3ab71b2d1d36942499d6631e8ab44c11f97d2bf3bc0cdf65060644166667eca98e2604df0fb6c8f3b5b31a5205108e39fc7d6b456daaf640606da3bcb124fdf1eca3862b0acec16134f3f69a3213068d8e2b879ec1bd8de1c334c2f316e609481c33d7ea114f9a6756f0c2936da1f6a8d4f90b5e8972754977ab5212c1fdd711f25ee922685c1907c83182e438437ec2ff304f86fdceb38a50b08893170bb6f3a26b50777066832a0d9eb727502eedaa4649319e3c9e86bf44354b3ff992eccd42a7667d575e34890b9a21f08281d162d547cc3881e9d51086f768d354b01e98ba8d742dba4db853bb28bacba177259274e0a7db153f697f6c52f987874dc94e3a1cfc9456b2c57cedebc61752ff8e4d655d56a3646325378dbb9dca3ae7657b44741694c854b72bf5d373ecc55c219008995c9b1975020687193fb6cec8bb01c07f97ef29aeaf4ad74a96d4f2d85d1f126f2f0117aefecc5bad94658c73d710741983b147afaf4f0a75e17544b9806b4dffd4b8b6464a3aa23a31edd9036277a8c0bfa0f9a8638a54feac2a35fddd4dddfedc782bd23f98dfe37934157c448914f21595b9ebb21aab5439bf5e4962fe1c9cb98e4aef79ae9490a5f945820cd4a19eb19655ce1d98598728c4d9d8a7144846de775506229c0a75cbcf13cc52f70b80ffc9e17a1e3e0809657388af9649bc36ef043063d88a92bd79250ec2c5948a98899ec8f3224dcd8aed9df13efa3cc2056bef185841bbe91f9de311f0a941bf5f4fc657e52137dbfac1a7e25a6a6a180dde0db0bb244d010872ed84770e8b3c16c9016fd2b2e97dc30942fa690716b94d92f90073ec7be0bbce728ee853d5e779bcd51d61460d152094b64b6232d59780fc8f2069d3be5b5497111f48b3b7ffddb6d1decef69f5c5e394251397ae3566113fade15d749347e2f87024dd1f77a7c198afd35486e9e6881a77e700ef748467747716d0e99516c35480a95f40d9afc4ae857ec4699f92e3ce0447cee394e5421279ab09274fd57fac1f1ec8c23d7e973b22e77ec091affc2be45e73a820b630c010883414b854a909637251bcb1ef5ae423bac5093e40220f9a50db3c82b470218ac3beca904eefe094af34befac9a9a3747d7257a2c6331ae452aeeef1d9f0744e9aa7b13c797214ef2b87498ab43c58e76515c2a0258e14fb9fefcebb9dfdb5ca2684739d307097df7f64f7b1e7f85decfa59ba4a2951f59adf9155c7ca43844a181eefad7d8d72273cc10a2674d613aae234bcef31a14d58c8784ec1ecde8cbff9ccd0b37f2a6afad314b40b9cc8edcf4495ddeca09edf6fc2872f6bec01d6007c839bd49e36e1c23c9c75304993511d5ee12992a389e670e0ff86a1fc18303a4527bfd08c603dc603177b043f24647643cd5583c7514617e0924184ce50a62aaa30147c178afefa38d90a503f4af527b78bd246cf5215c69252f97cb54e4c1a46a1fac3b4ff14149f5919d6815445846dea8e15b404298af662f6343ee3c78127969fafc04b15d62241dc7cddf57305d99cda63705418dad7db2ac9c0b3c878bce76da69cb1aae310c524de552b21411fc78aa009a7517754b688589eaf608954c7d33a46585b46f35aa7b774bc796e1fabc4a625ec2217025c21f9cb4ea30eb5092ff552e86b2154721574e2b4ff18df6c2cb55a5864c11fd10946923a8d07f27e10010c803bc27d88753b194c64c7e3533ca6466a8fa1a45b551eca4056b9f6347394ed5b1b40bc529e42b78e5677f679e177060e40a9f1cf8cf9d5553b885166eb5cf4ac83669de4d9aa5fd4d35ab3270e91cc23141f63bf859d9e58587a6493b06e39907d219b28e9b54d594a2d84db27b2d59b211e048f9182e1929dfc021102ff635c20a3c8285e0c8024fde97797bd37fc8892ac221e0fc457649b8d82699e98263d9e38f2002d61c36f127ed6643168bae8786ec7e00a54dc8d9f0fb66af09fbb3eff59c2e6d9873270a2c67572a3f588b8449b7e006391cf5af194d8de1a019a5109d34d3502f3bc75550669574979d3c2c561c8fd333006eb15717356f38244c0a3de8d14b344ba5da930cd248feae7012b2d40a160022f8b64a6af4eb18240e6ed3f5193be4d93bd17d34917222d0cc2bc759ab32d450b32c1f6078dae79c5d3808fe8a264d8a084a2fd7e625c7db82f01d49e36ffeeb4e25c860dd1d4c2885667d94aae8384caab7bcc5956aa5186329d9fe6160be6187ec2de19b809e913a1d2e7832eb548ece64df2b545e660a9b8026aa1b7971681bb956b6208bb34da520101c6f08d48416a1ca1878d51121a5deabc510a7dbe48a787526cf9e0be9e90cc6ddb6fa379f22bba5f0ba77935ab87b8ae52c347611c916ed50e6270c687edd0079669eedd603882ca61dec970ee672b86401a31717abfaa3e8593f37702c68b608c16aa55e847e64162e5ffd127a69cbfc3acdc2cbb5c35bd31e0facaea4f2801a55f1dd2c0964d10399458dea470f557cbef3ff1a3635796a9d0cd8912e10ebd48e11df73a67e9f0802dd267a770e898e201362060579ee1428724cd85f7b9e86fd121052dadf80fa2a583a484adf82ddf34369f2510843cf712bb2d5dfea13b4497de6e1469f2467dc948b0e9780c7dfac50de18bc85d42731776ca309ed468ce9427053903eaf645bed90032529917529031fed94fce73705ec6ad39320075e17e3c715f309e1dd76bb94011fa0d6977bc70d903189c799f8429bb229f4cab19a01feb1034b784de0206f285e833a3459f3ae5520082190ce622ad2a9e283aac021f1cec28ebb98b56194d746c6150d2c7ec834386966f37c2d70982bde7576e250b7a77917047bc92d93bd28b07ef9459afe803cf06cfeaa70c043ba6135bb3c9d48a57eecc036ada3694f67e02d5a3fbfb3d05ce767d02bd0a87df3464bb67c5f5d1b12f57f78aac9fa5a0ece48a7f50fc1c4cdd28a9035dce21677d91defb4834c28d071dc1f564fdf11b5f9b9297cb5dfeb7db41a23ec6063946fecee570c4b3c61c8b1c91d360c827c9bc92cff722b88eb5a9e1a76534b6f2817c48214346ba6a7bb2274292a3f3546d59367239ac1908e33a435177d3247ee19ebb342854e8422228ac1aad68b8a833fcc6238acfa0118cb0b611dfe2a9da05d9b583c288db4421c114c7d09430e44ff9c01041051b937dcded2965623ba3508c4d55b52751dca961f89de2e0b3c440437324cffc36cac0ffbe0b69516d4016f7b3fd076488d977d5b91f169cd686553c818230ece4365e9e49318a20ee03c05b0a940a7ec41648c770801b8910e957929841e84ef835e52b81b3c140bf2e31e7be8fe76043f6dd29c2dad9df5fbf2766aaa198100a35cbd957a253d782e300f2a992de74685397b0d3d945730bd5ef4947f2e309541fdfd4a168a422428abdc37fe8231a6baea4f4214e202f7a21d6af329d865bb909b1d18e3ec76108f5cf99d05f1b292cb1808defd43f185173b1e792438043facf67a2438dba20b094a5bc1e818bc55e06bf5e04f7fa6e44f2b74ede3732490581fcbc6db33f9e949db81882a3317428cd7ea5c595d29b569979bee4d01d2b52d70e0ccdb21c7da5b3e8b56396b39a00eaa6cdefdbc55d9f477641078fa682af01bfad3f122f2eb8cc48375fca07b9852f946e571138e069d8b0d57f7eda8650cb4daeb215a6a256eb1c365417c6a855c982ef76748160488e366080d98bd1a899c44eba4e349baebb010f2171573072b016bec9a920a0e6cad52630ce75808bb6e6c6928fd66e9e4e2fa9dc3275f207b22df40490aa0922eea11493e146f8468b0cc2671d04e9564587db2376346bfdaa10a51a586ea306330d13b64e2fb99af203383723e2088232dab13d85796f03d34704d0171ad0c204ebfa99fc9eba3aba8f04afb2d46a4381669eb7745c648ccd4d9c915db43a7d74298ae4a09d1537153b9c0a2d197385e094d5aef15cc36168a0e5a720fb66a10146e5642fc743c44fe9de0b062ceb767e6d113e1a7a4f29ec23fbffd987cb810165a3df3747cbb58ba990e527b5b7ea77d68c59910b559b0d6b7be31fafc7b494e550e08350f3006418fd7f9651ec7e32741242a95000b75811ed91a181ea1cc0d76be429741e4ff2d2171fc67d0e760189867532e670a45ff45eb6705c84b70d8f6a0fb76dc6ed50f0771b0341b4cd0cba5dbc038932fb5d472720659b7b74de5a05b56363b3e048b27257d37d9f547be383f649592b7ee135435800fe9b2704ba80ce52d7dea7dfa2804037114eb21731a51891f199ae38ffa390590df2a15dfc384bbefa1ad2b273c92d0c3155b15bfa1a768ff814f9d1f43a2899c54c5a3efb519afdb2ad03d105124382e561856efbabdabf3f1e4beddadeae0c84fff98b00468f8367d4165ed02137a049e4f9cf9d804740c43bf31717a7d930435ea6d7898af27006a123f88a433fe1b0c038c2f3f89f77b4ffe7f1ff5fc70543cc96c0afc4675f1a511e80cae084ccf133729f1e28bf2dc3eb652bd806a9e68eed6c4544d5a7323d10e47c698767e7c5a10bd1ac941c21402bf0306f98f9d1a53c0a3b5361ac97dadd3d4358f28e3182846c7a4fdfdb0f276c45f294dae6c9dae5144311d839145ef31aeae65d020c69aa930ca70e7935ff83499d1978bf0668c04dc6b59dccd9f7318ac8b748ffaaed7ac368461ba85f18030dce322a701a286babe91a3a92a40d1d7406d5a604c5492a7372261f37a58559f34ad3639a3c40c3effab75b83693cde23dc161aa4f2841b5ca320fab91e289da3fcc68e6176a7a8f3301641dbead2e3a37732a3b2e139c30caac459d492a952f5c28c7994c41b7c7cb9683f0e9c391cdf103ee99467fa7b55ce48b8306f533560fb35fc542232a6e07da0244c8b49351f625ef446bda6519891d728025fa57c20951ad531d4bcf116bb02b984411899b9fefbe79d432908f4aae1b7a311072ad3aa5dd919480f4aece699a17d860531997762515c78d8c2b9b6044c0536ee3e41ac24eef95109f36ebe277a40eb1b1bdff2e05b4e0e959e8fb8ac80792bcf9489cd10f0eab504875ef7fb240dab46b4160ea44410a132d9bde25f13e07e0ea56821e18d9f2027b51f9ce876b1baa136f070d1b81882006dd8798752963b82e653557ed19b38cfe21b6fdb54b6d98cd3752a4472b316f1b7408f6980b38563eda30eb48fa41040b67341fe543cb651f62d6d86b74bbee8bd1d0bb782b66777dea60abf656bbded279fe504e883ccceff7ececfc1b59aaf2d3a30b5db8efb262f8fc70530b4bbd5d999b26ddebee5dec021dc0fb476a2ad5855e13341de6a6be25d50bb13ed159e07749bdfaa047a9df038de598a8ff2978668034b0cebd20c8b7e49ed48c68a75ea5b98cb5a6b3aa6199134ad7fd666050fe12579d91ea86526af7696faecd1356d91d6d39a9ada11e314fd84b0142d550dc552ef02508b5061413cbef36fc1a6bc05b7ee15cfbc49b7df7ee1a7906db406915670d55bc7fda96104f9a7e5ac2043461d3f650cfde9c32e01e65195008545fabb9675dedfb66c6d35fbfd3d79a8f56fa8e073e880c878bda97c67805133a49bd6cfdf06a9c828df16637161995f183baa7053ab4ff9dc7eb00624d0ffed6d9e82d18afbd2fd93c2f43bd4056eec9aaaec4c7406664cceeca265630bb48256ddb12fa541c3107f143999d4c163070ed2997ab100ea04857442153415a782eac23dc66074a2518235b92bf54eb173b6c5abc03240f18d41337a4eed421e3c6f97aec9172dc754975a4718cc6d01337f05df11457a05ca9ad3e7352cb81381f5d52c465baa10e87c9a1c067bcd17d992c0f69f8ea571347a1cbbbcea38af14ded572077544b1ff80ffccd8df68cb0f6ee15cce4f0c01d41263de9f53c6f28704b314dbf02ea086aa434f214d0217d5e69bee2e35524908016df0ded322c84f2406f88cdc0ef52d04320dabb765acc2fa222661da32adcc273151f1bca1899f5fda547f5d01737bee56f8ee9c2c32af84489996bea1cf48fd29883c81d3ec2f12bf003542a44cddec1aab8759bee50e806fc689e335912d3e12fbdd6adc3aee04f8504d2081cb08b988c0a8767c0521e89a9004862ba8fdcf7fae4d8885995712acce65775eb01a80a8441e9b80925475fc718bde6a3fefdc7b93a3a5d79c79b35b7e2f957a4c034141fda62eb5bd79ac7d5324d3199482d0ec042ddc462e384512dbd0efef2442f89fb4dbd2e7af131114d2f3ac43803de07fb268381efcb0cb3abb30b1247dc5af4d331737ac5d79ca3c093ec1e4b138a94446fe458c3891adc800df1737a56175777923818e1613b47581b6b2cdded35bc753526ea107e4a4326d7f490b8c92a882159cd69668255618d8013b71cacb63ba8ab4b2732732d3db862dae1ec25c94fb1ca31ecaac161fa393c208d203ed3e4ffb1a7f02485c52e8d6c18626be15785d4622ec2c1ce6c0e6d2c6d63b9d9c7a822eaee194b28a538e3f53c1f200bc40b8a2526e5df07d7c6da6d4f2a4f142db2e2ac3784c24b44de1bf6fa37cbfd580097085e6d32799e6a34e1c708ddf8f001ee1bc1e65f96121aa071361d5cc6937ed2e0deeb956eeb8a880c6c19f957a0a9d7fbc98c4f6995d4739060bb15330233e7cf310892a18cff70e75204b20e21b18724cc5d3f4c53868330044003bdfcf3260fc9d0dae04ceac1526af1b3f1bea153b20b14c3b6d640a218e82a64a631d9a9ab609c6bbed2d5e3b7140f3ee99ab7c079cc038da8e871702ee78cf5e715e486ab88d0e15c26fcaa90a1a48cfbad18f1a74ce5592ed104cc5389fd661c1f11a022291723167bb34045cbb6467323f1f765099f79c5ddf028bbfb4c29dc40b1db91b8d55943efdf18d85503a2f9d660eea517a8df1c1286e25db2c8011984ef359d08300b69ab66d55c5fbada7c035d3a32561efb6f29f4f11a3ef5d90d85234f053f30dc2ca00784ac0499638e9fc6797f8bd66a5ffc3bf8996a8b13b1c7cd693e9280e5b086ea909af08be78b1fbcef15a891adcf33c6a1cefb1a57d1d431df40fe91664d26a4d8f03e925b006afdd4dbe0053af0f1b45ae51176f165b7b7854b898713723f7489875d9f62c3a874e17139f5531a480e58feafdc639919ce09eb6aefc323b6e4f68d3a1c0f1446222f8b77668516d2ebb522406331c522fb486cc683c0d3e739fbf5f0a5f59259e87e100edf1fd6c7a080512d5d1f3e9ee877ef19eba6db134cf967e85f902eb8b05a1df16627e43111d79c45af007ed5b507ca9ccaa3df1c28baa5546b6bb1a48b02289ed26bb724bf8438f45eba8e211701f232de5a47e9ac9eab94f9685202491288b73171ffc6794c43cef8553c7727a64f08ef37c31a6aaaa56e232f12aa8dd98e5fb2cdd9eba5c176e0daf00305aa0e506fe4b54e570470507d968a3d94d1365792808f86128d1d47ae54cfbd49e11f95eb5fce7a5656ac13776c88b6180bd633be61d3ddb4509960d362ccb7e3aaeb072f55bb11f6c8a46a53c97a8a96701689ad40ff5f90f127d33bc84394662b46feb16a22c9e50f58bf7f3d618855b5552c6f71c07a54e5d9cbe1131d21a59ab424ae952f78525cc9e531ac4b926b723b2787a78ca1582b74f2cee73dffee950ee56917e26d6fc310d957cd60d99f78f2e65be0bb4c6b9c987b162eadbc91357fce66cfca7aa418d37f8fdbe10790af5f3606917fb1d59807409655e31dda3b66cc4c3f0118c157e9a7a57826fb43efd3cb0197f4ed12ff381b190920f7c5727e002aab3877029f4a193d7ff36140d7de7b4fe549d580438d87e4c0f8bb15b342f53db8802b53d9f0c4e333c2a7d375c1c375b76488f0fb6566a781df1177784e9e86c7e1087457bb3aa40528ad3fb87e14b92b455fc4db78c26147b6ac3817b16cd17d945318e2843647a4a3c95847c80cc8fdd22b4e290d5795d381ed721cb9568ccde104f7959ea927725a28cb31867e596cc6f040e1edd9841b44b25ccef8370d8cf5be22e8c733658166e40b0b1b8eea663b2cf2122b30e3affef210cd945686dc52f07ca6a4102728bae5c608e937002271738058f98130901bbc662f5831c65815c570d67343f16925a34eb93faf0cd2e3a70f99a063e469b53581e79cc2217c4615a1d49b0f94145a02158f20d45ef0bbb648394a365a80a2aaebd7e2aaa3c30bad290cfdbdc9d1db2474962043bd594a37828f8df9980d7510e4f00f13be19a28ca74fc639b85394d59df61838348ca2d844eef16ad72853db955393dd5dc4665040cdcb5be567ebc1c9c6c6793c55431ff2feebee70265ae7deb7a32579b95ee90e41b2a70402e618d129dbca02e52cc4e3e783d44c5537bfe815184cb3913fc046449bd277964f992c1d0e67f8da420c12aef3b599a486cb2d87cef378af7a49fbc66683481e16fd5726726571dab9315093197ec41dc36d171bb79495b34de3dddbf692424e2690019ea445c8b1e72d996509d6172e4f6253e8c70f4faaec3fc1f4154c054d8b1a5ae9976dd0d6ce7cde82cd8f6782cfdfb24986ab0f0c11fa67a10949d9dcb1efadc4f8c5007e2d52fff169cc3f0962dd44a40e8d45c708fdae1e31dfe1d8524fae3a7217d0f135cd9b322824d626ca6e42ebba1db81f502988a2291446a82b9c193104acf00130557db4539c818f84618f17e54b3d9976ce1aa29a1a42ca0327e78c08d59b7470997024f79ed080b7238cc12d3496bc29d42bcf1d99a81c46443962a57217e06f194a5fd8f36081a3c8d463eaa55078e11c6c25ec2a0da568287beb0c524763978209c93333a8243b7d0189856264f7e9c31a4b76ddc22e990c5bc668084fb3786077cc756e60c79cc264c5e4c3cedb33920a4e317114cc031a6d1771f26220f2a83b2c672a5324577834337e38cc31ea275e45f38c2568c070675f1cb54b5ff524cb3af9f9ca219f8c73cc553ce375d6f45e105e4305e87abd9f5f4889fca246a94b81bacb27073c61b497ba803b77283cd78bb1e33ddeae505262ac18e34a5d9857e8beeb0b136b49ca5cecbe28a9a54f2d5711f7be5bea4b478911030a9a4a410ba397fe95a77edbc48549bb4313b233f06b458828a3c38f75d41f5fbd5bd2de14d5b200b224fe8d6ae4a4b6b9ccf69511819b80a883043a414b811636739e77cc26e53ec4f65ce4427f192d5eb9d47318bb0f502588f8b308d462fef136ea702895b992f5a4306d7be5a365318361f7aed156960d8e26a9b67d240859802697ace97a439a692a86f28c6de004c6413a2740f3f071bc407411a7422d3dc950dd5e7c1cefd49746bc3d2e11dde66d3774b60a4babd4a5b08993fbbb3136e4728b25a1be4a460cae57718b5af5119b5b0a8775a3430573f3f94720c4fcea25e656a168943693c7bb53a0e74f61074bf7309f5563ea7fde0035687b4dd82a37d2644e7ddf0f7b2d94f39a4c7d2ceaabf8454eebc16c32db2f02805b3a60fdb95c1abc205cd0bc5700b9dc12a1c4de959874c566aaa4ad94b6a2e14c93bc8871bc1bfd151cac7848b20c4b5153ee0bdc0e6d328077341aacb724bfcf488f23ad41d72a9ee486b21ba9a325436623abf4278a80c391035a90d5c08c9c868d1fd2982046400ac34bc377a529585737ac84a3de53fbe94a65fbeaf7f4d59d6fd9410988d249e41b33667c17a90e4c33cfb5719b3df4eef750e61c03ee46ac7c3c18b35b102445ac184ce658527c52362302997da7c85d5ad1830682cfb3abe887f22053e33ac3319eeb25b5921916d3d3a4e0ab4c7dc9587d5177c937f1ee2d18e0cfd86f04d99812c9dac82c095d351d406cd5a87c4cbfbeb27e2e600bb290cbc23529359b52c9ea464923979ac8bb3dd1123cd8deb14937eaf2e4eaad1524858f3050450291106fe7e368acff248d48def2374d7cddc2e2e350b4b0c08cdc44f504ad40107db5913768fe0dcd24a0e31f3ea10b45e5bc4f4a91a2257a84235c75fdceb7bfc9cf0c7c88d0ba282f1c11924b1706793a6d7f87021d93c74894f9bd2805b91205cbfa68c0e7c7e9535308ff92fbc5dc6ea4f68a47dfd94cb66daa663f9782457a02f6639bdd7c7e9ebe33b58de0b67fb195511272266fd0a96facd054c7426ee183cc2807d9e05ff452d578df35d709cf4341d2a7c5ea34c101d0f6b0567cb40e6cb11e023386ea845e507430f8630c0b72e60cab23f1d99ac7cc7ce297b9e24e0c214480e018ca923ba3da33d5d30c486b6ff182a3cf1094b726304f0d3a4159a8dafe95b4d0aec99d224ddd80c49c041e39df1a9b4e8dc82de38255feeef9683f7910d6b66bd24bd94ccd2698851f081679d090978fd408fe60fd0c7b6a5caf7d6bf14968ad7b38fdc35696bfb701b627c12e76ec29271492ade90c97120135e47c0386af25402436b67fc58cdb858689ccc38ffc219afb012e726d988b283d52890085143b1a9f406cce98dea688c0b7473b6221048d7c719954f43719774aebc3cb345c40a31a48e7a222d96223bd2c8a3417773d8b0b9f78757127702c6bde619f5b05a236fe1ec9f73e2848e097506511e97467fdff8aa0728b54a50731114230ba141339de158dd8f0312a28995745bac2275dc4ecc50e1716db33d5136aa9add44e3a83d028d763463a2cabe4bdf36c7b0233d94f457d83eb712977b2347379ed09f1c34bd008644abe17054a47aaf6d2ed49990cfd8101406469020a0764c8d7c8f2eae1a5a1721d5f049b11232b6932a61c3dcf7ea2a2227a8c85631a6a51b8dc722370e13835ea4029e88f15c5084f660080a65d161c308c862b9c4e14c6d1e33a33fed98b19bc8994d97d3ffabdf951a3b43dc39c3c557d3cd7f4b0cbc414c092e84689e8bb8004e1271890d0ca88c4dbe7340e371deadc68cc9ee72efbf80c60f220e1161d821f3881ee5afc1beacc12df22101ffa9f1e91bc460045ffa0b5610f6765117d2da8fdd1b4ecc9d34eacbc614e783a48cf3915d38c810004cd0bfef533c7f561f35ee7a2319f946fe77b42e1025be382e3ab5aab2eec282f158c752f3018f9aa707720a4770ea9c5cbe6679ebe1a3a66bd69b0241bcb0171ebd4c9c071e9dea35fcfd339c07132851eaefec48a2056c6af61e390dce8b5b61f11b808cf80f0d1a036bf0b3e59123502dd506400ea4e802131dccb5832a9a708ff02b98c87bcaca57034fb9f5f02523f1b50871f9132a6daf3137082fd0bb782bae1bdcafbf6c8fcca3ffc9ac8acd187e50aaf91e7b944b2d32842b15b3fd98d1b8b5ce747932e1287f6198dca4cc8fdc415079d30f75399c220da2420a963aed996c5f8f1854377a1fea8fe21e81f494f6c3aaaf4a2910f8f9726f2ac78eef1c5198fe7adc6f8f3aea259ef86bb7e1030da649b7aabdf820fbb2e3104f1e339139e37cd6e7a20eb0163f1c5e8a620a8a7d9ebfb83e9305aed153200236af95d79c4fdad06a90b345b88901f1ccbb4dc1d88c0499bbc6f9052966064deaaf74a423690482820a14137e70db4ff93f3a84488f38fdd5621b222157d981fbb4213c0b507f9f9e0c9a466a55cfa84eb8d1550ead6ec751d19d85d58bfd7845a267ee56b1a257c29a8319dd8b84878621c0ccb959230bed524a59852f00a8c58f7394e2cd3a64c041a2909c18c4adbc74a072afc1b1b2fbd0e6d1a2813b251f5f9d3ea037a1ce623c75c719bf17e780d3a179443f87ee68ee8d3e82ede2193a8daad3432ccaf63de61e6a3fa223a28a4dda50617d125c3f1ba578ea8acef41f82f47cabd2c82abd0bd2015e8af38c762df22364165412bc228f8a17723434c1f99a19f485feb328a37bd79ed7727842f54be1140be19db1118fb52bc933d4bea77b8d68f75cc1b6b2534078d9e80dbef9b5a53698c3f881a944b7f5076c54925952c869cac48fc413a65a0f36f282fc484a795fb58c6a17b4917e293db00d91f3a97627fb77639b8d12c6c6ecc662564f2c0898a52744a10123d76a74f51578a8951e5736347a342136e50778438d6b18990ef8a17f1f04d77a1035dc78d5106aeefbc993709407e3333afc59b50af94673223ef4d925a261917f8b9f6dc3e1990c11893b35f32640dbb78ef9d15dc238b4415345dd0b882e546f117dabb5a78667e43642c973e63dd1f1f7e53fd910fa141c6a4d906c9c475d79b7c9755a0ede0e2e50cbc750bf9e860c7577ea8566b8bebf8621b2e9ebf6dcfb3ec0f7e0d4cf2b48db8e88a62c81ae70b828f6b7c7792bbd607698718be2cc02ca76123ddd9e34e7e6dd8d66deda9c4461902659439c3426e3bc211b77af83ee10761bcfb7fb185a5409ae78479bc5604e2b9d63b05a5f7c80c1bf616cd853fd53a57f82969a5ca444846983a818c88d2148b8ef324732f06bc0c853a887520ba0ee793e466d2b7aa25a384d98a560a9ada69e02afc1d045a02776503b7df7e74b24c9fc2d04a9465ee6e2a6d9479d47bb04632d39231b7be66bc6f0f4c05e620e6572f45b9b54b31b92f4271f8324719196d42c1dd6e29a0492203373e60908eee14fef0209e3890787f80e186bee57312d691afaccdfb11806016a029c9664e8de0d404e33c594dd20537fbc4aeafd7b8e1708e062740104221b9cf5160a743f13460bcf97a09faccec7655963cfca4ffed3722037215f51a9cba17da9f165c3e553e9c4edeccf3bf18c74501e8fdb7f3f4625e4de25a27038a9343d1a351361d3a637ebed42ce537f724ec1d75e11dc79e7d6b8cec7be714ba76b454781716194f7f4ad566d6b8f09044fc5263b645c42e587ed99c6e65a9466b37096a01d5489a21247b98211da36a057c953556d3d986e2652ed0122e04408ccc10bb71097fcfe0b329ad604f4719ab762cbd8e92e06c6ac4c8c166d8c1e9f7cd96533dc92b941b360e7c5452b95658d2848b06245b30716f574d8790865e0cea206e73e972e5a4028a0baf7d6aeba84bc6e83bc1a78756f3e92f1078166b32ac7951484c78d3072a5211746cb3fb8698fdc1a7e38b48f8d496b69ddaeb375239625777c9ab108ff064bca37172ffb1a48cfb6f9319c1b472ae79015c9430a8bc20d4fd31df4f500016da4fc3fe7284665d6e0b40ff7179e9ced87b5ddc45ad29bb699253aaa748b8a109edb098e7313c078798e70dfcf7a04aeb59ad3c7d1192c8f336d279e1ca557a686e0952bd7449e1f9439341f61cc6c9a86946d472949719be86958e5e3ac44442cdf7b0a79b03edbc08cac3cabcbacee69ab2a49cf38efc931999d471163a8a512ab1fff3cfcf6e7ba70aa778c2987e1ce2aee7a2ca26385caff84420ddba7e8f854324578b6a3f5d5cb9cf2a8690c91ca39d016de85467c7bc070f35de1c69993448c858a911a2f511939c04a86630077488ae19ebd8ece8a5a26164660dfc0148f0e9002505d4433a75f2fa34e7c1497bd814a4085795ae0b360e829897da2f893596ecfefe1c305235b4f617b48e1b5472296deed9d5211ce25b6c6d0874ae1c319583d5b1afdbe519f19cc245d5cb64e1513a68f996f71fa8828bac41068e25fd968151f2e94535bc5bc1f59606953131f4b5708fb201b054d9e8d40c2469cfbfa228762d474fc1fd0e558e18d6a30e8cdbbf38896764e2c48d2473b314d0dd1918383dc11767bb713bc210aec2bfc0ecb164e0f4ceae81f0c3a0f3c9b5cf0cdcb61847b2cbf5a1cda93c2eac7d88b7c617a50f4eb187e7bbcf141f5dade84ff6c310437838ebcbeb582654eb8d0a11000bfb008658c436007b73dd46f33e7427b19e3c377ba0642dd9872e1534503aa9d3d096c780cf0f7158798d8c32c681043bbf2a24028a5040de27b93fa8d3ca2d299252dfeec55bdbdcaf2cd46322f64f493b2164e0e983d395ca1ab9c8eb489050e1dc6cfa05db453e28b28222f450a9e60258a13b748755b853aecdfe142fef42d9e8cfdd50053caff5a1e1cd96c18a010a499ff3bebbb74590fb5a6086acab67a657be8ae09b42e469d9e8a8741c207ce67ff019c542b0ea3d9662440470917e87af680473cf1f89646aabe0ab6f0f3e38265154d7442bb03bcb90642a1cfc3773390fcb23cba6aef0bdbe906b3634272472dffcce213cb6094a26ff03c62085a2fb60cd1ce52a530357b5d3b33d629ca182ef38b54875c8c9f4e7523850510fe7750f463381c335979142fcd2ced6ef9d55c097c33060b5cc7a9827f06c3610c228604eff013223ef5cbb5495992b64daadcb5f5816658d3a5415e2b5f44d1e43d6db86baf6a210f616ade0a2f78833c3ba5132432104188d9b2c8e61bd825da81e8d45b19f70f55e456ee10922c2c1858c42a6dda3c0d282fb7abff4202bad113851f7f196c3a1e993b0aa0ac634b1021c6ac98112830f59c673da97478ced0587efd816c47b27be7a19b06f4b735e299dc5338b805bf889883776c6680be571dd68fd6ec309142b8806993cb3dc4124b6f6cc59abe391bd91f10766469f441a39558ce38c1214047072a0e40cc1b7d03adfd330e9a1cde34a4397c12f300417359a1bf71f04b059ef6f2bb0fa74745fd4e782d609795a4bad46fe45d285ace62bf8d1da20452f874dd2e1fc3d1466bb8cc692951cf8da4956aa80a51aace06104fe99e824fec09d1fd16750d4b58c5cf02781c8b5bf130b9723e5c192567d0825c0bd909e862eba520a10277b9fef6b7e098efadd9d9ba638a7ad995012b8bfd094f841a0db2c3ed89a4221503c1043a97d45cbed096c44482b51cb34457fa56a62ab477fb1b18884b992ee56ba019d0c1b114166f6ce595813a291f99c3824eba22db209ac949578ba8301a56ea9beb22d4c56b1d4d6527a1bb9c6a3161891fd96b3e8f75fd0fb17474e3ed99a633ed975868e36af14f60754be41a3bf2b666c44e5e371a7fe04a5b323fad384cbc3650003f4d91362d28f3eceb41bfb938ce1d874d35422ceb53302929696b79b7ba7b9fa65eb30145a28f2d66c1dad9558be9518c2a50172a57e34afc2f2a8ee8b2279f78e999007856024ecc484aa403ecc21e24acc74049885a5f810f5e25468ce1cf3a0d0dec897b437b62d0981d51f8140d5474a1e2620d4b663babed64fe00dc8960b7b4f3f2f3bc1ff97141f59b5016459eebde2e1c2f499441cfbb16c4190721e83d74ab3a2e4f7aefe41b406517d0ab812fadd26edc6fb9748fca96f46367d12095fa2b6c6ad0b5eb8530f3d1950f94dbce903d960f24a43fe7d578ce37989f3d4b9aba0d3c684c302c23ecee6197f9d10ebc3cac6f525531c62805cf6430e0a664b82476306a03ccf8eacd71423ba6a308db1018730bdb4106266fd3ad54dabb30dfbf9f30a05ab93d4f1efd1698fd291c98c5d7d6e1926d6867231d035fe367dabfff3eb1d554aa54ebd12219f51a9ff4d9804cc13709038e6fb50958d48499fd62b8fd74b64be84fb036661899fb269654c3b332e49b0ced998f555c4fd387dd46ae6c7ebda0e02e54f96215f50bf2d2702d72a79a5fa6e063507712e8127a45be5e159c175c6ffc00815f1ff61f9419389741b653ebecabbe5286beb8adde16c2c610627eefa04b218bd43a0f08ae0c6b68b41403eb0d66621745bcd3c894b28d155ab118e720b3808b1c6421e0065675b52164999e14ca44c586e344b89b8cec095e1d5ea4ec839b468025a9561d7e93afd208f04ee359c10484de72fbca6b9776e4a420133a4f2c76172917fc34cd6320e1a60f27a18b046bab9c2f045bca8e4f0a576d6bb32b9a8215c9b81f4833b52bc8e42a5ea73e726970c7c941a4a124ab805a0e8b35a36bdac283f8fdaa83b0730003261f7351f1e9b6fd74dd8f835721f931b7175c033934e93b6b28bb05ceb2b4317a95605843098d95dacd16de7434ed2f51cd1ded31799d1e6dde857e2a58fe66a2e59f9baeb21be790c883d681365e932e3f88918589b3c8459e6081ad3adb1c6c96fbf91ce5aab939f3b691ce74325947679bce75e22555c2ed668907f48a94c78c47e0ec69c86ef174194c760b7e37dbaab1ebb2cd6d7551d1e5a16adbf4cc099315c08c0f94aa81a3318c912fa1d8667a8bfa2b6502006759c27cb02040395a8fe3b789726b115a9733658a60be08b40a1e444f39c29ccbd84b065808dbe4f49534ad70775dfd698af9fea67f914fc9f2b2ebd67b5de6bb3c2e4e0d391882a918d24b8182cb0e9f357532b27bde292dc166ff70bcf0c0767f4e97fefb49d66a65f815df907952f2384f860aa502c4d0bfeede275a6a6d928150eb651e4aed319ecafcbe198ed149aa55c3e25f602217f57319e94adf0c28772b9d703784c654f08a07a31678a526f88dbff01a66678400f9dfe82916651eeb232f73442c70564c564340dc479a5544c3601fb010ae9e8c6f391f352a68d4ae19f182c2c81b06b47564649880b26b101dde06f01fc509b93903dd0aa79a93445e6e0add8d805314991f257c59057a802e4416cfd942057d7c119e75e1b12e0d77065253a1bfcb50409f2eece88f13942bcf44785093c176de7b28aa259d3dba173a0ba035d34d7b919e4df5698f900c284d4ffcef13f7977c55dadc3251e9fc39810e49f9b1a0bf79b5a0fe8a9e9c2b9726d3eafa74027060d7efac868b02dac23f5444535e319804b2827db24c57adb201a47dc7057a4cc6b6fe48d1292f8226225922aa1e6004f61da374cd1c6cd391ea140d7e9c88c9628a3f97282b7a9a8f7a5a57632ea4cc902321532d76b49417cb2e9729bd4136d0cbe574547875b0ecae97316cf6da14b7915ddf763562c3b5dd64272c1fdc345b6e0314185b3698241d86579085dc6df96747dc35c2504e98607b4c00ec3471383bbf85323967f5ed4e5409a77f49a1f80a8ecf7d821b07f9f960e733d0c0cecf4ef7b03d5146b72a54834b6f119f43617c5f5c3504b7393cd786ffcae01c5fb8db4c24a62ea8cea532601d6c44be84f811dbf4859dd1374adef15c29f84e3f7cc4b45a9f2b35d7d5599bf2eb284897d9e8a060026ca44636a584a4aa632aa4386d1ec32e8c77e8d3cabc346231f724fe482d4e26c13ce04f2e5cecbc07d91c44cd4786bc12f51cc1883e01e026bda97af28638750536b9b500a5e4bbd20d924c1ddffec050b2ddc86979b63cb58aac1d775d45cc4737c1c2e06ace960e8189460a7b57932f3016308820de7990006c2e04dbf5924816aff45d817c66de4250a188dd952692e1dad105d8a7825233e95911435b55ffd606c86470156d7be88381bb3db6d4aac5f2cd6686a7dbb2c9d3e21e7a1f484ba9a85728535bcfeb1d3d92363022a27b5a05a98c099c82ff771123214cf626db88e829f87a60b883aa0a42f2bc360a4d131a130ce0ba9dd2d68c086b57013b9f78d4986802b59394a1ddb5165c6a0dea7350b92574296ebfeb1bff10e0f7684bbf118c205cf4627f4d9c5e2aee743fa0df75f39794b7cbfd5a2a09f29066188bdd2ae35daa03a55452ebafa2c67d52edcd593cb308e6937917c78ceaa2662cb1dda44d73edb9c9b46be6d69c4f559176fde1889b909aa836ed4839755778e4de8296a21a05670405ecf03bfbd282d85acf3d527a279040072e2fa03d6514875aa905dcb92bb40b925307486796edd1b9feced2cd13d115ed4c071bce702c9db2a94cd7078385e603a42cb0bf6906e5ca457b3d63011169596815fcfab72e6b13051297b1e2d7defad3e0823999606841aa967f10718c127738158e9f32144eaa28df22a02533d9f2580e30208a371d851d08b94b435e0643e4e321da860d369a99026b52e8839c8a93078919138bf299540860e806100c41863d5b503c3d9cce30b1de2f4ae5f796b381e9f8ae1cc2c9b3e1bf6202f85e9421392ec18636b17a9f6ca74ca583460236f3a41d99139432f31ebf225dc60366afea4635737ca0f29b6ab5dea4ea98476ceba94da4a2ec5d9156cdc47ff10b687b951905d231ae8dc7ccdccfec0f35d2d7948332c1717f0dfd3c592bb347560c270a3d4603357f2d6a7fe488d5bf19f305db6de9bb6b9cf0e0ec0b65feba3875b574e95a7105f7233a179717da1f7f00240337a08e550b6163ecb249f09340d738ef61260bb0aed5bb39c139bf0e113a65037360109d6a4e644c796b9c4b08a8cff63f0095d4ddd399e8529282290fc5dff446f4f50338638e981e6215bf9403dfd4836a7bd59ff2e0baa15fdca8d678fc3b257a215b2cbf99a8d8fbd6e1f608e2c53a4170c20f2a3ebfa467ffffa3263a148e9126ae2d49a6db1bd85ea501e0d893dc8cb21362ae5fa446903f470b8f8d9a80a042dc309d099687581fc89a7cf236f1f5f1ef33849ce43422e7d6b64c54fffa863bbb43988e45b558f68950a3c42a1fc86688b83a62857a16914da00dab31f483c5af2412153c51214d7122c75bae340295e434563bb2ad387a9c9b52b0ccfe4a71147ad6c02469a11e5fc778dca0fec8a051d314a4588ae3fe3ff0d7ac5a6d599b9ae3cf6fb7b385d97f6a69c88412b74f44e8a26acb60b0ddd9ae6e8f8ef55a042596dee753c9095cf033fab318a70a007d5080464f7bfbdc2ef9c3ebfffcf61078d4f80fc6abee0c523024f7becc375a817691b09888dae16e2041c272d43f66a6d440e6b08c7675993fd93bd79c3423e2a075a2dd677a536ce4bbacc2e4d5acebe2fa420459a2c0046c6becddef686aa16b5eb31da9500428faebcf742d6d05054890b0bbbd5cb8960759a368f2e809d960d7b580d841701ca4ecb87fa40c15f3f2524066972aed3444e0bf4560abadafc5047c368db19a2d325399546fed4f655e30edf2206385c6cceb66b69ef81c1c1b5aff3c45172b4c57f8ca0f4951e4b431a6a5f0255bd6511597a5c4edbd33e9e2f3c702f11765947d985f3295498bf6701126bf2643650247673162d3eb74b43c721968bb281244993b67d79bf0f257be9bd69754f9d0b4fe6b623e3972cb5eea5899eca68f6dcf9e84dd33bd49b5b69f00c7925a955ca685a2eec4f82e43e30a277cd1218cb142a2bc32a9d9960f9689efeb1f34a0d4b52a13870b34d953d1c7878c5f245705b78d8cf59998e8f513304d77130b1b087a83b32c5882161d518e58d4f87629ee70ae18059f419307800c1534b183fcaa670df935f64c761313b81d27ada66c86ad60e21c9160d827ab16c018a654f8691e699ce0b095a16a4e2fb208638e50171d4c282721cf22f2cb3136e9d5f5dca760de10adc8fae67e0e00dfbf1a778e3e24c914d0f0abd74133375c1ae689e0ffbc70aa654073ce8259e9dec2675941393dcb5ad845a04c7f3cdc5ccc3e61e56ee3cf4d8d2ad1a7eb7ac0568b29590503542e11c6016a3fce02429e8c0567dd2fb7e4808a7cbb40114253fa1d210890d953773fbedb2625704e145af74fa0ca9f98481db10b89d5e8fc5e9d7a6e66961d697954a4f561ba3a152370adbb1ce7a9e491ab462c92b25806e342fa39295edfd676529defe01f5ab4403489c06415cb13f1a0274aa9dde9e069410fe7d03bd5d17a366dea8f25060a370cabd9cf4433e6fb51b5aa81c60451c911dad5d2f28cffe1b4194c8b9f225d94426e64ccf9d97052f8cc2dcdc49c0e9f22ae78eff60f3ace5da4d2879c1eef4adba93d78573de94db1c8991de18a2fcfa32626e9eeba5abf0d516d3ca07fa5ec3e9dea991ae4a599d905ff60b7328cad42c2594f73ba48db766ac7c647743044da9ca388b5b0e725ae090c122ec94b3086f720ca2ba499e11107b8ae1937a68af708d88b842b8772bc8db9585684aad0752fb8cfbe8210854bd88c057d363ce9744551b6d9ecebe949679cb26d0d08c500cb57e240951afa6ac2563709babe431a9bef663d19e41adabeeac24791b97f652b79433d78fda6d12eb9ebe7d6502c90fb129666321d7875d861132af9ec6c364621dd21f7ae72672af2d6bc9f0d4b2c2a7fe6b68286cdc3e79e7de</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-surge">      <input class="hbe hbe-input-field hbe-input-field-surge" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-surge" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-surge" data-content="ÊñáÁ´†ÁßÅÂØÜÔºöPlease enter the password to read.">ÊñáÁ´†ÁßÅÂØÜÔºöPlease enter the password to read.</span>      </label>      <svg class="hbe hbe-graphic hbe-graphic-surge" width="300%" height="100%" viewBox="0 0 1200 60" preserveAspectRatio="none">        <path d="M1200,9c0,0-305.005,0-401.001,0C733,9,675.327,4.969,598,4.969C514.994,4.969,449.336,9,400.333,9C299.666,9,0,9,0,9v43c0,0,299.666,0,400.333,0c49.002,0,114.66,3.484,197.667,3.484c77.327,0,135-3.484,200.999-3.484C894.995,52,1200,52,1200,52V9z"></path>      </svg>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    
    <summary type="html">ËøôÊòØ‰∏ÄÁØáÂä†ÂØÜÁöÑÊñáÁ´†,ËØ∑ËÅîÁ≥ªÂçö‰∏ªËé∑ÂæóÈòÖËØªÊùÉÈôê.&lt;/br&gt;</summary>
    
    
    
    <category term="Èù¢Áªè" scheme="https://github.com/missionOdd/categories/Èù¢Áªè/"/>
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/categories/Èù¢Áªè/ÊäÄÊúØ/"/>
    
    
    <category term="java" scheme="https://github.com/missionOdd/tags/java/"/>
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/tags/ÊäÄÊúØ/"/>
    
    <category term="ÂéüÁêÜ" scheme="https://github.com/missionOdd/tags/ÂéüÁêÜ/"/>
    
    <category term="Èù¢Áªè" scheme="https://github.com/missionOdd/tags/Èù¢Áªè/"/>
    
  </entry>
  
  <entry>
    <title>ËÆæËÆ°Ë∑≥Ë°® | Ê†àËÆ∞ÂΩïÊèíÂÖ•ÂâçÈ©±ÂèØËÉΩÔºå‰∏¢Á°¨Â∏ÅÊéßÂà∂ÊèíÂÖ•Â±ÇÁ∫ßÔºàjavaÔºâ</title>
    <link href="https://github.com/missionOdd/2022/02/10/design-skiplist/"/>
    <id>https://github.com/missionOdd/2022/02/10/design-skiplist/</id>
    <published>2022-02-10T04:30:37.000Z</published>
    <updated>2022-02-16T10:19:23.648Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/design-skiplist/" target="_blank" rel="noopener">the leetcode link</a></p><h3 id="1206-ËÆæËÆ°Ë∑≥Ë°®"><a href="#1206-ËÆæËÆ°Ë∑≥Ë°®" class="headerlink" title="1206 ËÆæËÆ°Ë∑≥Ë°®"></a>1206 ËÆæËÆ°Ë∑≥Ë°®</h3><p>‰∏ç‰ΩøÁî®‰ªª‰ΩïÂ∫ìÂáΩÊï∞ÔºåËÆæËÆ°‰∏Ä‰∏™ Ë∑≥Ë°® „ÄÇ</p><p>Ë∑≥Ë°® ÊòØÂú® O(log(n)) Êó∂Èó¥ÂÜÖÂÆåÊàêÂ¢ûÂä†„ÄÅÂà†Èô§„ÄÅÊêúÁ¥¢Êìç‰ΩúÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇË∑≥Ë°®Áõ∏ÊØî‰∫éÊ†ëÂ†Ü‰∏éÁ∫¢ÈªëÊ†ëÔºåÂÖ∂ÂäüËÉΩ‰∏éÊÄßËÉΩÁõ∏ÂΩìÔºåÂπ∂‰∏îË∑≥Ë°®ÁöÑ‰ª£Á†ÅÈïøÂ∫¶Áõ∏ËæÉ‰∏ãÊõ¥Áü≠ÔºåÂÖ∂ËÆæËÆ°ÊÄùÊÉ≥‰∏éÈìæË°®Áõ∏‰ºº„ÄÇ</p><p>‰æãÂ¶ÇÔºå‰∏Ä‰∏™Ë∑≥Ë°®ÂåÖÂê´ [30, 40, 50, 60, 70, 90] ÔºåÁÑ∂ÂêéÂ¢ûÂä† 80„ÄÅ45 Âà∞Ë∑≥Ë°®‰∏≠Ôºå‰ª•‰∏ãÂõæÁöÑÊñπÂºèÊìç‰ΩúÔºö<br><a href="1506_skiplist.gif">skiplist</a></p><p>Artyom Kalinin [CC BY-SA 3.0], via Wikimedia Commons</p><p>Ë∑≥Ë°®‰∏≠ÊúâÂæàÂ§öÂ±ÇÔºåÊØè‰∏ÄÂ±ÇÊòØ‰∏Ä‰∏™Áü≠ÁöÑÈìæË°®„ÄÇÂú®Á¨¨‰∏ÄÂ±ÇÁöÑ‰ΩúÁî®‰∏ãÔºåÂ¢ûÂä†„ÄÅÂà†Èô§ÂíåÊêúÁ¥¢Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏çË∂ÖËøá O(n)„ÄÇË∑≥Ë°®ÁöÑÊØè‰∏Ä‰∏™Êìç‰ΩúÁöÑÂπ≥ÂùáÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØ O(log(n))ÔºåÁ©∫Èó¥Â§çÊùÇÂ∫¶ÊòØ O(n)„ÄÇ</p><p>‰∫ÜËß£Êõ¥Â§ö : <a href="https://en.wikipedia.org/wiki/Skip_list" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Skip_list</a></p><p>Âú®Êú¨È¢ò‰∏≠Ôºå‰Ω†ÁöÑËÆæËÆ°Â∫îËØ•Ë¶ÅÂåÖÂê´Ëøô‰∫õÂáΩÊï∞Ôºö</p><p>bool search(int target) : ËøîÂõûtargetÊòØÂê¶Â≠òÂú®‰∫éË∑≥Ë°®‰∏≠„ÄÇ<br>void add(int num): ÊèíÂÖ•‰∏Ä‰∏™ÂÖÉÁ¥†Âà∞Ë∑≥Ë°®„ÄÇ<br>bool erase(int num): Âú®Ë∑≥Ë°®‰∏≠Âà†Èô§‰∏Ä‰∏™ÂÄºÔºåÂ¶ÇÊûú num ‰∏çÂ≠òÂú®ÔºåÁõ¥Êé•ËøîÂõûfalse. Â¶ÇÊûúÂ≠òÂú®Â§ö‰∏™ num ÔºåÂà†Èô§ÂÖ∂‰∏≠‰ªªÊÑè‰∏Ä‰∏™Âç≥ÂèØ„ÄÇ<br>Ê≥®ÊÑèÔºåË∑≥Ë°®‰∏≠ÂèØËÉΩÂ≠òÂú®Â§ö‰∏™Áõ∏ÂêåÁöÑÂÄºÔºå‰Ω†ÁöÑ‰ª£Á†ÅÈúÄË¶ÅÂ§ÑÁêÜËøôÁßçÊÉÖÂÜµ„ÄÇ</p><p>Á§∫‰æã 1:</p><p>ËæìÂÖ•<br>[‚ÄúSkiplist‚Äù, ‚Äúadd‚Äù, ‚Äúadd‚Äù, ‚Äúadd‚Äù, ‚Äúsearch‚Äù, ‚Äúadd‚Äù, ‚Äúsearch‚Äù, ‚Äúerase‚Äù, ‚Äúerase‚Äù, ‚Äúsearch‚Äù]<br>[[], [1], [2], [3], [0], [4], [1], [0], [1], [1]]<br>ËæìÂá∫<br>[null, null, null, null, false, null, true, false, true, false]</p><p>Ëß£Èáä<br>Skiplist skiplist = new Skiplist();<br>skiplist.add(1);<br>skiplist.add(2);<br>skiplist.add(3);<br>skiplist.search(0);   // ËøîÂõû false<br>skiplist.add(4);<br>skiplist.search(1);   // ËøîÂõû true<br>skiplist.erase(0);    // ËøîÂõû falseÔºå0 ‰∏çÂú®Ë∑≥Ë°®‰∏≠<br>skiplist.erase(1);    // ËøîÂõû true<br>skiplist.search(1);   // ËøîÂõû falseÔºå1 Â∑≤Ë¢´Êì¶Èô§</p><p>ÊèêÁ§∫:</p><p>0 &lt;= num, target &lt;= 2 <em> 104<br>Ë∞ÉÁî®search, add,  eraseÊìç‰ΩúÊ¨°Êï∞‰∏çÂ§ß‰∫é 5 </em> 104</p><h3 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h3><ol><li>ËÆæËÆ°NodeÔºåÂÆö‰πâmax_levelÔºåhead Ôºålevel</li><li>ÈÄöÁî®Ê≠•È™§ÔºöÊûö‰∏æÂØªÊâæÁõÆÊ†áÊâÄÊúâÂ±ÇÁöÑÂâçÈ©±ÔºåËøáÁ®ãÊòØÔºöÂÖàÂêåÂ±ÇË∑≥ÈìæË°®Ëá≥ÂâçÈ©±ÊàñÂ∞æËäÇÁÇπÔºåÂÜçËøõÂÖ•‰∏ã‰∏ÄÂ±ÇÂèçÂ§çÔºõ</li><li>Êü•ËØ¢ÈÄªËæëÔºöÂú®Ê≠•È™§2Êûö‰∏æËøáÁ®ã‰∏≠Ôºå‰∏ÄÊó¶ÂèëÁé∞ÊòØÂâçÈ©±ÔºåÂàôËøîÂõûtrueÔºõ</li><li>Âà†Èô§ÈÄªËæëÔºöÂú®Ê≠•È™§2Êûö‰∏æËøáÁ®ã‰∏≠Ôºå‰∏ÄÊó¶ÂèëÁé∞ÊòØÂâçÈ©±ÔºåÂàôÂêåÂ±ÇÁöÑÂâçÈ©±ÊåáÂêëÂÖ∂ÂêéÈ©±ÔºåÂÆåÊàê‰∏ÄÊ¨°Âà†Èô§ÂêéËøõÂÖ•‰∏ã‰∏ÄÂ±ÇÁªßÁª≠Âà†Èô§„ÄÇ‰ºòÂåñÔºö‰πãÂêéÊääÂèØËÉΩ‰∫ßÁîüÁöÑÂ≠§Á´ãÂ§¥ÁªìÁÇπ‰πüÂà†Èô§Ôºõ</li><li>ÊèíÂÖ•ÈÄªËæëÔºö</li></ol><ul><li>Á¨¨1Ê≠•ÔºåÂú®Ê≠•È™§2Êûö‰∏æËøáÁ®ã‰∏≠Ôºå‰∏ÄÊó¶ÂèëÁé∞ÊòØÂâçÈ©±ÁöÑÂèØËÉΩÔºåÂàôÂéãÊ†àÔºõËøôÂ∞ÜÂæóÂà∞‰∏Ä‰∏™ËÉΩ‰ªéÂ∫ïÂ±ÇËá≥È´òÂ±ÇÂºπÂá∫ÊâÄÊúâÂâçÈ©±ÂèØËÉΩÁöÑÊ†à„ÄÇ</li><li>Á¨¨2Ê≠•ÔºåÂÖàÂ∫ïÂ±ÇÊèíÂÖ•ÔºåÊâçÂºÄÂßãÂèçÂ§ç‰∏¢01Á°¨Â∏ÅÔºåÊ¶ÇÁéáÊÄßÂú∞‰ªé‰∫åÂ±ÇËá≥È´òÂ±ÇÊèíÂÖ•Êñ∞ËäÇÁÇπÔºå‰ª•Ëµ∑Âßã‰∏¢ËøûÁª≠1ÁöÑ‰∏™Êï∞Êù•ÊéßÂà∂ÊèíÂÖ•Â§öÈ´òÂ±ÇÁ∫ßÔºåËøáÁ®ãÊòØÔºöÂÖà‰∏ç‰∏¢Á°¨Â∏ÅÔºåÂ∫ïÂ±ÇÂâçÈ©±Âá∫Ê†àÔºåÊñ∞ËäÇÁÇπÂøÖÊèíÂÖ•Âú®ÂÖ∂ÂêéÊñπÔºåÁÑ∂ÂêéÊâçÂºÄÂßã‰∏¢Á°¨Â∏ÅÔºåÂÜ≥ÂÆöÊòØÂê¶ÊèíÂÖ•Ê¨°È´ò‰∏ÄÂ±ÇÔºå‰∏çÊèíÂÖ•ÂàôÁªìÊùüÔºõÂ¶ÇÊûúË¶ÅÊèíÂÖ•ÔºåÂ∞±‰ªéÊ†àÂèñÂá∫ÂΩìÂâçÂ±ÇÂâçÈ©±ÔºåÊñ∞ËäÇÁÇπÊèíÂÖ•Âú®ÂÖ∂ÂêéÊñπÂΩ¢ÊàêËøûÊé•ÔºåÂ¶ÇÊûú‰∏¢Á°¨Â∏ÅËøêÊ∞îÂ§™Â•ΩÔºåÊ†àÁî®ÂÆå‰ªçÈúÄÊèíÂÖ•ÔºåÊ≠§Êó∂ËØ¥ÊòéÈ´òÂ∫¶Â∑≤Ë∂ÖÂá∫ÂéüÊúâÂ±ÇÔºåÂàôÊñ∞Âª∫‰∏ÄÂ±ÇÔºöÊñ∞Âª∫Â§¥ËäÇÁÇπ‰Ωú‰∏∫ÂâçÈ©±ÔºåÂêéÊñπÊèíÂÖ•Êñ∞ËäÇÁÇπ„ÄÇ</li></ul><h3 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Skiplist</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> MAX_LEVEL = <span class="number">32</span>;  <span class="comment">// Â±ÇÁ∫ßÊúÄÂ§ßÈòàÂÄº</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        Node right; <span class="comment">//ÊåáÂêëÂêåÂ±ÇÁöÑÂêéÈ©±</span></span><br><span class="line">        Node down; <span class="comment">//ÊåáÂêëÂêåËäÇÁÇπÁöÑ‰∏ã‰∏ÄÂ±ÇÔºåÂ∫ïÂ±Ç‰∏∫Á©∫</span></span><br><span class="line">        Node(<span class="keyword">int</span> val, Node right, Node down)&#123;</span><br><span class="line">            <span class="keyword">this</span>.val = val;</span><br><span class="line">            <span class="keyword">this</span>.right = right;</span><br><span class="line">            <span class="keyword">this</span>.down = down;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Node head; <span class="comment">// Â§¥ËäÇÁÇπ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> level; <span class="comment">// ÂΩìÂâçÊúÄÂ§ßÂ±ÇÁ∫ß</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Skiplist</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        head = <span class="keyword">new</span> Node(-<span class="number">1</span>, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">        level = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        Node node = head;</span><br><span class="line">        <span class="keyword">while</span>(node != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span>(node.right!=<span class="keyword">null</span> &amp;&amp; node.right.val&lt;target) node = node.right;  <span class="comment">// ÂêåÂ±ÇË∑≥ÈìæË°®,ÂØªÊâæÂΩìÂâçÂ±ÇÁöÑÂâçÈ©±</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(node.right!=<span class="keyword">null</span> &amp;&amp; node.right.val == target)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            node = node.down;  <span class="comment">// Ëøõ‰∏ã‰∏ÄÂ±Ç</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 1. ÂØªÊâæÊñ∞ËäÇÁÇπÁöÑÊâÄÊúâÁ¨¶ÂêàÊù°‰ª∂ÁöÑÂèØËÉΩÂâçÈ©±ËäÇÁÇπÔºåÁî®Ê†àËÆ∞ÂΩï‰∏ã</span></span><br><span class="line">        Deque&lt;Node&gt; prevStack = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        Node node = head;</span><br><span class="line">        <span class="keyword">while</span>(node != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">while</span>(node.right!=<span class="keyword">null</span> &amp;&amp; node.right.val&lt;num) node = node.right;  <span class="comment">// ÂêåÂ±ÇË∑≥ÈìæË°®,ÂØªÊâæÂΩìÂâçÂ±ÇÁöÑÂâçÈ©±</span></span><br><span class="line"></span><br><span class="line">            prevStack.push(node); <span class="comment">// È´òlevelÂà∞‰ΩélevelÂéãÊ†à ‰øùÂ≠òÊâÄÊúâÂâçÈ©±ËäÇÁÇπ</span></span><br><span class="line"></span><br><span class="line">            node = node.down;  <span class="comment">// Ëøõ‰∏ã‰∏ÄÂ±Ç</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. ÂèçÂ§ç‰∏¢01Á°¨Â∏ÅÔºåÂÜ≥ÂÆöÊèíÂÖ•Êñ∞ËäÇÁÇπÁöÑlevelÔºåÂ∫ïlevelÂøÖÈ°ªÊèíÂÖ•ÔºåÁ°¨Â∏ÅÂàùÂßãÂåñ‰∏∫1</span></span><br><span class="line">        <span class="keyword">int</span> coins = <span class="number">1</span>;  <span class="comment">// Á°¨Â∏ÅÂàùÂßãÂåñ‰∏∫1</span></span><br><span class="line">        Random rand = <span class="keyword">new</span> Random();</span><br><span class="line"></span><br><span class="line">        Node prev = <span class="keyword">null</span>, newNode = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span>(coins == <span class="number">1</span> &amp;&amp; level &lt; MAX_LEVEL)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!prevStack.isEmpty())&#123;</span><br><span class="line">                <span class="comment">// ÂΩìÊúâÂâçÈ©±ÔºåÈ´òlevelÂà∞‰ΩélevelÂºπÊ†à</span></span><br><span class="line">                prev = prevStack.pop();</span><br><span class="line"></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">// ÂΩìÊó†ÂâçÈ©±ÔºåÂàôÊñ∞Âª∫head‰Ωú‰∏∫ÂâçÈ©±ËäÇÁÇπÔºålevel++</span></span><br><span class="line">                head = <span class="keyword">new</span> Node(-<span class="number">1</span>, <span class="keyword">null</span>, head);</span><br><span class="line">                prev = head;</span><br><span class="line">                level++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ÊèíÂÖ•Âà∞ÂΩìÂâçÂ±ÇÁöÑÈìæË°®‰∏ä</span></span><br><span class="line">            newNode = <span class="keyword">new</span> Node(num, prev.right , newNode);</span><br><span class="line">            prev.right = newNode;</span><br><span class="line"></span><br><span class="line">            coins = rand.nextInt(<span class="number">2</span>);  <span class="comment">//‰∏¢Á°¨Â∏Å [0,1]</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">erase</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">        Node node = head;</span><br><span class="line">        <span class="keyword">while</span>(node != <span class="keyword">null</span>)&#123;</span><br><span class="line">             <span class="keyword">while</span>(node.right!=<span class="keyword">null</span> &amp;&amp; node.right.val&lt;num) node = node.right;  <span class="comment">// ÂêåÂ±ÇË∑≥ÈìæË°®,ÂØªÊâæÂΩìÂâçÂ±ÇÁöÑÂâçÈ©±</span></span><br><span class="line">            <span class="comment">// Âà†Èô§ÂΩìÂâçÂ±ÇÁöÑËäÇÁÇπ</span></span><br><span class="line">            <span class="keyword">if</span>(node.right!=<span class="keyword">null</span> &amp;&amp; node.right.val == num)&#123;</span><br><span class="line">                flag = <span class="keyword">true</span>;</span><br><span class="line">                node.right = node.right.right;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            node = node.down;  <span class="comment">// Ëøõ‰∏ã‰∏ÄÂ±Ç</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Âà†Èô§Â≠§Á´ãÂ§¥ËäÇÁÇπ</span></span><br><span class="line">        <span class="keyword">while</span> (level &gt; <span class="number">1</span> &amp;&amp; head.right == <span class="keyword">null</span>)&#123;</span><br><span class="line">            head = head.down;</span><br><span class="line">            level--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/design-skiplist/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;the leetcode link&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&quot;1206-ËÆæËÆ°Ë∑≥Ë°®&quot;&gt;&lt;</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="Ë∑≥Ë°®" scheme="https://github.com/missionOdd/tags/Ë∑≥Ë°®/"/>
    
    <category term="Ê®°Êãü" scheme="https://github.com/missionOdd/tags/Ê®°Êãü/"/>
    
  </entry>
  
  <entry>
    <title>Áî® Rand7() ÂÆûÁé∞ Rand10() | ÂàÜÈ°µ | ÁøªÁúãÊó•ÂéÜÁöÑÊó∂ÂÄôÔºåÊääÈ¢òÂÅöÂá∫Êù•</title>
    <link href="https://github.com/missionOdd/2022/02/04/implement-rand10-using-rand7/"/>
    <id>https://github.com/missionOdd/2022/02/04/implement-rand10-using-rand7/</id>
    <published>2022-02-04T04:30:37.000Z</published>
    <updated>2022-02-16T10:31:48.316Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/implement-rand10-using-rand7/" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><ol start="470"><li>Áî® Rand7() ÂÆûÁé∞ Rand10()<br>ÁªôÂÆöÊñπÊ≥ï rand7 ÂèØÁîüÊàê [1,7] ËåÉÂõ¥ÂÜÖÁöÑÂùáÂåÄÈöèÊú∫Êï¥Êï∞ÔºåËØïÂÜô‰∏Ä‰∏™ÊñπÊ≥ï rand10 ÁîüÊàê [1,10] ËåÉÂõ¥ÂÜÖÁöÑÂùáÂåÄÈöèÊú∫Êï¥Êï∞„ÄÇ</li></ol></blockquote><blockquote><p>‰Ω†Âè™ËÉΩË∞ÉÁî® rand7() ‰∏î‰∏çËÉΩË∞ÉÁî®ÂÖ∂‰ªñÊñπÊ≥ï„ÄÇËØ∑‰∏çË¶Å‰ΩøÁî®Á≥ªÁªüÁöÑ Math.random() ÊñπÊ≥ï„ÄÇ</p></blockquote><blockquote><p>ÊØè‰∏™ÊµãËØïÁî®‰æãÂ∞ÜÊúâ‰∏Ä‰∏™ÂÜÖÈÉ®ÂèÇÊï∞ nÔºåÂç≥‰Ω†ÂÆûÁé∞ÁöÑÂáΩÊï∞ rand10() Âú®ÊµãËØïÊó∂Â∞ÜË¢´Ë∞ÉÁî®ÁöÑÊ¨°Êï∞„ÄÇËØ∑Ê≥®ÊÑèÔºåËøô‰∏çÊòØ‰º†ÈÄíÁªô rand10() ÁöÑÂèÇÊï∞„ÄÇ</p></blockquote><blockquote><p>Á§∫‰æã 1:<br>ËæìÂÖ•: 1<br>ËæìÂá∫: [2]</p></blockquote><blockquote><p>Á§∫‰æã 2:<br>ËæìÂÖ•: 2<br>ËæìÂá∫: [2,8]</p></blockquote><blockquote><p>Á§∫‰æã 3:<br>ËæìÂÖ•: 3<br>ËæìÂá∫: [3,8,10]</p></blockquote><blockquote><p>ÊèêÁ§∫:<br>1 &lt;= n &lt;= 105</p></blockquote><h3 id="ÈöèÊú∫Êã©Êó•"><a href="#ÈöèÊú∫Êã©Êó•" class="headerlink" title="ÈöèÊú∫Êã©Êó•"></a>ÈöèÊú∫Êã©Êó•</h3><p>‰∏Ä‰∏™Âêç‰∏∫Âç¢Ëø™ÁöÑÂÆÖÁî∑Ôºå‰ªñÁõ∏‰ø°ÁùÄÔºåÂÖ´ÊúàÊòØÂæ™ÁéØÁöÑÈ´òÂèëÊúüÔºå‰∏îÊó∂Â∏∏Êúâ‚Äù/remake‚ÄùËá™Â∑±ÁöÑÊÉ≥Ê≥ï„ÄÇ</p><p>‰∫éÊòØÔºå<strong>‰ªñËÆ°ÂàíÂú®2022Âπ¥8ÊúàÁöÑÈöèÊú∫‰∏ÄÂ§©ÔºåÂéªÂùêÂÖ¨‰∫§ËΩ¶</strong>Ôºå‰∏∫‰∫ÜÈÅáËßÅËΩ¶ÈÄî‰∏≠ÂèØËÉΩÂèëÁîüÁöÑÊó∂Á©∫Âæ™ÁéØ„ÄÇ</p><figure class="image-box">                <img src="https://pic.leetcode-cn.com/1644778673-nOHaQj-image.png" alt="image.png" title class>                <p>image.png</p>            </figure><p>ÁúãÊó•ÂéÜÔºåÂæàÂ∑ßÂ¶ôÔºå2022Âπ¥ÁöÑ8ÊúàÁöÑ1Âè∑ÂàöÂ•ΩÊòØ‰ªéÂë®‰∏ÄÂºÄÂßã„ÄÇ</p><p>‰∏ÄÂë®Êúâ7Â§©ÔºåËÄåÊú¨È¢òÂèàÂæàÂ∑ßÊúâRandom7()ÁöÑÂäüËÉΩ„ÄÇ</p><p>ËôΩÁÑ∂Âç¢Ëø™‰∏ç‰ºöÂÅöÈ¢òÔºå‰ΩÜ‰ªñÊÉ≥‰∫Ü‰∏Ä‰∏™ÊñπÊ≥ïÔºå<strong>Âà©Áî®Random7()ÔºåÂÆûÁé∞‰∫ÜÁ≠âÊ¶ÇÁéáÈöèÊú∫ÈÄâÊã©Âì™‰∏ÄÂ§©‰∏äÂÖ¨‰∫§</strong>ÔºÅ</p><p>ËøôÂ∞è‰ºôÂ≠êÊÄé‰πàÂÅöÂë¢Ôºü</p><p>Âè™ËßÅ‰ªñÁúºÁñæÊâãÂø´ÔºåÂï™‰∏Ä‰∏ãÔºåÁõ¥Êé•ÂÜô‰∏ÄË°å‰ª£Á†Å <code>return rand7()</code>Ôºå</p><p>Á´üÁÑ∂ÊääRamdom7()‰Ωú‰∏∫ËæìÂá∫ÁªìÊûú„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇ„ÄÇÁúüÊó†ËØ≠‰∫Ü</p><blockquote><p>Á¨¨‰∏ÄÊ¨°Êèê‰∫§ÔºåËæìÂá∫ÁªìÊûúÊòØÂá†Ôºå‰ªñÂ∞±ÈÄâÊã©Âë®Âá†ÔºåËÆ∞‰∏∫a<br>Á¨¨‰∫åÊ¨°Êèê‰∫§ÔºåËæìÂá∫ÁªìÊûúÊòØÂá†Ôºå‰ªñÂ∞±ÈÄâÊã©Êó•ÂéÜ‰∏äÁöÑÁ¨¨Âá†Ë°åÔºåËÆ∞‰∏∫b</p></blockquote><p><code>Ë°•ÂÖÖËØ¥ÊòéÔºå8Êúà1Âè∑ÊâÄÂú®Ë°åÊòØÁ¨¨1Ë°åÔºå9Êúà5Âè∑ÊâÄÂú®Ë°åÊòØÁ¨¨6Ë°å„ÄÇ</code></p><p>ÂΩìÁÑ∂ÔºåËøôÊ†∑ÊäΩÈÄâÁöÑËåÉÂõ¥ÊòØ‰ªé8Êúà1Âè∑Âà∞9Êúà18Âè∑Ôºå‰∏∫49Â§©„ÄÇ</p><p>ÊäΩÂà∞ÊØè‰∏ÄÂ§©ÁöÑÊ¶ÇÁéáÈÉΩÊòØ(1/7)*(1/7)Ôºå‰πüÁõ∏ÂΩìÂÆûÁé∞Random49()„ÄÇ</p><p>‰ΩÜËøô‰∏çÊòØ‰ªñÊÉ≥Ë¶ÅÁöÑÁªìÊûúÔºå‰ªñ<strong>Âè™‰ºöÂú®8Êúà‰ªΩ‰∏≠ÈÄâÊã©‰∏ÄÂ§©</strong>„ÄÇ</p><p>Â¶ÇÊûúÊäΩÂà∞9Êúà‰ªΩÔºå‰ªñ<strong>ÊãíÁªùÈááÊ†∑</strong>ÔºåÈáçÂ§çÁ¨¨‰∏ÄÊ¨°Âíå‰∫åÊ¨°ÁöÑÊèê‰∫§ËøáÁ®ãÔºåÈáçÊñ∞Êã©Êó•„ÄÇ</p><p>Êúâ‰∫ÜÊãíÁªùÈááÊ†∑Ê≠•È™§ÔºåÂ∞±ËÉΩÂÆûÁé∞Random31()ÔºåËøôÊâçÊòØ‰ªñÊÉ≥Ë¶ÅÁöÑÁªìÊûú„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">‰ªñÁöÑÈöèÊú∫ËøáÁ®ãÔºö</span><br><span class="line">a=5Ôºåb=5ÔºåÂæà‰∏çÂ∑ßÔºå8ÊúàÊ≤°ÊúâËøô‰∏ÄÂ§©„ÄÇÊãíÁªùÈááÊ†∑ÔºåÈáçÊñ∞ÂÜçÊù•Ôºõ</span><br><span class="line">a=2Ôºåb=7ÔºåÂæà‰∏çÂ∑ßÔºå8ÊúàÊ≤°ÊúâËøô‰∏ÄÂ§©„ÄÇÊãíÁªùÈááÊ†∑ÔºåÈáçÊñ∞ÂÜçÊù•Ôºõ</span><br><span class="line">a=2Ôºåb=4ÔºåÊàêÂäüÈöèÊú∫ÂÆö‰ΩçÂà∞23Âè∑Âá∫‰ºèÊó•Ôºõ</span><br></pre></td></tr></table></figure><p><strong>QÔºöÂ∑≤Áü•aÂíåbÔºåÂ¶Ç‰ΩïÁî®ÂÖ¨ÂºèËÆ°ÁÆóÂá∫Âá†Âè∑Êó•ÊúüÔºü</strong></p><blockquote><p>Âà©Áî®ÁÆÄÂçïÁöÑÂàÜÈ°µÂÖ¨ÂºèÔºö<strong>index = (pageNum - 1) * size + currentPageIndex</strong><br>È°µÂè∑ÊòØ‰ªé1ÂºÄÂßãÔºåÊää‰∏ÄÂë®Áúã‰Ωú‰∏ÄÈ°µÔºåÂæóÂà∞Ôºö Âá†Âè∑Êó•Êúü = (b-1) <em> 7 + a<br>‰æãÂ¶ÇÔºö23Âè∑ = (4-1) </em> 7 + 2</p></blockquote><p>Áî®<strong>ÂàÜÈ°µÊÄùÊÉ≥</strong>Ôºå‰πüÂèØ‰ª•ÂæóÂà∞‰∏ÄÊù°<strong>ÈöèÊú∫Êï∞ÂÖ¨Âºè</strong>Ôºö<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">randAB = (randB-1) * A + randA</span><br></pre></td></tr></table></figure></p><p>ÊØîÂ¶Ç‰∏äËø∞‰æãÂ≠êÔºåÈÄöËøá‰∏§‰∏™Random7()Êé®Âá∫Random49()<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rand49  = (rand7-1) * 7 + rand7</span><br></pre></td></tr></table></figure></p><h3 id="ÂÖ≥‰∫éÊãíÁªùÈááÊ†∑ËåÉÂõ¥ËøáÂ§ßÁöÑÈóÆÈ¢ò"><a href="#ÂÖ≥‰∫éÊãíÁªùÈááÊ†∑ËåÉÂõ¥ËøáÂ§ßÁöÑÈóÆÈ¢ò" class="headerlink" title="ÂÖ≥‰∫éÊãíÁªùÈááÊ†∑ËåÉÂõ¥ËøáÂ§ßÁöÑÈóÆÈ¢ò"></a>ÂÖ≥‰∫éÊãíÁªùÈááÊ†∑ËåÉÂõ¥ËøáÂ§ßÁöÑÈóÆÈ¢ò</h3><p>Âç¢Ëø™Á™ÅÁÑ∂Êé•Âà∞Áà∂ÊØçÊåáÁ§∫Ôºå8Êúà10Âè∑Âêé‰∏çËÉΩÂá∫ÂÆ∂Èó®„ÄÇ</p><p>‰ªñÂè™ËÉΩËÆ°ÂàíÂú®8Êúà1Âè∑Âà∞8Êúà10Âè∑‰∏≠ÈöèÊú∫ÈÄâÊã©‰∏ÄÂ§©ÔºåÊÑèÂë≥ÁùÄË¶ÅÂÆûÁé∞Random10()„ÄÇ</p><p>‰ªñÊåâÁÖß‰πãÂâçÁöÑÊñπÊ≥ïÊìç‰ΩúÔºåÁî±‰∫éÊãíÁªùÈááÊ†∑ÁöÑËåÉÂõ¥ËøáÂ§ßÔºå‰ªñÊÄªÊòØÊäΩÂèñÂà∞8Êúà10Âè∑‰ª•ÂêéÁöÑÊó•Â≠ê„ÄÇ</p><p>Êó∂Èó¥Â∑≤ËøáÂéªÂæà‰πÖÔºå‰æùÁÑ∂Ê≤°ÊäΩ‰∏≠Ââç10Â§©ÔºåËøêÊ∞îËøáËÉåÔºå‰ªñÂø´ÊäΩÈ∫ª‰∫Ü‚Ä¶‚Ä¶</p><p>‰∫éÊòØÔºå‰ªñÊÉ≥ÂäûÊ≥ï‰ºòÂåñÔºö<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ÊäΩ‰∏≠Á¨¨ 1Ôºå11Ôºå21Ôºå31ÁöÑ‰ΩçÁΩÆÂ∞±ÊòØ1Âè∑Âá∫Âèë</span><br><span class="line">ÊäΩ‰∏≠Á¨¨ 2Ôºå12Ôºå22Ôºå32ÁöÑ‰ΩçÁΩÆÂ∞±ÊòØ2Âè∑Âá∫Âèë</span><br><span class="line">ÊäΩ‰∏≠Á¨¨ 3Ôºå13Ôºå23Ôºå33ÁöÑ‰ΩçÁΩÆÂ∞±ÊòØ3Âè∑Âá∫Âèë</span><br><span class="line">......</span><br><span class="line">ÊäΩ‰∏≠Á¨¨10Ôºå20Ôºå30Ôºå40ÁöÑ‰ΩçÁΩÆÂ∞±ÊòØ10Âè∑Âá∫Âèë</span><br></pre></td></tr></table></figure></p><p>ËøôÊ†∑ÔºåÈááÊ†∑ËåÉÂõ¥Áî±10Â∞±ÂèòÊàê40Ôºå‰ªñÈ©¨‰∏äÊäΩ‰∏≠ÁªìÊûú‰∫Ü„ÄÇ</p><p>ËøôÂ∞±ÊòØÂèñ‰ΩôÊï∞ÁöÑÊÄùË∑Ø<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Âá†Âè∑Êó•Êúü = index %10 + 1</span><br></pre></td></tr></table></figure></p><p>ÂÖàÂÜ≥ÂÆöÂèñÊ†∑ËåÉÂõ¥ÔºöÂ∫î‰∏∫NÁöÑÂÄçÊï∞ÔºåÂÜçÁî®Ê®°N+1ÊñπÂºèÂæóÂà∞ÁªìÊûú<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while(index&gt;40)&#123;</span><br><span class="line">    index = rand7()+(rand7()-1)*7;</span><br><span class="line">&#125;</span><br><span class="line">return index%10+1;</span><br></pre></td></tr></table></figure></p><h3 id="Êú¨È¢ò‰ª£Á†Å"><a href="#Êú¨È¢ò‰ª£Á†Å" class="headerlink" title="Êú¨È¢ò‰ª£Á†Å"></a>Êú¨È¢ò‰ª£Á†Å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">SolBase</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> index =<span class="number">41</span>;</span><br><span class="line">        <span class="keyword">while</span>(index&gt;<span class="number">40</span>)&#123;</span><br><span class="line">            index = (rand7()-<span class="number">1</span>)*<span class="number">7</span> + rand7();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> index%<span class="number">10</span>+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/implement-rand10-using-rand7/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;the leetcode link&lt;/a&gt;&lt;/p&gt;
&lt;blockq</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="Ê®°Êãü" scheme="https://github.com/missionOdd/tags/Ê®°Êãü/"/>
    
  </entry>
  
  <entry>
    <title>ÂèåÁ´ØÈÄíÂáèÈòüÂàó | ÊªëÂä®Á™óÂè£ÊúÄÂ§ßÂÄº</title>
    <link href="https://github.com/missionOdd/2022/02/02/sliding-window-maximum/"/>
    <id>https://github.com/missionOdd/2022/02/02/sliding-window-maximum/</id>
    <published>2022-02-02T04:30:37.000Z</published>
    <updated>2022-02-16T10:08:36.156Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><p>Áªô‰Ω†‰∏Ä‰∏™Êï¥Êï∞Êï∞ÁªÑ numsÔºåÊúâ‰∏Ä‰∏™Â§ßÂ∞è‰∏∫ k ÁöÑÊªëÂä®Á™óÂè£‰ªéÊï∞ÁªÑÁöÑÊúÄÂ∑¶‰æßÁßªÂä®Âà∞Êï∞ÁªÑÁöÑÊúÄÂè≥‰æß„ÄÇ‰Ω†Âè™ÂèØ‰ª•ÁúãÂà∞Âú®ÊªëÂä®Á™óÂè£ÂÜÖÁöÑ k ‰∏™Êï∞Â≠ó„ÄÇÊªëÂä®Á™óÂè£ÊØèÊ¨°Âè™ÂêëÂè≥ÁßªÂä®‰∏Ä‰Ωç„ÄÇ</p></blockquote><blockquote><p>ËøîÂõû ÊªëÂä®Á™óÂè£‰∏≠ÁöÑÊúÄÂ§ßÂÄº „ÄÇ</p></blockquote><blockquote><p>Á§∫‰æã 1Ôºö<br>ËæìÂÖ•Ôºönums = [1,3,-1,-3,5,3,6,7], k = 3<br>ËæìÂá∫Ôºö[3,3,5,5,6,7]<br>Ëß£ÈáäÔºö<br>ÊªëÂä®Á™óÂè£ÁöÑ‰ΩçÁΩÆ                ÊúÄÂ§ßÂÄº</p><hr><p>[1  3  -1] -3  5  3  6  7       3<br> 1 [3  -1  -3] 5  3  6  7       3<br> 1  3 [-1  -3  5] 3  6  7       5<br> 1  3  -1 [-3  5  3] 6  7       5<br> 1  3  -1  -3 [5  3  6] 7       6<br> 1  3  -1  -3  5 [3  6  7]      7</p></blockquote><blockquote><p>Á§∫‰æã 2Ôºö<br>ËæìÂÖ•Ôºönums = [1], k = 1<br>ËæìÂá∫Ôºö[1]</p></blockquote><blockquote><p>ÊèêÁ§∫Ôºö<br>1 &lt;= nums.length &lt;= 105<br>-104 &lt;= nums[i] &lt;= 104<br>1 &lt;= k &lt;= nums.length</p></blockquote><h3 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h3><ol><li>ÂÆö‰πâÈÄíÂáèÁöÑÂèåÁ´ØÈìæË°®</li><li>ÈìæÂ∞æÂæ™ÁéØÔºåËàçÂºÉÊØîÂΩìÂâçÂÄºÂ∞èÁöÑÂÖÉÁ¥†ÔºåÂπ∂ÊèíÂÖ•ÂΩìÂâçÂÄºÔºåÊ≥®ÊÑèÁ©∫Ê†°È™å</li><li>ÂÖàÊ†°È™åÊòØÂê¶Ë∂≥Â§üÁªÑÊàêÁ™óÂè£</li><li>Ëã•3Ê≠•È™§ÈÄöËøáÔºåÁ™óÂè£ÊúÄÂ§ßÂÄºÂèñÈòüÂ§¥ÁöÑÂÖÉÁ¥†</li><li>Ëã•3Ê≠•È™§ÈÄöËøáÔºåÂà§Êñ≠ÈìæÂ§¥ÂÖÉÁ¥†ÊòØÂê¶Âú®‰∏ã‰∏Ä‰∏™Á™óÂè£ÂÜÖÔºå‰∏çÂú®ÂàôËàçÂºÉ</li></ol><h3 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">        1. ÂÆö‰πâÈÄíÂáèÁöÑÂèåÁ´ØÈìæË°®</span></span><br><span class="line"><span class="comment">        2. ÈìæÂ∞æÂæ™ÁéØÔºåËàçÂºÉÊØîÂΩìÂâçÂÄºÂ∞èÁöÑÂÖÉÁ¥†ÔºåÂπ∂ÊèíÂÖ•ÂΩìÂâçÂÄºÔºåÊ≥®ÊÑèÁ©∫Ê†°È™å</span></span><br><span class="line"><span class="comment">        3. ÂÖàÊ†°È™åÊòØÂê¶Ë∂≥Â§üÁªÑÊàêÁ™óÂè£</span></span><br><span class="line"><span class="comment">        4. Á™óÂè£ÊúÄÂ§ßÂÄºÂèñÈòüÂ§¥ÁöÑÂÖÉÁ¥†</span></span><br><span class="line"><span class="comment">        5. Âà§Êñ≠ÈìæÂ§¥ÂÖÉÁ¥†ÊòØÂê¶Âú®‰∏ã‰∏Ä‰∏™Á™óÂè£ÂÜÖÔºå‰∏çÂú®ÂàôËàçÂºÉ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">        <span class="keyword">if</span>(nums.length&lt;k) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        <span class="comment">// 1. ÂÆö‰πâÈÄíÂáèÁöÑÂèåÁ´ØÈìæË°®</span></span><br><span class="line">        LinkedList&lt;Integer&gt; d = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[nums.length-k+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">int</span> index=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> r=<span class="number">0</span>;r&lt;nums.length;r++)&#123;</span><br><span class="line">            <span class="comment">// 2. ÈìæÂ∞æÂæ™ÁéØÔºåËàçÂºÉÊØîÂΩìÂâçÂÄºÂ∞èÁöÑÂÖÉÁ¥†ÔºåÂπ∂ÊèíÂÖ•ÂΩìÂâçÂÄºÔºåÊ≥®ÊÑèÁ©∫Ê†°È™å</span></span><br><span class="line">            <span class="keyword">while</span>(!d.isEmpty() &amp;&amp; d.peekLast()&lt;nums[r])&#123;</span><br><span class="line">                d.removeLast();</span><br><span class="line">            &#125;</span><br><span class="line">            d.addLast(nums[r]);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3. ÂÖàÊ†°È™åÊòØÂê¶Ë∂≥Â§üÁªÑÊàêÁ™óÂè£</span></span><br><span class="line">            <span class="keyword">if</span>(r-k+<span class="number">1</span>&gt;=<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="comment">// 4. Á™óÂè£ÊúÄÂ§ßÂÄºÂèñÈòüÂ§¥ÁöÑÂÖÉÁ¥†</span></span><br><span class="line">               res[index++] = d.peekFirst();</span><br><span class="line">                <span class="comment">// 5. Âà§Êñ≠ÈìæÂ§¥ÂÖÉÁ¥†ÊòØÂê¶Âú®‰∏ã‰∏Ä‰∏™Á™óÂè£ÂÜÖÔºå‰∏çÂú®ÂàôËàçÂºÉ</span></span><br><span class="line">               <span class="keyword">if</span>(d.peekFirst()== nums[r-k+<span class="number">1</span>])&#123;</span><br><span class="line">                    d.removeFirst();</span><br><span class="line">               &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/search-in-rotated-sorted-array&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;the leetcode link&lt;/a&gt;&lt;/p&gt;
&lt;block</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="ÂèåÁ´ØÈòüÂàó" scheme="https://github.com/missionOdd/tags/ÂèåÁ´ØÈòüÂàó/"/>
    
    <category term="ÊªëÂä®Á™óÂè£" scheme="https://github.com/missionOdd/tags/ÊªëÂä®Á™óÂè£/"/>
    
  </entry>
  
  <entry>
    <title>‰ΩçËøêÁÆó | 2bitÊ†áËØÜ3Áä∂ÊÄÅ | ÊúâÈôêÁä∂ÊÄÅËá™Âä®Êú∫</title>
    <link href="https://github.com/missionOdd/2022/02/02/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof/"/>
    <id>https://github.com/missionOdd/2022/02/02/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof/</id>
    <published>2022-02-02T04:30:37.000Z</published>
    <updated>2022-02-16T10:13:26.193Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><p>ÂâëÊåá Offer 56 - II. Êï∞ÁªÑ‰∏≠Êï∞Â≠óÂá∫Áé∞ÁöÑÊ¨°Êï∞ II<br>Âú®‰∏Ä‰∏™Êï∞ÁªÑ nums ‰∏≠Èô§‰∏Ä‰∏™Êï∞Â≠óÂè™Âá∫Áé∞‰∏ÄÊ¨°‰πãÂ§ñÔºåÂÖ∂‰ªñÊï∞Â≠óÈÉΩÂá∫Áé∞‰∫Ü‰∏âÊ¨°„ÄÇËØ∑ÊâæÂá∫ÈÇ£‰∏™Âè™Âá∫Áé∞‰∏ÄÊ¨°ÁöÑÊï∞Â≠ó„ÄÇ</p></blockquote><blockquote><p>Á§∫‰æã 1Ôºö<br>ËæìÂÖ•Ôºönums = [3,4,3,3]<br>ËæìÂá∫Ôºö4</p></blockquote><blockquote><p>Á§∫‰æã 2Ôºö<br>ËæìÂÖ•Ôºönums = [9,1,7,9,7,9,7]<br>ËæìÂá∫Ôºö1</p></blockquote><blockquote><p>ÈôêÂà∂Ôºö<br>1 &lt;= nums.length &lt;= 10000<br>1 &lt;= nums[i] &lt; 2^31</p></blockquote><h1 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h1><p>Êú¨È¢òËß£‰∏ªË¶ÅÊòØÊ†πÊçÆkÁ•ûÈ¢òËß£ÁöÑ<strong>ÊúâÈôêÁä∂ÊÄÅËá™Âä®Êú∫</strong>ÊÄùË∑ØÔºåË°•ÂÖÖ‰∫Ü‰∏Ä‰∫õÊï∞ÊçÆÁªìÊûÑÁöÑÂèØËßÜÂåñÔºåÊñπ‰æøÂ§ßÂÆ∂ÁêÜËß£„ÄÇ</p><h3 id="‰∏Ä‰∏™ÁªìËÆ∫"><a href="#‰∏Ä‰∏™ÁªìËÆ∫" class="headerlink" title="‰∏Ä‰∏™ÁªìËÆ∫"></a>‰∏Ä‰∏™ÁªìËÆ∫</h3><p><strong>Â¶ÇÊûúÊâÄÊúâÊï∞Â≠óÈÉΩÂá∫Áé∞3Ê¨°ÔºåÊääÊâÄÊúâÊï∞Â≠óÁöÑÊØè‰∏Ä‰∏™‰∫åËøõÂà∂‰ΩçÂàÜÂà´Ê±ÇÂíåÔºåÂêÑ‰ΩçÁΩÆÁöÑÁªìÊûúÂùá‰∏∫ 3 ÁöÑÂÄçÊï∞„ÄÇ</strong><br>ÂØπ‰∫éÊú¨È¢òÔºåÊàë‰ª¨ÂàÜÂà´ÁªüËÆ°ÊâÄÊúâÊï∞Â≠óÁöÑÊØè‰∫åËøõÂà∂‰Ωç‰∏≠ 1 ÁöÑÂá∫Áé∞Ê¨°Êï∞ÔºåÂπ∂ÊääÂêÑ‰ΩçÁΩÆÁöÑÁªìÊûú<strong>ÂàÜÂà´ÂØπ 3 Ê±Ç‰ΩôÔºåÁªìÊûúÂæóÂà∞Âè™Âá∫Áé∞‰∏ÄÊ¨°ÁöÑÊï∞Â≠ó</strong>„ÄÇ<br>ÊØîÂ¶ÇÔºö [3,4,3,3]<br>|  0 |  0 |  0 |  1 |  1 |<br>|‚Äî-|‚Äî-|‚Äî-|‚Äî-|‚Äî-|<br>|  0 |  0 |  1 |  0 |  0 |<br>|  0 |  0 |  0 |  1 |  1 |<br>|  0 |  0 |  0 |  1 |  1 |<br>Âá∫Áé∞Ê¨°Êï∞Ôºö<br>|  0 |  0 |  1 |  3 |  3 |<br>|‚Äî-|‚Äî-|‚Äî-|‚Äî-|‚Äî-|<br>Ê®°3Ôºö<br>|  0 |  0 |  1 |  0 |  0 |<br>|‚Äî-|‚Äî-|‚Äî-|‚Äî-|‚Äî-|<br>ÂæóÂà∞ÁªìÊûúÔºö4</p><h2 id="ÊñπÊ≥ïÔºöÊúâÈôêÁä∂ÊÄÅËá™Âä®Êú∫"><a href="#ÊñπÊ≥ïÔºöÊúâÈôêÁä∂ÊÄÅËá™Âä®Êú∫" class="headerlink" title="ÊñπÊ≥ïÔºöÊúâÈôêÁä∂ÊÄÅËá™Âä®Êú∫"></a>ÊñπÊ≥ïÔºöÊúâÈôêÁä∂ÊÄÅËá™Âä®Êú∫</h2><p>ÂØπ‰∫éÊâÄÊúâÊï∞Â≠ó‰∏≠ÁöÑÊüê‰∫åËøõÂà∂‰Ωç 1 ÁöÑ‰∏™Êï∞mod 3Ôºå‰ºöÂæóÂà∞3‰∏™ÁªìÊûúÔºåÂç≥Â≠òÂú®3ÁßçÁä∂ÊÄÅÔºö0,1,2„ÄÇ</p><p>1bitÂè™Êúâ0Âíå1ÔºåÊó†Ê≥ïË°®Á§∫3ÁßçÁä∂ÊÄÅ„ÄÇ</p><p>‰∫éÊòØÔºåÊàë‰ª¨Êää<strong>ÊØè‰∫åËøõÂà∂‰ΩçÁöÑ‰ΩçÁΩÆÔºåÁî®2bitË°®Á§∫Ôºö00Ôºå01Ôºå10</strong><br>ÊØîÂ¶ÇÔºö<br>ÂêÑ‰ΩçÁöÑÂá∫Áé∞Ê¨°Êï∞ÂèäÂÖ∂ÂØπÂ∫îÁöÑmod3Áä∂ÊÄÅÔºö<br>|  0 |  0 |  1 |  2 |  3 |<br>|‚Äî-|‚Äî-|‚Äî-|‚Äî-|‚Äî-|<br>| 00 | 00 | 01 | 10 | 00 |</p><ul><li>ÂØπ‰∫éÊØè‰∏Ä‰∏™‰∫åËøõÂà∂‰ΩçÁΩÆÔºåÁ¥ØÂä†ËøáÁ®ãmod3ÁöÑÁä∂ÊÄÅËΩ¨ÁßªÊòØÂæ™ÁéØÁöÑÔºö<br><code>Âá∫Áé∞0Ê¨°Ôºö00</code> -„Äã <code>Âá∫Áé∞1Ê¨°Ôºö01</code> -„Äã <code>Âá∫Áé∞2Ê¨°Ôºö10</code> -„Äã<code>Âá∫Áé∞3Ê¨°Ôºö00</code> -„Äã<code>Âá∫Áé∞4Ê¨°Ôºö01</code> ‚Ä¶</li><li>ÂØπ‰∫é‰∏çÂêå‰∏§‰∏™‰∫åËøõÂà∂‰ΩçÁΩÆÔºåÁä∂ÊÄÅÂêåÊ≠•ËΩ¨ÁßªÔºåÊØîÂ¶Ç‰∏Ä‰∏™‰ΩçÂá∫Áé∞1Ê¨°ÔºåÂè¶‰∏Ä‰∏™‰ΩçÂá∫Áé∞4Ê¨°ÔºåÊ≠§Êó∂Ê¨°Êï∞mod3Áä∂ÊÄÅÊòØ‰∏ÄËá¥ÁöÑÔºåÂΩìÊñ∞Á¥ØÂä†‰∏Ä‰∏™Êï∞Ôºå‰∏§ËÄÖÁä∂ÊÄÅÈÉΩË¶Å‰∏ÄÊ¨°ËΩ¨ÁßªÔºåÂèØËÉΩÂÖ•0ËΩ¨ÁßªÂà∞Ëá™Â∑±ÔºåÂèØËÉΩÂÖ•1Â∞±Âà∞‰∏ã‰∏™Áä∂ÊÄÅ„ÄÇ</li></ul><h3 id="QÔºöËøôÊ†∑2bitÁöÑÁªìÊûÑÂÖ∑‰ΩìÂ¶Ç‰ΩïÂú®‰ª£Á†Å‰∏≠Ë°®ËææÔºü"><a href="#QÔºöËøôÊ†∑2bitÁöÑÁªìÊûÑÂÖ∑‰ΩìÂ¶Ç‰ΩïÂú®‰ª£Á†Å‰∏≠Ë°®ËææÔºü" class="headerlink" title="QÔºöËøôÊ†∑2bitÁöÑÁªìÊûÑÂÖ∑‰ΩìÂ¶Ç‰ΩïÂú®‰ª£Á†Å‰∏≠Ë°®ËææÔºü"></a>QÔºöËøôÊ†∑2bitÁöÑÁªìÊûÑÂÖ∑‰ΩìÂ¶Ç‰ΩïÂú®‰ª£Á†Å‰∏≠Ë°®ËææÔºü</h3><p>ÂÆö‰πâ‰∏§‰∏™ÂèòÈáèË°®Á§∫ÂΩìÂâçmod3Áä∂ÊÄÅÔºöonesÔºåtwos<br>onesË°®Á§∫ÊâÄÊúâ2bit‰∫åËøõÂà∂‰ΩçÁöÑÊâÄÊúâÁ¨¨‰∏Ä‰ΩçÔºõ<br>twosË°®Á§∫ÊâÄÊúâ2bit‰∫åËøõÂà∂‰ΩçÁöÑÊâÄÊúâÁ¨¨‰∫å‰ΩçÔºõ<br>ÊØîÂ¶ÇÔºö<br>Âá∫Áé∞Ê¨°Êï∞mod3Áä∂ÊÄÅÔºö<br>| 0<strong>0</strong> | 0<strong>0</strong> | 1<strong>0</strong> | 0<strong>1</strong> | 0<strong>1</strong> |<br>|‚Äî-|‚Äî-|‚Äî-|‚Äî-|‚Äî-|<br>onesÊòØÔºö<br>|  <strong>0</strong> |  <strong>0</strong> |  <strong>0</strong> |  <strong>1</strong> |  <strong>1</strong> |<br>|‚Äî-|‚Äî-|‚Äî-|‚Äî-|‚Äî-|<br>twosÊòØÔºö<br>|  0 |  0 |  1 |  0 |  0 |<br>|‚Äî-|‚Äî-|‚Äî-|‚Äî-|‚Äî-|</p><h3 id="Áä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ãÊé®ÂØº"><a href="#Áä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ãÊé®ÂØº" class="headerlink" title="Áä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ãÊé®ÂØº"></a>Áä∂ÊÄÅËΩ¨ÁßªÊñπÁ®ãÊé®ÂØº</h3><p>ÂØπ‰∫éÊüê‰∏Ä‰∏™‰∫åËøõÂà∂‰ΩçÔºö<br>ÂÆö‰πâÁ¨¨‰∏Ä‰ΩçoneÔºåÁ¨¨‰∫å‰ΩçtwoÔºåÊñ∞Á¥ØÂä†‰∫åËøõÂà∂‰ΩçÊï∞Ôºön<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> two == <span class="number">0</span> &amp;&amp; one == <span class="number">0</span>:</span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">    one = ~one  <span class="comment"># one = 1</span></span><br><span class="line">    two = two   <span class="comment"># two = 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> two == <span class="number">0</span> &amp;&amp; one == <span class="number">1</span>:</span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">    one = ~one  <span class="comment"># one = 0</span></span><br><span class="line">    two = ~two  <span class="comment"># two = 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> two == <span class="number">1</span> &amp;&amp; one == <span class="number">0</span>:</span><br><span class="line">   <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">    one = one   <span class="comment"># one = 0</span></span><br><span class="line">    two = ~two  <span class="comment"># two = 0</span></span><br></pre></td></tr></table></figure></p><p>Â∑≤Áü•‰ΩçËøêÁÆóÁâπÊÄßÔºö<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ÁâπÊÄß1ÔºöÂºÇÊàñËøêÁÆóÔºöx ^ 0 = x‚Äã Ôºå x ^ 1 = ~x</span><br><span class="line">ÁâπÊÄß2Ôºö‰∏éËøêÁÆóÔºöx &amp; 0 = 0 Ôºå x &amp; 1 = x</span><br></pre></td></tr></table></figure></p><p>ËßÇÂØüÂèØÁü•Ôºö<br>a.ÂΩì twoÊòØ1Êó∂Ôºåone‰∏çÂèò<br>b.ÂΩì twoÊòØ0Êó∂ÔºåÂÖ•1ÂàôoneÂèñÂèçÔºåÂÖ•0Âàôone‰∏çÂèò <code>ÔºàÁ¨¶ÂêàÁâπÊÄß1: one = one^nÔºâ</code><br><code>Ôºàa,bÁ¨¶ÂêàÁâπÊÄß2: one = (one^n) &amp; ~twoÔºâ</code><br>c.ÂΩì oneÂèò‰∏∫0Êó∂ÔºåÂÖ•1ÂàôtwoÂèñÂèçÔºåÂÖ•0Âàôtwo‰∏çÂèò<code>ÔºàÁ¨¶ÂêàÁâπÊÄß1Ôºötwo = two^nÔºâ</code><br>d.ÂΩì oneÂèò‰∏∫1Êó∂Ôºåtwo‰∏çÂèò<br><code>Ôºàc,dÁ¨¶ÂêàÁâπÊÄß2: two = (two^n) &amp; ~oneÔºâ</code></p><p>Êé®ÂØºÁÆÄÂåñÂÖ¨ÂºèÔºö<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">one = one ^ n &amp; ~two</span><br><span class="line">two = two ^ n &amp; ~one</span><br></pre></td></tr></table></figure></p><h3 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int singleNumber(int[] nums) &#123;</span><br><span class="line">        int ones = 0, twos = 0;</span><br><span class="line">        for(int num : nums)&#123;</span><br><span class="line">            ones = ones ^ num &amp; ~twos;</span><br><span class="line">            twos = twos ^ num &amp; ~ones;</span><br><span class="line">        &#125;</span><br><span class="line">        return ones;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;the leetcode lin</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="‰ΩçËøêÁÆó" scheme="https://github.com/missionOdd/tags/‰ΩçËøêÁÆó/"/>
    
  </entry>
  
  <entry>
    <title>jvm | ËôöÊãüÊú∫ÂÖ®Èù¢Êâ´Áõ≤+Ê∑±ÂÖ•ÁêÜËß£ÁöÑÂéüÂàõÁ¨îËÆ∞</title>
    <link href="https://github.com/missionOdd/2022/02/01/jvm-notes/"/>
    <id>https://github.com/missionOdd/2022/02/01/jvm-notes/</id>
    <published>2022-02-01T05:50:37.000Z</published>
    <updated>2022-02-17T19:29:16.643Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ÂºïË®ÄÔºö</strong><br>Êù•Ê∫êÔºöÁü•ËØÜÁªìÊûÑÊù•Ëá™Ê≤≥ÂåóÁéãÊ†°ÈïøÁöÑJVMÁ≥ªÂàóÔºåÂçö‰∏ªÂü∫‰∫éËßÜÈ¢ëËá™ÂÜôÁ¨îËÆ∞ÔºåÂπ∂Ë°•ÂÖÖÂ§ßÈáèÁöÑÂª∂‰º∏ÂÜÖÂÆπ„ÄÇ<br>‰ºòÁÇπÔºöÁ¨îËÆ∞Áü•ËØÜÁÇπÂÖ≥ËÅîÊÄßÂ•ΩÔºåÊåñÂæóÊ∑±ÔºåÂª∂‰º∏Â§ö„ÄÇ<br>Áº∫ÁÇπÔºöÁº∫Â∞ëJVM‰∏éÂ§öÁ∫øÁ®ãÁªìÂêàÁöÑÂÜÖÂÆπÔºå‰ª•Âêé‰ºöË°•ÂÖÖ‰∏äÔºõÊéíÁâà‰∏ÄËà¨</p><h1 id="1-classÊñá‰ª∂"><a href="#1-classÊñá‰ª∂" class="headerlink" title="1. classÊñá‰ª∂"></a>1. classÊñá‰ª∂</h1><figure class="image-box">                <img src="image-20220208022707509.png" alt="classÊñá‰ª∂" title class>                <p>classÊñá‰ª∂</p>            </figure><p><a href="https://blog.csdn.net/lioncatch/article/details/105919391" target="_blank" rel="noopener">https://blog.csdn.net/lioncatch/article/details/105919391</a></p><p><a href="https://baijiahao.baidu.com/s?id=1717139924001321921&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">https://baijiahao.baidu.com/s?id=1717139924001321921&amp;wfr=spider&amp;for=pc</a></p><p>8Â≠óËäÇ 2ËøõÂà∂  JavaÊñá‰ª∂ÁºñËØë‰πãÂêé</p><ul><li><h3 id="4Â≠óËäÇÈ≠îÊï∞ÔºöÊ†áÂøóÊñá‰ª∂Á±ªÂûãÔºõËßÜÈ¢ëÔºåÁÖßÁâá‰πüÊúâÈ≠îÊï∞"><a href="#4Â≠óËäÇÈ≠îÊï∞ÔºöÊ†áÂøóÊñá‰ª∂Á±ªÂûãÔºõËßÜÈ¢ëÔºåÁÖßÁâá‰πüÊúâÈ≠îÊï∞" class="headerlink" title="4Â≠óËäÇÈ≠îÊï∞ÔºöÊ†áÂøóÊñá‰ª∂Á±ªÂûãÔºõËßÜÈ¢ëÔºåÁÖßÁâá‰πüÊúâÈ≠îÊï∞"></a>4Â≠óËäÇÈ≠îÊï∞ÔºöÊ†áÂøóÊñá‰ª∂Á±ªÂûãÔºõËßÜÈ¢ëÔºåÁÖßÁâá‰πüÊúâÈ≠îÊï∞</h3></li><li><h3 id="Ê¨°ÁâàÊú¨Âè∑Âíå‰∏ªÁâàÊú¨Âè∑ÔºöÊ†áÂøóJDKÁâàÊú¨ÔºõÂÖºÂÆπ‰ΩéÁâàÊú¨ÈóÆÈ¢ò"><a href="#Ê¨°ÁâàÊú¨Âè∑Âíå‰∏ªÁâàÊú¨Âè∑ÔºöÊ†áÂøóJDKÁâàÊú¨ÔºõÂÖºÂÆπ‰ΩéÁâàÊú¨ÈóÆÈ¢ò" class="headerlink" title="Ê¨°ÁâàÊú¨Âè∑Âíå‰∏ªÁâàÊú¨Âè∑ÔºöÊ†áÂøóJDKÁâàÊú¨ÔºõÂÖºÂÆπ‰ΩéÁâàÊú¨ÈóÆÈ¢ò"></a>Ê¨°ÁâàÊú¨Âè∑Âíå‰∏ªÁâàÊú¨Âè∑ÔºöÊ†áÂøóJDKÁâàÊú¨ÔºõÂÖºÂÆπ‰ΩéÁâàÊú¨ÈóÆÈ¢ò</h3></li><li><h3 id="Â∏∏ÈáèÊ±†ËÆ°Êï∞Âô®ÔºöËÆ∞ÂΩïÂêéÈù¢Â∏∏ÈáèÊ±†ÁöÑÂ∏∏ÈáèÔºàÊï∞ÊçÆÈ°πÔºâ‰∏™Êï∞Ôºõ‚Äª"><a href="#Â∏∏ÈáèÊ±†ËÆ°Êï∞Âô®ÔºöËÆ∞ÂΩïÂêéÈù¢Â∏∏ÈáèÊ±†ÁöÑÂ∏∏ÈáèÔºàÊï∞ÊçÆÈ°πÔºâ‰∏™Êï∞Ôºõ‚Äª" class="headerlink" title="Â∏∏ÈáèÊ±†ËÆ°Êï∞Âô®ÔºöËÆ∞ÂΩïÂêéÈù¢Â∏∏ÈáèÊ±†ÁöÑÂ∏∏ÈáèÔºàÊï∞ÊçÆÈ°πÔºâ‰∏™Êï∞Ôºõ‚Äª"></a>Â∏∏ÈáèÊ±†ËÆ°Êï∞Âô®ÔºöËÆ∞ÂΩïÂêéÈù¢Â∏∏ÈáèÊ±†ÁöÑÂ∏∏ÈáèÔºàÊï∞ÊçÆÈ°πÔºâ‰∏™Êï∞Ôºõ‚Äª</h3></li><li><h3 id="Â∏∏ÈáèÊ±†ÔºöÂ≠óÈù¢Èáè-Á¨¶Âè∑ÂºïÁî®"><a href="#Â∏∏ÈáèÊ±†ÔºöÂ≠óÈù¢Èáè-Á¨¶Âè∑ÂºïÁî®" class="headerlink" title="Â∏∏ÈáèÊ±†ÔºöÂ≠óÈù¢Èáè+Á¨¶Âè∑ÂºïÁî®"></a>Â∏∏ÈáèÊ±†ÔºöÂ≠óÈù¢Èáè+Á¨¶Âè∑ÂºïÁî®</h3><p> 1.Â≠óÈù¢ÈáèÔºöÊØîËæÉÊé•Ëøë‰∫éJavaËØ≠Ë®ÄÂ±ÇÈù¢ÁöÑÂ∏∏ÈáèÊ¶ÇÂøµÔºåÂ¶ÇÊñáÊú¨Â≠óÁ¨¶‰∏≤„ÄÅÂ£∞Êòé‰∏∫finalÁöÑÂ∏∏ÈáèÂÄº„ÄÇ<br> 2.Á¨¶Âè∑ÂºïÁî®<br>   packageÂêçÂ≠óÔºåÊùÉÈôêÂëΩÂêçÔºåÂ≠óÊÆµÂêçÁß∞ÔºåÊñπÊ≥ïÂêçÁß∞ÔºåÂ≠óÊÆµÊèèËø∞Á¨¶ÔºåÊñπÊ≥ïÊèèËø∞Á¨¶ÔºåÊñπÊ≥ïÂè•ÊüÑÔºåÊñπÊ≥ïÁ±ªÂûãÔºåÂä®ÊÄÅË∞ÉÁî®ÁÇπÂíåÂä®ÊÄÅÂ∏∏ÈáèÔºà‰∏ç‰∫ÜËß£Ôºâ<br>   <strong>‰∏ÄÂè•ËØùÔºöËøôÈÉ®ÂàÜÂ∞±ÊòØÂ∏∏ÈáèÊ±†ÔºåË£ÖËΩΩ‰∫ÜÂÖ®ÈÉ®Á±ªÁöÑÂ≠óÊÆµÔºåÊñπÊ≥ïÔºåÁ±ªÂêçÁß∞ÁöÑ‰ø°ÊÅØÔºõ</strong></p><figure class="image-box">                <img src="image_20220118183346.png?v=1&type=image&token=V1:3n03VpBe2yMBZgKD5g9o0h5d90CeNevbyQO6LX2UnvQ" alt title class>                <p></p>            </figure><figure class="image-box">                <img src="image-20220208023504211.png" alt="Á¨¶Âè∑ÂºïÁî®" title class>                <p>Á¨¶Âè∑ÂºïÁî®</p>            </figure><p><strong>ÊØè‰∏™Â∏∏ÈáèÈ°πÁöÑÁ¨¨‰∏Ä‰∏™Â≠óËäÇ ÂØπÂ∫î‰∏äÂõæ‰∏≠ÁöÑtagÊ†áÂøó ÊâæÂà∞ÂØπÂ∫îÁöÑÁªìÊûÑ</strong></p><figure class="image-box">                <img src="image_20220118170506.png?v=1&type=image&token=V1:6K2y024TT-YRQvmLRY5b09neyTtm2iaN319VPeQprHY" alt title class>                <p></p>            </figure><figure class="image-box">                <img src="image_20220118184004.png?v=1&type=image&token=V1:rLsRMkCAd22AUMMS2KXLkI8chGO6nlPHBPOsm1vbbXM" alt title class>                <p></p>            </figure><figure class="image-box">                <img src="image_20220118184033.png?v=1&type=image&token=V1:3CCva6EeaLck4wLZttiedHSfKB0KY8VF3QdPIXjTUjE" alt title class>                <p></p>            </figure></li></ul><ol start="2"><li>Èù¢ËØïÈ¢ò</li></ol><ul><li><p>Q  Âì™‰∫õÂ≠óÈù¢Èáè‰ºöËøõÂÖ•Â∏∏ÈáèÊ±†‰∏≠Ôºü</p><ol><li>„Äêfinal‰øÆÈ•∞„ÄëÁöÑ8ÁßçÂü∫Êú¨Á±ªÂûãÁöÑÂÄº‰ºöËøõÂÖ•Â∏∏ÈáèÊ±†„ÄÇ</li><li>„ÄêÈùûfinalÁ±ªÂûã„ÄëÔºàÂåÖÊã¨staticÁöÑÔºâÁöÑ8ÁßçÂü∫Êú¨Á±ªÂûãÁöÑÂÄºÔºåÂè™Êúâ„Äêdouble„ÄÅfloat„ÄÅlong„ÄëÁöÑÂÄº‰ºöËøõÂÖ•Â∏∏ÈáèÊ±†„ÄÇ</li><li><p>Â∏∏ÈáèÊ±†‰∏≠ÂåÖÂê´ÁöÑÂ≠óÁ¨¶‰∏≤Á±ªÂûãÂ≠óÈù¢ÈáèÔºà„ÄêÂèåÂºïÂè∑ÂºïËµ∑Êù•ÁöÑÂ≠óÁ¨¶‰∏≤ÂÄº„ÄëÔºâ„ÄÇ</p></li><li><p>finalÁ±ªÂûãÁöÑ8ÁßçÂü∫Êú¨Á±ªÂûãÁöÑÂÄº‰ºöËøõÂ∏∏ÈáèÊ±†„ÄÇ</p></li><li><p>finalÁ±ªÂûãÔºàÂåÖÊã¨staticÁöÑÔºâÁöÑ8ÁßçÂü∫Êú¨Á±ªÂûãÁöÑÂÄºÔºåÂè™Êúâdouble„ÄÅfloat„ÄÅlongÁöÑÂÄº‰ºöËøõÂ∏∏ÈáèÊ±†„ÄÇ</p></li><li><p>Â∏∏ÈáèÊ±†‰∏≠ÂåÖÂê´ÁöÑÂ≠óÁ¨¶‰∏≤Á±ªÂûãÂ≠óÈáèÔºàÂèåÂºïÂè∑ÂºïËµ∑Êù•ÁöÑÂ≠óÁ¨¶‰∏≤ÂÄºÔºâ„ÄÇ</p></li></ol></li><li><p>java Â≠óÊÆµÂêçÂíåÊñπÊ≥ïÂêçÔºåÊúâÊó†ÈïøÂ∫¶ÈôêÂà∂Ôºü<br>A: ÊúâÔºåCONSTANT_Utf8_info Â≠òÂÇ®Â≠óÁ¨¶‰∏≤Â≠óÈù¢ÈáèÔºå ÊúÄÂ§ßÈïøÂ∫¶ÊòØ65535ÔºåÂ§ßÂ∞èÈôêÂà∂Âú®Â∞è‰∫é64kb</p><figure class="image-box">                <img src="image_20220119024159.png?v=1&type=image&token=V1:W7pDbZc-acY3wco7miFQ9qcUzZDjMeym7ot3fpzX19A" alt title class>                <p></p>            </figure></li><li><p>Q Â≠óÁ¨¶‰∏≤ÊúâÈïøÂ∫¶ÈôêÂà∂ÂêóÔºüÊòØÂ§öÂ∞ëÔºü<br>  Á≠îÔºö</p><ol><li>ËøêË°åÊúüÈôêÂà∂<br>È¶ñÂÖàÂ≠óÁ¨¶‰∏≤ÁöÑÂÜÖÂÆπÊòØÁî±‰∏Ä‰∏™Â≠óÁ¨¶Êï∞ÁªÑ char[] Êù•Â≠òÂÇ®ÁöÑÔºåÁî±‰∫éÊï∞ÁªÑÁöÑÈïøÂ∫¶ÂèäÁ¥¢ÂºïÊòØÊï¥Êï∞Ôºå‰∏îStringÁ±ª‰∏≠ËøîÂõûÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶ÁöÑÊñπÊ≥ïlength() ÁöÑËøîÂõûÂÄº‰πüÊòØint ÔºåÊâÄ‰ª•ÈÄöËøáÊü•ÁúãjavaÊ∫êÁ†Å‰∏≠ÁöÑÁ±ªIntegerÊàë‰ª¨ÂèØ‰ª•ÁúãÂà∞IntegerÁöÑÊúÄÂ§ßËåÉÂõ¥ÊòØ2^31 -1,<br>Áî±‰∫éÊï∞ÁªÑÊòØ‰ªé0ÂºÄÂßãÁöÑÔºåÊâÄ‰ª•Êï∞ÁªÑÁöÑÊúÄÂ§ßÈïøÂ∫¶ÂèØ‰ª•‰Ωø„Äê0~2^31„ÄëÈÄöËøáËÆ°ÁÆóÊòØÂ§ßÊ¶Ç4GB„ÄÇ</li><li>ÁºñËØëÊó∂ÊúüÈôêÂà∂<br>ÈÄöËøáÁøªÈòÖjavaËôöÊãüÊú∫ÊâãÂÜåÂØπclassÊñá‰ª∂Ê†ºÂºèÁöÑÂÆö‰πâ‰ª•ÂèäÂ∏∏ÈáèÊ±†‰∏≠ÂØπStringÁ±ªÂûãÁöÑÁªìÊûÑ‰ΩìÂÆö‰πâÊàë‰ª¨ÂèØ‰ª•Áü•ÈÅìÂØπ‰∫éÁ¥¢ÂºïÂÆö‰πâ‰∫Üu2ÔºåÂ∞±ÊòØÊó†Á¨¶Âè∑Âç†2‰∏™Â≠óËäÇÔºå2‰∏™Â≠óËäÇÂèØ‰ª•Ë°®Á§∫ÁöÑÊúÄÂ§ßËåÉÂõ¥ÊòØ2^16 -1 = 65535„ÄÇ‰ΩÜÊòØÁî±‰∫éJVMÈúÄË¶Å1‰∏™Â≠óËäÇË°®Á§∫ÁªìÊùüÊåá‰ª§ÔºåÊâÄ‰ª•Ëøô‰∏™ËåÉÂõ¥Â∞±‰∏∫65534‰∫Ü„ÄÇË∂ÖÂá∫Ëøô‰∏™ËåÉÂõ¥Âú®ÁºñËØëÊó∂ÊúüÊòØ‰ºöÊä•Èîô„ÄÇ<br>ÂéüÊù•ÊòØ‰∏∫‰∫ÜÂº•Ë°•Êó©ÊúüËÆæËÆ°Êó∂ÁöÑ‰∏Ä‰∏™bugÔºå‚ÄúÈïøÂ∫¶ÂàöÂ•Ω65535‰∏™Â≠óËäÇÔºå‰∏î‰ª•1‰∏™Â≠óËäÇÈïøÂ∫¶ÁöÑÊåá‰ª§ÁªìÊùüÔºåËøôÊù°Êåá‰ª§‰∏çËÉΩË¢´ÂºÇÂ∏∏Â§ÑÁêÜÂô®Â§ÑÁêÜ‚ÄùÔºåÂõ†Ê≠§Â∞±Â∞ÜÊï∞ÁªÑÁöÑÊúÄÂ§ßÈïøÂ∫¶ÈôêÂà∂Âà∞‰∫Ü65534‰∫Ü„ÄÇË∑üÁ®ãÂ∫èËÆ°Êï∞Âô®ÊúâÂÖ≥</li></ol></li></ul><p>ËøêË°åÊó∂ÊãºÊé•ÊàñËÄÖËµãÂÄºÁöÑËØùËåÉÂõ¥ÊòØÂú®Êï¥ÂΩ¢ÁöÑÊúÄÂ§ßËåÉÂõ¥„ÄÇ<br><a href="https://blog.csdn.net/rd_w_csdn/article/details/110387250" target="_blank" rel="noopener">https://blog.csdn.net/rd_w_csdn/article/details/110387250</a></p><p><del>ÈîôËØØÂõûÁ≠îÔºö</del><br><del>CONSTANT_Utf8_info ‰∏≠Êúâ u2 length; Ë°®Êòé‰∫ÜËØ•Á±ªÂûãÂ≠òÂÇ®Êï∞ÊçÆÁöÑÈïøÂ∫¶„ÄÇ u2 ÊòØÊó†Á¨¶Âè∑ÁöÑ 16 ‰ΩçÊï¥Êï∞ÔºåÂõ†Ê≠§ÁêÜËÆ∫‰∏äÂÖÅËÆ∏ÁöÑÁöÑÊúÄÂ§ßÈïøÂ∫¶ÊòØ 2^16=65536„ÄÇËÄå java class Êñá‰ª∂ÊòØ‰ΩøÁî®‰∏ÄÁßçÂèò‰Ωì UTF-8 Ê†ºÂºèÊù•Â≠òÊîæÂ≠óÁ¨¶ÁöÑÔºånull ÂÄº‰ΩøÁî®‰∏§‰∏™ Â≠óËäÇÊù•Ë°®Á§∫ÔºåÂõ†Ê≠§Âè™Ââ©‰∏ã 65536Ôºç 2 Ôºù 65534 ‰∏™Â≠óËäÇ„ÄÇ</del></p><p><code>Modified UTF-8</code>  UTF-8 Áº©Áï•ÁºñÁ†ÅÊòØÊîπËøõÁâàÁöÑ<code>UTF-8</code>ÁºñÁ†ÅÔºåÂÆÉÂíåÊ†áÂáÜÁöÑUTF-8ÁºñÁ†ÅÊúâ‰∏ãÈù¢‰∏âÁÇπÂå∫Âà´Ôºö</p><ol><li><code>null</code>Á©∫Â≠óÁ¨¶ÁöÑÁºñÁ†Å‰ªé‰∏Ä‰∏™Â≠óËäÇÁöÑ<code>&#39;\u0000&#39;</code>ÊîπÂèò‰∏∫2‰∏™Â≠óËäÇÁöÑÂΩ¢ÂºèÔºåÂç≥11000000 10000000ÔºåÂõ†Ê≠§Âú®Â≠óÁ¨¶‰∏≤ÁöÑÁºñÁ†Å‰∏≠‰∏ç‰ºöÂá∫Áé∞ÂµåÂÖ•ÁöÑnullÂ≠óÁ¨¶Ôºõ</li><li>Âè™‰ΩøÁî®1~3‰∏™Â≠óËäÇÁöÑÊ†ºÂºèÔºõÔºàÂç≥ËåÉÂõ¥Áî±\u0000-\uffffÔºâ</li><li>ËæÖÂä©Â≠óÁ¨¶‰ª•‰ª£ÁêÜÂØπÁöÑÂΩ¢ÂºèË°®Á§∫„ÄÇ <strong>Ë°•ÂÖÖÂ≠óÁ¨¶ÈÄöÂ∏∏ÊåáÂ§ß‰∫éu+ffffËÄåÂ∞è‰∫éÁ≠â‰∫éu+10ffffËåÉÂõ¥ÂÜÖÁöÑÂ≠óÁ¨¶</strong></li></ol><ul><li>QÂ∏∏ÈáèÊ±†ËÆ°Êï∞Âô®‰ªé0ËøòÊòØ1ÂºÄÂßãÔºü<br>A: ‰ªé1ÂºÄÂßãÔºå0Á¥¢ÂºïÁïôÁªôÊó†Ê≥ïÊåáÂêëÁöÑ‰∏úË•øÔºåÂç≥Ê≤°ÊúâÁà∂Á±ªÔºåÊ≤°ÊúâÁ±ªÂêçÁöÑÔºåÊØîÂ¶ÇÂåøÂêçÂÜÖÈÉ®Á±ªÔºåObjectÁ±ª</li></ul><figure class="image-box">                <img src="image_20220116204409.png" alt title class>                <p></p>            </figure><ul><li><h3 id="2Â≠óËäÇÁöÑËÆøÈóÆÊ†áÂøóÔºö"><a href="#2Â≠óËäÇÁöÑËÆøÈóÆÊ†áÂøóÔºö" class="headerlink" title="2Â≠óËäÇÁöÑËÆøÈóÆÊ†áÂøóÔºö"></a>2Â≠óËäÇÁöÑËÆøÈóÆÊ†áÂøóÔºö</h3><p>  Ë°®ÊòéËøô‰∏™classÊúâ‰ªÄ‰πà‰øÆÈ•∞Á¨¶ Âè™Êúâ‰∏§‰∏™Â≠óËäÇ</p><figure class="image-box">                <img src="image-20220208024117844.png" alt title class>                <p></p>            </figure></li></ul><p>‰∏æ‰æã: ÂéüÊù•ÊòØ00 20(Áúã‰∏ãË°®‰∏≠ACC_SUPERÊèèËø∞ÔºåÊúÄ‰ΩéÈôêÂ∫¶ÂøÖÈ°ªÊúâÊ≠§Ê†áÂøó)<br>Â¶ÇÊûúÔºöÁ±ªÊòØpublicÁ±ªÂûã-ÁöÑÔºåÂàôÁ¨¨‰∏Ä‰∏™ACC_PUBLIC‰∏∫true ÂàôÂä†‰∏ä00 01 ÔºåÁªìÊûú‰∏∫00 21<br>Â¶ÇÊûúÔºöÁ±ªËøòÊòØ finalÁ±ªÂûã-ÁöÑÔºåÂàôÁ¨¨‰∫å‰∏™‰∏∫trueÔºåÂÜçÂä†‰∏ä00 10 ÔºåÁªìÊûú‰∏∫00 31</p><p>00 21 = 00 20 + 00 01 ( Âä†‰∫Üpublic)<br>Ë°®Á§∫‰∏∫public ÁöÑÁ±ª<br>ËÆæÁΩÆÁöÑÊï∞ÂÄºÂàöÂ•Ω‰∏ç‰ºöÂá∫Áé∞Áõ∏Âä†ÂíåÂÖ∂‰ªñÁä∂ÊÄÅÁõ∏Á≠âÁöÑÊÉÖÂÜµÔºåÂæàÂ∑ßÂ¶ô<br><strong>‰∏ÄÂè•ËØù ËÆøÈóÆÊ†áËØÜÂ∞±ÊòØÂè™Áî®‰∏§‰∏™Â≠óËäÇË°®Á§∫‰∫ÜËøô‰∏™Á±ªÁöÑ‰øÆÈ•∞Á¨¶ÊúâÂì™‰∫õ</strong></p><ul><li><h3 id="Á±ª„ÄÅÁà∂Á±ª-This-class-Super-class"><a href="#Á±ª„ÄÅÁà∂Á±ª-This-class-Super-class" class="headerlink" title="Á±ª„ÄÅÁà∂Á±ª(This class,Super class)"></a>Á±ª„ÄÅÁà∂Á±ª(This class,Super class)</h3><p>Â¶Ç 00 02 Âíå 00 003‰∏§‰∏™Ê†áËØÜÁ¨¶‰πüÈÉΩÊòØ‰∏Ä‰∏™‰∏§Â≠óËäÇÁöÑÂºïÁî®ÔºåÊàë‰ª¨classÊñá‰ª∂‰∏≠ÔºåÂàÜÂà´ÂºïÂêëÂ∏∏ÈáèÊ±†‰∏≠00 02ÁöÑÁ¨¨‰∫å‰∏™Â∏∏ÈáèÈ°πÂíå00 03 Á¨¨‰∏â‰∏™Â∏∏ÈáèÈ°π<br>CONSTANT_Class_info -&gt; CONSTANT_Utf8_info -&gt; ÊâæÂà∞Á±ªÂêç</p><figure class="image-box">                <img src="20200506112335237.png" alt="Âú®ËøôÈáåÊèíÂÖ•ÂõæÁâáÊèèËø∞" title class>                <p>Âú®ËøôÈáåÊèíÂÖ•ÂõæÁâáÊèèËø∞</p>            </figure></li><li><h3 id="Êé•Âè£Á¥¢ÂºïËÆ°Êï∞Âô®"><a href="#Êé•Âè£Á¥¢ÂºïËÆ°Êï∞Âô®" class="headerlink" title="Êé•Âè£Á¥¢ÂºïËÆ°Êï∞Âô®"></a>Êé•Âè£Á¥¢ÂºïËÆ°Êï∞Âô®</h3><p>Á±ªÊñá‰ª∂ÂÆûÁé∞‰∫ÜÊé•Âè£ÁöÑÊï∞ÈáèÔºåÊ≤°ÊúâÂ∞±ÊòØ00 00 ÔºåÊúâ‰∏Ä‰∏™Â∞±ÊòØ 00 01</p></li><li><h3 id="Êé•Âè£Á¥¢ÂºïÈ°π"><a href="#Êé•Âè£Á¥¢ÂºïÈ°π" class="headerlink" title="Êé•Âè£Á¥¢ÂºïÈ°π"></a>Êé•Âè£Á¥¢ÂºïÈ°π</h3><p>ÊåáÂêëÂ∏∏ÈáèÊ±†Á¥¢Âºï<br>CONSTANT_Class_info -&gt; CONSTANT_Utf8_info -&gt; ÊâæÂà∞Êé•Âè£Âêç</p></li></ul><ul><li><h3 id="Â≠óÊÆµË°®ÔºöÂ≠óÊÆµ‰∏™Êï∞ÔºåÂ≠óÊÆµ1ÔºåÂ≠óÊÆµ2„ÄÇ„ÄÇ„ÄÇ„ÄÇ"><a href="#Â≠óÊÆµË°®ÔºöÂ≠óÊÆµ‰∏™Êï∞ÔºåÂ≠óÊÆµ1ÔºåÂ≠óÊÆµ2„ÄÇ„ÄÇ„ÄÇ„ÄÇ" class="headerlink" title="Â≠óÊÆµË°®ÔºöÂ≠óÊÆµ‰∏™Êï∞ÔºåÂ≠óÊÆµ1ÔºåÂ≠óÊÆµ2„ÄÇ„ÄÇ„ÄÇ„ÄÇ"></a>Â≠óÊÆµË°®ÔºöÂ≠óÊÆµ‰∏™Êï∞ÔºåÂ≠óÊÆµ1ÔºåÂ≠óÊÆµ2„ÄÇ„ÄÇ„ÄÇ„ÄÇ</h3><p>Âíå‰∏äÈù¢Â∑Æ‰∏çÂ§ö<br>Â≠óÊÆµË°®ÔºåÊñπÊ≥ïË°®ÔºåclassÁ±ªÈÉΩÊúâËá™Â∑±ÁöÑÂ±ûÊÄßË°®ÔºÅ<br>`<br>‚Äª  Ê≥®ÊÑèÔºöConstantValueÂ±ûÊÄßÔºö</p><p>  final static String = ‚Äúhello‚Äù<br>ÂøÖÈ°ªÊòØString Á±ªÂûãÔºåÂÖ∂ÂÄºÁõ¥Êé•Â≠òÂÇ®Âú®Â≠óÊÆµË°®ÈáåÈù¢ÈôÑÂ∏¶Ëá™Â∑±ÁöÑÂ±ûÊÄßË°®ÁöÑConstantValueÂ±ûÊÄßÊåáÂêëÁöÑÂ∏∏ÈáèÊ±†ÈáåÈù¢ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•Á±ªÊú™Âä†ËΩΩÁõ¥Êé•Áî®ÔºåÊïàÁéáÊèêÂçá<br>`</p></li></ul><blockquote><p>ConstantValueÂ±ûÊÄß<br>Â±ûÊÄßË°®‰∏≠ÁöÑ‰∏Ä‰∏™Â±ûÊÄß<br>ConstantValueÂ±ûÊÄßÁöÑ‰ΩúÁî®ÊòØÈÄöÁü•ËôöÊãüÊú∫Ëá™Âä®‰∏∫ÈùôÊÄÅÂèòÈáèËµãÂÄºÔºåÂè™ÊúâË¢´static‰øÆÈ•∞ÁöÑÂèòÈáèÊâçÂèØ‰ª•‰ΩøÁî®ËøôÈ°πÂ±ûÊÄß„ÄÇÈùûstaticÁ±ªÂûãÁöÑÂèòÈáèÁöÑËµãÂÄºÊòØÂú®ÂÆû‰æãÊûÑÈÄ†Âô®ÊñπÊ≥ï‰∏≠ËøõË°åÁöÑÔºõstaticÁ±ªÂûãÂèòÈáèËµãÂÄºÂàÜ‰∏§ÁßçÔºåÂú®Á±ªÊûÑÈÄ†ÂÖ∂‰∏≠ËµãÂÄºÔºåÊàñ‰ΩøÁî®ConstantValueÂ±ûÊÄßËµãÂÄº„ÄÇ</p><p>Âú®ÂÆûÈôÖÁöÑÁ®ãÂ∫è‰∏≠ÔºåÂè™ÊúâÂêåÊó∂Ë¢´finalÂíåstatic‰øÆÈ•∞ÁöÑÂ≠óÊÆµÊâçÊúâConstantValueÂ±ûÊÄßÔºå‰∏îÈôê‰∫éÂü∫Êú¨Á±ªÂûãÂíåString„ÄÇÁºñËØëÊó∂JavacÂ∞Ü‰ºö‰∏∫ËØ•Â∏∏ÈáèÁîüÊàêConstantValueÂ±ûÊÄßÔºåÂú®Á±ªÂä†ËΩΩÁöÑÂáÜÂ§áÈò∂ÊÆµËôöÊãüÊú∫‰æø‰ºöÊ†πÊçÆConstantValue‰∏∫Â∏∏ÈáèËÆæÁΩÆÁõ∏Â∫îÁöÑÂÄºÔºåÂ¶ÇÊûúËØ•ÂèòÈáèÊ≤°ÊúâË¢´final‰øÆÈ•∞ÔºåÊàñËÄÖÂπ∂ÈùûÂü∫Êú¨Á±ªÂûãÂèäÂ≠óÁ¨¶‰∏≤ÔºåÂàôÈÄâÊã©Âú®Á±ªÊûÑÈÄ†Âô®‰∏≠ËøõË°åÂàùÂßãÂåñ„ÄÇ</p><p>‰∏∫‰ªÄ‰πàConstantValueÁöÑÂ±ûÊÄßÂÄºÂè™Èôê‰∫éÂü∫Êú¨Á±ªÂûãÂíåstringÔºü</p><p>Âõ†‰∏∫‰ªéÂ∏∏ÈáèÊ±†‰∏≠Âè™ËÉΩÂºïÁî®Âà∞Âü∫Êú¨Á±ªÂûãÂíåStringÁ±ªÂûãÁöÑÂ≠óÈù¢Èáè</p><p>final„ÄÅstatic„ÄÅstatic final‰øÆÈ•∞ÁöÑÂ≠óÊÆµËµãÂÄºÁöÑÂå∫Âà´</p><p>static‰øÆÈ•∞ÁöÑÂ≠óÊÆµÂú®Âä†ËΩΩËøáÁ®ã‰∏≠ÂáÜÂ§áÈò∂ÊÆµË¢´ÂàùÂßãÂåñÔºå‰ΩÜÊòØËøô‰∏™Èò∂ÊÆµÂè™‰ºöËµãÂÄº‰∏Ä‰∏™ÈªòËÆ§ÁöÑÂÄºÔºà0ÊàñËÄÖnullËÄåÂπ∂ÈùûÂÆö‰πâÂèòÈáèËÆæÁΩÆÁöÑÂÄºÔºâÂàùÂßãÂåñÈò∂ÊÆµÂú®Á±ªÊûÑÈÄ†Âô®‰∏≠Êâç‰ºöËµãÂÄº‰∏∫ÂèòÈáèÂÆö‰πâÁöÑÂÄº„ÄÇ</p><p>final‰øÆÈ•∞ÁöÑÂ≠óÊÆµÂú®ËøêË°åÊó∂Ë¢´ÂàùÂßãÂåñÔºåÂèØ‰ª•Áõ¥Êé•ËµãÂÄºÔºå‰πüÂèØ‰ª•Âú®ÂÆû‰æãÊûÑÈÄ†Âô®‰∏≠ËµãÂÄºÔºåËµãÂÄºÂêé‰∏çÂèØ‰øÆÊîπ„ÄÇ</p><p>static<br>final‰øÆÈ•∞ÁöÑÂ≠óÊÆµÂú®javacÁºñËØëÊó∂ÁîüÊàêcomstantValueÂ±ûÊÄßÔºåÂú®Á±ªÂä†ËΩΩÁöÑÂáÜÂ§áÈò∂ÊÆµÁõ¥Êé•ÊääconstantValueÁöÑÂÄºËµãÁªôËØ•Â≠óÊÆµ„ÄÇ</p><p>ÂèØ‰ª•ÁêÜËß£‰∏∫Âú®ÁºñËØëÊúüÂç≥ÊääÁªìÊûúÊîæÂÖ•‰∫ÜÂ∏∏ÈáèÊ±†‰∏≠„ÄÇ</p></blockquote><figure class="image-box">                <img src="image_20220118180056.png?v=1&type=image&token=V1:CPihlXhsDyMBxTiSaP4vHqG9vSKcCYlTGlI4SJLB2Os" alt title class>                <p></p>            </figure><p><strong>ÂàÜÊûêÁ¨¨‰∏Ä‰∏™ access_flags</strong><br>‚Äî-ÂÖ∂ÂÆûË∑ü‰πãÂâçÊàë‰ª¨ËÆ≤ËÆøÈóÆÊ†áËØÜÁöÑÊó∂ÂÄô‰∏ÄÊ†∑Ôºå‰∏ç‰∏ÄÊ†∑ÁöÑÊòØËøôÊ¨°ÁöÑËÆøÈóÆÊ†áÂøó‰øÆÈ•∞Á¨¶ÊòØ‰øÆÈ•∞Â≠óÊÆµÁöÑ<br>ÊâÄ‰ª•Âú®Ê†áÂøóÂêçÁß∞‰∏äÊúâ‰∫õ‰∏çÂêå<br><img src="image-20220208024515966.png" alt="Âú®ËøôÈáåÊèíÂÖ•ÂõæÁâáÊèèËø∞"></p><p>ËøôÈáåÂä†‰∏ÄÂº†ÂõæÁî®Âè¶‰∏ÄÁßçÊñπÂºèË°®Á§∫Êàë‰ª¨ÁöÑ‰øÆÈ•∞Á¨¶<br><figure class="image-box">                <img src="image-20220208024418503.png" alt="Âú®ËøôÈáåÊèíÂÖ•ÂõæÁâáÊèèËø∞" title class>                <p>Âú®ËøôÈáåÊèíÂÖ•ÂõæÁâáÊèèËø∞</p>            </figure></p><p><strong>ÂàÜÊûêÁ¨¨Âõõ‰∏™ attributes_count</strong><br>Ë°®Á§∫Ëøô‰∏™Â≠óÊÆµÊâÄÊã•ÊúâÁöÑattributeÁ±ªÂûãÁöÑ‰∏™Êï∞ÔºåÂ¶ÇÊûúÊòØ00 01 Â∞±Ë°®Á§∫‰∏Ä‰∏™<br><strong>ÂàÜÊûêÁ¨¨‰∫î‰∏™ attributes[attributes_count]</strong><br>Â∞±ÊòØ‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫ attributes_countÔºåÁ±ªÂûãÊòØÔºöÂ±ûÊÄßÁ±ªÂûãÁöÑÊï∞ÁªÑ<br>Ëøô‰∏™Á±ªÂûãÊàë‰ª¨ÊöÇÊó∂‰∏çÂàÜÊûêÔºåÂà∞ÂêéÈù¢ËÆ≤Âà∞ Â±ûÊÄß Êó∂‰∏ÄËµ∑ËÆ≤</p><p><strong>‰∏ÄÂè•ËØùÊÄªÁªì<br>Â∞±ÊòØ‰∏Ä‰∏™Ë£ÖÊúâÊàë‰ª¨ÂÆö‰πâÁöÑÊâÄÊúâÂ±ûÊÄßÁöÑÊï∞ÁªÑÔºåÈïøÂ∫¶‰∏∫Â≠óÊÆµ‰∏™Êï∞ÔºåÈáåÈù¢ÁöÑÊØè‰∏Ä‰∏™Ë°®‰ø°ÊÅØÈÉΩË°®Á§∫‰∏Ä‰∏™Â≠óÊÆµ</strong></p><ul><li><h3 id="ÊñπÊ≥ïË°®Ôºö-ÊñπÊ≥ï‰∏™Êï∞ÔºåÊñπÊ≥ï1ÔºåÊñπÊ≥ï2„ÄÇ„ÄÇ„ÄÇ„ÄÇ"><a href="#ÊñπÊ≥ïË°®Ôºö-ÊñπÊ≥ï‰∏™Êï∞ÔºåÊñπÊ≥ï1ÔºåÊñπÊ≥ï2„ÄÇ„ÄÇ„ÄÇ„ÄÇ" class="headerlink" title="ÊñπÊ≥ïË°®Ôºö ÊñπÊ≥ï‰∏™Êï∞ÔºåÊñπÊ≥ï1ÔºåÊñπÊ≥ï2„ÄÇ„ÄÇ„ÄÇ„ÄÇ"></a>ÊñπÊ≥ïË°®Ôºö ÊñπÊ≥ï‰∏™Êï∞ÔºåÊñπÊ≥ï1ÔºåÊñπÊ≥ï2„ÄÇ„ÄÇ„ÄÇ„ÄÇ</h3></li><li>Â≠óÊÆµË°®ÔºåÊñπÊ≥ïË°®ÔºåclassÁ±ªÈÉΩÊúâËá™Â∑±ÁöÑÂ±ûÊÄßË°®ÔºÅ<figure class="image-box">                <img src="image_20220118182212.png?v=1&type=image&token=V1:I_meGZXidnP-pQ7GadHjyGZ5OJv_1gQzErPxNEyHeg0" alt title class>                <p></p>            </figure>access_flagsÁöÑ‰øÆÈ•∞Á±ªÂûã<figure class="image-box">                <img src="image-20220208024616971-16442595798677.png" alt title class>                <p></p>            </figure></li></ul><p>‚Äª‚Äª  ÊñπÊ≥ïÁöÑ‰ª£Á†ÅÂ≠òÂÇ®Âú®Ôºö ÊñπÊ≥ïË°®ÈáåÈù¢ÈôÑÂ∏¶Ëá™Â∑±ÁöÑÂ±ûÊÄßË°®ÁöÑCODEÂ±ûÊÄßÈáåÈù¢„ÄÇ<br><a href="https://blog.csdn.net/weixin_29732737/article/details/113051809" target="_blank" rel="noopener">https://blog.csdn.net/weixin_29732737/article/details/113051809</a><br> <strong>max_stack</strong><br>Êìç‰ΩúÊï∞Ê†àÁöÑÊúÄÂ§ßÊ∑±Â∫¶ÔºåËØ¥ÊòéÊñπÊ≥ïÂú®ÁºñËØëÊääÊñπÊ≥ïÁöÑÊ†àÊ∑±Â∫¶Â∑≤ÁªèÂÆöÂ•Ω‰∫Ü„ÄÇËôöÊãüÊú∫ËøêË°åÁöÑÊó∂ÂÄôÈúÄË¶ÅÊ†πÊçÆËøô‰∏™ÂÄºÊù•ÂàÜÈÖçÊ†àÂ∏ß‰∏≠ÁöÑÊìç‰ΩúÊ†àÊ∑±Â∫¶„ÄÇ<br><strong>max_locals</strong><br>Â±ÄÈÉ®ÂèòÈáèË°®ÊâÄÈúÄË¶ÅÁöÑÁ©∫Èó¥ÔºåÈïøÂ∫¶‰∏çËÉΩÂèò<br>Âçï‰ΩçÊòØSlotÔºåint„ÄÅbyteÂíåreturnAddress‰∏çË∂ÖËøá32‰ΩçÁöÑÊï∞ÊçÆÁ±ªÂûãÈááÁî®1‰∏™SlotÊù•Â≠òÂÇ®Ôºõ<br>doubleÂíålongÁ≠â64‰ΩçÁöÑÊï∞ÊçÆÁ±ªÂûãÈááÁî®‰∏§‰∏™SlotÂ≠òÂÇ®<br><strong>ÂÖ∂‰ªñÔºàÂåÖÊã¨ÂºÇÂ∏∏‰ø°ÊÅØÔºâ</strong><br>code_lengthÂ≠òÂÇ®‰∫ÜÊñπÊ≥ï‰Ωì‰∏≠ÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§ÁöÑÈïøÂ∫¶<br>codeÂ∞±Â≠òÂÇ®‰∫ÜÂÖ∑‰ΩìÁöÑÂ≠óËäÇÁ†ÅÊåá‰ª§<br>exception_table_length<br>ÊòæÁ§∫ÂºÇÂ∏∏(ÂèóÊ£ÄÊü•ÁöÑÂºÇÂ∏∏)‰∏≠ÁöÑ‰∏™Êï∞(try-cacatch‰∏≠ÁöÑÂºÇÂ∏∏)<br>exception_info<br>ËøôÊòØÂèóÊ£ÄÊü•ÂºÇÂ∏∏ÁöÑÂÖ∑‰Ωì‰ø°ÊÅØ</p><ul><li><h3 id="Â±ûÊÄßË°®Ôºö-Â±ûÊÄß‰∏™Êï∞ÔºåÂ±ûÊÄß1ÔºåÂ±ûÊÄß2„ÄÇ„ÄÇ„ÄÇ„ÄÇ"><a href="#Â±ûÊÄßË°®Ôºö-Â±ûÊÄß‰∏™Êï∞ÔºåÂ±ûÊÄß1ÔºåÂ±ûÊÄß2„ÄÇ„ÄÇ„ÄÇ„ÄÇ" class="headerlink" title="Â±ûÊÄßË°®Ôºö Â±ûÊÄß‰∏™Êï∞ÔºåÂ±ûÊÄß1ÔºåÂ±ûÊÄß2„ÄÇ„ÄÇ„ÄÇ„ÄÇ"></a>Â±ûÊÄßË°®Ôºö Â±ûÊÄß‰∏™Êï∞ÔºåÂ±ûÊÄß1ÔºåÂ±ûÊÄß2„ÄÇ„ÄÇ„ÄÇ„ÄÇ</h3>‰∏äÈù¢ÊâÄËØ¥ÁöÑ<strong>Â≠óÊÆµ</strong>Âíå<strong>ÊñπÊ≥ï</strong>ÁöÑÊúÄÂêéÈÉΩÊúâ‰∏ÄÈ°πÔºö<strong>Â±ûÊÄßÈ°πÊï∞ÁªÑ</strong>ÔºåÈáåÈù¢Ë£ÖÁöÑÂ∞±ÊòØËøô‰∏™Á±ªÂûã‰∫Ü,ÊØîÂ¶ÇConstantValueÂíåCode<br>ÂÖ∂ÂÆûclassÊñá‰ª∂ËøòÊúâ‰∏Ä‰∏™Â±ûÊÄßË°®ÔºåÂ∞±ÊòØ‰∏äÈù¢ÈÇ£Âº†ÂõæÊ≤°ÊúâË¶ÜÁõñÊéâÁöÑÊúÄÂêé‰∏ÄÈÉ®ÂàÜ<br>Âú®ClassÊñá‰ª∂„ÄÅÂ≠óÊÆµË°®„ÄÅÊñπÊ≥ïË°®ÈÉΩÂèØ‰ª•Êê∫Â∏¶Ëá™Â∑±ÁöÑÂ±ûÊÄßË°®ÈõÜÂêàÔºÅÔºÅÔºÅ<br>Â±ûÊÄßË°®‰∏≠‰∏çË¶ÅÊ±ÇÂêÑ‰∏™Â±ûÊÄßË°®ÂÖ∑Êúâ‰∏•Ê†ºÁöÑÈ°∫Â∫èÔºåÂè™Ë¶Å‰∏ç‰∏éÂ∑≤ÊúâÂ±ûÊÄßÈáçÂêçÂç≥ÂèØ</li></ul><h1 id="2-JVM-Á±ªÂä†ËΩΩÁöÑÊï¥‰ΩìÊµÅÁ®ã"><a href="#2-JVM-Á±ªÂä†ËΩΩÁöÑÊï¥‰ΩìÊµÅÁ®ã" class="headerlink" title="2. JVM Á±ªÂä†ËΩΩÁöÑÊï¥‰ΩìÊµÅÁ®ã"></a>2. JVM Á±ªÂä†ËΩΩÁöÑÊï¥‰ΩìÊµÅÁ®ã</h1><p> ÊôÆÈÄöÂõûÁ≠îÔºàËøá‰∫éÁªùÂØπÔºâÔºö<br> Âä†ËΩΩÔºåËøûÊé•ÔºåÂàùÂßãÂåñ<br> ËøûÊé•ÂèàÂàÜ‰∏∫È™åËØÅÔºåÂáÜÂ§áÔºåËß£Êûê</p><p>‚Äª ‰ªéÁªÜËäÇÂõûÁ≠îÔºö<br>ÁúüÊ≠£ÊòØÂàÜ‰∏∫7Âà∞8Ê≠•</p><ol><li>Âä†ËΩΩ<br> ÈùôÊÄÅÂä†ËΩΩÔºåjavaÁºñËØë‰∏∫classÊñá‰ª∂‰∫åËøõÂà∂Â≠óËäÇÊµÅÔºåËé∑ÂæóÁöÑÊòØclassÊñá‰ª∂‰∫åËøõÂà∂Â≠óËäÇÊµÅ</li><li>È™åËØÅ<br> ËøõÂÖ•ËøûÊé•Èò∂ÊÆµÁöÑÈ™åËØÅÔºö<br>Á¨¨‰∏ÄÊ≠•ÔºåÊñá‰ª∂Ê†ºÂºèÈ™åËØÅÔºö È≠îÊï∞Âíå‰∏ªÊ¨°ÁâàÊú¨Âè∑</li><li>Âä†ËΩΩ<br> È™åËØÅÊàêÂäüÂêéÔºåÊääclassÊñá‰ª∂‰∫åËøõÂà∂Â≠óËäÇÊµÅ Âä†ËΩΩÂà∞ ÊñπÊ≥ïÂå∫<br>  ‰ΩúÁî®Ôºö ÁªìÊûÑË∞ÉÊï¥ÔºåÊääÈùôÊÄÅÂ≠òÂÇ®Êñá‰ª∂ËΩ¨Êç¢‰∏∫ËøêË°åÊó∂Êï∞ÊçÆÁªìÊûÑ<br> ÔºàÊÄùËÄÉÔºö classÂ∏∏ÈáèÊ±†ÂíåÊñπÊ≥ïÂå∫ÁöÑËøêË°åÊó∂Â∏∏ÈáèÊ±†ÁöÑÂå∫Âà´ÂíåËÅîÁ≥ªÔºâ</li><li>Âä†ËΩΩ<br> Â†ÜÂÜÖÂ≠òÁîüÊàêÂΩìÂâçÁ±ªclassÂØπË±° ‰Ωú‰∏∫ÊñπÊ≥ïÂå∫‰∏≠Ëøô‰∏™Á±ªÁöÑÂêÑÁßçËÆøÈóÆÂÖ•Âè£ÔºåÊØîÂ¶ÇÔºöObjectÁ±ªÔºåjava.lang.Object ‰∏ÄÂÆöÂÖàÂä†ËΩΩÔºåÊîæÂÖ•Â†ÜÔºåÊèê‰æõÁªôÂÖ∂‰ªñÁ±ªËÆøÈóÆ</li><li>È™åËØÅ<br> Ë∑≥Âà∞ËøûÊé•Èò∂ÊÆµÁöÑÈ™åËØÅÔºö<br>Á¨¨‰∫åÊ≠•ÔºåÂÖÉÊï∞ÊçÆÈ™åËØÅÔºåÂ≠óËäÇÁ†ÅÊèèËø∞ÁöÑ‰ø°ÊÅØËøõË°åËØ≠‰πâÂàÜÊûê</li><li>È™åËØÅ<br> Ë∑≥Âà∞ËøûÊé•Èò∂ÊÆµÁöÑÈ™åËØÅÔºö<br>Á¨¨‰∏âÊ≠•ÔºåÂ≠óËäÇÁ†ÅÈ™åËØÅÔºåÈÄöËøáÊï∞ÊçÆÊµÅÂíåÊéßÂà∂ÊµÅÂàÜÊûê<br> <a href="https://blog.csdn.net/weixin_38608626/article/details/88173916" target="_blank" rel="noopener">https://blog.csdn.net/weixin_38608626/article/details/88173916</a></li><li>ÂáÜÂ§á<br> 0ÂÄºÁöÑÂàùÂßãËΩ¨ÂåñÔºåÂê´‰∫ÜÁªôËøô‰∏™Á±ªÁöÑÈùôÊÄÅÂèòÈáèstaticÂíåÂÖ∂‰ªñÊï∞ÊçÆÂàÜÈÖçÂÜÖÂ≠òÁ©∫Èó¥Ôºà<strong>‰ªÖ‰ªÖÊòØÂàÜÈÖçÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂÖ∑‰ΩìÂàùÂßãÂåñÂú®ÊúÄÂêé‰∏ÄÊ≠•</strong>Ôºâ„ÄÇ<br> static int a=123;  Ëøô‰∏ÄÈò∂ÊÆµa‰ºöÂèòÊàê0</li><li>ÂàùÂßãÂåñ<br> ÔºàËß£ÊûêÔºö Á¨¨ÂõõÊ≠•ÔºåÁ¨¶Âè∑È™åËØÅÔºåÂ∏∏ÈáèÊ±†ÂÜÖÁ¨¶Âè∑ÂºïÁî®ËΩ¨Áõ¥Êé•ÂºïÁî®ÔºåÁ°ÆÂÆöËß£Êûê‰∏ÄÂÆöÂàùÂßãÂåñ‰πãÂâçÔºå‰∏çÁ°ÆÂÆöÂú®‰ΩïÊó∂Ôºâ„ÄêÁõ¥Êé•ÂºïÁî®‰∏éËôöÊãüÊú∫ÊúâÂÖ≥Ôºå‰∏çÂêåÁöÑËôöÊãüÊú∫ÁøªËØëÂá∫Êù•‰∏ÄËà¨‰∏ç‰ºöÁõ∏Âêå„Äë<br> JVMÁî®ËµãÂÄºÊàñËÄÖÁº∫ÁúÅÂÄºÂ∞ÜÈùôÊÄÅÂèòÈáèËøõË°åÂàùÂßãÂåñÔºåÂπ∂ÊâßË°åÈùôÊÄÅÂàùÂßãÂåñÁ®ãÂ∫èÔºàstaticÂùó‰∏≠ÁöÑ‰ª£Á†ÅÔºâÔºåÂàùÂßãÂåñÂèëÁîüÂú®ÊâßË°åmainÊñπÊ≥ï‰πãÂâçÔºå‰ΩÜÂú®ÊåáÂÆöÁöÑÁ±ªÂàùÂßãÂåñ‰πãÂâç‰ªñÁöÑÁà∂Á±ªÂøÖÈ°ªÂÖàÂàùÂßãÂåñÔºåËã•ÂÖ∂Áà∂Á±ª‰ªçÁÑ∂Â≠òÂú®Áà∂Á±ªÔºåÈÇ£‰πüÈúÄÈÄíÂΩíÁöÑÂàùÂßãÂåñ„ÄÇ</li></ol><p>ÁúüÊ≠£ÊâßË°åjava‰ª£Á†ÅÔºå‰ºöË∞ÉÁî®<code>&lt;clinit&gt;()</code>ÊñπÊ≥ï Ôºö<br><code>Âú®ÁºñËØëÁîüÊàêclassÊñá‰ª∂Êó∂,‰ºöËá™Âä®‰∫ßÁîü‰∏§‰∏™ÊñπÊ≥ï,‰∏Ä‰∏™ÊòØÁ±ªÁöÑÂàùÂßãÂåñÊñπÊ≥ï&lt;clinit&gt;, Âè¶‰∏Ä‰∏™ÊòØÂÆû‰æãÁöÑÂàùÂßãÂåñÊñπÊ≥ï&lt;init&gt;„ÄÇ</code><br>Âè™ÊúâË¢´static‰øÆÈ•∞Âπ∂‰∏îËµãÂÄºÁöÑÈùôÊÄÅÂ±ûÊÄßÊâç‰ºö‰∫ßÁîü<code>&lt;clinit&gt;()</code>ÊñπÊ≥ïÔºå‰∏çÁÆ°ÊòØÁõ¥Êé•ËµãÂÄºËøòÊòØÂú®ÈùôÊÄÅÂùó‰∏≠ËµãÂÄºÔºåÊúÄÂêéÈÉΩ‰ºöË¢´ÂêàÂπ∂Êàê‰∏Ä‰∏™<code>&lt;clinit&gt;()</code>ÊñπÊ≥ïÔºåÂπ∂ÊåâÁÖß‰ª£Á†Å‰∏≠ÁöÑÈ°∫Â∫è‰æùÊ¨°ËµãÂÄº„ÄÇ</p><ul><li>Âú®ÂàùÂßãÂåñ‰∏Ä‰∏™Á±ªÊó∂ÔºåÂπ∂‰∏ç‰ºöÂÖàÂàùÂßãÂåñÂÆÉÊâÄÂÆûÁé∞ÁöÑÊé•Âè£„ÄÇ</li><li>Âú®ÂàùÂßãÂåñ‰∏Ä‰∏™Êé•Âè£Êó∂ÔºåÂπ∂‰∏ç‰ºöÂÖàÂàùÂßãÂåñÂÆÉÁöÑÁà∂Êé•Âè£„ÄÇ</li></ul><h3 id="ÔºàÈù¢ËØïÈ¢òÔºâ-‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÁ´ãÂç≥ÂØπÁ±ªÂàùÂßãÂåñÔºü"><a href="#ÔºàÈù¢ËØïÈ¢òÔºâ-‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÁ´ãÂç≥ÂØπÁ±ªÂàùÂßãÂåñÔºü" class="headerlink" title="ÔºàÈù¢ËØïÈ¢òÔºâ ‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÁ´ãÂç≥ÂØπÁ±ªÂàùÂßãÂåñÔºü"></a>ÔºàÈù¢ËØïÈ¢òÔºâ ‰ªÄ‰πàÊÉÖÂÜµ‰∏ãÁ´ãÂç≥ÂØπÁ±ªÂàùÂßãÂåñÔºü</h3><p>1 ÈÅáÂà∞ÂõõÊù°Â≠óËäÇÁ†ÅÊåá‰ª§‰ºöÁ´ãÂç≥ÂàùÂßãÂåñÔºö</p><ul><li>ÂàõÂª∫ÊôÆÈÄöÂØπË±°ÁöÑÊåá‰ª§Ôºönew</li><li>ËÆøÈóÆÁ±ªÂ≠óÊÆµÔºàstatic Â≠óÊÆµÔºåÊàñËÄÖÁß∞‰∏∫Á±ªÂèòÈáèÔºâÁöÑÊåá‰ª§Ôºögetstatic, putstatic</li><li>invokestatic Êåá‰ª§ÔºöÁî®‰∫éË∞ÉÁî®Á±ªÊñπÊ≥ï(staticÊñπÊ≥ï)„ÄÇ<br>ÔºànewÂºïÁî®Á±ª‰ºöÁ´ãÂç≥ÂàùÂßãÂåñÔºå newÊï∞ÁªÑ‰∏ç‰ºöÂàùÂßãÂåñÔºö ÂéüÂõ†ÔºöÂàõÂª∫Êï∞ÁªÑÂæóÂà∞Êåá‰ª§Ôºönewarray , anewarray , multianewarrayÔºå‰∏çÊòØnewÊåá‰ª§Ôºâ</li></ul><p>2 ÂèçÂ∞ÑÁõ¥Êé•ÂàùÂßãÂåñ<br>3 Áà∂Á±ªÊú™ÂàùÂßãÂåñÂÖàÂàùÂßãÂåñ<br>4 ÊúâmainÂáΩÊï∞<br>5 java.lang.invoke.MethodHandle ÂÆû‰æãÊúÄÂêéËß£ÊûêÁªìÊûÑÁªìÊûú‰∏∫REF_getStatic„ÄÅREF_putStatic„ÄÅREF_invokeStaticÁöÑÊñπÊ≥ïÂè•ÊüÑÔºåÂπ∂‰∏îËøô‰∏™ÊñπÊ≥ïÂè•ÊüÑÂØπÂ∫îÁ±ªÊ≤°ÊúâÂàùÂßãÂåñÊó∂ÔºåÂøÖÈ°ªËß¶ÂèëÂÖ∂ÂàùÂßãÂåñ„ÄÇ<br>6 jdk1.8 Êé•Âè£default ÊñπÊ≥ï</p><p>ÂºïÁî≥Áü•ËØÜÔºö</p><ul><li><p>Âä†ËΩΩÔºö<br>  Âèå‰∫≤ÂßîÊ¥æÊ®°ÂûãÔºö<br>  1ÂêØÂä®Á±ªÂä†ËΩΩÂô®ÔºàlibÁõÆÂΩïÔºåÊ†πÂä†ËΩΩÂô®ÔºâÔºå<br>  2ÊãìÂ±ïÁ±ªÂä†ËΩΩÂô®Ôºàlib-&gt;extÁõÆÂΩïÔºâÔºå<br>  3Á≥ªÁªüÁ±ªÂä†ËΩΩÂô®<br>(ÂèàÂè´Â∫îÁî®Á®ãÂ∫èÂä†ËΩΩÂô®ÔºåÂä†ËΩΩÁî®Êà∑Á±ªË∑ØÂæÑÔºàclasspathÔºâ‰∏äÁöÑÊåáÂÆöÁ±ªÂ∫ìÔºåÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Ëøô‰∏™Á±ªÂä†ËΩΩÂô®„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµÔºåÂ¶ÇÊûúÊàë‰ª¨Ê≤°ÊúâËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®ÈªòËÆ§Â∞±ÊòØÁî®Ëøô‰∏™Âä†ËΩΩÂô®)<br> 4ÂΩìÁÑ∂ÔºåÂèØ‰ª•ÈÄöËøáÁªßÊâøClassloaderÂÆûÁé∞Ëá™ÂÆö‰πâÂä†ËΩΩÂô®<br> Â¶ÇÊûú‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®Êî∂Âà∞Á±ªÂä†ËΩΩÁöÑËØ∑Ê±ÇÔºåÂÆÉÈ¶ñÂÖà‰∏ç‰ºöËá™Â∑±ÂéªÂ∞ùËØïÂä†ËΩΩËøô‰∏™Á±ªÔºåËÄåÊòØÊääËøô‰∏™ËØ∑Ê±ÇÂßîÊ¥æÁªôÁà∂Á±ªÂä†ËΩΩÂô®ÂÆåÊàê„ÄÇÊØè‰∏™Á±ªÂä†ËΩΩÂô®ÈÉΩÊòØÂ¶ÇÊ≠§ÔºåÂè™ÊúâÂΩìÁà∂Âä†ËΩΩÂô®Âú®Ëá™Â∑±ÁöÑÊêúÁ¥¢ËåÉÂõ¥ÂÜÖÊâæ‰∏çÂà∞ÊåáÂÆöÁöÑÁ±ªÊó∂ÔºàÂç≥ClassNotFoundExceptionÔºâÔºåÂ≠êÂä†ËΩΩÂô®Êâç‰ºöÂ∞ùËØïËá™Â∑±ÂéªÂä†ËΩΩ„ÄÇ</p><ul><li><p>ÔºàÈù¢ËØïÔºâ Âèå‰∫≤ÂßîÊ¥æÂ•ΩÂ§ÑÔºü<br>1.È°∫Â∫èÂä†ËΩΩ„ÄÇÁà∂Á±ª‰ºòÂÖàÂä†ËΩΩÔºå<strong>ÈÅøÂÖçÈáçÂ§çÂä†ËΩΩ</strong><br>2.ÂÆâÂÖ®ÊÄßÂíåÂîØ‰∏ÄÊÄß„ÄÇ<strong>ÈÅøÂÖçÊ†∏ÂøÉÁ±ªÁØ°Êîπ</strong></p><p>  Âà©Áî® Ê≤ôÁÆ±ÂÆâÂÖ®Êú∫Âà∂„ÄÇ ÊØîÂ¶ÇÔºöÂä†ËΩΩÂô®ÂèëÁé∞Ëøô‰∏™ÂêçÂ≠óÁöÑÁ±ªÔºåÂèëÁé∞ËØ•Á±ªÂ∑≤Ë¢´Âä†ËΩΩÔºåÂπ∂‰∏ç‰ºöÈáçÊñ∞Âä†ËΩΩÁΩëÁªú‰º†ÈÄíËøáÊù•ÔºàÊàñËá™Â∑±ÂÜôÔºâÁöÑjava.lang.Integer<br>  <code>tipsÔºö instance of ÊòØÊ†πÊçÆÁ±ªÂêçÁß∞+Á±ªÂä†ËΩΩÂô® ÂÆö‰Ωç</code></p></li><li>JVMÂä†ËΩΩÊï∞ÁªÑÔºü<br>Êï∞ÁªÑËøô‰∏™Á±ªÂä†ËΩΩÔºå‰∏çÊòØÁ±ªÂä†ËΩΩÂô®Âä†ËΩΩÔºåÂÖ∂ÂÜÖÂ≠òÂå∫ÂüüÊòØËøêË°å‰∏≠ÂÜÖÂ≠òÂä®ÊÄÅÊûÑÈÄ†ÁöÑ„ÄÇ<br>Á±ªÂûãÁöÑÁ±ªÂú®newÊó∂ÔºåÊâçÁî±Âä†ËΩΩÂô®Âä†ËΩΩ„ÄÇ<br>Â¶Ç‰ΩïÊ†áËÆ∞Âá∫ÂîØ‰∏ÄÊï∞ÁªÑÔºü</li></ul><ol><li>ÂΩìÂºïÁî®Á±ªË¢´Âä†ËΩΩÂô®Âä†ËΩΩÊó∂ÔºåÊï∞ÁªÑÊ†áÂøóÂú®Âä†ËΩΩÂô®ÁöÑ<code>ÂëΩÂêçÁ©∫Èó¥</code>‰∏ä„ÄÇ</li><li>Âü∫Á°ÄÁ±ªÂûãÊï∞ÁªÑÁ±ªÂûãÁõ¥Êé•Ê†áËÆ∞Âú®<code>ÂêØÂä®Á±ªÂä†ËΩΩÂô®</code>ÁöÑ<code>ÂëΩÂêçÁ©∫Èó¥</code>‰∏ä„ÄÇ</li></ol></li></ul><p><strong>ÂëΩÂêçÁ©∫Èó¥</strong><br>    <a href="https://blog.csdn.net/chuifuhuo6864/article/details/100887587" target="_blank" rel="noopener">https://blog.csdn.net/chuifuhuo6864/article/details/100887587</a></p><blockquote><p>Áî±‰∏çÂêåÁöÑÁ±ªË£ÖËΩΩÂô®Ë£ÖËΩΩÁöÑÁ±ªÂ∞ÜË¢´ÊîæÂú®ËôöÊãüÊú∫ÂÜÖÈÉ®ÁöÑ‰∏çÂêåÂëΩÂêçÁ©∫Èó¥„ÄÇÂëΩÂêçÁ©∫Èó¥Áî±‰∏ÄÁ≥ªÂàóÂîØ‰∏ÄÁöÑÂêçÁß∞ÁªÑÊàêÔºåÊØè‰∏Ä‰∏™Ë¢´Ë£ÖËΩΩÁöÑÁ±ªÊúâ‰∏Ä‰∏™ÂêçÂ≠ó„ÄÇJAVAËôöÊãüÊú∫‰∏∫ÊØè‰∏Ä‰∏™Á±ªË£ÖËΩΩÂô®Áª¥Êä§‰∏Ä‰∏™ÂêçÂ≠óÁ©∫Èó¥„ÄÇ‰æãÂ¶ÇÔºå‰∏ÄÊó¶JAVAËôöÊãüÊú∫Â∞Ü‰∏Ä‰∏™Âêç‰∏∫VolcanoÁöÑÁ±ªË£ÖÂÖ•‰∏Ä‰∏™ÁâπÂÆöÁöÑÂëΩÂêçÁ©∫Èó¥ÔºåÂÆÉÂ∞±‰∏çËÉΩÂÜçË£ÖËΩΩÂêç‰∏∫ValcanoÁöÑÂÖ∂‰ªñÁ±ªÂà∞Áõ∏ÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∫Ü„ÄÇÂèØ‰ª•ÊääÂ§ö‰∏™ValcanoÁ±ªË£ÖÂÖ•‰∏Ä‰∏™JAVAËôöÊãüÊú∫‰∏≠ÔºåÂõ†‰∏∫ÂèØ‰ª•ÈÄöËøáÂàõÂª∫Â§ö‰∏™Á±ªË£ÖËΩΩÂô®‰ªéËÄåÂú®‰∏Ä‰∏™JAVAÂ∫îÁî®Á®ãÂ∫è‰∏≠ÂàõÂª∫Â§ö‰∏™ÂëΩÂêçÁ©∫Èó¥„ÄÇ<br><strong>ÂàùÂßãÁ±ªË£ÖËΩΩÂô®/</strong> <strong>ÂÆö‰πâÁ±ªË£ÖËΩΩÂô®</strong></p><p>ÂëΩÂêçÁ©∫Èó¥ÊúâÂä©‰∫éÂÆâÂÖ®ÁöÑÂÆûÁé∞ÔºåÂõ†‰∏∫‰Ω†ÂèØ‰ª•ÊúâÊïàÂú∞Âú®Ë£ÖÂÖ•‰∫Ü‰∏çÂêåÂëΩÂêçÁ©∫Èó¥ÁöÑÁ±ª‰πãÈó¥ËÆæÁΩÆ‰∏Ä‰∏™Èò≤Êä§ÁΩ©„ÄÇÂú®JAVAËôöÊãüÊú∫‰∏≠ÔºåÂú®Âêå‰∏Ä‰∏™ÂëΩÂêçÁ©∫Èó¥ÂÜÖÁöÑÁ±ªÂèØ‰ª•Áõ¥Êé•ËøõË°å‰∫§‰∫íÔºåËÄå‰∏çÂêåÁöÑÂëΩÂêçÁ©∫Èó¥‰∏≠ÁöÑÁ±ªÁîöËá≥‰∏çËÉΩËßâÂØüÂΩºÊ≠§ÁöÑÂ≠òÂú®ÔºåÈô§ÈùûÊòæÁ§∫Âú∞Êèê‰æõ‰∫ÜÂÖÅËÆ∏ÂÆÉ‰ª¨ËøõË°å‰∫§‰∫íÁöÑÊú∫Âà∂ÔºåÂ¶ÇËé∑ÂèñClassÂØπË±°ÁöÑÂºïÁî®Âêé‰ΩøÁî®ÂèçÂ∞ÑÊù•ËÆøÈóÆ„ÄÇ</p><p>Â¶ÇÊûúË¶ÅÊ±ÇÊüê‰∏™Á±ªË£ÖËΩΩÂô®ÂéªË£ÖËΩΩ‰∏Ä‰∏™Á±ªÂûãÔºå‰ΩÜÊòØÂç¥ËøîÂõû‰∫ÜÂÖ∂‰ªñÁ±ªË£ÖËΩΩÂô®Ë£ÖËΩΩÁöÑÁ±ªÂûãÔºåËøôÁßçË£ÖËΩΩÂô®Ë¢´Áß∞‰∏∫ÊòØÈÇ£‰∏™Á±ªÂûãÁöÑ<strong>ÂàùÂßãÁ±ªË£ÖËΩΩÂô®</strong><br>ÔºõËÄåÂÆûÈôÖË£ÖËΩΩÈÇ£‰∏™Á±ªÂûãÁöÑÁ±ªË£ÖËΩΩÂô®Ë¢´Áß∞‰∏∫ËØ•Á±ªÂûãÁöÑ<strong>ÂÆö‰πâÁ±ªË£ÖËΩΩÂô®</strong><br>„ÄÇ‰ªª‰ΩïË¢´Ë¶ÅÊ±ÇË£ÖËΩΩÁ±ªÂûãÔºåÂπ∂‰∏îËÉΩÂ§üËøîÂõûClassÂÆû‰æãÁöÑÂºïÁî®‰ª£Ë°®Ëøô‰∏™Á±ªÂûãÁöÑÁ±ªË£ÖËΩΩÂô®ÔºåÈÉΩÊòØËøô‰∏™Á±ªÂûãÁöÑÂàùÂßãÁ±ªË£ÖËΩΩÂô®„ÄÇ</p></blockquote><h1 id="2-Â∏∏ÈáèÊ±†"><a href="#2-Â∏∏ÈáèÊ±†" class="headerlink" title="2. Â∏∏ÈáèÊ±†"></a>2. Â∏∏ÈáèÊ±†</h1><p>1.Â∏∏ÈáèÊ±†Â∏∏ÈáèÊ±†,‰πüÂè´ClassÂ∏∏ÈáèÊ±†(Â∏∏ÈáèÊ±†==ClassÂ∏∏ÈáèÊ±†)„ÄÇJavaÊñá‰ª∂Ë¢´ÁºñËØëÊàêClassÊñá‰ª∂ÔºåClassÊñá‰ª∂‰∏≠Èô§‰∫ÜÂåÖÂê´Á±ªÁöÑÁâàÊú¨„ÄÅÂ≠óÊÆµ„ÄÅÊñπÊ≥ï„ÄÅÊé•Âè£Á≠âÊèèËø∞‰ø°ÊÅØÂ§ñÔºåËøòÊúâ‰∏ÄÈ°πÂ∞±ÊòØÂ∏∏ÈáèÊ±†ÔºåÂ∏∏ÈáèÊ±†ÊòØÂΩìClassÊñá‰ª∂Ë¢´JavaËôöÊãüÊú∫Âä†ËΩΩËøõÊù•ÂêéÂ≠òÊîæÂú®ÊñπÊ≥ïÂå∫ÂêÑÁßçÂ≠óÈù¢Èáè(Literal)ÂíåÁ¨¶Âè∑ÂºïÁî®„ÄÇÂú®ClassÊñá‰ª∂ÁªìÊûÑ‰∏≠ÔºåÊúÄÂ§¥ÁöÑ4‰∏™Â≠óËäÇÁî®‰∫éÂ≠òÂÇ®È≠îÊï∞(MagicNumber)ÔºåÁî®‰∫éÁ°ÆÂÆö‰∏Ä‰∏™Êñá‰ª∂ÊòØÂê¶ËÉΩË¢´JVMÊé•ÂèóÔºåÂÜçÊé•ÁùÄ4‰∏™Â≠óËäÇÁî®‰∫éÂ≠òÂÇ®ÁâàÊú¨Âè∑ÔºåÂâç2‰∏™Â≠óËäÇÂ≠òÂÇ®Ê¨°ÁâàÊú¨Âè∑ÔºåÂêé2‰∏™Â≠òÂÇ®‰∏ªÁâàÊú¨Âè∑ÔºåÂÜçÊé•ÁùÄÊòØÁî®‰∫éÂ≠òÊîæÂ∏∏ÈáèÁöÑÂ∏∏ÈáèÊ±†Â∏∏ÈáèÊ±†‰∏ªË¶ÅÁî®‰∫éÂ≠òÊîæ‰∏§Â§ßÁ±ªÂ∏∏ÈáèÔºöÂ≠óÈù¢ÈáèÂíåÁ¨¶Âè∑ÂºïÁî®ÈáèÔºåÂ≠óÈù¢ÈáèÁõ∏ÂΩì‰∫éJavaËØ≠Ë®ÄÂ±ÇÈù¢Â∏∏ÈáèÁöÑÊ¶ÇÂøµÔºåÂ¶ÇÊñáÊú¨Â≠óÁ¨¶‰∏≤ÔºåÂ£∞Êòé‰∏∫finalÁöÑÂ∏∏ÈáèÂÄºÁ≠âÔºåÁ¨¶Âè∑ÂºïÁî®ÂàôÂ±û‰∫éÁºñËØëÂéüÁêÜÊñπÈù¢ÁöÑÊ¶ÇÂøµ„ÄÇÂ¶Ç‰∏ã</p><p>2.ËøêË°åÊó∂Â∏∏ÈáèÊ±†</p><p>2.1ËøêË°åÊó∂Â∏∏ÈáèÊ±†ÁöÑÁÆÄ‰ªãËøêË°åÊó∂Â∏∏ÈáèÊ±†ÊòØÊñπÊ≥ïÂå∫ÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇËøêË°åÊó∂Â∏∏ÈáèÊ±†ÊòØÂΩìClassÊñá‰ª∂Ë¢´Âä†ËΩΩÂà∞ÂÜÖÂ≠òÂêéÔºåJavaËôöÊãüÊú∫‰ºöÂ∞ÜClassÊñá‰ª∂Â∏∏ÈáèÊ±†ÈáåÁöÑÂÜÖÂÆπËΩ¨ÁßªÂà∞ËøêË°åÊó∂Â∏∏ÈáèÊ±†Èáå(ËøêË°åÊó∂Â∏∏ÈáèÊ±†‰πüÊòØÊØè‰∏™Á±ªÈÉΩÊúâ‰∏Ä‰∏™)„ÄÇËøêË°åÊó∂Â∏∏ÈáèÊ±†Áõ∏ÂØπ‰∫éClassÊñá‰ª∂Â∏∏ÈáèÊ±†ÁöÑÂè¶Â§ñ‰∏Ä‰∏™ÈáçË¶ÅÁâπÂæÅÊòØÂÖ∑Â§áÂä®ÊÄÅÊÄßÔºåJavaËØ≠Ë®ÄÂπ∂‰∏çË¶ÅÊ±ÇÂ∏∏Èáè‰∏ÄÂÆöÂè™ÊúâÁºñËØëÊúüÊâçËÉΩ‰∫ßÁîüÔºå‰πüÂ∞±ÊòØÂπ∂ÈùûÈ¢ÑÁΩÆÂÖ•ClassÊñá‰ª∂‰∏≠Â∏∏ÈáèÊ±†ÁöÑÂÜÖÂÆπÊâçËÉΩËøõÂÖ•ÊñπÊ≥ïÂå∫ËøêË°åÊó∂Â∏∏ÈáèÊ±†ÔºåËøêË°åÊúüÈó¥‰πüÂèØËÉΩÂ∞ÜÊñ∞ÁöÑÂ∏∏ÈáèÊîæÂÖ•Ê±†‰∏≠2.2ÊñπÊ≥ïÂå∫ÁöÑClassÊñá‰ª∂‰ø°ÊÅØÔºåClassÂ∏∏ÈáèÊ±†ÂíåËøêË°åÊó∂Â∏∏ÈáèÊ±†ÁöÑ‰∏âËÄÖÂÖ≥Á≥ªÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†</p><p>3.1Â≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†ÁöÑÁÆÄ‰ªãÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†ÂèàÁß∞‰∏∫ÔºöÂ≠óÁ¨¶‰∏≤Ê±†ÔºåÂÖ®Â±ÄÂ≠óÁ¨¶‰∏≤Ê±†,Ëã±Êñá‰πüÂè´StringPo„ÄÇÂú®Â∑•‰Ωú‰∏≠ÔºåStringÁ±ªÊòØÊàë‰ª¨‰ΩøÁî®È¢ëÁéáÈùûÂ∏∏È´òÁöÑ‰∏ÄÁßçÂØπË±°Á±ªÂûã„ÄÇJVM‰∏∫‰∫ÜÊèêÂçáÊÄßËÉΩÂíåÂáèÂ∞ëÂÜÖÂ≠òÂºÄÈîÄÔºåÈÅøÂÖçÂ≠óÁ¨¶‰∏≤ÁöÑÈáçÂ§çÂàõÂª∫ÔºåÂÖ∂Áª¥Êä§‰∫Ü‰∏ÄÂùóÁâπÊÆäÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåËøôÂ∞±ÊòØÊàë‰ª¨‰ªäÂ§©Ë¶ÅËÆ®ËÆ∫ÁöÑÊ†∏ÂøÉÔºöÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†„ÄÇÂ≠óÁ¨¶‰∏≤Â∏∏ÈáèÊ±†Áî±StringÁ±ªÁßÅÊúâÁöÑÁª¥Êä§„ÄÇ</p><h1 id="3-ËøêË°åÊó∂Êï∞ÊçÆÂå∫"><a href="#3-ËøêË°åÊó∂Êï∞ÊçÆÂå∫" class="headerlink" title="3. ËøêË°åÊó∂Êï∞ÊçÆÂå∫"></a>3. ËøêË°åÊó∂Êï∞ÊçÆÂå∫</h1><ol><li>Á∫øÁ®ãÂÖ±‰∫´<br> ÊñπÊ≥ïÂå∫ÔºåÂ†Ü</li><li>Á∫øÁ®ãÁßÅÊúâ<br> ËôöÊãüÊú∫Ê†àÔºåÊú¨Âú∞ÊñπÊ≥ïÊ†àÔºåÁ®ãÂ∫èËÆ°Êï∞Âô®</li></ol><h2 id="Á®ãÂ∫èËÆ°Êï∞Âô®"><a href="#Á®ãÂ∫èËÆ°Êï∞Âô®" class="headerlink" title="Á®ãÂ∫èËÆ°Êï∞Âô®"></a>Á®ãÂ∫èËÆ°Êï∞Âô®</h2><ol><li>Â∞èÂÜÖÂ≠òÔºåÂá†‰πéÊó†OOMÔºåÊéßÂà∂‰ª£Á†ÅÊâßË°å‰ΩçÁΩÆÔºåÊØîÂ¶ÇÂæ™ÁéØÔºåÁ∫øÁ®ãblockÊÅ¢Â§çÔºåwaitÊÅ¢Â§ç</li></ol><h2 id="ÊñπÊ≥ïÂå∫ÔºàÊ∞∏‰πÖ‰ª£Ôºâ"><a href="#ÊñπÊ≥ïÂå∫ÔºàÊ∞∏‰πÖ‰ª£Ôºâ" class="headerlink" title="ÊñπÊ≥ïÂå∫ÔºàÊ∞∏‰πÖ‰ª£Ôºâ"></a>ÊñπÊ≥ïÂå∫ÔºàÊ∞∏‰πÖ‰ª£Ôºâ</h2><ol><li>Â≠òÂÇ®Á±ª‰ø°ÊÅØ ÔºàÁ¨¨ÂõõÊ≠•Âä†ËΩΩËøáÁ®ãÔºâ</li><li>Â∏∏ÈáèÔºåÈùôÊÄÅÂèòÈáè</li><li>Âç≥Êó∂ÁºñËØëÂêéÁöÑ‰ª£Á†ÅÁºìÂ≠òÊï∞ÊçÆ „ÄêClassÊñπÊ≥ïË°®‰∏≠CodeÂ±ûÊÄßÔºå‰øùÂ≠òÊâßË°åÊåá‰ª§Â≠óËäÇÔºåÂ∞ÜÂÖ∂ÁºìÂ≠òÂú®ÊñπÊ≥ïÂå∫„Äë</li></ol><p>ÂÖÉÁ©∫Èó¥ÔºöËÉΩ‰∏çÈôêÂà∂‰ΩøÁî®Á≥ªÁªüÂÜÖÂ≠òËµÑÊ∫ê</p><h2 id="ËøêË°åÊó∂Â∏∏ÈáèÊ±†"><a href="#ËøêË°åÊó∂Â∏∏ÈáèÊ±†" class="headerlink" title="ËøêË°åÊó∂Â∏∏ÈáèÊ±†"></a>ËøêË°åÊó∂Â∏∏ÈáèÊ±†</h2><ol><li>Â≠òÊîæÁºñËØëÊúüÁîüÊàêÁöÑÂ≠óÈù¢Èáè+Á¨¶Âè∑ÂºïÁî®</li><li>ÂÖ∑Â§áÂä®ÊÄÅÊÄß<br>‰∏çË¶ÅÊ±ÇÂ∏∏Èáè‰∏ÄÂÆöÂè™ÊúâÁºñËØëÊúüÊâçËÉΩ‰∫ßÁîü<br><strong>String.intern()</strong> ÊòØ‰∏Ä‰∏™NativeÊñπÊ≥ï„ÄÇË∞ÉÁî®intern()ÊñπÊ≥ïÂêéÔºåJVM Â∞±‰ºöÂú®ÂΩìÂâçÁ±ªÁöÑËøêË°åÊó∂Â∏∏ÈáèÊ±†‰∏≠Êü•ÊâæÊòØÂê¶Â≠òÂú®‰∏éstrÁ≠âÂÄºÁöÑStringÔºåËã•Â≠òÂú®ÂàôÁõ¥Êé•ËøîÂõûËøêË°åÊó∂Â∏∏ÈáèÊ±†‰∏≠Áõ∏Â∫îStrnigÁöÑÂºïÁî®ÔºõËã•‰∏çÂ≠òÂú®ÔºåÂàô‰ºöÂú®ËøêË°åÊó∂Â∏∏ÈáèÊ±†‰∏≠ÂàõÂª∫‰∏Ä‰∏™Á≠âÂÄºÁöÑStringÔºåÁÑ∂ÂêéËøîÂõûËøô‰∏™StringÂú®ËøêË°åÊó∂Â∏∏ÈáèÊ±†‰∏≠ÁöÑÂºïÁî®„ÄÇ</li></ol><h2 id="Â†Ü"><a href="#Â†Ü" class="headerlink" title="Â†Ü"></a>Â†Ü</h2><ol><li>ÂØπË±°Â§¥ÔºàHeaderÔºâ: ÔºàMark Word+ classÊåáÈíà+ Êï∞ÁªÑÈïøÂ∫¶Ôºâ<br>hashcodeÔºåGCÂàÜ‰ª£Âπ¥ÈæÑÔºåÈîÅÊ†áÂøóÁä∂ÊÄÅÔºåÂΩìÂâçÈîÅÔºåÂÅèÂêëÈîÅIDÔºåÂÅèÂêëÊó∂Èó¥Êà≥</li><li>ÂÆû‰æãÊï∞ÊçÆÔºà InstanceÔºâ</li><li>ÂØπÈΩêÂ°´ÂÖÖÔºàPaddingÔºâÔºö ‰∏çÊª°8Â≠óËäÇÁöÑÂÄçÊï∞Â∞±ÂØπÈΩêÂ°´ÂÖÖ<br><strong>Â≠óÊÆµÂÜÖÂ≠òÂØπÈΩêÁöÑÂÖ∂‰∏≠‰∏Ä‰∏™ÂéüÂõ†ÔºåÊòØËÆ©Â≠óÊÆµÂè™Âá∫Áé∞Âú®Âêå‰∏ÄCPUÁöÑÁºìÂ≠òË°å‰∏≠„ÄÇ Â¶ÇÊûúÂ≠óÊÆµ‰∏çÊòØÂØπÈΩêÁöÑÔºåÈÇ£‰πàÂ∞±ÊúâÂèØËÉΩÂá∫Áé∞Ë∑®ÁºìÂ≠òË°åÁöÑÂ≠óÊÆµ„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåËØ•Â≠óÊÆµÁöÑËØªÂèñÂèØËÉΩÈúÄË¶ÅÊõøÊç¢‰∏§‰∏™ÁºìÂ≠òË°åÔºåËÄåËØ•Â≠óÊÆµÁöÑÂ≠òÂÇ®‰πü‰ºöÂêåÊó∂Ê±°Êüì‰∏§‰∏™ÁºìÂ≠òË°å„ÄÇËøô‰∏§ÁßçÊÉÖÂÜµÂØπÁ®ãÂ∫èÁöÑÊâßË°åÊïàÁéáËÄåË®ÄÈÉΩÊòØ‰∏çÂà©ÁöÑ„ÄÇÂÖ∂ÂÆûÂØπÂÖ∂Â°´ÂÖÖÁöÑÊúÄÁªàÁõÆÁöÑÊòØ‰∏∫‰∫ÜËÆ°ÁÆóÊú∫È´òÊïàÂØªÂùÄ„ÄÇ</strong></li></ol><p><strong>ÔºàÈù¢ËØïÈ¢òÔºâ 64‰ΩçJVM ‰∏≠ new Object()  Âú®Java‰∏≠Âç†Â§öÂ∞ëÂÜÖÂ≠òÔºü</strong><br>16Â≠óËäÇ„ÄÇ<br>Mark Word Ôºà8Â≠óËäÇÔºâ+ classÊåáÈíàÔºàÊåáÈíàÂéãÁº©4Â≠óËäÇÔºåÂê¶Âàô8Â≠óËäÇÔºâ+ÂÆû‰æãÊï∞ÊçÆÔºà0Â≠óËäÇÔºâ+ÂØπÈΩêÂ°´ÂÖÖÔºà4Â≠óËäÇÊàñ0Â≠óËäÇÔºâ</p><h2 id="ËôöÊãüÊú∫Ê†à"><a href="#ËôöÊãüÊú∫Ê†à" class="headerlink" title="ËôöÊãüÊú∫Ê†à"></a>ËôöÊãüÊú∫Ê†à</h2><p>javaÊ†àÊòØÈíàÂØπÊØè‰∏Ä‰∏™Á∫øÁ®ãÁöÑÔºåÊØè‰∏Ä‰∏™Á∫øÁ®ãÈÉΩ‰ºöÊúâËá™Â∑±ÁöÑÊ†àÔºåÁª¥Êä§Âú®ÂÖ∂ÂÜÖÈÉ®ÁöÑÂºïÁî®Â∞±ÊòØÊú¨Âú∞ÂèòÈáèË°®„ÄÇ</p><p>ÈÄöËøáÁ∫øÁ®ãÊÉ≥Ëµ∑Ê†àÔºåÊèêÈóÆÔºåÂØπË±°ÊòØÂ¶Ç‰ΩïË¢´Á∫øÁ®ãËÆøÈóÆÂÆö‰ΩçÁöÑÂëÄÔºüÈóÆÁöÑÈùûÂ∏∏Â∫ïÂ±Ç„ÄÇ<br><a href="https://blog.csdn.net/y471519146/article/details/104638340" target="_blank" rel="noopener">https://blog.csdn.net/y471519146/article/details/104638340</a></p><ol><li>‰ΩøÁî®Âè•ÊüÑ„ÄÇÂè•ÊüÑÊòØ‰∏Ä‰∏™ÂØπË±°ÁöÑÂîØ‰∏ÄÊ†áÁ§∫„ÄÇ‰∏≠Èó¥Êúâ‰∏Ä‰∏™Âè•ÊüÑÊ±†ÔºåÂ≠òÂú®‰∫éjavaÂ†ÜÁöÑÂÜÖÂ≠òÂå∫ÂüüÔºåÁ∫øÁ®ãÊåáÂêëÂè•ÊüÑÊ±†ÔºåÂè•ÊüÑÊ±†referenceÈìæÊé•Âà∞ÂØπË±°Âú∞ÂùÄ</li><li>‰ΩøÁî®Áõ¥Êé•ÊåáÈíà„ÄÇÁ∫øÁ®ãÂØπË±°ÊåáÂêëÂè¶‰∏ÄÂØπË±°„ÄÇ<br>‰ºòÂä£ÔºöÁõ¥Êé•ÊåáÈíàËÆøÈóÆÂø´Ôºå‰ΩÜgcÊ∏ÖÁêÜÂ∞ÜÂØπË±°‰ΩçÁΩÆÁßªÂä®ÔºåÊØè‰∏™Á∫øÁ®ãÁöÑÊåáÈíàÂ∞±Ë¶ÅÊîπÂèòÔºåÊ∂àËÄóÂ§ß„ÄÇ<br>Âè•ÊüÑ‰ºòÂäøÔºöÁ®≥ÂÆöÔºåÂè•ÊüÑÊ±†‰ΩçÁΩÆ‰∏çÂèòÔºåÂΩìgcÊ∏ÖÁêÜÂ∞ÜÂØπË±°‰ΩçÁΩÆÁßªÂä®ÔºåÂè™ÈúÄÊîπÂèòÂè•ÊüÑÊ±†1‰∏™ÈìæÊé•„ÄÇ</li></ol><h3 id="Ê†àÂ∏ß‚Äª"><a href="#Ê†àÂ∏ß‚Äª" class="headerlink" title="Ê†àÂ∏ß‚Äª"></a>Ê†àÂ∏ß‚Äª</h3><ol><li>1‰∏™ÊñπÊ≥ïÂàõÂª∫1‰∏™Ê†àÂ∏ßÔºöÂ≠òÂÇ®ÊñπÊ≥ïÁöÑÂ±ÄÈÉ®ÂèòÈáèË°®ÔºåÊìç‰ΩúÊï∞Ê†àÔºåÂä®ÊÄÅÈìæÊé•ÔºåËøîÂõûÂú∞ÂùÄÁ≠â„ÄÇ„ÄêclassÊñπÊ≥ïË°®‰∏≠ÈôÑÂ∏¶Â±ûÊÄßË°®‰∏≠codeÂ±ûÊÄßÊúâÂ±ÄÈÉ®ÂèòÈáèÊâÄÈúÄË¶ÅÁöÑÁ©∫Èó¥„Äë</li><li>ÂºÄÂßãË∞ÉÁî®Âà∞ÂÆåÊàêËøáÁ®ãÂ∞±ÊòØ‰∏Ä‰∏™Ê†àÂ∏ßÁöÑÂÖ•Ê†àÂá∫Ê†à<h5 id="Â±ÄÈÉ®ÂèòÈáèË°®"><a href="#Â±ÄÈÉ®ÂèòÈáèË°®" class="headerlink" title="Â±ÄÈÉ®ÂèòÈáèË°®"></a>Â±ÄÈÉ®ÂèòÈáèË°®</h5>Â≠òÂÇ®ÊñπÊ≥ïÈáåÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºàÂåÖÊã¨ÊñπÊ≥ïÂèÇÊï∞ÔºâÔºåÁºñËØëÂÆåÊàêÂ≠òÂÇ®„ÄêclassÊñπÊ≥ïË°®‰∏≠ÈôÑÂ∏¶Â±ûÊÄßË°®‰∏≠codeÂ±ûÊÄß„Äë<h5 id="Êìç‰ΩúÊï∞Ê†à"><a href="#Êìç‰ΩúÊï∞Ê†à" class="headerlink" title="Êìç‰ΩúÊï∞Ê†à"></a>Êìç‰ΩúÊï∞Ê†à</h5>ÊñπÊ≥ïË∞ÉÁî®ÁöÑÊúÄÂ§ßÊ∑±Â∫¶„ÄêcodeÂ±ûÊÄßÁöÑmax_stack„ÄëÔºåÊØîÂ¶ÇÈÄíÂΩíÔºåË∞ÉÁî®Êï∞Ë∂ÖÂá∫ÔºåÂàôStackOverflowError„ÄÇ<h5 id="Âä®ÊÄÅÈìæÊé•"><a href="#Âä®ÊÄÅÈìæÊé•" class="headerlink" title="Âä®ÊÄÅÈìæÊé•"></a>Âä®ÊÄÅÈìæÊé•</h5>ÊñπÊ≥ïË∞ÉÁî®ËøáÁ®ã‰∏≠ÔºåÈìæÊé•ÂÖ∂‰ªñÊñπÊ≥ïÊàñÂÖ∂‰ªñÁ±ª<h5 id="ËøîÂõûÂú∞ÂùÄ"><a href="#ËøîÂõûÂú∞ÂùÄ" class="headerlink" title="ËøîÂõûÂú∞ÂùÄ"></a>ËøîÂõûÂú∞ÂùÄ</h5>Ë∞ÅË∞ÉÁî®ËøîÂõûÁªôË∞Å„ÄÇÂàÜ‰∏§ÁÇπ</li><li>Ê≠£Â∏∏ÈÄÄÂá∫„ÄÇ</li><li>ÂºÇÂ∏∏ÈÄÄÂá∫„ÄÇÊäõÈîôÁªôË∞ÉÁî®Êñπ„ÄÇ</li></ol><p>####</p><h2 id="Â†Ü-Â±ïÂºÄÁü•ËØÜ-ÔºàÁ¨¨‰∫åÊúüÔºâ"><a href="#Â†Ü-Â±ïÂºÄÁü•ËØÜ-ÔºàÁ¨¨‰∫åÊúüÔºâ" class="headerlink" title="Â†Ü Â±ïÂºÄÁü•ËØÜ ÔºàÁ¨¨‰∫åÊúüÔºâ"></a>Â†Ü Â±ïÂºÄÁü•ËØÜ ÔºàÁ¨¨‰∫åÊúüÔºâ</h2><p>Q:Êñ∞Áîü‰ª£  eden s0 s1 ÊòØÊ†πÊçÆ‰ªÄ‰πàÊÄùÊÉ≥ 8:1:1ÂàÜÂå∫ Ôºü ÂõûÊî∂Âô®ÈÉΩÊòØËøôÊ†∑ÂêóÔºü<br>Âü∫‰∫éÊ†áËÆ∞Â§çÂà∂ÁÆóÊ≥ïÊÄùÊÉ≥Ôºõ ËÄåÂü∫‰∫éÊ†áËÆ∞Ê∏ÖÁêÜÁÆóÊ≥ïÂ∞±‰∏çÊòØ„ÄÇ</p><p>Á¨¨‰∏ÄÊ¨°minorgcÔºö eden Á©∫Ôºås0 Âπ¥ÈæÑ1<br>Á¨¨‰∫åÊ¨°minorgcÔºöedenÁ©∫Ôºås0Á©∫Ôºås1 Âπ¥ÈæÑÊúâ1Âíå2<br>Ê≠§Êó∂ s0 Âíå s1 ËßíËâ≤‰∫íÊç¢<br>Á¨¨‰∏âÊ¨°minorgcÔºöeden 1Â≤ÅÔºås0Á©∫Ôºås1 Âπ¥ÈæÑÊúâ2Âíå3<br>                             eden Á©∫Ôºås0Á©∫Âπ¥ÈæÑÊúâ1,„ÄÅ2Âíå3 Ôºås1Á©∫<br>Ê≠§Êó∂ s0 Âíå s1 ËßíËâ≤‰∫íÊç¢‚Ä¶</p><p>‰∏∫‰ªÄ‰πàÈúÄË¶Ås0Âíås1Ôºü<br> ÈúÄË¶ÅÁ©∫Èó≤ÁöÑÁºìÂÜ≤ÂÜÖÂ≠òÔºåÂ≠òÂÇ®Ê∏ÖÁêÜÂêéÁöÑÂ≠òÊ¥ªÂØπË±°ÔºåÈÅøÂÖçs0Âå∫Á©∫Èó¥Á¢éÁâáÂåñ„ÄÇ</p><p>ËÄÅÂπ¥‰ª£</p><ol><li>Âπ¥ÈæÑ15Â≤Å‰ª•‰∏ä</li><li>Ë∂ÖÂ§ßÂØπË±°ÔºåË∂ÖËøáÈòàÂÄºËÆæÁΩÆ max tenuring thread hold</li><li><p>Áõ∏ÂêåÂπ¥ÈæÑÊâÄÊúâÂØπË±°Â§ßÂ∞èÊÄªÂíåÂ§ß‰∫é‰∏Ä‰∏™Âπ∏Â≠òËÄÖÁ©∫Èó¥ÁöÑ‰∏ÄÂçäÔºåÂèñÂπ¥ÈæÑÂ§ß‰∫éÁ≠â‰∫éÁöÑÂØπË±°Ôºå<br>ÊâÄ‰ª•Âπ¥ËΩª‰ª£Á©∫Èó¥Âà©Áî®ÔºåÂè™Êúâ 90%</p><p>Ôºà‰∏ÄÊó¶ËÄÅÂπ¥‰ª£Ë¶ÅÊª°Â∞±ÂºïÂèëfullgcÔºâ</p></li></ol><p>‚Äª Á©∫Èó¥ÂàÜÈÖçÊãÖ‰øùÁ≠ñÁï•<br> minorGCÂèëÁîü‰πãÂâçÔºåÁ¨¨‰∏ÄÊ≠•ÂÖàÊ£ÄÊü•ËÄÅÂπ¥‰ª£ÊúÄÂ§ßÂèØÁî®ËøûÁª≠Á©∫Èó¥ÊòØÂê¶Â§ß‰∫éÊñ∞Áîü‰ª£ÊâÄÊúâÂØπË±°ÁöÑÊÄªÁ©∫Èó¥ÔºåÂ¶ÇÊûúÊù°‰ª∂ÊàêÁ´ãÁ°Æ‰øùÂÆâÂÖ®ÔºåÂ¶ÇÊûúÊù°‰ª∂‰∏çÊàêÁ´ãÔºåÊØîÂ¶ÇÁ©∫Èó¥Ââ©‰Ωô500MÔºõ<br> Â∞±‰ºöÁ¨¨‰∫åÊ≠•Ê£ÄÊü•ËôöÊãüÊú∫HandlePromotionFailureÂèÇÊï∞ÊòØÂê¶trueÔºåÊòØÂê¶ÂÖÅËÆ∏ÊãÖ‰øùÂ§±Ë¥•Ôºõ<br> Â¶ÇÊûúÂÖÅËÆ∏ÊãÖ‰øùÂ§±Ë¥•ÔºåjvmÂÜçÊ¨°Á¨¨‰∏âÊ≠•Ê£ÄÊü•ËÄÅÂπ¥‰ª£ÊúÄÂ§ßÂèØÁî®ËøûÁª≠Á©∫Èó¥ÊòØÂê¶Â§ß‰∫éÂéÜÊ¨°ÊôãÂçáÂà∞ËÄÅÂπ¥‰ª£ÂØπË±°ÁöÑÂπ≥ÂùáÂ§ßÂ∞èÔºõ</p><ul><li>Â¶ÇÊûúÂ§ß‰∫éÔºåÊØîÂ¶ÇÂπ≥Âùá‰πãÂâç300MÔºåÂÜíÈô©Â∞ùËØï‰∏ÄÊ¨°minorGCÔºå  Â≠òÂú®È£éÈô©ÔºöminorGCÂêéÂ≠òÊ¥ªÂØπË±°ËøòÊòØÂ§ß‰∫é500MÔºåË∂ÖÂá∫ÊúÄÂ§ßÂèØÁî®ËøûÁª≠Á©∫Èó¥ÔºåËØ¥ÊòéËÄÅÂπ¥‰ª£Ë¶ÅÊª°‰∫ÜÂ∞±ÂºïÂèëfullGC„ÄÇ<ul><li>Â¶ÇÊûúÂ∞è‰∫é Êàñ HandlePromotionFailureÂèÇÊï∞falseÔºåÂ∞±Áõ¥Êé•fullGC„ÄÇ</li></ul></li></ul><p>ÔºàÈù¢ËØïÔºâÂ¶Ç‰ΩïÂà§Êñ≠ÂØπË±°ÊòØÂê¶Â≠òÊ¥ªÔºü gcËøáÁ®ãÊòØ‰ªÄ‰πàÔºü<br>ÂèØËææÊÄßÂàÜÊûêÁÆóÊ≥ïÔºåÈÄöËøá‰∏ÄÁ≥ªÂàóÁß∞‰∏∫‚ÄúGC Roots‚ÄùÊ†πËäÇÁÇπÔºåÂºÄÂßãÂºïÁî®ÈìæÁöÑÊêúÁ¥¢ÔºåÂ¶ÇÊûúÂØπË±°ÊêúÁ¥¢‰∏çÂà∞ÔºåËØÅÊòéÂØπË±°‰∏çÂèØËææÔºåÊ†áËÆ∞ÁôΩËâ≤ÔºåÊúÄÁªàË¢´ÂûÉÂúæÂõûÊî∂„ÄÇ<br>ÂºïÁî≥ÔºöÂºïÁî®ËÆ°Êï∞Âô®ÁÆóÊ≥ïÔºåÊØè‰∏™ÂØπË±°ÊúâÂºïÁî®ËÆ°Êï∞Âô®ÔºåRedis‰ΩøÁî®<br>5‰∏™ÈóÆÈ¢òÔºö</p><h3 id="1-gcroots-ÊòØ‰ªÄ‰πàÔºü"><a href="#1-gcroots-ÊòØ‰ªÄ‰πàÔºü" class="headerlink" title="1.gcroots ÊòØ‰ªÄ‰πàÔºü"></a>1.gcroots ÊòØ‰ªÄ‰πàÔºü</h3><p>ÊòØÂèØËææÊÄßÂàÜÊûêÁöÑËµ∑ÁÇπÔºåÊòØ‰∏§‰∏™Ê†àÁöÑÊ†àÂ∏ßÁöÑÊú¨Âú∞ÂèòÈáèË°®‰∏≠ÂºïÁî®ÁöÑÂØπË±°ÔºåÊñπÊ≥ïÂå∫‰∏≠ÈùôÊÄÅÂ±ûÊÄßÂºïÁî®ÁöÑÂØπË±°ÔºåÊñπÊ≥ïÂå∫‰∏≠Â∏∏ÈáèÂºïÁî®ÂØπË±°Ôºà‰∏§‰∏™Ê†à‰∏§‰∏™ÊñπÊ≥ïÂå∫ÔºâÔºåÂÖ∂ÂÆûËøòÊúâÔºåjvmÂÜÖÈÉ®‰πüÊúâÂºïÁî®ÔºåÈîÅÁöÑËé∑ÂèñÂíåÈáäÊîæ„ÄÇ</p><h3 id="2-ÂºïÁî®ÈìæÊòØ‰ªÄ‰πàÔºü"><a href="#2-ÂºïÁî®ÈìæÊòØ‰ªÄ‰πàÔºü" class="headerlink" title="2.ÂºïÁî®ÈìæÊòØ‰ªÄ‰πàÔºü"></a>2.ÂºïÁî®ÈìæÊòØ‰ªÄ‰πàÔºü</h3><p>Âº∫ÔºöÂ∏∏ËßÅÔºåÊ∞∏Ëøú‰∏çË¢´ÂûÉÂúæÂõûÊî∂<br>ËΩØÔºöÈùûÂøÖÈ°ªÔºåÂÜÖÂ≠òÊ∫¢Âá∫OOM‰πãÂâçÔºåÂàóÂÖ•ÂõûÊî∂ËåÉÂõ¥ËøõË°åÁ¨¨‰∫åÊ¨°ÂõûÊî∂ÔºåËøòÊ∫¢Âá∫Â∞±ÊäõÈîô<br>Âº±ÔºöÁîüÂ≠òÂà∞‰∏ã‰∏ÄÊ¨°ÂûÉÂúæÊî∂ÈõÜ‰πãÂâç<br>ËôöÔºöÂπΩÔºàÊàñÂπªÔºâÁÅµÂºïÁî®Ôºå‰∏ªË¶ÅÁî®‰∫éÁõëÊµãÂØπË±°ÊòØÂê¶Â∑≤Áªè‰ªéÂÜÖÂ≠ò‰∏≠Âà†Èô§ÔºåÂ†ÜÂ§ñÂÜÖÂ≠òÂõûÊî∂„ÄÇ</p><p>ËΩØÂºïÁî®Â∞ùËØï‰øùÁïôÂÖ∂ÂºïÁî®ÂØπË±°ÔºåÂº±ÂºïÁî®‰∏ç‰ºöËØïÂõæ‰øùÁïôÂÖ∂ÂºïÁî®ÂØπË±°ÔºåËôöÂºïÁî®ÊâÄÂºïÁî®ÂØπË±°‰∏ç‰ºöË¢´Ë¢´ÈáäÊîæÁõ¥Âà∞ÊâÄÊúâÊåáÂêëËØ•ÂØπË±°ÁöÑËôöÂºïÁî®Ë¢´Ê∏ÖÈô§„ÄÇ</p><blockquote><ul><li><p>ËôöÂºïÁî®ÂøÖÈ°ªÂíåÂºïÁî®ÈòüÂàóÂÖ≥ËÅî‰ΩøÁî®, ÂΩìÂûÉÂúæÂõûÊî∂Âô®ÂáÜÂ§áÂõûÊî∂‰∏Ä‰∏™ÂØπË±°Êó∂ÔºåÂ¶ÇÊûúÂèëÁé∞ÂÆÉËøòÊúâËôöÂºïÁî®ÔºåÂ∞±‰ºöÊääËøô‰∏™ËôöÂºïÁî®Âä†ÂÖ•Âà∞‰∏é‰πã ÂÖ≥ËÅîÁöÑÂºïÁî®ÈòüÂàó‰∏≠</p></li><li><p>Á®ãÂ∫èÂèØ‰ª•ÈÄöËøáÂà§Êñ≠ÂºïÁî®ÈòüÂàó‰∏≠ÊòØÂê¶Â∑≤ÁªèÂä†ÂÖ•‰∫ÜËôöÂºïÁî®ÔºåÊù•‰∫ÜËß£Ë¢´ÂºïÁî®ÁöÑÂØπË±°ÊòØÂê¶Â∞ÜË¶ÅË¢´ÂûÉÂúæÂõûÊî∂„ÄÇÂ¶ÇÊûúÁ®ãÂ∫èÂèëÁé∞Êüê‰∏™ËôöÂºïÁî®Â∑≤ÁªèË¢´Âä†ÂÖ•Âà∞ÂºïÁî®ÈòüÂàóÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•Âú®ÊâÄÂºïÁî®ÁöÑÂØπË±°ÁöÑÂÜÖÂ≠òË¢´ÂõûÊî∂‰πãÂâçÈááÂèñÂøÖË¶ÅÁöÑË°åÂä®</p></li></ul></blockquote><h3 id="3-ÂØπË±°‰∏çÂèØËææÊÑèÂë≥ÁùÄ‰ªÄ‰πàÔºü‰∏ÄÂÆöË¢´ÂõûÊî∂ÂêóÔºü"><a href="#3-ÂØπË±°‰∏çÂèØËææÊÑèÂë≥ÁùÄ‰ªÄ‰πàÔºü‰∏ÄÂÆöË¢´ÂõûÊî∂ÂêóÔºü" class="headerlink" title="3.ÂØπË±°‰∏çÂèØËææÊÑèÂë≥ÁùÄ‰ªÄ‰πàÔºü‰∏ÄÂÆöË¢´ÂõûÊî∂ÂêóÔºü"></a>3.ÂØπË±°‰∏çÂèØËææÊÑèÂë≥ÁùÄ‰ªÄ‰πàÔºü‰∏ÄÂÆöË¢´ÂõûÊî∂ÂêóÔºü</h3><p>ÊÑèÂë≥ÂØπË±°Âç≥Â∞ÜË¢´ÂûÉÂúæÂõûÊî∂ÔºåÂΩìÁÑ∂Ôºå‰∏ç‰ºöÁ´ãÂç≥ÂõûÊî∂„ÄÇ<br>‚Äª ÂØπË±°‰ºöÊîæÂÖ•f-q ÁöÑÈòüÂàóÔºå‰ºöÂêØÂä®‰∏ÄÊù°‰Ωé‰ºòÂÖàÁ∫ßÂà´ÁöÑÁ∫øÁ®ãÔºåËØªÂèñÂØπË±°Ôºå‰∏Ä‰∏™‰∏™Ë∞ÉÁî®ÂØπË±°ÁöÑfinalizeÊñπÊ≥ïÔºåÂ¶ÇÊûúÊñπÊ≥ïË¢´Ë¶ÜÁõñÂπ∂‰∏îË¢´Ë∞ÉÁî®ËøáÔºåjvm‰ºöÂØπËØ•ÂØπË±°ÁΩÆ‰∏∫ÈùûÂøÖË¶ÅÂûÉÂúæÂõûÊî∂ÔºåÂÆÉÈÄÉËøáÂûÉÂúæÂõûÊî∂</p><h3 id="4-‰∏âËâ≤Ê†áËÆ∞Ê≥ïÊòØ‰ªÄ‰πàÔºü"><a href="#4-‰∏âËâ≤Ê†áËÆ∞Ê≥ïÊòØ‰ªÄ‰πàÔºü" class="headerlink" title="4.‰∏âËâ≤Ê†áËÆ∞Ê≥ïÊòØ‰ªÄ‰πàÔºü"></a>4.‰∏âËâ≤Ê†áËÆ∞Ê≥ïÊòØ‰ªÄ‰πàÔºü</h3><p>ÁôΩÔºö ÂØπË±°‰∏çÂèØËææ<br>ÈªëÔºö Â∑≤Ë¢´ËÆøÈóÆÔºåÊâÄÊúâÂÖ≥ËÅîÂØπË±°‰πüÊâ´ÊèèËøá<br>ÁÅ∞ÔºöÊú™Ë¢´Êâ´Êèè ÔºàÈáçÊñ∞Ê†áËÆ∞ÊúâÂÖ≥Ôºâ</p><ul><li><figure class="image-box">                <img src="7779607-eecbd09f81b721f8.gif" alt="img" title class>                <p>img</p>            </figure></li></ul><p>ÂÅáËÆæÁé∞Âú®ÊúâÁôΩ„ÄÅÁÅ∞„ÄÅÈªë‰∏â‰∏™ÈõÜÂêàÔºàË°®Á§∫ÂΩìÂâçÂØπË±°ÁöÑÈ¢úËâ≤ÔºâÔºåÂÖ∂ÈÅçÂéÜËÆøÈóÆËøáÁ®ã‰∏∫Ôºö</p><ol><li><p>ÂàùÂßãÊó∂ÔºåÊâÄÊúâÂØπË±°ÈÉΩÂú®„ÄêÁôΩËâ≤ÈõÜÂêà„Äë‰∏≠Ôºõ</p></li><li><p>Â∞Ü GC Roots Áõ¥Êé•ÂºïÁî®Âà∞ÁöÑÂØπË±°Êå™Âà∞ „ÄêÁÅ∞Ëâ≤ÈõÜÂêà„Äë‰∏≠Ôºõ</p></li><li><p>‰ªéÁÅ∞Ëâ≤ÈõÜÂêà‰∏≠Ëé∑ÂèñÂØπË±°Ôºö<br>3.1. Â∞ÜÊú¨ÂØπË±°ÂºïÁî®Âà∞ÁöÑÂÖ∂‰ªñÂØπË±°ÂÖ®ÈÉ®Êå™Âà∞ „ÄêÁÅ∞Ëâ≤ÈõÜÂêà„Äë‰∏≠Ôºõ<br>3.2. Â∞ÜÊú¨ÂØπË±°Êå™Âà∞„ÄêÈªëËâ≤ÈõÜÂêà„ÄëÈáåÈù¢„ÄÇ</p></li><li><p>ÈáçÂ§çÊ≠•È™§3ÔºåÁõ¥Ëá≥„ÄêÁÅ∞Ëâ≤ÈõÜÂêà„Äë‰∏∫Á©∫Êó∂ÁªìÊùü„ÄÇ</p></li><li><p>ÁªìÊùüÂêéÔºå‰ªçÂú®„ÄêÁôΩËâ≤ÈõÜÂêà„ÄëÁöÑÂØπË±°Âç≥‰∏∫ GC Roots ‰∏çÂèØËææÔºåÂèØ‰ª•ËøõË°åÂõûÊî∂„ÄÇ</p><blockquote><p>Ê≥®ÔºöÂ¶ÇÊûúÊ†áËÆ∞ÁªìÊùüÂêéÂØπË±°‰ªç‰∏∫ÁôΩËâ≤ÔºåÊÑèÂë≥ÁùÄÂ∑≤Áªè‚ÄúÊâæ‰∏çÂà∞‚ÄùËØ•ÂØπË±°Âú®Âì™‰∫ÜÔºå‰∏çÂèØËÉΩ‰ºöÂÜçË¢´ÈáçÊñ∞ÂºïÁî®„ÄÇ</p></blockquote></li></ol><p>ÂΩì Stop The World Ôºà‰ª•‰∏ãÁÆÄÁß∞ STWÔºâÊó∂ÔºåÂØπË±°Èó¥ÁöÑÂºïÁî®ÊòØ‰∏ç‰ºöÂèëÁîüÂèòÂåñÁöÑÔºåÂèØ‰ª•ËΩªÊùæÂÆåÊàêÊ†áËÆ∞„ÄÇ</p><p>ËÄåÂΩìÈúÄË¶ÅÊîØÊåÅÂπ∂ÂèëÊ†áËÆ∞Êó∂ÔºåÂç≥Ê†áËÆ∞ÊúüÈó¥Â∫îÁî®Á∫øÁ®ãËøòÂú®ÁªßÁª≠Ë∑ëÔºåÂØπË±°Èó¥ÁöÑÂºïÁî®ÂèØËÉΩÂèëÁîüÂèòÂåñÔºåÂ§öÊ†áÂíåÊºèÊ†áÁöÑÊÉÖÂÜµÂ∞±ÊúâÂèØËÉΩÂèëÁîü„ÄÇ</p><p><strong>Â§öÊ†á-ÊµÆÂä®ÂûÉÂúæ</strong></p><p>ÂÅáËÆæÂ∑≤ÁªèÈÅçÂéÜÂà∞ EÔºàÂèò‰∏∫ÁÅ∞Ëâ≤‰∫ÜÔºâÔºåÊ≠§Êó∂Â∫îÁî®ÊâßË°å‰∫Ü objD.fieldE = null (D &gt; E ÁöÑÂºïÁî®Êñ≠ÂºÄ)Ôºö<br><figure class="image-box">                <img src="1153954-20201220213532679-409632912.png" alt="img" title class>                <p>img</p>            </figure></p><p>Ê≠§Âàª‰πãÂêéÔºåÂØπË±° E/F/G ÊòØ‚ÄúÂ∫îËØ•‚ÄùË¢´ÂõûÊî∂ÁöÑ„ÄÇÁÑ∂ËÄåÂõ†‰∏∫ E Â∑≤ÁªèÂèò‰∏∫ÁÅ∞Ëâ≤‰∫ÜÔºåÂÖ∂‰ªç‰ºöË¢´ÂΩì‰ΩúÂ≠òÊ¥ªÂØπË±°ÁªßÁª≠ÈÅçÂéÜ‰∏ãÂéª„ÄÇÊúÄÁªàÁöÑÁªìÊûúÊòØÔºöËøôÈÉ®ÂàÜÂØπË±°‰ªç‰ºöË¢´Ê†áËÆ∞‰∏∫Â≠òÊ¥ªÔºåÂç≥Êú¨ËΩÆ GC ‰∏ç‰ºöÂõûÊî∂ËøôÈÉ®ÂàÜÂÜÖÂ≠ò„ÄÇ</p><p>ËøôÈÉ®ÂàÜÊú¨Â∫îËØ•ÂõûÊî∂ ‰ΩÜÊòØÊ≤°ÊúâÂõûÊî∂Âà∞ÁöÑÂÜÖÂ≠òÔºåË¢´Áß∞‰πã‰∏∫‚ÄúÊµÆÂä®ÂûÉÂúæ‚Äù„ÄÇÊµÆÂä®ÂûÉÂúæÂπ∂‰∏ç‰ºöÂΩ±ÂìçÂ∫îÁî®Á®ãÂ∫èÁöÑÊ≠£Á°ÆÊÄßÔºåÂè™ÊòØÈúÄË¶ÅÁ≠âÂà∞‰∏ã‰∏ÄËΩÆÂûÉÂúæÂõûÊî∂‰∏≠ÊâçË¢´Ê∏ÖÈô§„ÄÇ</p><p>Âè¶Â§ñÔºåÈíàÂØπÂπ∂ÂèëÊ†áËÆ∞ÂºÄÂßãÂêéÁöÑÊñ∞ÂØπË±°ÔºåÈÄöÂ∏∏ÁöÑÂÅöÊ≥ïÊòØÁõ¥Êé•ÂÖ®ÈÉ®ÂΩìÊàêÈªëËâ≤ÔºåÊú¨ËΩÆ‰∏ç‰ºöËøõË°åÊ∏ÖÈô§„ÄÇËøôÈÉ®ÂàÜÂØπË±°ÊúüÈó¥ÂèØËÉΩ‰ºöÂèò‰∏∫ÂûÉÂúæÔºåËøô‰πüÁÆóÊòØÊµÆÂä®ÂûÉÂúæÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ</p><p><strong>ÊºèÊ†á-ËØªÂÜôÂ±èÈöú</strong></p><p>ÂÅáËÆæ GC Á∫øÁ®ãÂ∑≤ÁªèÈÅçÂéÜÂà∞ EÔºàÂèò‰∏∫ÁÅ∞Ëâ≤‰∫ÜÔºâÔºåÊ≠§Êó∂Â∫îÁî®Á∫øÁ®ãÂÖàÊâßË°å‰∫ÜÔºö</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> G = objE.fieldG;</span><br><span class="line">objE.fieldG = <span class="literal">null</span>;  <span class="comment">// ÁÅ∞Ëâ≤E Êñ≠ÂºÄÂºïÁî® ÁôΩËâ≤G</span></span><br><span class="line">objD.fieldG = G;  <span class="comment">// ÈªëËâ≤D ÂºïÁî® ÁôΩËâ≤G</span></span><br></pre></td></tr></table></figure><figure class="image-box">                <img src="1153954-20201220214557708-22631031.png" alt="img" title class>                <p>img</p>            </figure><p>Ê≠§Êó∂ÂàáÂõû GC Á∫øÁ®ãÁªßÁª≠Ë∑ëÔºåÂõ†‰∏∫ E Â∑≤ÁªèÊ≤°ÊúâÂØπ G ÁöÑÂºïÁî®‰∫ÜÔºåÊâÄ‰ª•‰∏ç‰ºöÂ∞Ü G ÊîæÂà∞ÁÅ∞Ëâ≤ÈõÜÂêàÔºõÂ∞ΩÁÆ°Âõ†‰∏∫ D ÈáçÊñ∞ÂºïÁî®‰∫Ü GÔºå‰ΩÜÂõ†‰∏∫ D Â∑≤ÁªèÊòØÈªëËâ≤‰∫ÜÔºå‰∏ç‰ºöÂÜçÈáçÊñ∞ÂÅöÈÅçÂéÜÂ§ÑÁêÜ„ÄÇ</p><p>ÊúÄÁªàÂØºËá¥ÁöÑÁªìÊûúÊòØÔºöG ‰ºö‰∏ÄÁõ¥ÂÅúÁïôÂú®ÁôΩËâ≤ÈõÜÂêà‰∏≠ÔºåÊúÄÂêéË¢´ÂΩì‰ΩúÂûÉÂúæËøõË°åÊ∏ÖÈô§„ÄÇËøôÁõ¥Êé•ÂΩ±ÂìçÂà∞‰∫ÜÂ∫îÁî®Á®ãÂ∫èÁöÑÊ≠£Á°ÆÊÄßÔºåÊòØ‰∏çÂèØÊé•ÂèóÁöÑ„ÄÇ</p><p>‰∏çÈöæÂàÜÊûêÔºåÊºèÊ†áÂè™ÊúâÂêåÊó∂Êª°Ë∂≥‰ª•‰∏ã‰∏§‰∏™Êù°‰ª∂Êó∂Êâç‰ºöÂèëÁîüÔºö</p><ol><li>ÁÅ∞Ëâ≤ÂØπË±°Êñ≠ÂºÄ‰∫ÜÁôΩËâ≤ÂØπË±°ÁöÑÂºïÁî®ÔºàÁõ¥Êé•ÊàñÈó¥Êé•ÁöÑÂºïÁî®ÔºâÔºõÂç≥ÁÅ∞Ëâ≤ÂØπË±°ÂéüÊù•ÊàêÂëòÂèòÈáèÁöÑÂºïÁî®ÂèëÁîü‰∫ÜÂèòÂåñ„ÄÇ</li><li>ÈªëËâ≤ÂØπË±°ÈáçÊñ∞ÂºïÁî®‰∫ÜËØ•ÁôΩËâ≤ÂØπË±°ÔºõÂç≥ÈªëËâ≤ÂØπË±°ÊàêÂëòÂèòÈáèÂ¢ûÂä†‰∫ÜÊñ∞ÁöÑÂºïÁî®„ÄÇ</li></ol><p>‰ªé‰ª£Á†ÅÁöÑËßíÂ∫¶ÁúãÔºö</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> G = objE.fieldG; <span class="comment">// 1.ËØª</span></span><br><span class="line">objE.fieldG = <span class="literal">null</span>;  <span class="comment">// 2.ÂÜô</span></span><br><span class="line">objD.fieldG = G;     <span class="comment">// 3.ÂÜô</span></span><br></pre></td></tr></table></figure><ol><li>ËØªÂèñÂØπË±° E ÁöÑÊàêÂëòÂèòÈáè fieldG ÁöÑÂºïÁî®ÂÄºÔºåÂç≥ÂØπË±° GÔºõ</li><li>ÂØπË±° E ÂæÄÂÖ∂ÊàêÂëòÂèòÈáè fieldGÔºåÂÜôÂÖ• nullÂÄº„ÄÇ</li><li>ÂØπË±° D ÂæÄÂÖ∂ÊàêÂëòÂèòÈáè fieldGÔºåÂÜôÂÖ•ÂØπË±° G Ôºõ</li></ol><p>Êàë‰ª¨Âè™Ë¶ÅÂú®‰∏äÈù¢Ëøô‰∏âÊ≠•‰∏≠ÁöÑ‰ªªÊÑè‰∏ÄÊ≠•‰∏≠ÂÅö‰∏Ä‰∫õ‚ÄúÊâãËÑö‚ÄùÔºåÂ∞ÜÂØπË±° G ËÆ∞ÂΩïËµ∑Êù•ÔºåÁÑ∂Âêé‰Ωú‰∏∫ÁÅ∞Ëâ≤ÂØπË±°ÂÜçËøõË°åÈÅçÂéÜÂç≥ÂèØ„ÄÇÊØîÂ¶ÇÊîæÂà∞‰∏Ä‰∏™ÁâπÂÆöÁöÑÈõÜÂêàÔºåÁ≠âÂàùÂßãÁöÑ GC Roots ÈÅçÂéÜÂÆåÔºàÂπ∂ÂèëÊ†áËÆ∞ÔºâÔºåËØ•ÈõÜÂêàÁöÑÂØπË±°ÈÅçÂéÜÂç≥ÂèØÔºàÈáçÊñ∞Ê†áËÆ∞Ôºâ„ÄÇ</p><blockquote><p>ÈáçÊñ∞Ê†áËÆ∞ÊòØÈúÄË¶Å STW ÁöÑÔºåÂõ†‰∏∫Â∫îÁî®Á®ãÂ∫è‰∏ÄÁõ¥Âú®Ë∑ëÁöÑËØùÔºåËØ•ÈõÜÂêàÂèØËÉΩ‰ºö‰∏ÄÁõ¥Â¢ûÂä†Êñ∞ÁöÑÂØπË±°ÔºåÂØºËá¥Ê∞∏ËøúÈÉΩË∑ë‰∏çÂÆå„ÄÇÂΩìÁÑ∂ÔºåÂπ∂ÂèëÊ†áËÆ∞ÊúüÈó¥‰πüÂèØ‰ª•Â∞ÜËØ•ÈõÜÂêà‰∏≠ÁöÑÂ§ßÈÉ®ÂàÜÂÖàË∑ë‰∫ÜÔºå‰ªéËÄåÁº©Áü≠ÈáçÊñ∞Ê†áËÆ∞ STW ÁöÑÊó∂Èó¥ÔºåËøô‰∏™ÊòØ‰ºòÂåñÈóÆÈ¢ò‰∫Ü„ÄÇ</p></blockquote><p>ÂÜôÂ±èÈöúÁî®‰∫éÊã¶Êà™Á¨¨‰∫åÂíåÁ¨¨‰∏âÊ≠•ÔºõËÄåËØªÂ±èÈöúÂàôÊòØÊã¶Êà™Á¨¨‰∏ÄÊ≠•„ÄÇ<br>ÂÆÉ‰ª¨ÁöÑÊã¶Êà™ÁöÑÁõÆÁöÑÂæàÁÆÄÂçïÔºöÂ∞±ÊòØÂú®ËØªÂÜôÂâçÂêéÔºåÂ∞ÜÂØπË±° G ÁªôËÆ∞ÂΩï‰∏ãÊù•„ÄÇ</p><p><strong>ÂÜôÂ±èÈöú(‰ªÖÊãìÂ±ï)</strong></p><ul><li><p>CMSÔºöÂÜôÂ±èÈöú + Â¢ûÈáèÊõ¥Êñ∞</p><blockquote><p>ÂΩìÊúâÊñ∞ÂºïÁî®ÊèíÂÖ•ËøõÊù•Êó∂ÔºåËÆ∞ÂΩï‰∏ãÊñ∞ÁöÑÂºïÁî®ÂØπË±°„ÄÇ</p><p>ÊÄùË∑ØÔºö‰∏çË¶ÅÊ±Ç‰øùÁïôÂéüÂßãÂø´ÁÖßÔºåËÄåÊòØÈíàÂØπÊñ∞Â¢ûÁöÑÂºïÁî®ÔºåÂ∞ÜÂÖ∂ËÆ∞ÂΩï‰∏ãÊù•Á≠âÂæÖÈÅçÂéÜÔºåÂç≥Â¢ûÈáèÊõ¥Êñ∞ÔºàIncremental UpdateÔºâ„ÄÇ</p></blockquote></li></ul><ul><li><p>G1ÔºöÂÜôÂ±èÈöú + SATB</p><blockquote><p>ÂΩìÂéüÊù•ÊàêÂëòÂèòÈáèÁöÑÂºïÁî®ÂèëÁîüÂèòÂåñ‰πãÂâçÔºåËÆ∞ÂΩï‰∏ãÂéüÊù•ÁöÑÂºïÁî®ÂØπË±°„ÄÇ</p><p>ÊÄùË∑ØÔºöÂ∞ùËØï‰øùÁïôÂºÄÂßãÊó∂ÁöÑÂØπË±°ÂõæÔºåÂç≥ÂéüÂßãÂø´ÁÖßÔºàSnapshot At The BeginningÔºåSATBÔºâÔºåÂΩìÊüê‰∏™Êó∂Âàª ÁöÑ GC Roots Á°ÆÂÆöÂêéÔºåÂΩìÊó∂ÁöÑÂØπË±°ÂõæÂ∞±Â∑≤ÁªèÁ°ÆÂÆö‰∫Ü</p><p>ÊØîÂ¶Ç ÂΩìÊó∂ D ÊòØÂºïÁî®ÁùÄ G ÁöÑÔºåÈÇ£ÂêéÁª≠ÁöÑÊ†áËÆ∞‰πüÂ∫îËØ•ÊòØÊåâÁÖßËøô‰∏™Êó∂ÂàªÁöÑÂØπË±°ÂõæËµ∞ÔºàD ÂºïÁî®ÁùÄ GÔºâ„ÄÇÂ¶ÇÊûúÊúüÈó¥ÂèëÁîüÂèòÂåñÔºåÂàôÂèØ‰ª•ËÆ∞ÂΩïËµ∑Êù•Ôºå‰øùËØÅÊ†áËÆ∞‰æùÁÑ∂ÊåâÁÖßÂéüÊú¨ÁöÑËßÜÂõæÊù•„ÄÇ</p></blockquote></li><li><p>ZGCÔºöËØªÂ±èÈöú</p><blockquote><p>ÂΩìËØªÂèñÊàêÂëòÂèòÈáèÊó∂Ôºå‰∏ÄÂæãËÆ∞ÂΩï‰∏ãÊù•</p></blockquote></li></ul><h3 id="5-ÊúâÊ≤°ÊúâË∑®‰ª£ÂºïÁî®ÁöÑÈóÆÈ¢òÔºü‚Äª"><a href="#5-ÊúâÊ≤°ÊúâË∑®‰ª£ÂºïÁî®ÁöÑÈóÆÈ¢òÔºü‚Äª" class="headerlink" title="5.ÊúâÊ≤°ÊúâË∑®‰ª£ÂºïÁî®ÁöÑÈóÆÈ¢òÔºü‚Äª"></a>5.ÊúâÊ≤°ÊúâË∑®‰ª£ÂºïÁî®ÁöÑÈóÆÈ¢òÔºü‚Äª</h3><p>minorGCÊó∂ÂÄôÔºåÂ¶ÇÊûúÂΩìÂâçÂπ¥ËΩªÂØπË±°Ë¢´ËÄÅÂπ¥‰ª£ÁöÑÂØπË±°ÂºïÁî®ÔºåÈÇ£‰πàÂ∞±ÈúÄË¶ÅÈÅçÂéÜËÄÅÂπ¥‰ª£ÂØπË±°ÈáåÈù¢ÁöÑÂºïÁî®ÔºåÂ¶ÇÊûúÊúâÂºïÁî®Â∞±‰∏çÂà†Èô§Âπ¥ËΩª‰ª£ÂØπË±°„ÄÇ ÈÅçÂéÜËøáÂ§öÔºåËøôÊ∂àËÄóËøáÂ§ß„ÄÇ</p><p>Á©∫Èó¥Êç¢Êó∂Èó¥ÔºåÂºïÂÖ•<strong>ËÆ∞ÂøÜÈõÜ</strong>Ôºà<strong>RememberSetÊï∞ÊçÆÁªìÊûÑ</strong>ÔºâÔºå<br><strong>ÔºàÂç°Ë°®CardTableÊòØÂÖ∑‰ΩìÂÆûÁé∞Á±ª‰ººÊï∞ÁªÑÁöÑ‰∏ÄÁßçÂÆûÁé∞Ôºâ</strong></p><p>Áî®‰∫éËÆ∞ÂΩï‰ªéÈùûÊî∂ÈõÜÂå∫ÂüüÊåáÂêëÊî∂ÈõÜÂå∫ÂüüÁöÑ‰∏Ä‰∏™ÊåáÈíàÈõÜÂêàÁöÑÊäΩË±°Êï∞ÊçÆÁªìÊûÑ„ÄÇ</p><p>ÂÆÉÂ≠òÊîæÂú®Êî∂ÈõÜÂå∫ÂüüÔºåÊØîÂ¶ÇÂú®Êñ∞Áîü‰ª£ÈáåÈù¢Â≠òÊîæÁùÄËÄÅÂπ¥‰ª£ÂØπÊñ∞Áîü‰ª£ÂØπË±°ÁöÑÊØè‰∏Ä‰∏™ÂºïÁî®„ÄÇËøôÊ†∑Âú®Êî∂ÈõÜÊñ∞Áîü‰ª£ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Ê†πÊçÆËÆ∞ÂøÜÈõÜÁü•ÈÅìÂì™‰∫õÂØπË±°Ë¢´ËÄÅÂπ¥‰ª£ÂØπË±°ÊâÄÂºïÁî®Ôºå‰∏çËÉΩÂõûÊî∂ÔºåËøôÂ∞±Ëß£ÂÜ≥‰∫ÜË∑®‰ª£ÂºïÁî®ÁöÑÈóÆÈ¢ò„ÄÇ<br><a href="https://baijiahao.baidu.com/s?id=1663322935066223947&amp;wfr=spider&amp;for=pc" target="_blank" rel="noopener">https://baijiahao.baidu.com/s?id=1663322935066223947&amp;wfr=spider&amp;for=pc</a></p><blockquote><p>ËÆ∞ÂøÜÈõÜÊ†πÊçÆËÆ∞ÂΩïÁöÑÁ≤æÂ∫¶ÂàÜ‰∏âÁ±ªÔºö<br>Â≠óÈïøÁ≤æÂ∫¶ÔºöËÆ∞ÂΩïÁöÑÊòØËÄÅÂπ¥‰ª£ÊåáÂêëÊñ∞Áîü‰ª£Âú∞ÂùÄ„ÄÇ<br>ÂØπË±°Á≤æÂ∫¶ÔºöËÆ∞ÂΩïÁöÑÊòØËÄÅÂπ¥‰ª£ÂºïÁî®ÁöÑÊñ∞Áîü‰ª£ÂØπË±°„ÄÇ<br>Âç°Á≤æÂ∫¶ÔºöËÆ∞ÂΩïÁöÑÊòØÊñ∞Áîü‰ª£‰∏ÄÊÆµÂú∞ÂùÄÊòØÂê¶Â≠òÂú®Ë¢´ËÄÅÂπ¥‰ª£ÂºïÁî®ÁöÑËÆ∞ÂΩï„ÄÇ</p></blockquote><p>ÊääÂú∞ÂùÄÁöÑÂÄºÂè≥Áßª9‰ΩçÁõ∏ÂΩì‰∫éÈô§‰∫é512Â∞±ÊòØÂç°Ë°®Á¥¢ÂºïÔºåÊØèÂ≠óËäÇ512‰∏∫‰∏ÄÁªÑÂØπÂ∫îÂç°Ë°®Âêå‰∏Ä‰∏™ÂÖÉÁ¥†Ôºå‰∏ÄÁªÑÂ∞±ÊòØ‰∏Ä‰∏™Âç°È°µÔºå<br>Â¶ÇÊûúËøô‰∏™Âç°È°µ‰∏≠Âè™Ë¶ÅÊúâ‰∏Ä‰∏™ÂØπË±°Ë¢´ÂÖ∂‰ªñÂå∫ÂüüÂØπË±°ÊâÄÂºïÁî®ÔºåÂØπÂ∫îÂç°Ë°®ÂÖÉÁ¥†ÁöÑÂÄºÂ∞±ÂèòÊàê1Ôºå‰πüÂ∞±ÊòØÊâÄË∞ìÁöÑÂÖÉÁ¥†ÂèòËÑè„ÄÇ</p><p>Âú®ÂûÉÂúæÂõûÊî∂Êó∂ÔºåÂè™Ë¶ÅÁ≠õÈÄâÂá∫Âç°Ë°®‰∏≠ÂèòËÑèÁöÑÂÖÉÁ¥†ÔºåÂ∞±ËÉΩËΩªÊòìÂæóÂá∫Âì™‰∫õÂç°È°µÂØπÂ∫îÁöÑÂÜÖÂ≠òÂåÖÂê´Ë∑®‰ª£ÊåáÈíàÔºåÊää‰ªñ‰ª¨Âä†ÂÖ•GC Roots‰∏≠‰∏ÄÂπ∂Êâ´Êèè„ÄÇ</p><h3 id="ÂûÉÂúæÂõûÊî∂ÁöÑ3ÁßçÁÆóÊ≥ï"><a href="#ÂûÉÂúæÂõûÊî∂ÁöÑ3ÁßçÁÆóÊ≥ï" class="headerlink" title="ÂûÉÂúæÂõûÊî∂ÁöÑ3ÁßçÁÆóÊ≥ï"></a>ÂûÉÂúæÂõûÊî∂ÁöÑ3ÁßçÁÆóÊ≥ï</h3><ul><li><p>Ê†áËÆ∞-Ê∏ÖÈô§ÁÆóÊ≥ï<br>Ê†áËÆ∞ÂêéÁªü‰∏ÄÂõûÊî∂<br>Á©∫Èó¥ÈóÆÈ¢ò: ‰ªñÂè™Êúâ‰∏ÄÂùóÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰ºö‰∫ßÁîüÁ©∫Èó¥Á¢éÁâáÔºåÂØºËá¥Ê≤°ÊúâÂ§™Â§öÁöÑÂèØÁî®ÁöÑÊØîËæÉÂ§ßÁöÑËøûÁª≠Á©∫Èó¥ÔºåÂØºËá¥ÂØπË±°ÂàõÂª∫Êâæ‰∏çÂà∞ÂÆπÁ∫≥Á©∫Èó¥ÔºåÁõ¥Êé•ËøõÂÖ•ËÄÅÂπ¥‰ª£„ÄÇ<br>‰ºòÁÇπÔºöÂø´ÔºåÊâæÂà∞Âπ∂È©¨‰∏äÂà†Èô§</p></li><li><p>Ê†áËÆ∞-Â§çÂà∂ÁÆóÊ≥ï<br>Ëµ∑ÂàùÊÄùÊÉ≥ÊòØÂ∞ÜÂÜÖÂ≠òÂàÜÂçäÔºåÂÜÖÂ≠ò1:1Ôºå‰∏ÄÈÉ®ÂàÜÂ≠òÂÇ®Êñ∞ÂØπË±°Ôºå‰∏ÄÈÉ®ÂàÜË¥üË¥£Êàë‰ª¨ÁöÑÂ≠òÊ¥ªÂØπË±°„ÄÇÂÆûÁé∞ÁöÑÊó∂ÂÄôÔºåedenÔºås0Ôºås1ÔºåÂπ∏Â≠òËÄÖÂå∫1‰∏™ÁºìÂÜ≤<br>Áº∫ÁÇπÔºöËá≥Â∞ë10%Á©∫Èó¥Êµ™Ë¥πÔºåÁõ∏ÂØπÊÖ¢<br>‰ºòÁÇπÔºöÈíàÂØπÂàõÂª∫ÂØπË±°ÔºåÊúâÂæàÂ§ßÁöÑÂèØÁî®ËøûÁª≠Á©∫Èó¥ÔºåGCÂêéÔºåedenÂå∫ÂüüÊ∏ÖÁ©∫ÔºåÈÉΩÊòØËøûÁª≠Á©∫Á©∫Èó¥ÔºåÊ≤°ÊúâÁ©∫Èó¥Á¢éÁâá</p></li></ul><ul><li>Ê†áËÆ∞-Êï¥ÁêÜÁÆóÊ≥ï<br>‰ºòÂåñ‰∫ÜÊ†áËÆ∞Â§çÂà∂ÁÆóÊ≥ïÂíåÊ†áÂøóÊ∏ÖÈô§ÁÆóÊ≥ïÁöÑÊîπËøõÔºå</li></ul><ol><li>Ê†áËÆ∞Âπ∂Ê∏ÖÈô§</li><li>Â≠òÊ¥ªÂØπË±°Êï¥ÁêÜÂà∞1Ëæπ<br>Âà†Èô§Âø´ÔºåÊ≤°ÊúâÁ©∫Èó¥Á¢éÁâá</li></ol><h3 id="ÂûÉÂúæÊî∂ÈõÜÂô®"><a href="#ÂûÉÂúæÊî∂ÈõÜÂô®" class="headerlink" title="ÂûÉÂúæÊî∂ÈõÜÂô®"></a>ÂûÉÂúæÊî∂ÈõÜÂô®</h3><figure class="image-box">                <img src="image_20220129152044.png?v=1&type=image&token=V1:muO6XhBva0We3ErRpB0T7PPyoRqWWSq-G6D2IwZ9ymA" alt title class>                <p></p>            </figure><ol><li>Êñ∞Áîü‰ª£Ôºöserial ÂçïÁ∫øÁ®ã<br>ÂçïÊ†∏ÊúçÂä°Âô®ÊúÄÂø´ÊúÄÁêÜÊÉ≥ÔºåÊúâstwÊöÇÂÅúÂíåÂÆâÂÖ®ÁÇπÁ∫øÁ®ãÊåÇËµ∑ÁöÑÈóÆÈ¢ò„ÄÇ<br>QÔºö‰ºö‰∏ç‰ºöÊúâCPUÊó∂Èó¥ÂàáÁâáËΩÆËØ¢Ôºü‰∏∫‰ªÄ‰πàÂçïÊ†∏Âø´Âë¢Ôºü<br>ÂÖ∂‰ªñÁ∫øÁ®ãÂøÖÈ°ªÊåÇËµ∑Stop the worldÔºåcpuÊó∂Èó¥ÁâáÈÉΩË¶ÅËêΩÂà∞ÂûÉÂúæÊî∂ÈõÜÁöÑÁ∫øÁ®ãÈáåÈù¢ÔºåÂÖ∂‰ªñÁ∫øÁ®ã‰∏ç‰ºöÊúâcpuÊó∂Èó¥ÁâáËΩÆËØ¢ÔºåÂç≥‰æøÊúâÔºåcpuÊó∂Èó¥Áâá‰πüÊòØ0„ÄÇÂÖ∂‰ªñÁ∫øÁ®ãÂ§Ñ‰∫éÂÜÖÊ†∏ÊÄÅÔºåÂè™ÊúâÂûÉÂúæÊî∂ÈõÜÂô®Â§Ñ‰∫éÁî®Êà∑ÊÄÅ„ÄÇ</li></ol><p>‰∏∫‰ªÄ‰πàStop the worldÂë¢Ôºü</p><ol start="2"><li><p>Êñ∞Áîü‰ª£ÔºöÂπ∂ÂèëÁöÑparNew „ÄÇ serial ÁöÑÂ§öÁ∫øÁ®ãÁâàÊú¨<br>Ê†áËÆ∞Â§çÂà∂ÁÆóÊ≥ï</p></li><li><p>Êñ∞Áîü‰ª£Ôºöparallel Scavenge„ÄÇ<br>ËÉΩÂ§öÁ∫øÁ®ãÔºåÂèàËÉΩÂÖ≥Ê≥®ÂíåÊéßÂà∂ÂêûÂêêÈáè„ÄÇ<br>ÂêûÂêêÈáè=ËøêË°åÁî®Êà∑‰ª£Á†ÅÊó∂Èó¥/(ËøêË°åÁî®Êà∑‰ª£Á†ÅÊó∂Èó¥+ËøêË°åÂûÉÂúæÊî∂ÈõÜÊó∂Èó¥)<br>‰∏ç‰∏éCMSÂêà‰Ωú</p></li></ol><p>‰∏§‰∏™ÊéßÂà∂ÂèÇÊï∞Ôºö<br>    ÊúÄÂ§ßÂûÉÂúæÊî∂ÈõÜÂÅúÈ°øÊó∂Èó¥<br>    Áõ¥Êé•ËÆæÁΩÆÂêûÂêêÈáèÂ§ßÂ∞è<br>Â¶Ç‰ΩïÊéßÂà∂ÂêûÂêêÈáèÔºü<br>    È¶ñÂÖàÔºåËøêË°åÁî®Êà∑‰ª£Á†Å‰∏ç‰ºöÂèò„ÄÇ<br>    ÈÇ£‰πàÔºåÈÄöËøáÂ§öËøêË°åÂá†ÂõûÂûÉÂúæÊî∂ÈõÜÔºåÊù•ÊèêÈ´ò‰∏ÄÊ¨°ËôöÊãüÊú∫ËøêË°åÁöÑÂêûÂêêÈáè„ÄÇ<br>    ÊØîÂ¶ÇÔºö Ê≥®ÊÑèÂêûÂêêÈáèÂèÇÊï∞ÊòØÔºà0,100Ôºâ</p><ol start="4"><li><p>ËÄÅÂπ¥‰ª£ÔºöSerial Old Êî∂ÈõÜÂô®<br>ÂçïÁ∫øÁ®ãÔºåÊ†áËÆ∞Êï¥ÁêÜÁÆóÊ≥ï</p></li><li><p>ËÄÅÂπ¥‰ª£ÔºöPallel Old Êî∂ÈõÜÂô®<br>Ê†áËÆ∞Êï¥ÁêÜÁÆóÊ≥ïÔºåjdk1.6ÊâçÂºÄÂßãÔºåÂêûÂêêÈáè‰ºòÂÖà„ÄÇ</p></li><li><p>ËÄÅÂπ¥‰ª£ÔºöCMS Êî∂ÈõÜÂô®<br>Concurent Mark Sweep Â§öÁ∫øÁ®ãÊ†áËÆ∞Ê∏ÖÈô§Ôºå‰ª•ÊúÄÁü≠ÂõûÊî∂ÂÅúÈ°øÊó∂Èó¥‰∏∫ÁõÆÊ†áÁöÑÊî∂ÈõÜÂô®„ÄÇ<br>ËÆ∞ÂøÜÔºö<br>‰∏â‰∏™mark‰∏ÄÊ∏ÖÈô§ÔºåÂàùÈáçstw</p></li></ol><p>CMSÊ≠•È™§ËøáÁ®ãÔºö<br>ÂàùÂßãÊ†áËÆ∞ stwÔºåÊ†áËÆ∞gcroots Áõ¥Êé•ÂÖ≥ËÅîÂØπË±°<br>Âπ∂ÂèëÊ†áËÆ∞  ‰∏çÂÅúÈ°øÔºåÊâ´ÊèèoldÂå∫ÂØπË±°„ÄÇ</p><blockquote><p>ÂàöÊâç‰∫ßÁîüÁöÑÈõÜÂêà‰∏≠Ê†áËÆ∞Âá∫Â≠òÊ¥ªÂØπË±°Ôºõ<br>Â∫îÁî®Á®ãÂ∫è‰πüÂú®ËøêË°åÔºõ<br>Âπ∂‰∏çËÉΩ‰øùËØÅÂèØ‰ª•Ê†áËÆ∞Âá∫ÊâÄÊúâÁöÑÂ≠òÊ¥ªÂØπË±°Ôºõ</p></blockquote><p>ÈáçÊñ∞Ê†áËÆ∞ stwÔºå‰øÆÊ≠£<br>Âπ∂ÂèëÊ∏ÖÈô§</p><p>stop the world ÂÖ∂‰ªñÁ∫øÁ®ãË¢´ÊåÇËµ∑ÔºåÂ§Ñ‰∫éÂÜÖÊ†∏ÊÄÅ„ÄÇ</p><p>‚Äª‚Äª<br>CMS Áº∫ÁÇπÔºö<br>È¶ñÂÖàÊâøËÆ§ÔºåG1 Âá∫Êù•‰πãÂâçÔºåjdk9‰πãÂâç, CMSÊòØÈù†Ë∞±ÁöÑ„ÄÇ</p><ol><li>ÂØπËµÑÊ∫êÂ§ÑÁêÜÈùûÂ∏∏ÊïèÊÑü„ÄÇ<br>Âú®Âπ∂ÂèëÊ†áËÆ∞Êó∂ÔºåÂç†Áî®CPUÁ∫øÁ®ãÊï∞ÔºåÂΩ±ÂìçÈ°πÁõÆ‰∏≠ËøêË°åÊâÄÁî®Á∫øÁ®ãÊï∞„ÄÇÂõ†‰∏∫Âç†Áî®ËµÑÊ∫êÔºåÂèØËÉΩÂØºËá¥ËµÑÊ∫ê‰∏çË∂≥„ÄÇÈªòËÆ§ÂêØÂä®(Ê†∏Êï∞n+3)/4Á∫øÁ®ãÔºåËøôÊ†∑ÔºåÊ†∏Êï∞Â§öÈò≤Ê≠¢Âç†Áî®„ÄÇ</li><li><p>Êó†Ê≥ïÂ§ÑÁêÜÊµÆÂä®ÂûÉÂúæ„ÄÇ<br>Âπ∂ÂèëÊ∏ÖÈô§ÔºåÁ®ãÂ∫èËøêË°å‰æùÁÑ∂ËøêË°åÔºåÊúâÊñ∞ÂûÉÂúæÂá∫Áé∞ÔºåÊú¨Ê¨°Êî∂ÈõÜÊó†Ê≥ïÂ§ÑÁêÜÔºåÁïôÂà∞‰∏ã‰∏ÄÊ¨°GCÊâçÊ∏ÖÁêÜÔºåËøôÂ∞±ÊòØ‚ÄúÊµÆÂä®ÂûÉÂúæ‚Äù„ÄÇÂ¶ÇÊûúÂØπË±°Ë¢´ÁñØÁãÇËÆøÈóÆÔºåÂ§ßÈáèÂØπË±°Â†ÜÁßØÔºåÂèØËÉΩÂá∫Áé∞‚ÄúConcurrent Mode Failure‚ÄùÂ§±Ë¥•ËÄåÂØºËá¥Âè¶‰∏ÄÊ¨°Full GCÁöÑ‰∫ßÁîü„ÄÇ</p></li><li><p>‚ÄúÊ†áËÆ∞Ê∏ÖÈô§ÁÆóÊ≥ï‚ÄùËôΩÁÑ∂Âø´Ôºå‰ºö‰∫ßÁîüÂ§ßÈáèÁ©∫Èó¥Á¢éÁâá„ÄÇ</p></li></ol><h3 id="stop-the-word-‚Äª‚Äª"><a href="#stop-the-word-‚Äª‚Äª" class="headerlink" title="stop the word ‚Äª‚Äª"></a>stop the word ‚Äª‚Äª</h3><p>ÂºïÂÖ•Ê¶ÇÂøµÔºöÊ†πËäÇÁÇπÊûö‰∏æ„ÄÇ<br>Âú®ÂºÄÂßãÊ†áËÆ∞Êî∂ÈõÜÁöÑÊó∂ÂÄôÔºå‰∏çÁÆ°ÂçïÁ∫øÁ®ãËøòÊòØÂπ∂ÂèëÔºå‰∏çÁÆ°ÊòØÂØπË±°ËøòÊòØÁ∫øÁ®ãÔºå‰∏ÄÂÆöÂú®‰∏ÄËá¥ÊÄßÁöÑÂø´ÁÖßÈáåÔºåÊâçËÉΩËøõË°å„ÄÇ<br>Â¶ÇÊûú‰∏çÁü•ÈÅìÂΩìÂâçÁöÑÁä∂ÊÄÅÁöÑËØùÔºåÊ≤°ÂäûÊ≥ïËøõË°åÂêéÁª≠ÁöÑÊ†áËÆ∞„ÄÇ<br>‰∏ÄËá¥ÊÄßÂø´ÁÖßÁöÑÂàÜÊûêÂ∑•‰ΩúÂ∞±ÊòØÊ†πËäÇÁÇπÊûö‰∏æÊúüÈó¥ÔºöÊâÄÊúâÁ∫øÁ®ãÂÅúÈ°ø„ÄÇ</p><p>OopMap ÁâπÂÆöÁöÑ‰ΩçÁΩÆËÆ∞ÂΩï‰∏ãÊ†àÂíåÂØÑÂ≠òÂô®‰∏≠ÁöÑÂì™‰∫õ‰ΩçÁΩÆÊòØÂºïÁî®</p><blockquote><p> OopMap ËÆ∞ÂΩï‰∫ÜÊ†à‰∏äÊú¨Âú∞ÂèòÈáèÂà∞Â†Ü‰∏äÂØπË±°ÁöÑÂºïÁî®ÂÖ≥Á≥ª„ÄÇÂÖ∂‰ΩúÁî®ÊòØÔºöÂûÉÂúæÊî∂ÈõÜÊó∂ÔºåÊî∂ÈõÜÁ∫øÁ®ã‰ºöÂØπÊ†à‰∏äÁöÑÂÜÖÂ≠òËøõË°åÊâ´ÊèèÔºåÁúãÁúãÂì™‰∫õ‰ΩçÁΩÆÂ≠òÂÇ®‰∫Ü Reference Á±ªÂûã„ÄÇÂ¶ÇÊûúÂèëÁé∞Êüê‰∏™‰ΩçÁΩÆÁ°ÆÂÆûÂ≠òÁöÑÊòØ Reference Á±ªÂûãÔºåÂ∞±ÊÑèÂë≥ÁùÄÂÆÉÊâÄÂºïÁî®ÁöÑÂØπË±°Ëøô‰∏ÄÊ¨°‰∏çËÉΩË¢´ÂõûÊî∂„ÄÇ‰ΩÜÈóÆÈ¢òÊòØÔºåÊ†à‰∏äÁöÑÊú¨Âú∞ÂèòÈáèË°®ÈáåÈù¢Âè™Êúâ‰∏ÄÈÉ®ÂàÜÊï∞ÊçÆÊòØ Reference Á±ªÂûãÁöÑÔºàÂÆÉ‰ª¨ÊòØÊàë‰ª¨ÊâÄÈúÄË¶ÅÁöÑÔºâÔºåÈÇ£‰∫õÈùû Reference Á±ªÂûãÁöÑÊï∞ÊçÆÂØπÊàë‰ª¨ËÄåË®ÄÊØ´Êó†Áî®Â§ÑÔºå‰ΩÜÊàë‰ª¨ËøòÊòØ‰∏çÂæó‰∏çÂØπÊï¥‰∏™Ê†àÂÖ®ÈÉ®Êâ´Êèè‰∏ÄÈÅçÔºåËøôÊòØÂØπÊó∂Èó¥ÂíåËµÑÊ∫êÁöÑ‰∏ÄÁßçÊµ™Ë¥π„ÄÇ<br> ‰∏Ä‰∏™ÂæàËá™ÁÑ∂ÁöÑÊÉ≥Ê≥ïÊòØÔºåËÉΩ‰∏çËÉΩÁî®Á©∫Èó¥Êç¢Êó∂Èó¥ÔºåÂú®Êüê‰∏™Êó∂ÂÄôÊääÊ†à‰∏ä‰ª£Ë°®ÂºïÁî®ÁöÑ‰ΩçÁΩÆÂÖ®ÈÉ®ËÆ∞ÂΩï‰∏ãÊù•ÔºåËøôÊ†∑Âà∞ÁúüÊ≠£ gc ÁöÑÊó∂ÂÄôÂ∞±ÂèØ‰ª•Áõ¥Êé•ËØªÂèñÔºåËÄå‰∏çÁî®ÂÜç‰∏ÄÁÇπ‰∏ÄÁÇπÁöÑÊâ´Êèè‰∫Ü„ÄÇ‰∫ãÂÆû‰∏äÔºåÂ§ßÈÉ®ÂàÜ‰∏ªÊµÅÁöÑËôöÊãüÊú∫‰πüÊ≠£ÊòØËøô‰πàÂÅöÁöÑÔºåÊØîÂ¶Ç HotSpot ÔºåÂÆÉ‰ΩøÁî®‰∏ÄÁßçÂè´ÂÅö OopMap ÁöÑÊï∞ÊçÆÁªìÊûÑÊù•ËÆ∞ÂΩïËøôÁ±ª‰ø°ÊÅØ„ÄÇ<br> Êàë‰ª¨Áü•ÈÅìÔºå‰∏Ä‰∏™Á∫øÁ®ãÊÑèÂë≥ÁùÄ‰∏Ä‰∏™Ê†àÔºå‰∏Ä‰∏™Ê†àÁî±Â§ö‰∏™Ê†àÂ∏ßÁªÑÊàêÔºå‰∏Ä‰∏™Ê†àÂ∏ßÂØπÂ∫îÁùÄ‰∏Ä‰∏™ÊñπÊ≥ïÔºå‰∏Ä‰∏™ÊñπÊ≥ïÈáåÈù¢ÂèØËÉΩÊúâÂ§ö‰∏™ÂÆâÂÖ®ÁÇπ„ÄÇ gc ÂèëÁîüÊó∂ÔºåÁ®ãÂ∫èÈ¶ñÂÖàËøêË°åÂà∞ÊúÄËøëÁöÑ‰∏Ä‰∏™ÂÆâÂÖ®ÁÇπÂÅú‰∏ãÊù•ÔºåÁÑ∂ÂêéÊõ¥Êñ∞Ëá™Â∑±ÁöÑ OopMap ÔºåËÆ∞‰∏ãÊ†à‰∏äÂì™‰∫õ‰ΩçÁΩÆ‰ª£Ë°®ÁùÄÂºïÁî®„ÄÇÊûö‰∏æÊ†πËäÇÁÇπÊó∂ÔºåÈÄíÂΩíÈÅçÂéÜÊØè‰∏™Ê†àÂ∏ßÁöÑ OopMap ÔºåÈÄöËøáÊ†à‰∏≠ËÆ∞ÂΩïÁöÑË¢´ÂºïÁî®ÂØπË±°ÁöÑÂÜÖÂ≠òÂú∞ÂùÄÔºåÂç≥ÂèØÊâæÂà∞Ëøô‰∫õÂØπË±°Ôºà GC Roots Ôºâ„ÄÇ<br> <strong>ÂèØ‰ª•ÊääoopMapÁÆÄÂçïÁêÜËß£ÊàêÊòØË∞ÉËØï‰ø°ÊÅØ„ÄÇÂú®Ê∫ê‰ª£Á†ÅÈáåÈù¢ÊØè‰∏™ÂèòÈáèÈÉΩÊòØÊúâÁ±ªÂûãÁöÑÔºå‰ΩÜÊòØÁºñËØë‰πãÂêéÁöÑ‰ª£Á†ÅÂ∞±Âè™ÊúâÂèòÈáèÂú®Ê†à‰∏äÁöÑ‰ΩçÁΩÆ‰∫Ü„ÄÇoopMapÂ∞±ÊòØ‰∏Ä‰∏™ÈôÑÂä†ÁöÑ‰ø°ÊÅØÔºåÂëäËØâ‰Ω†Ê†à‰∏äÂì™‰∏™‰ΩçÁΩÆÊú¨Êù•ÊòØ‰∏™‰ªÄ‰πà‰∏úË•ø„ÄÇ Ëøô‰∏™‰ø°ÊÅØÊòØÂú®JITÁºñËØëÊó∂Ë∑üÊú∫Âô®Á†Å‰∏ÄËµ∑‰∫ßÁîüÁöÑ„ÄÇÂõ†‰∏∫Âè™ÊúâÁºñËØëÂô®Áü•ÈÅìÊ∫ê‰ª£Á†ÅË∑ü‰∫ßÁîüÁöÑ‰ª£Á†ÅÁöÑÂØπÂ∫îÂÖ≥Á≥ª„ÄÇ ÊØè‰∏™ÊñπÊ≥ïÂèØËÉΩ‰ºöÊúâÂ•ΩÂá†‰∏™oopMapÔºåÂ∞±ÊòØÊ†πÊçÆsafepointÊää‰∏Ä‰∏™ÊñπÊ≥ïÁöÑ‰ª£Á†ÅÂàÜÊàêÂá†ÊÆµÔºåÊØè‰∏ÄÊÆµ‰ª£Á†Å‰∏Ä‰∏™oopMapÔºå‰ΩúÁî®ÂüüËá™ÁÑ∂‰πü‰ªÖÈôê‰∫éËøô‰∏ÄÊÆµ‰ª£Á†Å„ÄÇ Âæ™ÁéØ‰∏≠ÂºïÁî®Â§ö‰∏™ÂØπË±°ÔºåËÇØÂÆö‰ºöÊúâÂ§ö‰∏™ÂèòÈáèÔºåÁºñËØëÂêéÂç†ÊçÆÊ†à‰∏äÁöÑÂ§ö‰∏™‰ΩçÁΩÆ„ÄÇÈÇ£ËøôÊÆµ‰ª£Á†ÅÁöÑoopMapÂ∞±‰ºöÂåÖÂê´Â§öÊù°ËÆ∞ÂΩï„ÄÇ</strong><br> ÈÄöËøá‰∏äÈù¢ÁöÑËß£ÈáäÔºåÊàë‰ª¨ÂèØ‰ª•ÂæàÊ∏ÖÊ•öÁöÑÁúãÂà∞‰ΩøÁî® OopMap ÂèØ‰ª•ÈÅøÂÖçÂÖ®Ê†àÊâ´ÊèèÔºåÂä†Âø´Êûö‰∏æÊ†πËäÇÁÇπÁöÑÈÄüÂ∫¶„ÄÇ‰ΩÜËøôÂπ∂‰∏çÊòØÂÆÉÁöÑÂÖ®ÈÉ®Áî®ÊÑè„ÄÇÂÆÉÁöÑÂè¶Â§ñ‰∏Ä‰∏™Êõ¥Ê†πÊú¨ÁöÑ‰ΩúÁî®ÊòØÔºåÂèØ‰ª•Â∏ÆÂä© HotSpot ÂÆûÁé∞ÂáÜÁ°ÆÂºè GC „ÄÇ</p></blockquote><h3 id="ÂÆâÂÖ®ÁÇπSafepoint"><a href="#ÂÆâÂÖ®ÁÇπSafepoint" class="headerlink" title="ÂÆâÂÖ®ÁÇπSafepoint"></a>ÂÆâÂÖ®ÁÇπSafepoint</h3><p>ÂûÉÂúæÊî∂ÈõÜËøáÁ®ãÔºåÁî®Êà∑Á∫øÁ®ãÂà∞ËææÁâπÂÆö‰ΩçÁΩÆÔºåËøô‰ΩçÁΩÆ‰∏ç‰ºö‰∫ßÁîüÊñ∞ÂØπË±°Ôºå‰πü‰∏ç‰ºöÂΩ±ÂìçÈ°πÁõÆÁöÑÊâßË°åÔºåÂè™ËÉΩËÆ©ÂûÉÂúæÊî∂ÈõÜÈùûÂ∏∏ÂÆâÂÖ®ÁöÑËøõË°å‰∏ãÂéª„ÄÇ<br>‰ΩçÁΩÆÔºö<br>1„ÄÅÂæ™ÁéØÁöÑÊú´Â∞æ<br>2„ÄÅÊñπÊ≥ï‰∏¥ËøîÂõûÂâç / Ë∞ÉÁî®ÊñπÊ≥ïÁöÑcallÊåá‰ª§Âêé<br>3„ÄÅÂèØËÉΩÊäõÂºÇÂ∏∏ÁöÑ‰ΩçÁΩÆ</p><p>OopMapÁ∫øÁ®ãÊâæÂØπË±°<br>ÂõûÈ°æÂè•ÊüÑÊ±†ÔºåÁõ¥Êé•ÊåáÈíà„ÄÇ</p><p>Â¶Ç‰ΩïÁ∫øÁ®ãÂ¶Ç‰ΩïÊâæClassÊñá‰ª∂Ôºü<br>ÊâæÂ∏∏ÈáèÊ±†ÈáåÁöÑConstant_class_infoÊåáÂêëConstant_utf8_info,ÊâæÂà∞ÊùÉÈôêÂëΩÂêçÔºåÂÜçÂéªÊñπÊ≥ïÂå∫„ÄÇÔºàÁ±ªÂä†ËΩΩËøáÁ®ã‰∏≠ÔºåÂØπË±°Âä†ËΩΩÂà∞ÊñπÊ≥ïÂå∫ÔºåÂÜçÂú®Â†ÜÁîüÊàêclassÂØπË±°Ôºå‰Ωú‰∏∫ËÆøÈóÆÁ±ªÁöÑÂÖ•Âè£ÔºâÂú®Â†Ü‰∏≠ÂÆö‰ΩçÂà∞Class„ÄÇ</p><p>ÊÉ≥ÁªßÁª≠ÊâæÊñπÊ≥ïÔºü<br>ÊñπÊ≥ïË°®-&gt;Â±ûÊÄßË°®-&gt;code-&gt;max stackÔºåmax localÔºåÊñπÊ≥ïÂÖ•Âè£-&gt; ‰ª£Á†Å</p><h3 id="G1ÂûÉÂúæÊî∂ÈõÜÂô®‚Äª‚Äª"><a href="#G1ÂûÉÂúæÊî∂ÈõÜÂô®‚Äª‚Äª" class="headerlink" title="G1ÂûÉÂúæÊî∂ÈõÜÂô®‚Äª‚Äª"></a>G1ÂûÉÂúæÊî∂ÈõÜÂô®‚Äª‚Äª</h3><figure class="image-box">                <img src="image-20220208015310593.png" alt title class>                <p></p>            </figure><ol><li>ÂàÜ‰ª£ÁêÜËÆ∫ÂûÉÂúæÊî∂ÈõÜÔºåÂè™‰∏çËøáÊòØÂ¢ûÂä†‰∏Ä‰∏™ÊãìÂ±ï„ÄÇ</li><li>ÊääÂÜÖÂ≠òÂå∫ÂüüÂàÜÊàêÂ§ö‰∏™Â§ßÂ∞èÁõ∏Á≠âÁöÑÂÜÖÂ≠òÂå∫ÂüüÂùóRegion„ÄÇ</li><li>jdk9ÂèëÂ∏ÉÔºåÊääÂêûÂêêÈáèÁªÑÂêàÂèñ‰ª£‰∫ÜÔºåÊàê‰∏∫ÊúçÂä°Á´ØÈªòËÆ§„ÄÇÂ¶ÇÊûúÊç¢ÊàêCMSÔºåÈÇ£‰πàJDKÂèÇÊï∞ÈÖçÁΩÆÂºÄÂêØCMSÔºå‰∏çËøáÊèêÁ§∫WarningsÔºöCMS‰ª•Âêé‰ºöË¢´Â∫üÂºÉ„ÄÇ</li><li>ÂÜÖÂ≠òÂàÜÂùó‰ºöÊåâÁÖß‚ÄúÊÑèÊÑø‚ÄùËøõË°åÂ±ÄÈÉ®Êî∂ÈõÜ„ÄÇ</li><li><p>RegionÂ†ÜÂÜÖÂ≠òÂ∏ÉÂ±ÄÁöÑÂéüÁêÜÔºö<br>‰∏çÂÜçÂùöÊåÅÂõ∫ÂÆöÂ§ßÂ∞èÁöÑÂàÜ‰ª£ÁêÜËÆ∫ÔºåÊääÂÜÖÂ≠òÂå∫ÂüüÂàÜÊàêÂ§ö‰∏™Â§ßÂ∞èÁõ∏Á≠âÁöÑÂÜÖÂ≠òÂå∫ÂüüÂùóRegionÔºåÊØè‰∏™Region‰ºöÊ†πÊçÆÈúÄË¶ÅÊâÆÊºîÊñ∞Áîü‰ª£edenÔºåsurvivalÔºâÔºåËÄÅÂπ¥‰ª£ÁöÑËßíËâ≤„ÄÇ<br>Â¶ÇÊûúÊúâÂ§ßÂØπË±°Ôºü<br>G1‰ºöÂàÜÂá∫‰∏ÄÈÉ®ÂàÜÂå∫Âüü‰Ωú‰∏∫ÁâπÊÆäÂå∫Âüü‰∏ìÈó®Â≠òÂÇ®Â§ßÂØπË±°ÔºåÂ¶ÇÊûúÈÄöËøáG1Ê£ÄÊµãÔºåÂè™Ë¶ÅÂ§ßÂ∞èË∂ÖËøá<strong>Ë∂ÖËøá1.5‰∏™region</strong>ÔºåÂ∞±ÂèØ‰ª•Âà§Êñ≠Â§ßÂØπË±°ÔºåÂ∞±ÊîæÂà∞H„ÄÇRegionÂèØ‰ª•ÈÄöËøáJVMÂèÇÊï∞ËÆæÁΩÆÔºå1-32GB‰πãÈó¥„ÄÇÂ¶ÇÊûúË∂ÖËøá16GBÔºåËÇØÂÆöÊîæÂú®Â§ßÂØπË±°Âå∫Âüü„ÄÇ<br>Â§ßÂØπË±°Âå∫ÂüüÁß∞‰∏∫ÔºöhumongousÔºåÂÖ®Áß∞Ôºöattempt_allocation_humongous„ÄÇ<br>ÂØπ‰∫éË∂ÖÂ§ßÂØπË±°ÔºåÊØîÂ¶Ç32GBÔºå‰ºöÂàÜÈÖç‰∏§‰∏™ËøûÁª≠ÁöÑRegionÁ©∫Èó¥„ÄÇ</p></li><li><p><strong>Ê†áÊ¶úÔºöÂèØÈ¢ÑÊµãÂÅúÈ°øÊó∂Èó¥ÁöÑÊ®°Âûã„ÄÇ</strong><br> ÂÖ≥Ê≥®ÊØè‰∏™Ê®°ÂùóÈáåÂõûÊî∂‰ª∑ÂÄºÁöÑÂ§ßÂ∞èÔºåÈÄöËøáËÆæÁΩÆ‰∏Ä‰∏™Âæà‰ΩéÁöÑÊúÄÂ§ßÂÖÅËÆ∏GCÊó∂Èó¥msÔºåÔºå-XXÔºöMaxGCPauseMillis =200ÔºåÊ†πÊçÆ200msÂéªÊâæÂÆÉËÉΩÂ§üËøõË°åÊî∂ÈõÜÁöÑRegionÔºåÊØîÂ¶ÇÔºöÊî∂10‰∏™RegionÈúÄË¶ÅËä±300msÔºåÁî±‰∫éË∂ÖËøá200msÔºåÊåâÊØî‰æãÈôç‰ΩéÂÖàÊî∂ÈõÜ6-7RegionËææÂà∞ËÄå200msË¶ÅÊ±Ç„ÄÇ</p><ul><li>Áî±‰∫éÂàÜÂå∫ÁöÑÂéüÂõ†,G1ÂèØ‰ª•Âè™ÈÄâÂèñÈÉ®ÂàÜÂå∫ÂüüËøõË°åÂÜÖÂ≠òÂõûÊî∂,ËøôÊ†∑Áº©Â∞è‰∫ÜÂõûÊî∂ÁöÑËåÉÂõ¥,Âõ†Ê≠§ÂØπ‰∫éÂÖ®Â±ÄÂÅúÈ°øÊÉÖÂÜµÁöÑÂèëÁîü‰πüËÉΩÂæóÂà∞ËæÉÂ•ΩÁöÑÊéßÂà∂</li></ul></li></ol><ul><li>G1 Ë∑üË∏™ÂêÑ‰∏™ Region ÈáåÈù¢ÁöÑÂûÉÂúæÂ†ÜÁßØÁöÑ‰ª∑ÂÄºÂ§ßÂ∞è(ÂõûÊî∂ÊâÄËé∑ÂæóÁöÑÁ©∫Èó¥Â§ßÂ∞è‰ª•ÂèäÂõûÊî∂ÊâÄÈúÄÊó∂Èó¥ÁöÑÁªèÈ™åÂÄº),Âú®ÂêéÂè∞Áª¥Êä§‰∏Ä‰∏™‰ºòÂÖàÂàóË°®,<strong>ÊØèÊ¨°Ê†πÊçÆÂÖÅËÆ∏ÁöÑÊî∂ÈõÜÊó∂Èó¥,‰ºòÂÖàÂõûÊî∂‰ª∑ÂÄºÊúÄÂ§ßÁöÑRegion„ÄÇ‰øùËØÅ‰∫ÜG1Êî∂ÈõÜÂô®Âú®ÊúâÈôêÁöÑÊó∂Èó¥ÂÜÖÂèØ‰ª•Ëé∑ÂèñÂ∞ΩÂèØËÉΩÈ´òÁöÑÊî∂ÈõÜÊïàÁéá</strong>„ÄÇ</li></ul><p>QÔºöÂ¶Ç‰ΩïËß£ÂÜ≥Ë∑®‰ª£RegionÂºïÁî®ÈóÆÈ¢òÔºü<br>AÔºö‰ΩøÁî®ËÆ∞ÂøÜÈõÜÔºåÁªìÊûÑÁõ∏ÂØπÂ§çÊùÇÔºåÊòØ‰∏™ÂèåÂêëÂç°Ë°®„ÄÇ</p><p>Ê≠•È™§Ôºö<br>1.ÂàùÂßãÊ†áËÆ∞Ôºöstw<br>    GCRootsÊ†πËäÇÁÇπÊûö‰∏æÔºåÂú®ÂÆâÂÖ®ÁÇπËøõË°å<br>2.Âπ∂ÂèëÊ†áËÆ∞<br>3.ÊúÄÁªàÊ†áËÆ∞Ôºöstw<br>4.Á≠õÈÄâÂõûÊî∂<br>    <strong>Ê†πÊçÆMaxGCPauseMillisÊúÄÂ§ßÂÖÅËÆ∏GCÊó∂Èó¥Ôºå‰ºòÂÖàÂõûÊî∂‰ª∑ÂÄºÊúÄÂ§ßÁöÑRegionÔºå ‰øùËØÅÂèØÈ¢ÑÊµãÂÅúÈ°øÊó∂Èó¥„ÄÇ</strong></p><h3 id="JVMË∞É‰ºòÁªèÈ™å-‚Äª‚Äª"><a href="#JVMË∞É‰ºòÁªèÈ™å-‚Äª‚Äª" class="headerlink" title="JVMË∞É‰ºòÁªèÈ™å ‚Äª‚Äª"></a>JVMË∞É‰ºòÁªèÈ™å ‚Äª‚Äª</h3><p>Ê†πÊçÆÁî®Êà∑ËÆøÈóÆÈáèÔºåÂú®‰∏çÂêåÊó∂ÂàªÂØºËá¥JVMÂõûÊî∂<br>Âú®‰∏äÁ∫øÂâçÔºåÂÅöÂéãÊµãÔºåÁõëÁù£ÂÜÖÂ≠òÁ©∫Èó¥ÁöÑ‰ΩøÁî®Ôºå‰ª•ÂèäÂèëÁîüGCÂõûÊî∂ÁöÑÈ¢ëÁéáÂíåÂÅúÈ°øÊó∂Èó¥„ÄÇ</p><ol><li><p>Â§ßËÆøÈóÆÁöÑÂéãÂäõÔºå‰∏ÄËæπÂõûÊî∂‰∏ÄËæπÂØπË±°ÊåÅÁª≠ÂàõÂª∫ÔºåminorGC‰ºöÊØîËæÉÈ¢ëÁπÅÔºåÈÇ£‰πàÔºå‰∏ÄÔºö<strong>Ë∞ÉÂ§ßÂπ¥ËΩª‰ª£ÁöÑÂ§ßÂ∞è</strong>„ÄÇ‰∫åÔºöÂ¶ÇÊûúÂèëÁîüÊó∂Èó¥‰∏çÈïøÔºåÂæàÂø´ÂõûÊî∂Ôºå‰∏îÂõûÊî∂ÁéáÈ´òÔºå‰∏ç‰ºöÂØºËá¥ËÄÅÂπ¥‰ª£Áü≠Êó∂Èó¥ÂÜÖÊúâÂØπË±°Â°´ÂÖÖÔºåÈÇ£‰πàÂ∞±Ôºå<strong>ËøõË°åÊåÅÁª≠ÂéãÊµã</strong>ÔºåËßÇÂØüËÄÅÂπ¥‰ª£ÁöÑ‰∏äÈôê„ÄÇ</p></li><li><p>Â§ßÂØπË±°ÂàõÂª∫ÁöÑÈ¢ëÁπÅ‰∏îÂ∏∏ËÆøÈóÆÔºåÂØºËá¥FullGCÊØîËæÉÈ¢ëÁπÅÔºåÔºàÂØπ‰∫éG1‰ºöÂàÜÈÖçÂà∞humongousÂå∫Ôºâ„ÄÇ‰∏ÄÔºöÂéãÊµãËßÇÂØüÂ§ßÂØπË±°ÁöÑÂ§ßÂ∞èÔºåËøáÂ§ßÂèØ‰ª•ÊääÂØπË±°ÊãÜÂàÜÔºåÁª¥ÊåÅÂú®JVMÂèÇÊï∞‰∏ãÔºõ‰∫åÔºöÈÄÇÂΩìË∞ÉÂ§ßÂà§Êñ≠‰∏∫Â§ßÂØπË±°ÁöÑÂèÇÊï∞ÔºåÈò≤Ê≠¢ÂÆÉÁõ¥Êé•ËøõÂÖ•ËÄÅÂπ¥‰ª£Ôºõ‰∏âÔºöÂèëÁîüOOMÂºÇÂ∏∏ÔºåÂ¶Ç‰ΩïÊéíÊü•Âë¢ÔºüÂéãÊµãËøáÁ®ãÔºå‰∏ÄÂÆöÂÖàdumpÂá∫Êù•Â†ÜÂÜÖÂ≠òÁöÑheapÊñá‰ª∂ÔºåÂØºÂÖ•visual VMÂ∑•ÂÖ∑Ôºå‰∏ªË¶ÅÊü•ÁúãÂ†ÜÊ†à‰ø°ÊÅØ„ÄÇÊâæÂÜÖÂ≠òÂç†Áî®È´òÁöÑÂØπË±°ÔºåReferenceÊåáÂêëÂ†ÜÊ†à‰ø°ÊÅØÔºåÊúÄÁªàÂÆö‰Ωç‰ª£Á†Å„ÄÇspringbootÁöÑContext‰∏ä‰∏ãÊñáÊòØÂçï‰æãÔºåÂæàÈöæÂèëÁîüÂ§ßÂØπË±°È¢ëÁπÅÂàõÂª∫„ÄÇÂõõ:  Á∫øÁ®ãÊó†Ê≥ïÂà∞ËææÂÆâÂÖ®ÁÇπÔºåËØ∑Ê±ÇÁ¨¨‰∏âÊñπÁ≠âÂæÖ‰∏≠ÔºåÊØîÂ¶Ç60sË∂ÖÊó∂Êó∂Èó¥ÔºåÂÖ∂‰ªñÁ∫øÁ®ãÁöÑÂ∑≤ÁªèÂú®ÂÆâÂÖ®ÁÇπSTWÔºåËøôÈáåÁªÜËØ¥ÔºöÁî®Êà∑ÊÄÅÂíåÂÜÖÊ†∏ÊÄÅ„ÄÇ</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;ÂºïË®ÄÔºö&lt;/strong&gt;&lt;br&gt;Êù•Ê∫êÔºöÁü•ËØÜÁªìÊûÑÊù•Ëá™Ê≤≥ÂåóÁéãÊ†°ÈïøÁöÑJVMÁ≥ªÂàóÔºåÂçö‰∏ªÂü∫‰∫éËßÜÈ¢ëËá™ÂÜôÁ¨îËÆ∞ÔºåÂπ∂Ë°•ÂÖÖÂ§ßÈáèÁöÑÂª∂‰º∏ÂÜÖÂÆπ„ÄÇ&lt;br&gt;‰ºòÁÇπÔºöÁ¨îËÆ∞Áü•ËØÜÁÇπÂÖ≥ËÅîÊÄßÂ•ΩÔºåÊåñÂæóÊ∑±ÔºåÂª∂‰º∏Â§ö„ÄÇ&lt;br&gt;Áº∫ÁÇπÔºöÁº∫Â∞ëJVM‰∏éÂ§öÁ∫øÁ®ãÁªìÂêàÁöÑÂÜÖÂÆπÔºå‰ª•Âêé‰ºöË°•ÂÖÖ‰∏äÔºõÊéíÁâà‰∏ÄËà¨&lt;/p&gt;
&lt;h1 id=</summary>
      
    
    
    
    <category term="jvm" scheme="https://github.com/missionOdd/categories/jvm/"/>
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/categories/jvm/ÊäÄÊúØ/"/>
    
    
    <category term="jvm" scheme="https://github.com/missionOdd/tags/jvm/"/>
    
    <category term="java" scheme="https://github.com/missionOdd/tags/java/"/>
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/tags/ÊäÄÊúØ/"/>
    
    <category term="ÂéüÁêÜ" scheme="https://github.com/missionOdd/tags/ÂéüÁêÜ/"/>
    
  </entry>
  
  <entry>
    <title>ËÆæËÆ°Ê†à |  Ê®°ÊãüÊ†àÁöÑÂéãÂÖ•„ÄÅÂºπÂá∫Â∫èÂàó</title>
    <link href="https://github.com/missionOdd/2022/01/13/zhan-de-ya-ru-dan-chu-xu-lie-lcof/"/>
    <id>https://github.com/missionOdd/2022/01/13/zhan-de-ya-ru-dan-chu-xu-lie-lcof/</id>
    <published>2022-01-13T04:30:37.000Z</published>
    <updated>2022-02-16T12:16:18.359Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/zhan-de-ya-ru-dan-chu-xu-lie-lcof/" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><p>ÂâëÊåá Offer 31. Ê†àÁöÑÂéãÂÖ•„ÄÅÂºπÂá∫Â∫èÂàó<br>ËæìÂÖ•‰∏§‰∏™Êï¥Êï∞Â∫èÂàóÔºåÁ¨¨‰∏Ä‰∏™Â∫èÂàóË°®Á§∫Ê†àÁöÑÂéãÂÖ•È°∫Â∫èÔºåËØ∑Âà§Êñ≠Á¨¨‰∫å‰∏™Â∫èÂàóÊòØÂê¶‰∏∫ËØ•Ê†àÁöÑÂºπÂá∫È°∫Â∫è„ÄÇÂÅáËÆæÂéãÂÖ•Ê†àÁöÑÊâÄÊúâÊï∞Â≠óÂùá‰∏çÁõ∏Á≠â„ÄÇ‰æãÂ¶ÇÔºåÂ∫èÂàó {1,2,3,4,5} ÊòØÊüêÊ†àÁöÑÂéãÊ†àÂ∫èÂàóÔºåÂ∫èÂàó {4,5,3,2,1} ÊòØËØ•ÂéãÊ†àÂ∫èÂàóÂØπÂ∫îÁöÑ‰∏Ä‰∏™ÂºπÂá∫Â∫èÂàóÔºå‰ΩÜ {4,3,5,1,2} Â∞±‰∏çÂèØËÉΩÊòØËØ•ÂéãÊ†àÂ∫èÂàóÁöÑÂºπÂá∫Â∫èÂàó„ÄÇ</p></blockquote><blockquote><p>Á§∫‰æã 1Ôºö<br>ËæìÂÖ•Ôºöpushed = [1,2,3,4,5], popped = [4,5,3,2,1]<br>ËæìÂá∫Ôºötrue<br>Ëß£ÈáäÔºöÊàë‰ª¨ÂèØ‰ª•Êåâ‰ª•‰∏ãÈ°∫Â∫èÊâßË°åÔºö<br>push(1), push(2), push(3), push(4), pop() -&gt; 4,<br>push(5), pop() -&gt; 5, pop() -&gt; 3, pop() -&gt; 2, pop() -&gt; 1</p></blockquote><blockquote><p>Á§∫‰æã 2Ôºö<br>ËæìÂÖ•Ôºöpushed = [1,2,3,4,5], popped = [4,3,5,1,2]<br>ËæìÂá∫Ôºöfalse<br>Ëß£ÈáäÔºö1 ‰∏çËÉΩÂú® 2 ‰πãÂâçÂºπÂá∫„ÄÇ</p></blockquote><blockquote><p>ÊèêÁ§∫Ôºö<br>0 &lt;= pushed.length == popped.length &lt;= 1000<br>0 &lt;= pushed[i], popped[i] &lt; 1000<br>pushed ÊòØ popped ÁöÑÊéíÂàó„ÄÇ</p></blockquote><h3 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h3><p>Êó¢ÁÑ∂Êú¨È¢òÈúÄË¶ÅÊ®°Ê†àÁöÑÂéãÂÖ•„ÄÅÂºπÂá∫Â∫èÂàóÔºåÂ∞±Ë¶ÅÊ®°ÊãüÂà∞Â∫ïÔºåËá™Â∑±ËÆæËÆ°‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊ†à</p><ol><li>ËÆæËÆ°Ê†àÔºöÂÆö‰πâ‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫pushed.lengthÊï∞ÁªÑ‰Ωú‰∏∫Ê†àÔºåÂÆö‰πâ‰∏Ä‰∏™Êï¥ÂûãÂèòÈáè‰Ωú‰∏∫Ê†àÈ°∂</li><li>Êûö‰∏æÂéãÊ†àÔºåÂΩìÊ†àÈ°∂ÂÖÉÁ¥†ÂíåÂá∫Ê†àÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†Áõ∏ÂêåÔºåÂàôÂºπÊ†àÔºåÂá∫Ê†àÂàóË°®ÊåáÈíàÂêéÁßªÂπ∂ÁªßÁª≠Âà§Êñ≠„ÄÇ</li><li>ÊúÄÂêéÂà§Êñ≠Âá∫Ê†àÂàóË°®ÊåáÈíàÊòØÂê¶ÊåáÂêëÂá∫Ê†àÂàóË°®ÁöÑÊú´Â∞æ„ÄÇ<h3 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">validateStackSequences</span><span class="params">(<span class="keyword">int</span>[] pushed, <span class="keyword">int</span>[] popped)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] stack = <span class="keyword">new</span> <span class="keyword">int</span>[pushed.length];</span><br><span class="line">        <span class="keyword">int</span> top = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pushed.length; i++)&#123;</span><br><span class="line">            stack[top] = pushed[i]; <span class="comment">// push</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(j &lt; popped.length &amp;&amp; top &gt;= <span class="number">0</span> &amp;&amp; stack[top] == popped[j])&#123;</span><br><span class="line">                top--; <span class="comment">// pop</span></span><br><span class="line">                j++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            top++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> j==popped.length;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>Á©∫Èó¥‰ºòÂåñÔºöÊääÂ∑≤ÁªèÊûö‰∏æËøáÁöÑpushed[]ÂâçÈÉ®ÂàÜ‰Ωú‰∏∫Ê†à</p><h3 id="Á©∫Èó¥‰ºòÂåñ"><a href="#Á©∫Èó¥‰ºòÂåñ" class="headerlink" title="Á©∫Èó¥‰ºòÂåñ"></a>Á©∫Èó¥‰ºòÂåñ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">validateStackSequences</span><span class="params">(<span class="keyword">int</span>[] pushed, <span class="keyword">int</span>[] popped)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> top = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pushed.length; i++)&#123;</span><br><span class="line">            pushed[top] = pushed[i]; <span class="comment">// push</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span>(j &lt; popped.length &amp;&amp; top &gt;= <span class="number">0</span> &amp;&amp; pushed[top] == popped[j])&#123;</span><br><span class="line">                top--; <span class="comment">// pop</span></span><br><span class="line">                j++;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            top++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> j==popped.length;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/zhan-de-ya-ru-dan-chu-xu-lie-lcof/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;the leetcode link&lt;/a&gt;&lt;/p&gt;
&lt;b</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="Ê®°Êãü" scheme="https://github.com/missionOdd/tags/Ê®°Êãü/"/>
    
    <category term="Ê†à" scheme="https://github.com/missionOdd/tags/Ê†à/"/>
    
  </entry>
  
  <entry>
    <title>TCPÁ≤òÂåÖÊòØ‰ªÄ‰πàÔºü Â¶Ç‰ΩïËß£ÂÜ≥Ôºü</title>
    <link href="https://github.com/missionOdd/2022/01/12/zhan-bao/"/>
    <id>https://github.com/missionOdd/2022/01/12/zhan-bao/</id>
    <published>2022-01-12T14:15:08.000Z</published>
    <updated>2022-02-16T10:35:17.364Z</updated>
    
    <content type="html"><![CDATA[<p>‰∫ãÊÉÖ‰ªé‰∏Ä‰∏™ÂÅ•Ë∫´ÊïôÁªÉËØ¥Ëµ∑Âêß„ÄÇ</p><p>Êùé‰∏úÔºåËá™Áß∞‰∫öÂÅ•Â∫∑ÁªàÁªìËÄÖÔºåÂ∞ùËØï‰ΩøÁî®‰∫íËÅîÁΩë+ÁöÑÊ®°ÂºèÊãìÂ±ïËá™Â∑±ÁöÑ‰∏öÂä°„ÄÇÂú®ÊüêÊ¨æÊñ∞ÂºÄÂèëÁöÑËÅäÂ§©ËΩØ‰ª∂<strong>ÁêõÁêõ</strong>‰∏äÂèëÂ∏ÉÂπøÂëä„ÄÇ</p><p>ÈîÆÁõòËØ¥Êù•Â∞±Êù•„ÄÇÁñØÁãÇÂèëÈÄÅ‚ÄùÊùé‰∏ú‚ÄùÔºåÂõûËΩ¶ÂèëÈÄÅÔºÅÔºå‚Äù‰∫öÂÅ•Â∫∑ÁªàÁªìËÄÖ‚ÄùÔºåÂÜçÂõûËΩ¶ÂèëÈÄÅÔºÅ</p><p>ËøòËÆ∞Âæó<strong>ÂõõÂ±ÇÁΩëÁªúÂçèËÆÆ</strong>Èïø‰ªÄ‰πàÊ†∑Â≠êÂêóÔºü</p><figure class="image-box">                <img src="v2-3ce2ef6cc4a7f288941ade57c9799450_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>ÂõõÂ±ÇÁΩëÁªúÊ®°ÂûãÊØèÂ±ÇÂêÑÂè∏ÂÖ∂ËÅåÔºåÊ∂àÊÅØÂú®ËøõÂÖ•ÊØè‰∏ÄÂ±ÇÊó∂ÈÉΩ‰ºöÂ§öÂä†‰∏Ä‰∏™<strong>Êä•Â§¥</strong>ÔºåÊØèÂ§ö‰∏Ä‰∏™Êä•Â§¥ÂèØ‰ª•ÁêÜËß£‰∏∫<strong>Êï∞ÊçÆÊä•Â§öÊà¥‰∏ÄÈ°∂Â∏ΩÂ≠ê</strong>„ÄÇËøô‰∏™Êä•Â§¥‰∏äÈù¢ËÆ∞ÂΩïÁùÄÊ∂àÊÅØ‰ªéÂì™Êù•ÔºåÂà∞Âì™ÂéªÔºå‰ª•ÂèäÊ∂àÊÅØÂ§öÈïøÁ≠â‰ø°ÊÅØ„ÄÇÊØîÂ¶ÇÔºå<strong><code>macÂ§¥ÈÉ®</code>ËÆ∞ÂΩïÁöÑÊòØÁ°¨‰ª∂ÁöÑÂîØ‰∏ÄÂú∞ÂùÄÔºå<code>IPÂ§¥</code>ËÆ∞ÂΩïÁöÑÊòØ‰ªéÂì™Êù•ÂíåÂà∞Âì™ÂéªÔºå‰º†ËæìÂ±ÇÂ§¥ËÆ∞ÂΩïÂà∞ÊòØÂà∞ËææÁõÆÁöÑ‰∏ªÊú∫ÂêéÂÖ∑‰ΩìÂéªÂì™‰∏™ËøõÁ®ã</strong>„ÄÇ</p><p>Âú®‰ªéÊ∂àÊÅØÂèëÂà∞ÁΩëÁªúÁöÑÊó∂ÂÄôÁªôÊ∂àÊÅØÂ∏¶‰∏äÊä•Â§¥ÔºåÊ∂àÊÅØÂíåÁ∫∑ÁπÅÂ§çÊùÇÁöÑÁΩëÁªú‰∏≠ÈÄöËøáËøô‰∫õ‰ø°ÊÅØÂú®Ë∑ØÁî±Âô®Èó¥ÊµÅËΩ¨ÔºåÊúÄÂêéÂà∞ËææÁõÆÁöÑÊú∫Âô®‰∏äÔºåÊé•ÂèóËÄÖÂÜçÈÄöËøáËøô‰∫õÊä•Â§¥Ôºå‰∏ÄÊ≠•‰∏ÄÊ≠•ËøòÂéüÂá∫ÂèëÈÄÅËÄÖÊúÄÂéüÂßãË¶ÅÂèëÈÄÅÁöÑÊ∂àÊÅØ„ÄÇ</p><figure class="image-box">                <img src="v2-a74a8e2932a412ffdbcb98f884fc086f_720w.jpg" alt="img" title class>                <p>img</p>            </figure><h3 id="‰∏∫‰ªÄ‰πàË¶ÅÂ∞ÜÊï∞ÊçÆÂàáÁâá"><a href="#‰∏∫‰ªÄ‰πàË¶ÅÂ∞ÜÊï∞ÊçÆÂàáÁâá" class="headerlink" title="‰∏∫‰ªÄ‰πàË¶ÅÂ∞ÜÊï∞ÊçÆÂàáÁâá"></a><strong>‰∏∫‰ªÄ‰πàË¶ÅÂ∞ÜÊï∞ÊçÆÂàáÁâá</strong></h3><p>ËΩØ‰ª∂<strong>ÁêõÁêõ</strong>ÊòØÂ±û‰∫é<strong>Â∫îÁî®Â±Ç</strong>‰∏äÁöÑ„ÄÇ</p><p>ËÄå‚ÄùÊùé‰∏ú‚ÄùÔºå‚Äù‰∫öÂÅ•Â∫∑ÁªàÁªìËÄÖ‚ÄùËøô‰∏§Êù°Ê∂àÊÅØÂú®ËøõÂÖ•‰º†ËæìÂ±ÇÊó∂‰ΩøÁî®ÁöÑÊòØ<strong>‰º†ËæìÂ±Ç‰∏äÁöÑ TCP ÂçèËÆÆ</strong>„ÄÇÊ∂àÊÅØÂú®ËøõÂÖ•<strong>‰º†ËæìÂ±ÇÔºàTCPÔºâ</strong>Êó∂‰ºöË¢´ÂàáÁâá‰∏∫‰∏Ä‰∏™‰∏™Êï∞ÊçÆÂåÖ„ÄÇËøô‰∏™Êï∞ÊçÆÂåÖÁöÑÈïøÂ∫¶ÊòØ<code>MSS</code>„ÄÇ</p><p>ÂèØ‰ª•ÊääÁΩëÁªúÊØîÂñª‰∏∫‰∏Ä‰∏™Ê∞¥ÁÆ°ÔºåÊòØÊúâ‰∏ÄÂÆöÁöÑ<strong>Á≤óÁªÜ</strong>ÁöÑÔºåËøô‰∏™Á≤óÁªÜÁî±<strong>ÁΩëÁªúÊé•Âè£Â±ÇÔºàÊï∞ÊçÆÈìæË∑ØÂ±ÇÔºâ</strong>Êèê‰æõÁªô<strong>ÁΩëÁªúÂ±Ç</strong>Ôºå‰∏ÄËà¨ËÆ§‰∏∫ÊòØÁöÑ<code>MTU</code>Ôºà1500ÔºâÔºåÁõ¥Êé•‰º†ÂÖ•Êï¥‰∏™Ê∂àÊÅØÔºå‰ºöË∂ÖËøáÊ∞¥ÁÆ°ÁöÑÊúÄÂ§ßÊâøÂèóËåÉÂõ¥ÔºåÈÇ£‰πàÔºåÂ∞±ÈúÄË¶ÅËøõË°åÂàáÁâáÔºåÊàê‰∏∫‰∏Ä‰∏™‰∏™Êï∞ÊçÆÂåÖÔºåËøôÊ†∑Ê∂àÊÅØÊâçËÉΩÊ≠£Â∏∏ÈÄöËøá‚ÄúÊ∞¥ÁÆ°‚Äù„ÄÇ</p><figure class="image-box">                <img src="v2-5db7c25baee72ee2b77ca3bcbee97312_720w.jpg" alt="img" title class>                <p>img</p>            </figure><h3 id="MTU-Âíå-MSS-Êúâ‰ªÄ‰πàÂå∫Âà´"><a href="#MTU-Âíå-MSS-Êúâ‰ªÄ‰πàÂå∫Âà´" class="headerlink" title="MTU Âíå MSS Êúâ‰ªÄ‰πàÂå∫Âà´"></a><strong>MTU Âíå MSS Êúâ‰ªÄ‰πàÂå∫Âà´</strong></h3><figure class="image-box">                <img src="v2-ce18e60cfc7a9bbe120b85ac4a7077ec_720w.jpg" alt="img" title class>                <p>img</p>            </figure><ul><li><strong>MTU: Maximum Transmit Unit</strong>ÔºåÊúÄÂ§ß‰º†ËæìÂçïÂÖÉ„ÄÇ Áî±<strong>ÁΩëÁªúÊé•Âè£Â±ÇÔºàÊï∞ÊçÆÈìæË∑ØÂ±ÇÔºâ</strong>Êèê‰æõÁªô<strong>ÁΩëÁªúÂ±Ç</strong>ÊúÄÂ§ß‰∏ÄÊ¨°‰º†ËæìÊï∞ÊçÆÁöÑÂ§ßÂ∞èÔºõ‰∏ÄËà¨ MTU=<strong>1500 Byte</strong>„ÄÇ<br>ÂÅáËÆæIPÂ±ÇÊúâ &lt;= 1500 byte ÈúÄË¶ÅÂèëÈÄÅÔºåÂè™ÈúÄË¶Å‰∏Ä‰∏™ IP ÂåÖÂ∞±ÂèØ‰ª•ÂÆåÊàêÂèëÈÄÅ‰ªªÂä°ÔºõÂÅáËÆæ IP Â±ÇÊúâ&gt; 1500 byte Êï∞ÊçÆÈúÄË¶ÅÂèëÈÄÅÔºåÈúÄË¶ÅÂàÜÁâáÊâçËÉΩÂÆåÊàêÂèëÈÄÅÔºåÂàÜÁâáÂêéÁöÑ IP Header ID Áõ∏Âêå„ÄÇ</li><li><strong>MSSÔºöMaximum Segment Size</strong> „ÄÇ TCP Êèê‰∫§Áªô IP Â±ÇÊúÄÂ§ßÂàÜÊÆµÂ§ßÂ∞èÔºå‰∏çÂåÖÂê´ TCP Header Âíå TCP OptionÔºåÂè™ÂåÖÂê´ TCP Payload ÔºåMSS ÊòØ TCP Áî®Êù•ÈôêÂà∂Â∫îÁî®Â±ÇÊúÄÂ§ßÁöÑÂèëÈÄÅÂ≠óËäÇÊï∞„ÄÇ<br>ÂÅáËÆæ MTU= 1500 byteÔºåÈÇ£‰πà <strong>MSS = 1500- 20(IP Header) -20 (TCP Header) = 1460 byte</strong>ÔºåÂ¶ÇÊûúÂ∫îÁî®Â±ÇÊúâ <strong>2000 byte</strong> ÂèëÈÄÅÔºåÈÇ£‰πàÈúÄË¶Å‰∏§‰∏™ÂàáÁâáÊâçÂèØ‰ª•ÂÆåÊàêÂèëÈÄÅÔºåÁ¨¨‰∏Ä‰∏™ TCP ÂàáÁâá = 1460ÔºåÁ¨¨‰∫å‰∏™ TCP ÂàáÁâá = 540„ÄÇ</li></ul><h3 id="‰ªÄ‰πàÊòØÁ≤òÂåÖ"><a href="#‰ªÄ‰πàÊòØÁ≤òÂåÖ" class="headerlink" title="‰ªÄ‰πàÊòØÁ≤òÂåÖ"></a><strong>‰ªÄ‰πàÊòØÁ≤òÂåÖ</strong></h3><p>ÈÇ£‰πàÂΩìÊùé‰∏úÂú®ÊâãÊú∫‰∏äÈîÆÂÖ•‚ÄùÊùé‰∏ú‚Äù‚Äù‰∫öÂÅ•Â∫∑ÁªàÁªìËÄÖ‚ÄùÁöÑÊó∂ÂÄôÔºåÂú® TCP ‰∏≠ÊääÊ∂àÊÅØÂàÜÊàê MSS Â§ßÂ∞èÂêéÔºåÊ∂àÊÅØÈ°∫ÁùÄÁΩëÁ∫øÈ°∫Âà©ÂèëÂá∫„ÄÇ</p><figure class="image-box">                <img src="v2-1daa1040cda53b3015f7001a2a72897f_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>ÁΩëÁªúÁ®≥ÂæóÂæàÔºåÂ∞ÜÊ∂àÊÅØÂàÜÁâá‰º†Âà∞‰∫ÜÂØπÁ´ØÊâãÊú∫ B ‰∏ä„ÄÇÁªèËøá TCP Â±ÇÊ∂àÊÅØÈáçÁªÑ„ÄÇÂèòÊàê‚ÄùÊùé‰∏ú‰∫öÂÅ•Â∫∑ÁªàÁªìËÄÖ‚ÄùËøôÊ†∑ÁöÑ<strong>Â≠óËäÇÊµÅÔºàstreamÔºâ</strong>„ÄÇ</p><figure class="image-box">                <img src="v2-17ecf0e357371feddf343f93b658ec84_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>‰ΩÜÁî±‰∫éËÅäÂ§©ËΩØ‰ª∂<strong>ÁêõÁêõ</strong>ÊòØÊñ∞ÂºÄÂèëÁöÑÔºåËÄå‰∏îÂºÄÂèëËÄÖÂè´<strong>Â∞èÁôΩ</strong>ÔºåÂÆå‰∫ÜÔºåÊòØ‰∏™<strong>Ëá≠ÂêçÊò≠ËëóÁöÑÈÄ† bug Â∑•Á®ãÂ∏à</strong>„ÄÇÁªèËøá‰ªñÁöÑ‰ª£Á†ÅÔºåÂú®Â§ÑÁêÜ<strong>Â≠óËäÇÊµÅ</strong>ÁöÑÊó∂ÂÄôÊ∂àÊÅØ‰ªé‚ÄùÊùé‰∏ú‚ÄùÔºå‚Äù‰∫öÂÅ•Â∫∑ÁªàÁªìËÄÖ‚ÄùÂèòÊàê‰∫Ü‚ÄùÊùé‰∏ú‰∫ö‚ÄùÔºå‚ÄùÂÅ•Â∫∑ÁªàÁªìËÄÖ‚Äù„ÄÇ‚ÄùÊùé‰∏ú‚Äù‰Ωú‰∏∫‰∏ä‰∏Ä‰∏™ÂåÖÁöÑÂÜÖÂÆπ‰∏é‰∏ã‰∏Ä‰∏™ÂåÖÈáåÁöÑ‚Äù‰∫ö‚ÄùÁ≤òÂú®‰∫Ü‰∏ÄËµ∑Ë¢´ÈîôËØØÂú∞ÂΩìÊàê‰∫Ü‰∏Ä‰∏™Êï∞ÊçÆÂåÖËß£Êûê‰∫ÜÂá∫Êù•„ÄÇËøôÂ∞±ÊòØÊâÄË∞ìÁöÑ<strong>Á≤òÂåÖ</strong>„ÄÇ</p><figure class="image-box">                <img src="v2-b57e49bce332079e2a62c656b2d422e5_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>‰∏Ä‰∏™Âè∑Áß∞<strong>ÂÅ•Â∫∑ÁªàÁªìËÄÖ</strong>ÁöÑÂÅ•Ë∫´ÊïôÁªÉÔºåÂ§ßÊ¶ÇËøêÊ∞î‰πü‰∏ç‰ºöÂæàÂ∑ÆÂêßÔºåÂ∞±Á•ù‰ªñÂÆ¢Ê∫êÊªöÊªöÂêß„ÄÇ</p><h3 id="‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞Á≤òÂåÖ"><a href="#‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞Á≤òÂåÖ" class="headerlink" title="‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞Á≤òÂåÖ"></a><strong>‰∏∫‰ªÄ‰πà‰ºöÂá∫Áé∞Á≤òÂåÖ</strong></h3><p>ÈÇ£Â∞±Ë¶Å‰ªé TCP ÊòØÂï•ËØ¥Ëµ∑„ÄÇ</p><p><strong>TCPÔºåTransmission Control Protocol</strong>„ÄÇ‰º†ËæìÊéßÂà∂ÂçèËÆÆÔºåÊòØ‰∏ÄÁßçÈù¢ÂêëËøûÊé•ÁöÑ„ÄÅÂèØÈù†ÁöÑ„ÄÅÂü∫‰∫é<strong>Â≠óËäÇÊµÅ</strong>ÁöÑ‰º†ËæìÂ±ÇÈÄö‰ø°ÂçèËÆÆ„ÄÇ</p><figure class="image-box">                <img src="v2-e2a59fa4a549dadabd73e202ad0fe6e8_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>ÂÖ∂‰∏≠Ë∑ü<strong>Á≤òÂåÖ</strong>ÂÖ≥Á≥ªÊúÄÂ§ßÁöÑÂ∞±ÊòØ<strong>Âü∫‰∫éÂ≠óËäÇÊµÅ</strong>Ëøô‰∏™ÁâπÁÇπ„ÄÇ</p><p>Â≠óËäÇÊµÅÂèØ‰ª•ÁêÜËß£‰∏∫‰∏Ä‰∏™ÂèåÂêëÁöÑÈÄöÈÅìÈáåÊµÅÊ∑åÁöÑÊï∞ÊçÆÔºåËøô‰∏™<strong>Êï∞ÊçÆ</strong>ÂÖ∂ÂÆûÂ∞±ÊòØÊàë‰ª¨Â∏∏ËØ¥ÁöÑ‰∫åËøõÂà∂Êï∞ÊçÆÔºåÁÆÄÂçïÊù•ËØ¥Â∞±ÊòØ‰∏ÄÂ§ßÂ†Ü 01 ‰∏≤„ÄÇËøô‰∫õ 01 ‰∏≤‰πãÈó¥<strong>Ê≤°Êúâ‰ªª‰ΩïËæπÁïå</strong>„ÄÇ</p><figure class="image-box">                <img src="v2-7b36d6b7eae993081244621846b11704_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>Â∫îÁî®Â±Ç‰º†Âà∞ TCP ÂçèËÆÆÁöÑÊï∞ÊçÆÔºå‰∏çÊòØ‰ª•<strong>Ê∂àÊÅØÊä•‰∏∫Âçï‰Ωç</strong>ÂêëÁõÆÁöÑ‰∏ªÊú∫ÂèëÈÄÅÔºåËÄåÊòØ‰ª•<strong>Â≠óËäÇÊµÅ</strong>ÁöÑÊñπÂºèÂèëÈÄÅÂà∞‰∏ãÊ∏∏ÔºåËøô‰∫õÊï∞ÊçÆÂèØËÉΩË¢´<strong>ÂàáÂâ≤ÂíåÁªÑË£Ö</strong>ÊàêÂêÑÁßçÊï∞ÊçÆÂåÖÔºåÊé•Êî∂Á´ØÊî∂Âà∞Ëøô‰∫õÊï∞ÊçÆÂåÖÂêéÊ≤°ÊúâÊ≠£Á°ÆËøòÂéüÂéüÊù•ÁöÑÊ∂àÊÅØÔºåÂõ†Ê≠§Âá∫Áé∞Á≤òÂåÖÁé∞Ë±°„ÄÇ</p><h3 id="‰∏∫‰ªÄ‰πàË¶ÅÁªÑË£ÖÂèëÈÄÅÁöÑÊï∞ÊçÆ"><a href="#‰∏∫‰ªÄ‰πàË¶ÅÁªÑË£ÖÂèëÈÄÅÁöÑÊï∞ÊçÆ" class="headerlink" title="‰∏∫‰ªÄ‰πàË¶ÅÁªÑË£ÖÂèëÈÄÅÁöÑÊï∞ÊçÆ"></a><strong>‰∏∫‰ªÄ‰πàË¶ÅÁªÑË£ÖÂèëÈÄÅÁöÑÊï∞ÊçÆ</strong></h3><p>‰∏äÈù¢ÊèêÂà∞ TCP <strong>ÂàáÂâ≤</strong>Êï∞ÊçÆÂåÖÊòØ‰∏∫‰∫ÜËÉΩÈ°∫Âà©ÈÄöËøáÁΩëÁªúËøôÊ†πÊ∞¥ÁÆ°„ÄÇÁõ∏ÂèçÔºåËøòÊúâ‰∏Ä‰∏™<strong>ÁªÑË£Ö</strong>ÁöÑÊÉÖÂÜµ„ÄÇÂ¶ÇÊûúÂâçÂêé‰∏§Ê¨° TCP ÂèëÁöÑÊï∞ÊçÆÈÉΩËøúÂ∞è‰∫é MSSÔºåÊØîÂ¶ÇÂ∞±Âá†‰∏™Â≠óËäÇÔºåÊØèÊ¨°ÈÉΩÂçïÁã¨ÂèëÈÄÅËøôÂá†‰∏™Â≠óËäÇÔºåÂ∞±ÊØîËæÉ<strong>Êµ™Ë¥π</strong>ÁΩëÁªú io „ÄÇ</p><figure class="image-box">                <img src="image-20220112222810497.png" alt="image-20220112222810497" title class>                <p>image-20220112222810497</p>            </figure><p>ÊØîÂ¶ÇÂ∞èÁôΩÁà∏ËÆ©Â∞èÁôΩÂá∫Èó®Áªô‰π∞‰∏ÄÁì∂ÈÖ±Ê≤πÔºåÂ∞èÁôΩÂá∫Âéª‰π∞ÈÖ±Ê≤πÂõûÊù•‰∫Ü„ÄÇÂ∞èÁôΩÂ¶àÂèàËÆ©Â∞èÁôΩÂá∫Èó®‰π∞‰∏ÄÁì∂ÈÜãÂõûÊù•„ÄÇÂ∞èÁôΩÂâçÂêéÁªìÁªìÂÆûÂÆûË∑ë‰∫Ü‰∏§Ë∂üÔºåÂΩ±Âìç‰∫ÜÊâìÊ∏∏ÊàèÁöÑÊó∂Èó¥„ÄÇ</p><p>‰ºòÂåñÁöÑÊñπÊ≥ï‰πüÊØîËæÉÁÆÄÂçï„ÄÇÂΩìÂ∞èÁôΩÁà∏ËÆ©Â∞èÁôΩÂéª‰π∞ÈÖ±Ê≤πÁöÑÊó∂ÂÄôÔºåÂ∞èÁôΩÂÖà<strong>Á≠âÂæÖ</strong>ÔºåÁªßÁª≠Êâì‰ºöÊ∏∏ÊàèÔºåËøôÊó∂ÂÄôÂ¶ÇÊûúÂ∞èÁôΩÂ¶àËÆ©Â∞èÁôΩ‰π∞Áì∂ÈÜãÂõûÊù•ÔºåÂ∞èÁôΩÂèØ‰ª•‰∏ÄÊ¨°ÊÄßÂ∏¶ÁùÄ‰∏§‰∏™ÈúÄÊ±ÇÂá∫Èó®ÔºåÂÜçÊää‰∏úË•øÂ∏¶ÂõûÊù•„ÄÇ</p><p>‰∏äÈù¢ËØ¥ÁöÑÂÖ∂ÂÆûÂ∞±ÊòØ<code>TCP</code>ÁöÑ <strong>Nagle ÁÆóÊ≥ï</strong>‰ºòÂåñÔºåÁõÆÁöÑÊòØ‰∏∫‰∫ÜÈÅøÂÖçÂèëÈÄÅÂ∞èÁöÑÊï∞ÊçÆÂåÖ„ÄÇ</p><p>Âú® Nagle ÁÆóÊ≥ïÂºÄÂêØÁöÑÁä∂ÊÄÅ‰∏ãÔºåÊï∞ÊçÆÂåÖÂú®‰ª•‰∏ã‰∏§‰∏™ÊÉÖÂÜµ‰ºöË¢´ÂèëÈÄÅÔºö</p><ul><li>Â¶ÇÊûúÂåÖÈïøÂ∫¶ËææÂà∞<code>MSS</code>ÔºàÊàñÂê´Êúâ<code>Fin</code>ÂåÖÔºâÔºåÁ´ãÂàªÂèëÈÄÅÔºåÂê¶Âàô<strong>Á≠âÂæÖ</strong>‰∏ã‰∏Ä‰∏™ÂåÖÂà∞Êù•ÔºõÂ¶ÇÊûú‰∏ã‰∏ÄÂåÖÂà∞Êù•Âêé‰∏§‰∏™ÂåÖÁöÑÊÄªÈïøÂ∫¶Ë∂ÖËøá<code>MSS</code>ÁöÑËØùÔºåÂ∞±‰ºöËøõË°åÊãÜÂàÜÂèëÈÄÅÔºõ</li><li>Á≠âÂæÖË∂ÖÊó∂Ôºà‰∏ÄËà¨‰∏∫<code>200ms</code>ÔºâÔºåÁ¨¨‰∏Ä‰∏™ÂåÖÊ≤°Âà∞<code>MSS</code>ÈïøÂ∫¶Ôºå‰ΩÜÊòØÂèàËøüËøüÁ≠â‰∏çÂà∞Á¨¨‰∫å‰∏™ÂåÖÁöÑÂà∞Êù•ÔºåÂàôÁ´ãÂç≥ÂèëÈÄÅ„ÄÇ</li></ul><figure class="image-box">                <img src="v2-495ef2712c3b542cf277a5121cfe3ab4_720w.jpg" alt="img" title class>                <p>img</p>            </figure><ul><li>Áî±‰∫éÂêØÂä®‰∫Ü<strong>NagleÁÆóÊ≥ï</strong>Ôºå msg1 Â∞è‰∫é mss ÔºåÊ≠§Êó∂Á≠âÂæÖ<code>200ms</code>ÂÜÖÊù•‰∫Ü‰∏Ä‰∏™ msg2 Ôºåmsg1 + msg2 &gt; MSSÔºåÂõ†Ê≠§Êää msg2 ÂàÜ‰∏∫ msg2(1) Âíå msg2(2)Ôºåmsg1 + msg2(1) ÂåÖÁöÑÂ§ßÂ∞è‰∏∫<code>MSS</code>„ÄÇÊ≠§Êó∂ÂèëÈÄÅÂá∫Âéª„ÄÇ</li><li>Ââ©‰ΩôÁöÑ msg2(2) ‰πüÁ≠âÂà∞‰∫Ü msg3Ôºå ÂêåÊ†∑ msg2(2) + msg3 &gt; MSSÔºåÂõ†Ê≠§Êää msg3 ÂàÜ‰∏∫ msg3(1) Âíå msg3(2)Ôºåmsg2(2) + msg3(1) ‰Ωú‰∏∫‰∏Ä‰∏™ÂåÖÂèëÈÄÅ„ÄÇ</li><li>Ââ©‰ΩôÁöÑ msg3(2) ÈïøÂ∫¶‰∏çË∂≥<code>mss</code>ÔºåÂêåÊó∂Âú®<code>200ms</code>ÂÜÖÊ≤°ÊúâÁ≠âÂà∞‰∏ã‰∏Ä‰∏™ÂåÖÔºåÁ≠âÂæÖË∂ÖÊó∂ÔºåÁõ¥Êé•ÂèëÈÄÅ„ÄÇ</li><li>Ê≠§Êó∂‰∏â‰∏™ÂåÖËôΩÁÑ∂Âú®ÂõæÈáå<strong>È¢úËâ≤‰∏çÂêå</strong>Ôºå‰ΩÜÊòØÂÆûÈôÖÂú∫ÊôØ‰∏≠Ôºå‰ªñ‰ª¨ÈÉΩÊòØ<strong>‰∏ÄÊï¥‰∏™ 01 ‰∏≤</strong>ÔºåÂ¶ÇÊûúÂ§ÑÁêÜÂºÄÂèëËÄÖÊääÁ¨¨‰∏Ä‰∏™Êî∂Âà∞ÁöÑ msg1 + msg2(1) Â∞±ÂΩìÂÅöÊòØ‰∏Ä‰∏™ÂÆåÊï¥Ê∂àÊÅØËøõË°åÂ§ÑÁêÜÔºåÂ∞±‰ºöÁúã‰∏äÂéªÂ∞±<strong>ÂÉèÊòØ‰∏§‰∏™ÂåÖÁ≤òÂú®‰∏ÄËµ∑</strong>ÔºåÂ∞±‰ºöÂØºËá¥<strong>Á≤òÂåÖÈóÆÈ¢ò</strong>„ÄÇ</li></ul><h3 id="ÂÖ≥Êéâ-Nagle-ÁÆóÊ≥ïÂ∞±‰∏ç‰ºöÁ≤òÂåÖ‰∫ÜÂêóÔºü"><a href="#ÂÖ≥Êéâ-Nagle-ÁÆóÊ≥ïÂ∞±‰∏ç‰ºöÁ≤òÂåÖ‰∫ÜÂêóÔºü" class="headerlink" title="ÂÖ≥Êéâ Nagle ÁÆóÊ≥ïÂ∞±‰∏ç‰ºöÁ≤òÂåÖ‰∫ÜÂêóÔºü"></a><strong>ÂÖ≥Êéâ Nagle ÁÆóÊ≥ïÂ∞±‰∏ç‰ºöÁ≤òÂåÖ‰∫ÜÂêóÔºü</strong></h3><p><strong>Nagle</strong> ÁÆóÊ≥ïÂÖ∂ÂÆûÊòØ‰∏™<strong>Êúâ‰∫õÂπ¥‰ª£</strong>ÁöÑ‰∏úË•ø‰∫ÜÔºåËØûÁîü‰∫é 1984 Âπ¥„ÄÇÂØπ‰∫éÂ∫îÁî®Á®ãÂ∫è‰∏ÄÊ¨°ÂèëÈÄÅ‰∏ÄÂ≠óËäÇÊï∞ÊçÆÁöÑÂú∫ÊôØÔºåÂ¶ÇÊûúÊ≤°Êúâ Nagle ÁöÑ‰ºòÂåñÔºåËøôÊ†∑ÁöÑÂåÖÁ´ãÈ©¨Â∞±ÂèëÂá∫Âéª‰∫ÜÔºå‰ºöÂØºËá¥ÁΩëÁªúÁî±‰∫éÂ§™Â§öÁöÑÂåÖËÄåËøáËΩΩ„ÄÇ</p><p>‰ΩÜÊòØ‰ªäÂ§©ÁΩëÁªúÁéØÂ¢ÉÊØî‰ª•ÂâçÂ•ΩÂ§™Â§öÔºåNagle ÁöÑ‰ºòÂåñÂ∏ÆÂä©Â∞±Ê≤°ÈÇ£‰πàÂ§ß‰∫Ü„ÄÇËÄå‰∏îÂÆÉÁöÑÂª∂ËøüÂèëÈÄÅÔºåÊúâÊó∂ÂÄôËøòÂèØËÉΩÂØºËá¥Ë∞ÉÁî®Âª∂Êó∂ÂèòÂ§ßÔºåÊØîÂ¶ÇÊâìÊ∏∏ÊàèÁöÑÊó∂ÂÄôÔºå‰Ω†Êìç‰ΩúÂ¶ÇÊ≠§‰∏ùÊªëÔºå‰ΩÜÂç¥Âõ†‰∏∫ Nagle ÁÆóÊ≥ïÂª∂ËøüÂèëÈÄÅÂØºËá¥ÊÖ¢‰∫Ü‰∏ÄÊãçÔºåÂ∞±ÈóÆ‰Ω†ÈöæÂèó‰∏çÈöæÂèó„ÄÇ</p><p>ÊâÄ‰ª•Áé∞Âú®<strong>‰∏ÄËà¨‰πü‰ºöÊääÂÆÉÂÖ≥Êéâ</strong>„ÄÇ</p><p>ÁúãËµ∑Êù•ÔºåNagle ÁÆóÊ≥ïÁöÑ‰ºòÂåñ‰ΩúÁî®Ë≤å‰ºº‰∏çÂ§ßÔºåËøò‰ºöÂØºËá¥<strong>Á≤òÂåÖ‚ÄùÈóÆÈ¢ò‚Äù</strong>„ÄÇÈÇ£‰πàÊòØ‰∏çÊòØÂÖ≥ÊéâËøô‰∏™ÁÆóÊ≥ïÂ∞±ÂèØ‰ª•Ëß£ÂÜ≥ÊéâËøô‰∏™<strong>Á≤òÂåÖ‚ÄùÈóÆÈ¢ò‚Äù</strong>Âë¢Ôºü</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TCP_NODELAY = 1</span><br></pre></td></tr></table></figure><figure class="image-box">                <img src="v2-53dd931a4d8ea89ea1fbc0bbcfa50072_r.jpg" alt="preview" title class>                <p>preview</p>            </figure><ul><li>Êé•ÂèóÁ´ØÂ∫îÁî®Â±ÇÂú®Êî∂Âà∞ <strong>msg1</strong> Êó∂Á´ãÈ©¨Â∞±ÂèñËµ∞‰∫ÜÔºåÈÇ£Ê≠§Êó∂ <strong>msg1</strong> Ê≤°Á≤òÂåÖÈóÆÈ¢ò</li><li><strong>msg2 </strong>Âà∞‰∫ÜÂêéÔºåÂ∫îÁî®Â±ÇÂú®ÂøôÔºåÊ≤°Êù•ÂæóÂèäÂèñËµ∞ÔºåÂ∞±ÂëÜÂú® <strong>TCP Recv Buffer</strong> ‰∏≠‰∫Ü</li><li><strong>msg3 </strong>Ê≠§Êó∂‰πüÂà∞‰∫ÜÔºåË∑ü <strong>msg2</strong> Âíå <strong>msg3</strong> ‰∏ÄËµ∑ÊîæÂú®‰∫Ü <strong>TCP Recv Buffer</strong> ‰∏≠</li><li>ËøôÊó∂ÂÄôÂ∫îÁî®Â±ÇÂøôÂÆå‰∫ÜÔºåÊù•ÂèñÊï∞ÊçÆÔºåÂõæÈáåÊòØ‰∏§‰∏™È¢úËâ≤‰ΩúÂå∫ÂàÜÔºå‰ΩÜÂÆûÈôÖÂú∫ÊôØ‰∏≠<strong>ÈÉΩÊòØ 01 ‰∏≤</strong>ÔºåÊ≠§Êó∂‰∏ÄËµ∑ÂèñËµ∞ÔºåÂèëÁé∞ËøòÊòØÁ≤òÂåÖ„ÄÇ</li></ul><p>Âõ†Ê≠§ÔºåÂ∞±ÁÆóÂÖ≥Èó≠ Nagle ÁÆóÊ≥ïÔºåÊé•Êî∂Êï∞ÊçÆÁ´ØÁöÑÂ∫îÁî®Â±ÇÊ≤°ÊúâÂèäÊó∂ËØªÂèñ TCP Recv Buffer ‰∏≠ÁöÑÊï∞ÊçÆÔºåËøòÊòØ‰ºöÂèëÁîüÁ≤òÂåÖ„ÄÇ</p><h3 id="ÊÄé‰πàÂ§ÑÁêÜÁ≤òÂåÖ"><a href="#ÊÄé‰πàÂ§ÑÁêÜÁ≤òÂåÖ" class="headerlink" title="ÊÄé‰πàÂ§ÑÁêÜÁ≤òÂåÖ"></a><strong>ÊÄé‰πàÂ§ÑÁêÜÁ≤òÂåÖ</strong></h3><p>Á≤òÂåÖÂá∫Áé∞ÁöÑÊ†πÊú¨ÂéüÂõ†ÊòØ‰∏çÁ°ÆÂÆö<strong>Ê∂àÊÅØÁöÑËæπÁïå</strong>„ÄÇÊé•Êî∂Á´ØÂú®Èù¢ÂØπ<strong>‚ÄúÊó†ËæπÊó†ÈôÖ‚ÄùÁöÑ‰∫åËøõÂà∂ÊµÅ</strong>ÁöÑÊó∂ÂÄôÔºåÊ†πÊú¨‰∏çÁü•ÈÅìÊî∂‰∫ÜÂ§öÂ∞ë 01 ÊâçÁÆó<strong>‰∏Ä‰∏™Ê∂àÊÅØ</strong>„ÄÇ‰∏Ä‰∏çÂ∞èÂøÉÊãøÂ§ö‰∫ÜÂ∞±ËØ¥ÊòØ<strong>Á≤òÂåÖ</strong>„ÄÇÂÖ∂ÂÆûÁ≤òÂåÖÊ†πÊú¨‰∏çÊòØ TCP ÁöÑÈóÆÈ¢òÔºåÊòØ‰ΩøÁî®ËÄÖÂØπ‰∫é TCP ÁöÑÁêÜËß£ÊúâËØØÂØºËá¥ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢ò„ÄÇ</p><p>Âè™Ë¶ÅÂú®ÂèëÈÄÅÁ´ØÊØèÊ¨°ÂèëÈÄÅÊ∂àÊÅØÁöÑÊó∂ÂÄôÁªôÊ∂àÊÅØ<strong>Â∏¶‰∏äËØÜÂà´Ê∂àÊÅØËæπÁïåÁöÑ‰ø°ÊÅØ</strong>ÔºåÊé•Êî∂Á´ØÂ∞±ÂèØ‰ª•Ê†πÊçÆËøô‰∫õ‰ø°ÊÅØËØÜÂà´Âá∫Ê∂àÊÅØÁöÑËæπÁïåÔºå‰ªéËÄåÂå∫ÂàÜÂá∫ÊØè‰∏™Ê∂àÊÅØ„ÄÇ</p><p>Â∏∏ËßÅÁöÑÊñπÊ≥ïÊúâ</p><ul><li>Âä†ÂÖ•ÁâπÊÆäÊ†áÂøó</li></ul><figure class="image-box">                <img src="image-20220112222646626.png" alt="image-20220112222646626" title class>                <p>image-20220112222646626</p>            </figure><p>ÂèØ‰ª•ÈÄöËøáÁâπÊÆäÁöÑÊ†áÂøó‰Ωú‰∏∫Â§¥Â∞æÔºåÊØîÂ¶ÇÂΩìÊî∂Âà∞‰∫Ü<code>0xfffffe</code>ÊàñËÄÖÂõûËΩ¶Á¨¶ÔºåÂàôËÆ§‰∏∫Êî∂Âà∞‰∫ÜÊñ∞Ê∂àÊÅØÁöÑÂ§¥ÔºåÊ≠§Êó∂ÁªßÁª≠ÂèñÊï∞ÊçÆÔºåÁõ¥Âà∞Êî∂Âà∞‰∏ã‰∏Ä‰∏™Â§¥Ê†áÂøó<code>0xfffffe</code>ÊàñËÄÖÂ∞æÈÉ®Ê†áËÆ∞ÔºåÊâçËÆ§‰∏∫ÊòØ‰∏Ä‰∏™ÂÆåÊï¥Ê∂àÊÅØ„ÄÇÁ±ª‰ººÁöÑÂÉè HTTP ÂçèËÆÆÈáåÂΩì‰ΩøÁî® <strong>chunked ÁºñÁ†Å</strong> ‰º†ËæìÊó∂Ôºå‰ΩøÁî®Ëã•Âπ≤‰∏™ chunk ÁªÑÊàêÊ∂àÊÅØÔºåÊúÄÂêéÁî±‰∏Ä‰∏™Ê†áÊòéÈïøÂ∫¶‰∏∫ 0 ÁöÑ chunk ÁªìÊùü„ÄÇ</p><ul><li>Âä†ÂÖ•Ê∂àÊÅØÈïøÂ∫¶‰ø°ÊÅØ</li></ul><figure class="image-box">                <img src="v2-67108ed6fe1b9f89f4c831882ff9ff1c_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>Ëøô‰∏™‰∏ÄËà¨ÈÖçÂêà‰∏äÈù¢ÁöÑÁâπÊÆäÊ†áÂøó‰∏ÄËµ∑‰ΩøÁî®ÔºåÂú®Êî∂Âà∞Â§¥Ê†áÂøóÊó∂ÔºåÈáåÈù¢ËøòÂèØ‰ª•Â∏¶‰∏äÊ∂àÊÅØÈïøÂ∫¶Ôºå‰ª•Ê≠§Ë°®ÊòéÂú®Ëøô‰πãÂêéÂ§öÂ∞ë byte ÈÉΩÊòØÂ±û‰∫éËøô‰∏™Ê∂àÊÅØÁöÑ„ÄÇÂ¶ÇÊûúÂú®Ëøô‰πãÂêéÊ≠£Â•ΩÊúâÁ¨¶ÂêàÈïøÂ∫¶ÁöÑ byteÔºåÂàôÂèñËµ∞Ôºå‰Ωú‰∏∫‰∏Ä‰∏™ÂÆåÊï¥Ê∂àÊÅØÁªôÂ∫îÁî®Â±Ç‰ΩøÁî®„ÄÇÂú®ÂÆûÈôÖÂú∫ÊôØ‰∏≠ÔºåHTTP ‰∏≠ÁöÑ<code>Content-Length</code>Â∞±Ëµ∑‰∫ÜÁ±ª‰ººÁöÑ‰ΩúÁî®ÔºåÂΩìÊé•Êî∂Á´ØÊî∂Âà∞ÁöÑÊ∂àÊÅØÈïøÂ∫¶Â∞è‰∫é Content-Length Êó∂ÔºåËØ¥ÊòéËøòÊúâ‰∫õÊ∂àÊÅØÊ≤°Êî∂Âà∞„ÄÇÈÇ£Êé•Êî∂Á´Ø‰ºö‰∏ÄÁõ¥Á≠âÔºåÁõ¥Âà∞ÊãøÂ§ü‰∫ÜÊ∂àÊÅØÊàñË∂ÖÊó∂„ÄÇ</p><p>ÂèØËÉΩËøôÊó∂ÂÄô‰ºöÊúâÊúãÂèã‰ºöÈóÆÔºåÈááÁî®<code>0xfffffe</code>Ê†áÂøó‰ΩçÔºåÁî®Êù•Ê†áÂøó‰∏Ä‰∏™Êï∞ÊçÆÂåÖÁöÑÂºÄÂ§¥Ôºå‰Ω†Â∞±‰∏çÊÄï‰Ω†ÂèëÁöÑÊüê‰∏™Êï∞ÊçÆÈáåÊ≠£Â•ΩÊúâËøô‰∏™ÂÜÖÂÆπÂêóÔºü</p><p>ÊòØÁöÑÔºå<strong>ÊÄï</strong>ÔºåÊâÄ‰ª•‰∏ÄËà¨Èô§‰∫ÜËøô‰∏™Ê†áÂøó‰ΩçÔºåÂèëÈÄÅÁ´ØÂú®ÂèëÈÄÅÊó∂Ëøò‰ºöÂä†ÂÖ•ÂêÑÁßçÊ†°È™åÂ≠óÊÆµÔºà<code>Ê†°È™åÂíå</code>ÊàñËÄÖÂØπÊï¥ÊÆµÂÆåÊï¥Êï∞ÊçÆËøõË°å <code>CRC</code> ‰πãÂêéËé∑ÂæóÁöÑÊï∞ÊçÆÔºâÊîæÂú®Ê†áÂøó‰ΩçÂêéÈù¢ÔºåÂú®Êé•Êî∂Á´ØÊãøÂà∞Êï¥ÊÆµÊï∞ÊçÆÂêéÊ†°È™å‰∏ãÁ°Æ‰øùÂÆÉÂ∞±ÊòØÂèëÈÄÅÁ´ØÂèëÊù•ÁöÑÂÆåÊï¥Êï∞ÊçÆ„ÄÇ</p><figure class="image-box">                <img src="v2-a12fe05290289991e6d3fc4ed2137664_720w.jpg" alt="img" title class>                <p>img</p>            </figure><h3 id="UDP-‰ºöÁ≤òÂåÖÂêó"><a href="#UDP-‰ºöÁ≤òÂåÖÂêó" class="headerlink" title="UDP ‰ºöÁ≤òÂåÖÂêó"></a><strong>UDP ‰ºöÁ≤òÂåÖÂêó</strong></h3><p>Ë∑ü <code>TCP</code> Âêå‰∏∫‰º†ËæìÂ±ÇÁöÑÂè¶‰∏Ä‰∏™ÂçèËÆÆÔºå<strong>UDPÔºåUser Datagram Protocol</strong>„ÄÇÁî®Êà∑Êï∞ÊçÆÂåÖÂçèËÆÆÔºåÊòØÈù¢ÂêëÊó†ËøûÊé•Ôºå‰∏çÂèØÈù†ÁöÑÔºåÂü∫‰∫é<strong>Êï∞ÊçÆÊä•</strong>ÁöÑ‰º†ËæìÂ±ÇÈÄö‰ø°ÂçèËÆÆ„ÄÇ</p><figure class="image-box">                <img src="v2-cb14cd4ee7817c81e0140fb0466e26ce_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>Âü∫‰∫é<strong>Êï∞ÊçÆÊä•</strong>ÊòØÊåáÊó†ËÆ∫Â∫îÁî®Â±Ç‰∫§Áªô UDP Â§öÈïøÁöÑÊä•ÊñáÔºåUDP ÈÉΩÁÖßÊ†∑ÂèëÈÄÅÔºåÂç≥‰∏ÄÊ¨°ÂèëÈÄÅ‰∏Ä‰∏™Êä•Êñá„ÄÇËá≥‰∫éÂ¶ÇÊûúÊï∞ÊçÆÂåÖÂ§™ÈïøÔºåÈúÄË¶ÅÂàÜÁâáÔºåÈÇ£‰πüÊòØIPÂ±ÇÁöÑ‰∫ãÊÉÖÔºåÂ§ß‰∏ç‰∫ÜÊïàÁéá‰Ωé‰∏Ä‰∫õ„ÄÇUDP ÂØπÂ∫îÁî®Â±Ç‰∫§‰∏ãÊù•ÁöÑÊä•ÊñáÔºåÊó¢‰∏çÂêàÂπ∂Ôºå‰πü‰∏çÊãÜÂàÜÔºåËÄåÊòØ‰øùÁïôËøô‰∫õÊä•ÊñáÁöÑËæπÁïå„ÄÇËÄåÊé•Êî∂ÊñπÂú®Êé•Êî∂Êï∞ÊçÆÊä•ÁöÑÊó∂ÂÄôÔºå‰πü‰∏ç‰ºöÂÉèÈù¢ÂØπ TCP Êó†Á©∑Êó†Â∞ΩÁöÑ‰∫åËøõÂà∂ÊµÅÈÇ£Ê†∑‰∏çÊ∏ÖÊ•öÂï•Êó∂ÂÄôËÉΩÁªìÊùü„ÄÇÊ≠£Âõ†‰∏∫<strong>Âü∫‰∫éÊï∞ÊçÆÊä•</strong>Âíå<strong>Âü∫‰∫éÂ≠óËäÇÊµÅ</strong>ÁöÑÂ∑ÆÂºÇÔºå<strong>TCP ÂèëÈÄÅÁ´ØÂèë 10 Ê¨°Â≠óËäÇÊµÅÊï∞ÊçÆÔºåËÄåËøôÊó∂ÂÄôÊé•Êî∂Á´ØÂèØ‰ª•ÂàÜ 100 Ê¨°ÂéªÂèñÊï∞ÊçÆÔºåÊØèÊ¨°ÂèñÊï∞ÊçÆÁöÑÈïøÂ∫¶ÂèØ‰ª•Ê†πÊçÆÂ§ÑÁêÜËÉΩÂäõ‰ΩúË∞ÉÊï¥Ôºõ‰ΩÜ UDP ÂèëÈÄÅÁ´ØÂèë‰∫Ü 10 Ê¨°Êï∞ÊçÆÊä•ÔºåÈÇ£Êé•Êî∂Á´ØÂ∞±Ë¶ÅÂú® 10 Ê¨°Êî∂ÂÆåÔºå‰∏îÂèë‰∫ÜÂ§öÂ∞ëÔºåÂ∞±ÂèñÂ§öÂ∞ëÔºåÁ°Æ‰øùÊØèÊ¨°ÈÉΩÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊï∞ÊçÆÊä•„ÄÇ</strong></p><p>Êàë‰ª¨ÂÖàÁúã‰∏ã<strong>IPÊä•Â§¥</strong></p><figure class="image-box">                <img src="v2-8d684c81269540bc81237b343755f7fc_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>Ê≥®ÊÑèËøôÈáåÈù¢ÊòØÊúâ‰∏Ä‰∏™ 16 ‰ΩçÁöÑÊÄªÈïøÂ∫¶ÁöÑÔºåÊÑèÂë≥ÁùÄ IP Êä•Â§¥ÈáåËÆ∞ÂΩï‰∫ÜÊï¥‰∏™ IP ÂåÖÁöÑÊÄªÈïøÂ∫¶„ÄÇÊé•ÁùÄÊàë‰ª¨ÂÜçÁúã‰∏ã <strong>UDP ÁöÑÊä•Â§¥</strong>„ÄÇ</p><figure class="image-box">                <img src="v2-a62f8fa5871ce69211fa809032e633b6_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>Âú®Êä•Â§¥‰∏≠Êúâ<code>16bit</code>Áî®‰∫éÊåáÁ§∫ <strong>UDP Êï∞ÊçÆÊä•ÊñáÁöÑÈïøÂ∫¶</strong>ÔºåÂÅáËÆæËøô‰∏™ÈïøÂ∫¶ÊòØ n Ôºå‰ª•Ê≠§‰Ωú‰∏∫<strong>Êï∞ÊçÆËæπÁïå</strong>„ÄÇÂõ†Ê≠§Âú®Êé•Êî∂Á´ØÁöÑÂ∫îÁî®Â±ÇËÉΩÊ∏ÖÊô∞Âú∞Â∞Ü‰∏çÂêåÁöÑÊï∞ÊçÆÊä•ÊñáÂå∫ÂàÜÂºÄÔºå‰ªéÊä•Â§¥ÂºÄÂßãÂèñ n ‰ΩçÔºåÂ∞±ÊòØ‰∏Ä‰∏™<strong>ÂÆåÊï¥ÁöÑ</strong>Êï∞ÊçÆÊä•Ôºå‰ªéËÄåÈÅøÂÖçÁ≤òÂåÖÂíåÊãÜÂåÖÁöÑÈóÆÈ¢ò„ÄÇ</p><p>ÂΩìÁÑ∂ÔºåÂ∞±ÁÆóÊ≤°ÊúâËøô‰∏™‰ΩçÔºà<strong>16‰Ωç UDP ÈïøÂ∫¶</strong>ÔºâÔºåÂõ†‰∏∫ IP ÁöÑÂ§¥ÈÉ®Â∑≤ÁªèÂåÖÂê´‰∫ÜÊï∞ÊçÆÁöÑ<strong>ÊÄªÈïøÂ∫¶</strong>‰ø°ÊÅØÔºåÊ≠§Êó∂Â¶ÇÊûú IP ÂåÖÔºàÁΩëÁªúÂ±ÇÔºâÈáåÊîæÁöÑÊï∞ÊçÆ‰ΩøÁî®ÁöÑÂçèËÆÆÊòØ UDPÔºà‰º†ËæìÂ±ÇÔºâÔºåÈÇ£‰πàËøô‰∏™<strong>ÊÄªÈïøÂ∫¶</strong>ÂÖ∂ÂÆûÂ∞±ÂåÖÂê´‰∫Ü UDP ÁöÑÂ§¥ÈÉ®Âíå UDP ÁöÑÊï∞ÊçÆ„ÄÇ</p><p>Âõ†‰∏∫ UDP ÁöÑÂ§¥ÈÉ®ÈïøÂ∫¶Âõ∫ÂÆö‰∏∫ 8 Â≠óËäÇÔºà 1 Â≠óËäÇ= 8 ‰ΩçÔºå8 Â≠óËäÇ= 64 ‰ΩçÔºå‰∏äÂõæ‰∏≠Èô§‰∫Ü<code>Êï∞ÊçÆÂíåÈÄâÈ°π</code>‰ª•Â§ñÁöÑÈÉ®ÂàÜÔºâÔºåÈÇ£‰πàËøôÊ†∑Â∞±ÂæàÂÆπÊòìÁöÑÁÆóÂá∫ UDP ÁöÑÊï∞ÊçÆÁöÑÈïøÂ∫¶‰∫Ü„ÄÇÂõ†Ê≠§ËØ¥ UDP ÁöÑÈïøÂ∫¶‰ø°ÊÅØÂÖ∂ÂÆûÊòØÂÜó‰ΩôÁöÑ„ÄÇ</p><figure class="image-box">                <img src="v2-0640a5a91302b68c71aafde8aeae2722_720w.jpg" alt="img" title class>                <p>img</p>            </figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UDP Data ÁöÑÈïøÂ∫¶ = IP ÊÄªÈïøÂ∫¶ - IP Header ÈïøÂ∫¶ - UDP Header ÈïøÂ∫¶</span><br></pre></td></tr></table></figure><figure class="image-box">                <img src="v2-4fdde9161d9f6be4fe2a372c1ff6d49b_720w.jpg" alt="img" title class>                <p>img</p>            </figure><p>TCPÈ¶ñÈÉ®ÈáåÊòØÊ≤°ÊúâÈïøÂ∫¶Ëøô‰∏™‰ø°ÊÅØÁöÑÔºåË∑üUDPÁ±ª‰ººÔºåÂêåÊ†∑ÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÂÖ¨ÂºèËé∑ÂæóÂΩìÂâçÂåÖÁöÑTCPÊï∞ÊçÆÈïøÂ∫¶„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TCP Data ÁöÑÈïøÂ∫¶ = IP ÊÄªÈïøÂ∫¶ - IP Header ÈïøÂ∫¶ - TCP Header ÈïøÂ∫¶„ÄÇ</span><br></pre></td></tr></table></figure><figure class="image-box">                <img src="image-20220112223526763.png" alt="img" title class>                <p>img</p>            </figure><p>Ë∑ü UDP ‰∏çÂêåÂú®‰∫éÔºåTCP ÂèëÈÄÅÁ´ØÂú®ÂèëÁöÑÊó∂ÂÄôÂ∞±<strong>‰∏ç‰øùËØÅÂèëÁöÑÊòØ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊï∞ÊçÆÊä•</strong>Ôºå‰ªÖ‰ªÖÁúãÊàê‰∏ÄËøû‰∏≤Êó†ÁªìÊûÑÁöÑÂ≠óËäÇÊµÅÔºåËøô‰∏≤Â≠óËäÇÊµÅÂú®Êé•Êî∂Á´ØÊî∂Âà∞Êó∂Âì™ÊÄïÁü•ÈÅìÈïøÂ∫¶‰πüÊ≤°Áî®ÔºåÂõ†‰∏∫ÂÆÉÂæàÂèØËÉΩÂè™ÊòØÊüê‰∏™ÂÆåÊï¥Ê∂àÊÅØÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ</p><h3 id="‰∏∫‰ªÄ‰πàÈïøÂ∫¶Â≠óÊÆµÂÜó‰ΩôËøòË¶ÅÂä†Âà∞-UDP-È¶ñÈÉ®‰∏≠"><a href="#‰∏∫‰ªÄ‰πàÈïøÂ∫¶Â≠óÊÆµÂÜó‰ΩôËøòË¶ÅÂä†Âà∞-UDP-È¶ñÈÉ®‰∏≠" class="headerlink" title="‰∏∫‰ªÄ‰πàÈïøÂ∫¶Â≠óÊÆµÂÜó‰ΩôËøòË¶ÅÂä†Âà∞ UDP È¶ñÈÉ®‰∏≠"></a><strong>‰∏∫‰ªÄ‰πàÈïøÂ∫¶Â≠óÊÆµÂÜó‰ΩôËøòË¶ÅÂä†Âà∞ UDP È¶ñÈÉ®‰∏≠</strong></h3><p>ÂÖ≥‰∫éËøô‰∏ÄÁÇπÔºåÊü•‰∫ÜÂæàÂ§öËµÑÊñôÔºå<code>„Ää TCP-IP ËØ¶Ëß£ÔºàÂç∑2Ôºâ„Äã</code>ÈáåËØ¥ÂèØËÉΩÊòØÂõ†‰∏∫Ë¶ÅÁî®‰∫éËÆ°ÁÆóÊ†°È™åÂíå„ÄÇ‰πüÊúâÁöÑËØ¥ÊòØÂõ†‰∏∫UDPÂ∫ïÂ±Ç‰ΩøÁî®ÁöÑÂèØ‰ª•‰∏çÊòØIPÂçèËÆÆÔºåÊØïÁ´ü IP Â§¥ÈáåÂ∏¶‰∫ÜÊÄªÈïøÂ∫¶ÔºåÊ≠£Â•ΩÂèØ‰ª•Áî®‰∫éËÆ°ÁÆó UDP Êï∞ÊçÆÁöÑÈïøÂ∫¶Ôºå‰∏á‰∏Ä UDP ÁöÑÂ∫ïÂ±Ç‰∏çÊòØIPÂ±ÇÂçèËÆÆÔºåËÄåÊòØÂÖ∂‰ªñÁΩëÁªúÂ±ÇÂçèËÆÆÔºåÂ∞±‰∏çËÉΩÁªßÁª≠Ëøô‰πàËÆ°ÁÆó‰∫Ü„ÄÇ</p><p>‰ΩÜÊàëËßâÂæóÔºåÊúÄÈáçË¶ÅÁöÑÂéüÂõ†ÊòØÔºåIP Â±ÇÊòØÁΩëÁªúÂ±ÇÁöÑÔºåËÄå UDP ÊòØ‰º†ËæìÂ±ÇÁöÑÔºåÂà∞‰∫Ü‰º†ËæìÂ±ÇÔºåÊï∞ÊçÆÂåÖÂ∞±Â∑≤Áªè‰∏çÂ≠òÂú®IPÂ§¥‰ø°ÊÅØ‰∫ÜÔºåÈÇ£‰πàÊ≠§Êó∂ÁöÑUDPÊï∞ÊçÆ‰ºöË¢´ÊîæÂú® UDP ÁöÑ <code>Socket Buffer</code> ‰∏≠„ÄÇÂΩìÂ∫îÁî®Â±ÇÊù•‰∏çÂèäÂèñËøô‰∏™ UDP Êï∞ÊçÆÊä•ÔºåÈÇ£‰πà‰∏§‰∏™Êï∞ÊçÆÊä•Âú®Êï∞ÊçÆÂ±ÇÈù¢ÂÖ∂ÂÆûÈÉΩÊòØ‰∏ÄÂ†Ü 01 ‰∏≤„ÄÇÊ≠§Êó∂ËØªÂèñÁ¨¨‰∏Ä‰∏™Êï∞ÊçÆÊä•ÁöÑÊó∂ÂÄôÔºå‰ºöÂÖàËØªÂèñÂà∞ UDP Â§¥ÈÉ®Ôºå<strong>Â¶ÇÊûúËøôÊó∂ÂÄô UDP Â§¥‰∏çÂê´ UDP ÈïøÂ∫¶‰ø°ÊÅØÔºåÈÇ£‰πàÂ∫îÁî®Â±ÇÂ∫îËØ•ÂèñÂ§öÂ∞ëÊï∞ÊçÆÊâçÁÆóÂÆåÊï¥ÁöÑ‰∏Ä‰∏™Êï∞ÊçÆÊä•Âë¢</strong>Ôºü</p><p>Âõ†Ê≠§ UDP Â§¥ÁöÑËøô‰∏™ÈïøÂ∫¶ÂÖ∂ÂÆûË∑ü TCP ‰∏∫‰∫ÜÈò≤Ê≠¢Á≤òÂåÖËÄåÂú®Ê∂àÊÅØ‰ΩìÈáåÂä†ÂÖ•ÁöÑËæπÁïå‰ø°ÊÅØÊòØËµ∑‰∏ÄÊ†∑ÁöÑ‰ΩúÁî®ÁöÑ„ÄÇ</p><figure class="image-box">                <img src="image-20220112223547322.png" alt="image-20220112223547322" title class>                <p>image-20220112223547322</p>            </figure><p>Èù¢ËØïÁöÑÊó∂ÂÄôÂí±Â∞±ÊääËøô‰∫õÂÖ®ËØ¥Âá∫ÂéªÔºå<strong>ÊòæÂæó</strong>Âí±Â•ΩÂÉèÁªèËøá‰∫ÜÊ∑±Ê∑±ÁöÑÊÄùËÄÉ‰∏ÄÊ†∑ÔºåÈù¢ËØïÂÆòÂèØËÉΩ‰ºöËßâÂæóÂí±ÁâπÂà´Áà±ÊÄùËÄÉÔºå<strong>Âä†ÂàÜÂä†ÂàÜ</strong>„ÄÇ</p><p>Â¶ÇÊûúÊàëËØ¥Èîô‰∫ÜÔºåËØ∑ÊääÊàëÁöÑËøôÁØáÊñáÁ´†ËΩ¨ÂèëÁªôÊõ¥Â§öÁöÑ‰∫∫ÔºåËÆ©Â§ßÂÆ∂ËÆ∞‰ΩèËøô‰∏™Êª°Âò¥ËÉ°ËØùÁöÑ‰∫∫ÔºåÂú®ÂÖ≥Ê≥®‰πãÂêéÁã†Áã†ÁöÑÁßÅ‰ø°È™ÇÊàëÔºåÊãúÊâò‰∫ÜÔºÅ</p><h3 id="IP-Â±ÇÊúâÁ≤òÂåÖÈóÆÈ¢òÂêó"><a href="#IP-Â±ÇÊúâÁ≤òÂåÖÈóÆÈ¢òÂêó" class="headerlink" title="IP Â±ÇÊúâÁ≤òÂåÖÈóÆÈ¢òÂêó"></a><strong>IP Â±ÇÊúâÁ≤òÂåÖÈóÆÈ¢òÂêó</strong></h3><p>IP Â±Ç‰ºöÂØπÂ§ßÂåÖËøõË°åÂàáÁâáÔºåÊòØ‰∏çÊòØ‰πüÊúâÁ≤òÂåÖÈóÆÈ¢òÔºü</p><p>ÂÖàËØ¥ÁªìËÆ∫Ôºå‰∏ç‰ºö„ÄÇÈ¶ñÂÖàÂâçÊñáÊèêÂà∞‰∫ÜÔºåÁ≤òÂåÖÂÖ∂ÂÆûÊòØÁî±‰∫é‰ΩøÁî®ËÄÖÊó†Ê≥ïÊ≠£Á°ÆÂå∫ÂàÜÊ∂àÊÅØËæπÁïåÂØºËá¥ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢ò„ÄÇ</p><p>ÂÖàÁúãÁúã IP Â±ÇÁöÑÂàáÁâáÂàÜÂåÖÊòØÊÄé‰πàÂõû‰∫ã„ÄÇ</p><figure class="image-box">                <img src="v2-1f597892a79da54e5830c2e64c2fcb4a_720w.jpg" alt="img" title class>                <p>img</p>            </figure><ul><li>Â¶ÇÊûúÊ∂àÊÅØËøáÈïøÔºå<code>IPÂ±Ç</code>‰ºöÊåâ <strong>MTU ÈïøÂ∫¶</strong>ÊääÊ∂àÊÅØÂàÜÊàê <strong>N ‰∏™ÂàáÁâá</strong>ÔºåÊØè‰∏™ÂàáÁâáÂ∏¶ÊúâËá™Ë∫´Âú®<strong>ÂåÖÈáåÁöÑ‰ΩçÁΩÆÔºàoffsetÔºâ</strong>Âíå<strong>ÂêåÊ†∑ÁöÑIPÂ§¥‰ø°ÊÅØ</strong>„ÄÇ</li><li>ÂêÑ‰∏™ÂàáÁâáÂú®ÁΩëÁªú‰∏≠ËøõË°å‰º†Ëæì„ÄÇÊØè‰∏™Êï∞ÊçÆÂåÖÂàáÁâáÂèØ‰ª•Âú®‰∏çÂêåÁöÑË∑ØÁî±‰∏≠ÊµÅËΩ¨ÔºåÁÑ∂Âêé<strong>Âú®ÊúÄÂêéÁöÑÁªàÁÇπÊ±áÂêàÂêéÂÜçÁªÑË£Ö</strong>„ÄÇ</li><li>Âú®Êé•Êî∂Á´ØÊî∂Âà∞Á¨¨‰∏Ä‰∏™ÂàáÁâáÂåÖÊó∂‰ºöÁî≥ËØ∑‰∏ÄÂùóÊñ∞ÂÜÖÂ≠òÔºåÂàõÂª∫IPÂåÖÁöÑÊï∞ÊçÆÁªìÊûÑÔºåÁ≠âÂæÖÂÖ∂‰ªñÂàáÁâáÂàÜÂåÖÊï∞ÊçÆÂà∞‰Ωç„ÄÇ</li><li>Á≠âÊ∂àÊÅØÂÖ®ÈÉ®Âà∞‰ΩçÂêéÂ∞±ÊääÊï¥‰∏™Ê∂àÊÅØÂåÖÁªôÂà∞‰∏äÂ±ÇÔºà‰º†ËæìÂ±ÇÔºâËøõË°åÂ§ÑÁêÜ„ÄÇ</li></ul><p>ÂèØ‰ª•ÁúãÂá∫Êï¥‰∏™ËøáÁ®ãÔºå<code>IP Â±Ç</code>‰ªéÊåâÈïøÂ∫¶ÂàáÁâáÂà∞ÊääÂàáÁâáÁªÑË£ÖÊàê‰∏Ä‰∏™Êï∞ÊçÆÂåÖÁöÑËøáÁ®ã‰∏≠ÔºåÈÉΩÂè™ÁÆ°ËøêËæìÔºåÈÉΩ‰∏çÈúÄË¶ÅÂú®ÊÑèÊ∂àÊÅØÁöÑËæπÁïåÂíåÂÜÖÂÆπÔºåÈÉΩ‰∏çÂú®ÊÑèÊ∂àÊÅØÂÜÖÂÆπ‰∫ÜÔºåÈÇ£Â∞±‰∏ç‰ºöÊúâÁ≤òÂåÖ‰∏ÄËØ¥‰∫Ü„ÄÇ</p><p><code>IP Â±Ç</code>Ë°®Á§∫ÔºöÊàëÂè™ÁÆ°ÊääÂèëÈÄÅÁ´ØÁªôÊàëÁöÑÊï∞ÊçÆ‰º†Âà∞Êé•Êî∂Á´ØÂ∞±ÂÆå‰∫ÜÔºåÊàë‰πü‰∏ç‰∫ÜËß£ÈáåÂ§¥Êîæ‰∫ÜÂï•‰∏úË•ø„ÄÇ</p><p>Âê¨Ëµ∑Êù•Â∞±ÂÉè ‚Äú<strong>Êàë‰∏çÁÆ°‰∫ßÂìÅÁöÑÈúÄÊ±ÇÂÇª‰∏çÂÇªXÔºåÊàëÂÆûÁé∞‰∫ÜÂ∞±Ë°åÔºåÊàë‰∏çÈóÆÔºå‰πüÊáíÂæó‰∫â‰∫Ü</strong>‚ÄùÔºåËøôÊÄùË∑ØÂÄºÂæóÊØè‰∏Ä‰Ωç‰ºòÁßÄÁöÑÂàíÊ∞¥Á®ãÂ∫èÂëòÂ≠¶‰π†Ôºå<strong>respect</strong>„ÄÇ</p><h3 id="ÊÄªÁªì"><a href="#ÊÄªÁªì" class="headerlink" title="ÊÄªÁªì"></a><strong>ÊÄªÁªì</strong></h3><p>Á≤òÂåÖËøô‰∏™ÈóÆÈ¢òÁöÑÊ†πÂõ†ÊòØÁî±‰∫éÂºÄÂèë‰∫∫ÂëòÊ≤°ÊúâÊ≠£Á°ÆÁêÜËß£ TCP Èù¢ÂêëÂ≠óËäÇÊµÅÁöÑÊï∞ÊçÆ‰º†ËæìÊñπÂºèÔºåÊú¨Ë∫´Âπ∂‰∏çÊòØ TCP ÁöÑÈóÆÈ¢òÔºåÊòØÂºÄÂèëËÄÖÁöÑÈóÆÈ¢ò„ÄÇ</p><ul><li>TCP ‰∏çÁÆ°ÂèëÈÄÅÁ´ØË¶ÅÂèë‰ªÄ‰πàÔºåÈÉΩÂü∫‰∫éÂ≠óËäÇÊµÅÊääÊï∞ÊçÆÂèëÂà∞Êé•Êî∂Á´Ø„ÄÇËøô‰∏™Â≠óËäÇÊµÅÈáåÂèØËÉΩÂåÖÂê´‰∏ä‰∏ÄÊ¨°ÊÉ≥Ë¶ÅÂèëÁöÑÊï∞ÊçÆÁöÑÈÉ®ÂàÜ‰ø°ÊÅØ„ÄÇÊé•Êî∂Á´ØÊ†πÊçÆÈúÄË¶ÅÂú®Ê∂àÊÅØÈáåÂä†‰∏äËØÜÂà´Ê∂àÊÅØËæπÁïåÁöÑ‰ø°ÊÅØ„ÄÇ‰∏çÂä†Â∞±ÂèØËÉΩÂá∫Áé∞Á≤òÂåÖÈóÆÈ¢ò„ÄÇ</li><li>TCP Á≤òÂåÖË∑üNagleÁÆóÊ≥ïÊúâÂÖ≥Á≥ªÔºå‰ΩÜÂÖ≥Èó≠ Nagle ÁÆóÊ≥ïÂπ∂‰∏çËß£ÂÜ≥Á≤òÂåÖÈóÆÈ¢ò„ÄÇ</li><li>UDP ÊòØÂü∫‰∫éÊï∞ÊçÆÊä•ÁöÑ‰º†ËæìÂçèËÆÆÔºå‰∏ç‰ºöÊúâÁ≤òÂåÖÈóÆÈ¢ò„ÄÇ</li><li>IP Â±Ç‰πüÂàáÁâáÔºå‰ΩÜÊòØÂõ†‰∏∫‰∏çÂÖ≥ÂøÉÊ∂àÊÅØÈáåÊúâÂï•ÔºåÂõ†Ê≠§Êúâ‰∏ç‰ºöÊúâÁ≤òÂåÖÈóÆÈ¢ò„ÄÇ</li><li><code>TCP</code> ÂèëÈÄÅÁ´ØÂèØ‰ª•Âèë <code>10 Ê¨°</code>Â≠óËäÇÊµÅÊï∞ÊçÆÔºåÊé•Êî∂Á´ØÂèØ‰ª•ÂàÜ <code>100 Ê¨°</code>ÂéªÂèñÔºõ<code>UDP</code> ÂèëÈÄÅÁ´ØÂèë‰∫Ü <code>10 Ê¨°</code>Êï∞ÊçÆÊä•ÔºåÈÇ£Êé•Êî∂Á´ØÂ∞±Ë¶ÅÂú® <code>10 Ê¨°</code>Êî∂ÂÆå„ÄÇ</li></ul><p>Êï∞ÊçÆÂåÖ‰πüÂè™ÊòØÊåâÁùÄ TCP ÁöÑÊñπÂºèËøõË°åÁªÑË£ÖÂíåÊãÜÂàÜÔºå<strong>Â¶ÇÊûúÊï∞ÊçÆÂåÖÊúâÈîôÔºåÈÇ£Êï∞ÊçÆÂåÖ‰πüÂè™ÊòØÁäØ‰∫ÜÊØè‰∏™Êï∞ÊçÆÂåÖÈÉΩ‰ºöÁäØÁöÑÈîôËÄåÂ∑≤</strong>„ÄÇ</p>]]></content>
    
    
    <summary type="html">ËΩ¨ËΩΩËá™Ôºöhttps://zhuanlan.zhihu.com/p/359177898</summary>
    
    
    
    <category term="ËÆ°ÁÆóÊú∫ÁΩëÁªú" scheme="https://github.com/missionOdd/categories/ËÆ°ÁÆóÊú∫ÁΩëÁªú/"/>
    
    
    <category term="TCP/IP" scheme="https://github.com/missionOdd/tags/TCP-IP/"/>
    
    <category term="Á≤òÂåÖ" scheme="https://github.com/missionOdd/tags/Á≤òÂåÖ/"/>
    
  </entry>
  
  <entry>
    <title>ÂÆåÂÖ®ËÉåÂåÖÊÄùË∑Ø| Ââ™Áª≥Â≠ê ÔºàjavaÔºâ</title>
    <link href="https://github.com/missionOdd/2022/01/12/jian-sheng-zi-lcof/"/>
    <id>https://github.com/missionOdd/2022/01/12/jian-sheng-zi-lcof/</id>
    <published>2022-01-12T04:30:37.000Z</published>
    <updated>2022-02-16T10:08:41.017Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/jian-sheng-zi-lcof/" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><p>ÂâëÊåá Offer 14- I. Ââ™Áª≥Â≠ê<br>Áªô‰Ω†‰∏ÄÊ†πÈïøÂ∫¶‰∏∫ n ÁöÑÁª≥Â≠êÔºåËØ∑ÊääÁª≥Â≠êÂâ™ÊàêÊï¥Êï∞ÈïøÂ∫¶ÁöÑ m ÊÆµÔºàm„ÄÅnÈÉΩÊòØÊï¥Êï∞Ôºån&gt;1Âπ∂‰∏îm&gt;1ÔºâÔºåÊØèÊÆµÁª≥Â≠êÁöÑÈïøÂ∫¶ËÆ∞‰∏∫ k[0],k[1]‚Ä¶k[m-1] „ÄÇËØ∑ÈóÆ k[0]<em>k[1]</em>‚Ä¶*k[m-1] ÂèØËÉΩÁöÑÊúÄÂ§ß‰πòÁßØÊòØÂ§öÂ∞ëÔºü‰æãÂ¶ÇÔºåÂΩìÁª≥Â≠êÁöÑÈïøÂ∫¶ÊòØ8Êó∂ÔºåÊàë‰ª¨ÊääÂÆÉÂâ™ÊàêÈïøÂ∫¶ÂàÜÂà´‰∏∫2„ÄÅ3„ÄÅ3ÁöÑ‰∏âÊÆµÔºåÊ≠§Êó∂ÂæóÂà∞ÁöÑÊúÄÂ§ß‰πòÁßØÊòØ18„ÄÇ</p></blockquote><blockquote><p>ËæìÂÖ•: 2<br>ËæìÂá∫: 1<br>Ëß£Èáä: 2 = 1 + 1, 1 √ó 1 = 1</p></blockquote><blockquote><p>Á§∫‰æã 2:<br>ËæìÂÖ•: 10<br>ËæìÂá∫: 36<br>Ëß£Èáä: 10 = 3 + 3 + 4, 3 √ó 3 √ó 4 = 36</p></blockquote><blockquote><p>ÊèêÁ§∫Ôºö<br>2 &lt;= n &lt;= 58</p></blockquote><h3 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h3><pre><code> ÂÆåÂÖ®ËÉåÂåÖÈóÆÈ¢òÂØπ‰∫éÂ§ß‰∫éÁ≠â‰∫é4ÁöÑÊï∞ÔºåÊãÜÊàêÊØè‰∏™Êï∞ÈÉΩË∂äÈù†ËøëeÔºåÊî∂ÁõäË∂äÂ§ßÔºåÁî±‰∫éÊòØÊï¥Êï∞ÔºåÈÇ£‰πàÔºåÊãÜÊàê2Êàñ3Êî∂ÁõäÊúÄÂ§ßÊØîÂ¶ÇÔºön=4ÔºåÊî∂ÁõäÊúÄÂ§ß[2,2]n=5, Êî∂ÁõäÊúÄÂ§ß[2,3]n=6, Êî∂ÁõäÊúÄÂ§ß[3,3]n=7, Êî∂ÁõäÊúÄÂ§ß[2,2,3]n=8, Êî∂ÁõäÊúÄÂ§ß[2,3,3]...Êàë‰ª¨ÊäΩË±°Âá∫Êù•ÔºåÂæóÂà∞ÔºöÁâ©ÂìÅÈáçÈáèÔºö2Ôºå3Áâ©ÂìÅ‰ª∑ÂÄºÔºö2Ôºå3ËÉåÂåÖÂÆπÈáèÔºönÊúÄÂ§ß‰ª∑ÂÄºÔºöÊúÄÂ§ß‰πòÁßØ</code></pre><h3 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     ÂÆåÂÖ®ËÉåÂåÖÈóÆÈ¢ò</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">cuttingRope</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ÁâπÊÆäÊÉÖÂÜµ</span></span><br><span class="line">        <span class="keyword">if</span>(n&lt;<span class="number">4</span>) <span class="keyword">return</span> n-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ËøôÈáådpÊúÄÂ§ß‰πòÁßØÔºåÂåÖÊã¨‰∏çÂâ™Áª≥Â≠êÁöÑÊÉÖÂÜµÔºåËøôÊòØÁ≠â‰∫éÂéüÂÄºÔºå‰∏çÊòØÁ≠â‰∫é0</span></span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">        dp[<span class="number">3</span>]=<span class="number">3</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> w=<span class="number">2</span>;w&lt;=<span class="number">3</span>;w++)&#123; <span class="comment">// ÈÅçÂéÜÁâ©ÂìÅ</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">4</span>;i&lt;=n;i++)&#123; <span class="comment">// ÈÅçÂéÜËÉåÂåÖ</span></span><br><span class="line">                dp[i] = Math.max(dp[i], dp[i-w]*w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/jian-sheng-zi-lcof/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;the leetcode link&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Ââë</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="ÂÆåÂÖ®ËÉåÂåÖ" scheme="https://github.com/missionOdd/tags/ÂÆåÂÖ®ËÉåÂåÖ/"/>
    
  </entry>
  
  <entry>
    <title>01ËÉåÂåÖ | ÂàÜÂâ≤Á≠âÂíåÂ≠êÈõÜ</title>
    <link href="https://github.com/missionOdd/2022/01/09/partition-equal-subset-sum/"/>
    <id>https://github.com/missionOdd/2022/01/09/partition-equal-subset-sum/</id>
    <published>2022-01-09T04:30:37.000Z</published>
    <updated>2022-02-16T10:06:49.531Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/partition-equal-subset-sum/" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><ol start="416"><li>ÂàÜÂâ≤Á≠âÂíåÂ≠êÈõÜ<br>Áªô‰Ω†‰∏Ä‰∏™ Âè™ÂåÖÂê´Ê≠£Êï¥Êï∞ ÁöÑ ÈùûÁ©∫ Êï∞ÁªÑ nums „ÄÇËØ∑‰Ω†Âà§Êñ≠ÊòØÂê¶ÂèØ‰ª•Â∞ÜËøô‰∏™Êï∞ÁªÑÂàÜÂâ≤Êàê‰∏§‰∏™Â≠êÈõÜÔºå‰ΩøÂæó‰∏§‰∏™Â≠êÈõÜÁöÑÂÖÉÁ¥†ÂíåÁõ∏Á≠â„ÄÇ</li></ol></blockquote><blockquote><p>Á§∫‰æã 1Ôºö<br>ËæìÂÖ•Ôºönums = [1,5,11,5]<br>ËæìÂá∫Ôºötrue<br>Ëß£ÈáäÔºöÊï∞ÁªÑÂèØ‰ª•ÂàÜÂâ≤Êàê [1, 5, 5] Âíå [11] „ÄÇ</p></blockquote><blockquote><p>Á§∫‰æã 2Ôºö<br>ËæìÂÖ•Ôºönums = [1,2,3,5]<br>ËæìÂá∫Ôºöfalse<br>Ëß£ÈáäÔºöÊï∞ÁªÑ‰∏çËÉΩÂàÜÂâ≤Êàê‰∏§‰∏™ÂÖÉÁ¥†ÂíåÁõ∏Á≠âÁöÑÂ≠êÈõÜ„ÄÇ</p></blockquote><h3 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h3><p><strong>ËΩ¨Êàê01ËÉåÂåÖÈóÆÈ¢ò:</strong></p><ul><li>Áâ©ÂìÅÈáçÈáèÔºöÊï∞ÁªÑÂÖÉÁ¥†ÂêÑÊï∞ÂÄºÔºå Â¶Ç[1,5,11,5]</li><li>Áâ©ÂìÅ‰ª∑ÂÄºÔºöÊï∞ÁªÑÂÖÉÁ¥†ÂêÑÊï∞ÂÄºÔºå Â¶Ç[1,5,11,5]</li><li>ËÉåÂåÖÂÆπÈáèÔºötarget = sum / 2</li><li>Ê±ÇÔºöÊòØÂê¶Â≠òÂú®ËÉåÂåÖÊ≠£Â•ΩË£ÖÊª°ÁöÑÊÉÖÂÜµÔºåÂ≠òÂú®ÂàôËØ¥ÊòéÊâæÂà∞‰∫ÜÊÄªÂíå‰∏∫ sum / 2 ÁöÑÂ≠êÈõÜ</li><li>ÈÄíÊé®ÂÖ¨ÂºèÔºödp[j] = max(dp[j], dp[j-num] + num);</li></ul><p><strong>Ê≠•È™§Ôºö</strong></p><ol><li><p>ÂÆö‰πâdp‰∏ÄÁª¥ÊªöÂä®Êï∞ÁªÑ<br>01ËÉåÂåÖ‰∏≠Ôºådp[j] Ë°®Á§∫ÔºöËÉåÂåÖÂÆπÈáè‰∏∫jÁöÑËÉåÂåÖÔºåÊâÄËÉåÁöÑÁâ©ÂìÅ‰ª∑ÂÄºÂèØ‰ª•ÊúÄÂ§ß‰∏∫dp[j]„ÄÇ</p></li><li><p>Á°ÆÂÆöÈÄíÊé®ÂÖ¨Âºè<br>01ËÉåÂåÖÁöÑÈÄíÊé®ÂÖ¨Âºè‰∏∫Ôºödp[j] = max(dp[j], dp[j - weight[i]] + value[i]);<br>ËØ•È¢òÁöÑÁâ©ÂìÅiÁöÑÈáçÈáèÊòØnums[i]ÔºåÂÖ∂‰ª∑ÂÄº‰πüÊòØnums[i]„ÄÇ<br>ÊâÄ‰ª•ÈÄíÊé®ÂÖ¨ÂºèÔºödp[j] = max(dp[j], dp[j-num] + num);<br>3.dpÊï∞ÁªÑÂ¶Ç‰ΩïÂàùÂßãÂåñ<br>Áî±‰∫éÈ¢òÁõÆÁªôÁöÑ‰ª∑ÂÄºÈÉΩÊòØÊ≠£Êï¥Êï∞ÈÇ£‰πàÈùû0‰∏ãÊ†áÈÉΩÂàùÂßãÂåñ‰∏∫0Ôºõ<br>Â¶ÇÊûúÈ¢òÁõÆÁªôÁöÑ‰ª∑ÂÄºÊúâË¥üÊï∞ÔºåÈÇ£‰πàÈùû0‰∏ãÊ†áÂ∞±Ë¶ÅÂàùÂßãÂåñ‰∏∫Ë¥üÊó†Á©∑„ÄÇ<br><strong>ËøôÊ†∑ÊâçËÉΩËÆ©dpÊï∞ÁªÑÂú®ÈÄíÂΩíÂÖ¨ÂºèÁöÑËøáÁ®ã‰∏≠ÂèñÁöÑÊúÄÂ§ßÁöÑ‰ª∑ÂÄºÔºåËÄå‰∏çÊòØË¢´ÂàùÂßãÂÄºË¶ÜÁõñ</strong>„ÄÇ</p></li><li><p>Á°ÆÂÆöÈÅçÂéÜÈ°∫Â∫è<br>01ËÉåÂåÖ‰∏ÄÁª¥ÊªöÂä®Êï∞ÁªÑÔºöÂÖàÈÅçÂéÜÁâ©ÂìÅÔºåÂÜçÈÅçÂéÜËÉåÂåÖ</p></li><li>Á°ÆÂÆöËøîÂõûÁªìÊûú<br>dp[j]ÁöÑÊï∞ÂÄº‰∏ÄÂÆöÊòØÂ∞è‰∫éÁ≠â‰∫éjÁöÑ„ÄÇ<br>Â¶ÇÊûúdp[target] == targetÔºå ËØ¥ÊòéÂ≠òÂú®ËÉåÂåÖÊ≠£Â•ΩË£ÖÊª°ÁöÑ‰ª∑ÂÄºÊÄªÂíåÔºåÂ≠òÂú®ÂàôËØ¥ÊòéÊâæÂà∞‰∫ÜÊÄªÂíå‰∏∫ sum / 2 ÁöÑÂ≠êÈõÜ„ÄÇ</li></ol><h3 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">        ËΩ¨Êàê01ËÉåÂåÖÈóÆÈ¢ò:</span></span><br><span class="line"><span class="comment">        Áâ©ÂìÅÈáçÈáèÔºöÊï∞ÁªÑÂÖÉÁ¥†ÂêÑÊï∞ÂÄºÔºå Â¶Ç[1,5,11,5]</span></span><br><span class="line"><span class="comment">        Áâ©ÂìÅ‰ª∑ÂÄºÔºöÊï∞ÁªÑÂÖÉÁ¥†ÂêÑÊï∞ÂÄºÔºå Â¶Ç[1,5,11,5]</span></span><br><span class="line"><span class="comment">        ËÉåÂåÖÂÆπÈáèÔºötarget = sum / 2</span></span><br><span class="line"><span class="comment">        Ê±ÇÔºöÊòØÂê¶Â≠òÂú®ËÉåÂåÖÊ≠£Â•ΩË£ÖÊª°ÁöÑÊÉÖÂÜµÔºåËØ¥ÊòéÊâæÂà∞‰∫ÜÊÄªÂíå‰∏∫ sum / 2 ÁöÑÂ≠êÈõÜ</span></span><br><span class="line"><span class="comment">        ÈÄíÊé®ÂÖ¨ÂºèÔºödp[j] = max(dp[j], dp[j-num] + num);</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canPartition</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = nums.length;</span><br><span class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">            sum += num;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ÊÄªÂíå‰∏∫Â•áÊï∞Ôºå‰∏çËÉΩÂπ≥ÂàÜ</span></span><br><span class="line">        <span class="keyword">if</span>(sum % <span class="number">2</span> != <span class="number">0</span>) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">int</span> target = sum / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[target + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> num : nums)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = target; j &gt;= num; j--)&#123; <span class="comment">//ÂÄíÂèô‰øùËØÅ‰ΩøÁî®1Ê¨°Áâ©ÂìÅÔºåÊ≠£Â∫è‰ºöË¶ÜÁõñ‰∏ä‰∏ÄÂ±ÇÂ∑¶‰æßÂÄº</span></span><br><span class="line">                <span class="comment">//Áâ©ÂìÅ i ÁöÑÈáçÈáèÊòØ nums[i]ÔºåÂÖ∂‰ª∑ÂÄº‰πüÊòØ nums[i]</span></span><br><span class="line">                dp[j] = Math.max(dp[j], dp[j-num] + num);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[target] == target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/partition-equal-subset-sum/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;the leetcode link&lt;/a&gt;&lt;/p&gt;
&lt;blockquo</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="01ËÉåÂåÖ" scheme="https://github.com/missionOdd/tags/01ËÉåÂåÖ/"/>
    
  </entry>
  
  <entry>
    <title>Âä®ÊÄÅËßÑÂàí |  Âèå‰∏≤È¢ò | ‰∏çÂêåÁöÑÂ≠êÂ∫èÂàó</title>
    <link href="https://github.com/missionOdd/2022/01/05/distinct-subsequences/"/>
    <id>https://github.com/missionOdd/2022/01/05/distinct-subsequences/</id>
    <published>2022-01-05T07:50:37.000Z</published>
    <updated>2022-02-08T01:49:22.110Z</updated>
    
    <content type="html"><![CDATA[<h1 id="È¢òÁõÆ"><a href="#È¢òÁõÆ" class="headerlink" title="È¢òÁõÆ"></a>È¢òÁõÆ</h1><p><a href="https://leetcode-cn.com/problems/distinct-subsequences/" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><ol start="115"><li>‰∏çÂêåÁöÑÂ≠êÂ∫èÂàó<br>ÁªôÂÆö‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ s Âíå‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ t ÔºåËÆ°ÁÆóÂú® s ÁöÑÂ≠êÂ∫èÂàó‰∏≠ t Âá∫Áé∞ÁöÑ‰∏™Êï∞„ÄÇ</li></ol><p>Â≠óÁ¨¶‰∏≤ÁöÑ‰∏Ä‰∏™ Â≠êÂ∫èÂàó ÊòØÊåáÔºåÈÄöËøáÂà†Èô§‰∏Ä‰∫õÔºà‰πüÂèØ‰ª•‰∏çÂà†Èô§ÔºâÂ≠óÁ¨¶‰∏î‰∏çÂπ≤Êâ∞Ââ©‰ΩôÂ≠óÁ¨¶Áõ∏ÂØπ‰ΩçÁΩÆÊâÄÁªÑÊàêÁöÑÊñ∞Â≠óÁ¨¶‰∏≤„ÄÇÔºà‰æãÂ¶ÇÔºå‚ÄùACE‚Äù ÊòØ ‚ÄúABCDE‚Äù ÁöÑ‰∏Ä‰∏™Â≠êÂ∫èÂàóÔºåËÄå ‚ÄúAEC‚Äù ‰∏çÊòØÔºâ</p><p>È¢òÁõÆÊï∞ÊçÆ‰øùËØÅÁ≠îÊ°àÁ¨¶Âêà 32 ‰ΩçÂ∏¶Á¨¶Âè∑Êï¥Êï∞ËåÉÂõ¥„ÄÇ</p></blockquote><blockquote><p>Á§∫‰æã 1Ôºö<br>ËæìÂÖ•Ôºös = ‚Äúrabbbit‚Äù, t = ‚Äúrabbit‚Äù<br>ËæìÂá∫Ôºö3<br>Ëß£ÈáäÔºö<br>Â¶Ç‰∏ãÂõæÊâÄÁ§∫, Êúâ 3 ÁßçÂèØ‰ª•‰ªé s ‰∏≠ÂæóÂà∞ ‚Äúrabbit‚Äù ÁöÑÊñπÊ°à„ÄÇ<br>rabbbit<br>rabbbit<br>rabbbit</p></blockquote><blockquote><p>Á§∫‰æã 2Ôºö<br>ËæìÂÖ•Ôºös = ‚Äúbabgbag‚Äù, t = ‚Äúbag‚Äù<br>ËæìÂá∫Ôºö5<br>Ëß£ÈáäÔºö<br>Â¶Ç‰∏ãÂõæÊâÄÁ§∫, Êúâ 5 ÁßçÂèØ‰ª•‰ªé s ‰∏≠ÂæóÂà∞ ‚Äúbag‚Äù ÁöÑÊñπÊ°à„ÄÇ<br>babgbag<br>babgbag<br>babgbag<br>babgbag<br>babgbag</p></blockquote><blockquote><p>ÊèêÁ§∫Ôºö<br>0 &lt;= s.length, t.length &lt;= 1000<br>s Âíå t Áî±Ëã±ÊñáÂ≠óÊØçÁªÑÊàê</p></blockquote><h3 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h3><ol><li>s, tÂºïÂÖ•Â§¥ÈÉ®‚Äù‚ÄùÁ©∫Â≠óÁ¨¶ÔºõÂÆö‰πâm„ÄÅnÂàÜÂà´ÊòØs„ÄÅtÈïøÂ∫¶ÔºåÂÆö‰πâ‰∫åÁª¥Êï∞ÁªÑdp[m+1][n+1]ÔºåÂÄºË°®Á§∫s[0Ôºöi]ÂèØ‰ª•ÁªÑÊàêt[0Ôºöj]ÁöÑÂ≠êÂ∫èÂàóÊúÄÂ§ßÊï∞ÈáèÔºõ<br><code>ÔºàiÔºåjÊ≥õÊåáÁ¨¶ÂêàÈ¢òÁõÆ‰∏çË∂ÖËæπÁïåÁöÑÁõ∏ÂÖ≥ÂèòÈáèÔºå[0Ôºöi]Ë°®Á§∫Êûö‰∏æ‰ªé0Âà∞iÔºâ</code></li><li>ÂàùÂßãÂåñ</li></ol><ul><li>s[0Ôºöi]ÂÖ®ÈÉ®Âà†Èô§ÂèñÂæóÂ≠êÂ∫èÂàó‚Äú‚ÄùÔºåÊàêÂäüÁªÑÊàêt[0]Âç≥‚Äú‚Äù ÔºåÊâÄ‰ª•dp[0Ôºöm][0] = 1</li><li>s[0]ÊòØ‚Äú‚ÄùÔºåÊó†Ê≥ïÁªÑÊàêÈùû‚Äú‚ÄùÂ≠óÁ¨¶‰∏≤t[1Ôºöi] ÔºåÊâÄ‰ª•dp[0][1Ôºön] = 0ÔºåÈªòËÆ§Â∑≤ÂàùÂßãÂåñ</li></ul><ol start="3"><li>ÈÄíÊé®ËøáÁ®ã</li></ol><ul><li>ÁªìÂ∞æÂ≠óÁ¨¶Áõ∏Á≠âÔºåÂèñ‰∏§ÁßçÊÉÖÂÜµÁöÑÁªìÂêà<br>Á¨¨‰∏ÄÁßçÔºåÁî®Âà∞s[i-1]ÁöÑÁªìÂ∞æÂ≠óÁ¨¶ÔºåÂàôÊï∞Èáè‰∏édp[i-1][j-1]Áõ∏Á≠â<br>Á¨¨‰∫åÁßçÔºå‰∏çÁî®Âà∞s[i-1]ÁöÑÁªìÂ∞æÂ≠óÁ¨¶ÔºåÂàôÊï∞Èáè‰∏édp[i-1][j]Áõ∏Á≠â</li><li>ÁªìÂ∞æÂ≠óÁ¨¶‰∏çÁõ∏Á≠âÔºå‰∏çÁî®Âà∞s[i-1]ÁöÑÁªìÂ∞æÂ≠óÁ¨¶, ÂàôÁ≠â‰∫édp[i-1][j]<br><code>tipsÔºöÁî±‰∫éÂºïÂÖ•‚Äú‚ÄùÁöÑÂÖ≥Á≥ªÔºåsÁöÑÂΩìÂâçÂ≠óÁ¨¶ÊåáÈíàÊòØi-1ÔºåtÁöÑÂΩìÂâçÂ≠óÁ¨¶ÊåáÈíàÊòØj-1Ôºå‰∏édpÁöÑi-1Ôºåj-1Âå∫Âà´ÂºÄ</code></li></ul><ol start="4"><li>Ââ™Êûù‰ºòÂåñÔºåÈôêÂà∂t[0Ôºöj]ÈïøÂ∫¶‰∏çÂèØËÉΩÂ§ß‰∫és[0Ôºöi]</li><li>ËøîÂõûÁªìÊûú</li></ol><h3 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDistinct</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = s.length();</span><br><span class="line">        <span class="keyword">int</span> n = t.length();</span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[m+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line">        <span class="comment">//s[0Ôºöi]ÂÖ®ÈÉ®Âà†Èô§ÂèñÂæóÂ≠êÂ∫èÂàó‚Äú‚ÄùÔºåÊàêÂäüÁªÑÊàêt[0]‚Äú‚Äù ÔºåÊâÄ‰ª•dp[0Ôºöm][0] = 1</span></span><br><span class="line">        <span class="comment">//s[0]ÊòØ‚Äú‚ÄùÔºåÊó†Ê≥ïÁªÑÊàêÈùû‚Äú‚ÄùÂ≠óÁ¨¶‰∏≤t[1Ôºöi] ÔºåÊâÄ‰ª•dp[0][1Ôºön] = 0ÔºåÈªòËÆ§Â∑≤ÂàùÂßãÂåñ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            dp[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=Math.min(i,n);j++)&#123; <span class="comment">// Ââ™ÊûùÊìç‰ΩúÔºåt[0Ôºöj]ÈïøÂ∫¶‰∏çÂèØËÉΩÂ§ß‰∫és[0Ôºöi]</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(s.charAt(i-<span class="number">1</span>)==t.charAt(j-<span class="number">1</span>))&#123;</span><br><span class="line">                    <span class="comment">// ÁªìÂ∞æÂ≠óÁ¨¶Áõ∏Á≠âÔºåÂèñ‰∏§ÁßçÊÉÖÂÜµÁöÑÁªìÂêà</span></span><br><span class="line">                    <span class="comment">//Á¨¨‰∏ÄÁßçÔºåÁî®Âà∞s[i-1]ÁöÑÁªìÂ∞æÂ≠óÁ¨¶ÔºåÂàôÊï∞Èáè‰∏édp[i-1][j-1]Áõ∏Á≠â</span></span><br><span class="line">                    <span class="comment">//Á¨¨‰∫åÁßçÔºå‰∏çÁî®Âà∞s[i-1]ÁöÑÁªìÂ∞æÂ≠óÁ¨¶ÔºåÂàôÊï∞Èáè‰∏édp[i-1][j]Áõ∏Á≠â</span></span><br><span class="line">                    dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>]+dp[i-<span class="number">1</span>][j];</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="comment">//ÁªìÂ∞æÂ≠óÁ¨¶‰∏çÁõ∏Á≠âÔºå‰∏çÁî®Âà∞s[i-1]ÁöÑÁªìÂ∞æÂ≠óÁ¨¶, ÂàôÁ≠â‰∫édp[i-1][j]</span></span><br><span class="line">                    dp[i][j] = dp[i-<span class="number">1</span>][j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[m][n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;È¢òÁõÆ&quot;&gt;&lt;a href=&quot;#È¢òÁõÆ&quot; class=&quot;headerlink&quot; title=&quot;È¢òÁõÆ&quot;&gt;&lt;/a&gt;È¢òÁõÆ&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/distinct-subsequences/&quot; targ</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="Âä®ÊÄÅËßÑÂàí" scheme="https://github.com/missionOdd/tags/Âä®ÊÄÅËßÑÂàí/"/>
    
  </entry>
  
  <entry>
    <title>Ë¥™ÂøÉ| Â§ßÊ†πÂ†Ü | ÊúÄÈïøÂø´‰πêÂ≠óÁ¨¶‰∏≤ | ÂèñÂêàÊ≥ïÁöÑÂâ©‰ΩôÊúÄÂ§öÁöÑÂ≠óÁ¨¶ËøõË°åÊãºÊé•</title>
    <link href="https://github.com/missionOdd/2022/01/03/longest-happy-string/"/>
    <id>https://github.com/missionOdd/2022/01/03/longest-happy-string/</id>
    <published>2022-01-03T07:50:37.000Z</published>
    <updated>2022-02-07T19:11:39.995Z</updated>
    
    <content type="html"><![CDATA[<h3 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h3><p><strong>Ë¥™ÂøÉÊÄùË∑Ø</strong>Ôºö<br>Âú®Âêå‰∏ÄÂ≠óÁ¨¶Áõ∏ÈÇªÂ∞è‰∫é3ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèñÂâ©‰ΩôÊúÄÂ§öÁöÑÂ≠óÁ¨¶ËøõË°åÊãºÊé•ÔºåÂê¶Âàô‰∏çÁî®Á¨¨3‰∏™Â≠óÁ¨¶ÔºåÂèñÂâ©‰ΩôÊï∞Á¨¨‰∫åÂ§öÁöÑÂ≠óÁ¨¶ÊãºÊé•„ÄÇ<br><strong>Ê≠•È™§</strong>Ôºö</p><ol><li>ÂÆö‰πâÂ§ßÊ†πÂ†ÜÔºåÁõÆÁöÑÊòØËøõË°åÂ≠óÁ¨¶Ââ©‰ΩôÊï∞ÈáèÁöÑÊéíÂ∫è</li><li>ÂÆö‰πâÁªìÊûúÂ≠óÁ¨¶‰∏≤</li><li>ÈÅçÂéÜÂ†ÜÁöÑÂèñÂá∫Êìç‰ΩúÔºåÁõ¥Ëá≥Â†ÜÁ©∫</li><li>Âà§Êñ≠ÂèñÂá∫Â≠óÊÆµÊòØÂê¶ÂèØËÉΩÁªÑÊàêÂêå‰∏ÄÂ≠óÁ¨¶Áõ∏ÈÇªÂá∫Áé∞3‰∏™ÁöÑÊÉÖÂÜµÔºåÂ¶ÇÊûúÊòØÔºåÂàô‰∏çÁî®Á¨¨3‰∏™Â≠óÁ¨¶ÔºåÂèñÂâ©‰ΩôÊï∞Á¨¨‰∫åÂ§öÁöÑÂ≠óÁ¨¶ÊãºÊé•<br>ÔºàÊ≥®ÊÑèÂèëÁîüÂ†ÜÁ©∫ÁöÑÊÉÖÂÜµÔºö‰∏çÂ≠òÂú®Ââ©‰ΩôÊï∞Á¨¨‰∫åÂ§öÁöÑÂ≠óÁ¨¶Ôºâ</li><li>Â¶ÇÊûúÂ≠óÁ¨¶Êï∞ÈáèÂ§ß‰∫é0ÔºåÊãºÊé•Â≠óÁ¨¶</li><li>‰ΩøÁî®Êéâ1‰∏™Â≠óÁ¨¶ÂêéÔºåÂ¶ÇÊûúÊï∞ÈáèÂ§ß‰∫é0ÔºåÂç≥‰ªçÊúâÂâ©‰ΩôÂ∞±ÈáçÊñ∞ÊîæÂÖ•Â†Ü</li><li>ËøîÂõûStringÁªìÊûú<h3 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h3><h1 id="È¢òÁõÆ"><a href="#È¢òÁõÆ" class="headerlink" title="È¢òÁõÆ"></a>È¢òÁõÆ</h1><a href="https://leetcode-cn.com/problems/longest-happy-string/" target="_blank" rel="noopener">the leetcode link</a><blockquote><ol start="1405"><li>ÊúÄÈïøÂø´‰πêÂ≠óÁ¨¶‰∏≤<br>Â¶ÇÊûúÂ≠óÁ¨¶‰∏≤‰∏≠‰∏çÂê´Êúâ‰ªª‰Ωï ‚Äòaaa‚ÄôÔºå‚Äôbbb‚Äô Êàñ ‚Äòccc‚Äô ËøôÊ†∑ÁöÑÂ≠óÁ¨¶‰∏≤‰Ωú‰∏∫Â≠ê‰∏≤ÔºåÈÇ£‰πàËØ•Â≠óÁ¨¶‰∏≤Â∞±ÊòØ‰∏Ä‰∏™„ÄåÂø´‰πêÂ≠óÁ¨¶‰∏≤„Äç„ÄÇ</li></ol><p>Áªô‰Ω†‰∏â‰∏™Êï¥Êï∞ aÔºåb ÔºåcÔºåËØ∑‰Ω†ËøîÂõû ‰ªªÊÑè‰∏Ä‰∏™ Êª°Ë∂≥‰∏ãÂàóÂÖ®ÈÉ®Êù°‰ª∂ÁöÑÂ≠óÁ¨¶‰∏≤ sÔºö</p><p>s ÊòØ‰∏Ä‰∏™Â∞ΩÂèØËÉΩÈïøÁöÑÂø´‰πêÂ≠óÁ¨¶‰∏≤„ÄÇ<br>s ‰∏≠ ÊúÄÂ§ö Êúâa ‰∏™Â≠óÊØç ‚Äòa‚Äô„ÄÅb ‰∏™Â≠óÊØç ‚Äòb‚Äô„ÄÅc ‰∏™Â≠óÊØç ‚Äòc‚Äô „ÄÇ<br>s ‰∏≠Âè™Âê´Êúâ ‚Äòa‚Äô„ÄÅ‚Äôb‚Äô „ÄÅ‚Äôc‚Äô ‰∏âÁßçÂ≠óÊØç„ÄÇ<br>Â¶ÇÊûú‰∏çÂ≠òÂú®ËøôÊ†∑ÁöÑÂ≠óÁ¨¶‰∏≤ s ÔºåËØ∑ËøîÂõû‰∏Ä‰∏™Á©∫Â≠óÁ¨¶‰∏≤ ‚Äú‚Äù„ÄÇ</p></blockquote></li></ol><blockquote><p>Á§∫‰æã 1Ôºö<br>ËæìÂÖ•Ôºöa = 1, b = 1, c = 7<br>ËæìÂá∫Ôºö‚Äùccaccbcc‚Äù<br>Ëß£ÈáäÔºö‚Äùccbccacc‚Äù ‰πüÊòØ‰∏ÄÁßçÊ≠£Á°ÆÁ≠îÊ°à„ÄÇ</p></blockquote><blockquote><p>Á§∫‰æã 2Ôºö<br>ËæìÂÖ•Ôºöa = 2, b = 2, c = 1<br>ËæìÂá∫Ôºö‚Äùaabbc‚Äù</p></blockquote><blockquote><p>Á§∫‰æã 3Ôºö<br>ËæìÂÖ•Ôºöa = 7, b = 1, c = 0<br>ËæìÂá∫Ôºö‚Äùaabaa‚Äù<br>Ëß£ÈáäÔºöËøôÊòØËØ•ÊµãËØïÁî®‰æãÁöÑÂîØ‰∏ÄÊ≠£Á°ÆÁ≠îÊ°à„ÄÇ</p></blockquote><blockquote><p>ÊèêÁ§∫Ôºö<br>0 &lt;= a, b, c &lt;= 100<br>a + b + c &gt; 0</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">      Ë¥™ÂøÉÔºöÂú®Âêå‰∏ÄÂ≠óÁ¨¶Áõ∏ÈÇªÂ∞è‰∫é3ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèñÂâ©‰ΩôÊúÄÂ§öÁöÑÂ≠óÁ¨¶ËøõË°åÊãºÊé•ÔºåÂê¶Âàô‰∏çÁî®Á¨¨3‰∏™Â≠óÁ¨¶ÔºåÂèñÂâ©‰ΩôÊï∞Á¨¨‰∫åÂ§öÁöÑÂ≠óÁ¨¶ÊãºÊé•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestDiverseString</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> c)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1. ÂÆö‰πâÂ§ßÊ†πÂ†ÜÔºåÁõÆÁöÑÊòØËøõË°åÂ≠óÁ¨¶Ââ©‰ΩôÊï∞ÈáèÁöÑÊéíÂ∫è</span></span><br><span class="line">        PriorityQueue&lt;<span class="keyword">int</span>[]&gt; mostCountQueue = <span class="keyword">new</span> PriorityQueue&lt;&gt;((x,y)-&gt;y[<span class="number">1</span>]-x[<span class="number">1</span>]);</span><br><span class="line">        mostCountQueue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="string">'a'</span>, a&#125;);</span><br><span class="line">        mostCountQueue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="string">'b'</span>, b&#125;);</span><br><span class="line">        mostCountQueue.add(<span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="string">'c'</span>, c&#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. ÂÆö‰πâÁªìÊûúÂ≠óÁ¨¶‰∏≤</span></span><br><span class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3. ÈÅçÂéÜÂ†ÜÁöÑÂèñÂá∫Êìç‰ΩúÔºåÁõ¥Ëá≥Â†ÜÁ©∫</span></span><br><span class="line">        <span class="keyword">while</span> (!mostCountQueue.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">int</span>[] cur = mostCountQueue.poll();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4. Âà§Êñ≠ÂèñÂá∫Â≠óÊÆµÊòØÂê¶ÂèØËÉΩÁªÑÊàêÂêå‰∏ÄÂ≠óÁ¨¶Áõ∏ÈÇªÂá∫Áé∞3‰∏™ÁöÑÊÉÖÂÜµÔºåÂ¶ÇÊûúÊòØÔºåÂàô‰∏çÁî®Á¨¨3‰∏™Â≠óÁ¨¶ÔºåÂèñÂâ©‰ΩôÊï∞Á¨¨‰∫åÂ§öÁöÑÂ≠óÁ¨¶ÊãºÊé•</span></span><br><span class="line">            <span class="keyword">int</span> n =sb.length();</span><br><span class="line">            <span class="keyword">if</span> (n &gt;= <span class="number">2</span> &amp;&amp; sb.charAt(n - <span class="number">1</span>)== cur[<span class="number">0</span>] &amp;&amp; sb.charAt(n - <span class="number">2</span>)== cur[<span class="number">0</span>]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (mostCountQueue.isEmpty()) <span class="keyword">break</span>; <span class="comment">//Ê≥®ÊÑèÂ†ÜÁ©∫ÁöÑÊÉÖÂÜµÔºö‰∏çÂ≠òÂú®Ââ©‰ΩôÊï∞Á¨¨‰∫åÂ§öÁöÑÂ≠óÁ¨¶</span></span><br><span class="line">                <span class="keyword">int</span>[] temp = cur; <span class="comment">// tempÊöÇÂ≠òÊóßcur</span></span><br><span class="line">                cur = mostCountQueue.poll(); <span class="comment">// ÂèñÂâ©‰ΩôÊï∞Á¨¨‰∫åÂ§öÁöÑÂ≠óÁ¨¶‰Ωú‰∏∫Êñ∞cur</span></span><br><span class="line">                mostCountQueue.add(temp); <span class="comment">// tempÈáçÊñ∞ÊîæÂÖ•Â†Ü</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 5. Â¶ÇÊûúÊï∞ÈáèÂ§ß‰∫é0ÔºåÊãºÊé•Â≠óÁ¨¶</span></span><br><span class="line">            <span class="keyword">if</span> (cur[<span class="number">1</span>] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                sb.append((<span class="keyword">char</span>)cur[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 6. ‰ΩøÁî®Êéâ1‰∏™Â≠óÁ¨¶ÂêéÔºåÂ¶ÇÊûúÊï∞ÈáèÂ§ß‰∫é0ÔºåÂç≥‰ªçÊúâÂâ©‰ΩôÂ∞±ÈáçÊñ∞ÊîæÂÖ•Â†Ü</span></span><br><span class="line">                <span class="keyword">if</span> (--cur[<span class="number">1</span>] &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                    mostCountQueue.add(cur);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//7. ËøîÂõûÁªìÊûú</span></span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;Ëß£È¢òÊÄùË∑Ø&quot;&gt;&lt;a href=&quot;#Ëß£È¢òÊÄùË∑Ø&quot; class=&quot;headerlink&quot; title=&quot;Ëß£È¢òÊÄùË∑Ø&quot;&gt;&lt;/a&gt;Ëß£È¢òÊÄùË∑Ø&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;Ë¥™ÂøÉÊÄùË∑Ø&lt;/strong&gt;Ôºö&lt;br&gt;Âú®Âêå‰∏ÄÂ≠óÁ¨¶Áõ∏ÈÇªÂ∞è‰∫é3ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèñÂâ©‰ΩôÊúÄÂ§öÁöÑÂ≠óÁ¨¶ËøõË°åÊãºÊé•ÔºåÂê¶Âàô‰∏çÁî®Á¨¨3‰∏™Â≠ó</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="ÈòüÂàó" scheme="https://github.com/missionOdd/tags/ÈòüÂàó/"/>
    
    <category term="Ë¥™ÂøÉ" scheme="https://github.com/missionOdd/tags/Ë¥™ÂøÉ/"/>
    
  </entry>
  
  <entry>
    <title>01ËÉåÂåÖÈóÆÈ¢ò | ÁúãÊáÇÈ∏°ËõãÊéâËêΩÁöÑÊú¨Ë¥® + ÊªöÂä®Êï∞ÁªÑ‰ºòÂåñ</title>
    <link href="https://github.com/missionOdd/2022/01/03/super-egg-drop/"/>
    <id>https://github.com/missionOdd/2022/01/03/super-egg-drop/</id>
    <published>2022-01-03T07:50:37.000Z</published>
    <updated>2022-02-07T18:59:26.331Z</updated>
    
    <content type="html"><![CDATA[<h1 id="È¢òÁõÆ"><a href="#È¢òÁõÆ" class="headerlink" title="È¢òÁõÆ"></a>È¢òÁõÆ</h1><p><a href="https://leetcode-cn.com/problems/sort-colors/" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><ol start="887"><li>È∏°ËõãÊéâËêΩ<br>Áªô‰Ω† k ÊûöÁõ∏ÂêåÁöÑÈ∏°ËõãÔºåÂπ∂ÂèØ‰ª•‰ΩøÁî®‰∏ÄÊ†ã‰ªéÁ¨¨ 1 Â±ÇÂà∞Á¨¨ n Â±ÇÂÖ±Êúâ n Â±ÇÊ•ºÁöÑÂª∫Á≠ë„ÄÇ</li></ol><p>Â∑≤Áü•Â≠òÂú®Ê•ºÂ±Ç f ÔºåÊª°Ë∂≥ 0 &lt;= f &lt;= n Ôºå‰ªª‰Ωï‰ªé È´ò‰∫é f ÁöÑÊ•ºÂ±ÇËêΩ‰∏ãÁöÑÈ∏°ËõãÈÉΩ‰ºöÁ¢éÔºå‰ªé f Ê•ºÂ±ÇÊàñÊØîÂÆÉ‰ΩéÁöÑÊ•ºÂ±ÇËêΩ‰∏ãÁöÑÈ∏°ËõãÈÉΩ‰∏ç‰ºöÁ†¥„ÄÇ</p><p>ÊØèÊ¨°Êìç‰ΩúÔºå‰Ω†ÂèØ‰ª•Âèñ‰∏ÄÊûöÊ≤°ÊúâÁ¢éÁöÑÈ∏°ËõãÂπ∂ÊääÂÆÉ‰ªé‰ªª‰∏ÄÊ•ºÂ±Ç x Êâî‰∏ãÔºàÊª°Ë∂≥ 1 &lt;= x &lt;= nÔºâ„ÄÇÂ¶ÇÊûúÈ∏°ËõãÁ¢é‰∫ÜÔºå‰Ω†Â∞±‰∏çËÉΩÂÜçÊ¨°‰ΩøÁî®ÂÆÉ„ÄÇÂ¶ÇÊûúÊüêÊûöÈ∏°ËõãÊâî‰∏ãÂêéÊ≤°ÊúâÊëîÁ¢éÔºåÂàôÂèØ‰ª•Âú®‰πãÂêéÁöÑÊìç‰Ωú‰∏≠ ÈáçÂ§ç‰ΩøÁî® ËøôÊûöÈ∏°Ëõã„ÄÇ</p><p>ËØ∑‰Ω†ËÆ°ÁÆóÂπ∂ËøîÂõûË¶ÅÁ°ÆÂÆö f Á°ÆÂàáÁöÑÂÄº ÁöÑ ÊúÄÂ∞èÊìç‰ΩúÊ¨°Êï∞ ÊòØÂ§öÂ∞ëÔºü</p></blockquote><blockquote><p>Á§∫‰æã 1Ôºö<br>ËæìÂÖ•Ôºök = 1, n = 2<br>ËæìÂá∫Ôºö2<br>Ëß£ÈáäÔºö<br>È∏°Ëõã‰ªé 1 Ê•ºÊéâËêΩ„ÄÇÂ¶ÇÊûúÂÆÉÁ¢é‰∫ÜÔºåËÇØÂÆöËÉΩÂæóÂá∫ f = 0 „ÄÇ<br>Âê¶ÂàôÔºåÈ∏°Ëõã‰ªé 2 Ê•ºÊéâËêΩ„ÄÇÂ¶ÇÊûúÂÆÉÁ¢é‰∫ÜÔºåËÇØÂÆöËÉΩÂæóÂá∫ f = 1 „ÄÇ<br>Â¶ÇÊûúÂÆÉÊ≤°Á¢éÔºåÈÇ£‰πàËÇØÂÆöËÉΩÂæóÂá∫ f = 2 „ÄÇ<br>Âõ†Ê≠§ÔºåÂú®ÊúÄÂùèÁöÑÊÉÖÂÜµ‰∏ãÊàë‰ª¨ÈúÄË¶ÅÁßªÂä® 2 Ê¨°‰ª•Á°ÆÂÆö f ÊòØÂ§öÂ∞ë„ÄÇ</p></blockquote><blockquote><p>Á§∫‰æã 2Ôºö<br>ËæìÂÖ•Ôºök = 2, n = 6<br>ËæìÂá∫Ôºö3</p></blockquote><blockquote><p>Á§∫‰æã 3Ôºö<br>ËæìÂÖ•Ôºök = 3, n = 14<br>ËæìÂá∫Ôºö4</p></blockquote><p>ÊèêÁ§∫Ôºö<br>1 &lt;= k &lt;= 100<br>1 &lt;= n &lt;= 104</p><h3 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h3><p><strong>Êú¨È¢òËß£‰∏ªË¶ÅÂëäËØâ‰Ω†ÔºöËøôÈ¢òÁõÆÂ∞±ÊòØ0-1ËÉåÂåÖÈóÆÈ¢òÁöÑÊäΩË±°</strong></p><ul><li>Áâ©ÂìÅÈáçÈáèÔºö1Ê¨°Êìç‰ΩúÊï∞Ôºõ(Áâ©ÂìÅ‰∏çË∂Ön‰∏™)</li><li>ËÉåÂåÖÂÆπÈáèÔºöÈ∏°ËõãÊï∞k‰∏™Ôºõ</li><li>‰ª∑ÂÄºÔºöÁ°ÆÂÆöÊ•ºÂ±Ç</li></ul><p>‰∏ÄËà¨ÁöÑËÉåÂåÖÈóÆÈ¢òÔºöÂ∑≤Áü•ÊØè‰∏™Áâ©ÂìÅÁöÑÈáçÈáèÂèäÂÖ∂‰ª∑ÂÄº„ÄÅËÉåÂåÖÂÆπÈáèÔºåÊ±ÇÊúÄÂ§ß‰ª∑ÂÄº„ÄÇ<br>ËøôÈ¢òÁöÑËÉåÂåÖÈóÆÈ¢òÔºöÂ∑≤Áü•‰∏çË∂Ön‰∏™ÁöÑÁâ©ÂìÅÔºà‰∏çË∂ÖnÊ¨°Êìç‰ΩúÊï∞ÔºâÔºåÊâÄÊúâÁâ©ÂìÅÈáçÈáèÂùá‰∏∫1Ôºà1Ê¨°Êìç‰ΩúÊï∞Ôºâ„ÄÅËÉåÂåÖÂÆπÈáèÔºàÈ∏°ËõãÊï∞kÔºâÔºåÊ±Ç‰ª∑ÂÄº(Á°ÆÂÆöÊ•ºÂ±Ç)‰∏∫nÊó∂ÊúâÂ§öÂ∞ëÁâ©ÂìÅ„ÄÇ</p><p><code>ÁúãÊú¨È¢òËß£ÔºåÂçÉ‰∏áÂà´Á∫†ÁªìÂú®Á¨¨Âá†Ê•ºÂ±ÇÊâîÈ∏°ËõãÔºåÂõ†‰∏∫ÂÆÉ‰∏é01ËÉåÂåÖÁöÑÊÄùÊÉ≥Êó†ÂÖ≥</code></p><h4 id="1-Á°ÆÂÆödpÊï∞ÁªÑ‰ª•Âèä‰∏ãÊ†áÁöÑÂê´‰πâ"><a href="#1-Á°ÆÂÆödpÊï∞ÁªÑ‰ª•Âèä‰∏ãÊ†áÁöÑÂê´‰πâ" class="headerlink" title="1. Á°ÆÂÆödpÊï∞ÁªÑ‰ª•Âèä‰∏ãÊ†áÁöÑÂê´‰πâ"></a>1. Á°ÆÂÆödpÊï∞ÁªÑ‰ª•Âèä‰∏ãÊ†áÁöÑÂê´‰πâ</h4><p> dp[i][j] Ë°®Á§∫Ôºö ÂÆπÈáèÔºàÈ∏°ËõãÊï∞Ôºâ‰∏∫iÁöÑËÉåÂåÖÔºåÊîæÂÖ•Áâ©ÂìÅÈáçÈáèÔºàÊìç‰ΩúÊï∞Ôºâ‰∏∫jÊó∂Ôºå‰ª∑ÂÄº(Á°ÆÂÆöÊ•ºÂ±Ç)ÊòØÂ§öÂ∞ë„ÄÇ<br> ÂàùÂßãÂåñÔºödp[0][0]=0ÔºåÈ∏°Ëõã0ÔºåÊìç‰ΩúÊï∞0ÔºåÁ°ÆÂÆöÊ•ºÂ±Ç0</p><h4 id="2-Á°ÆÂÆöÈÄíÊé®ÂÖ¨Âºè"><a href="#2-Á°ÆÂÆöÈÄíÊé®ÂÖ¨Âºè" class="headerlink" title="2. Á°ÆÂÆöÈÄíÊé®ÂÖ¨Âºè"></a>2. Á°ÆÂÆöÈÄíÊé®ÂÖ¨Âºè</h4><p>ÂΩìÁ¨¨i‰∏™È∏°Ëõã„ÄÅÁ¨¨countÊ¨°ÊâîÂá∫Êìç‰ΩúÊó∂ÔºåËõãË¶Å‰πàÁ¢éÔºåË¶Å‰πà‰∏çÁ¢éÔºåÊâÄËÉΩÁ°ÆÂÆöÁöÑÊ•ºÂ±ÇÈÉΩ+1</p><ul><li>dp[i][count]ÔºöË°®Á§∫‰Ω†ËøòÂâ© i ‰∏™ËõãÔºå‰∏îÂ∑≤Êìç‰Ωú count Ê¨°ÔºåÊâÄËÉΩÁ°ÆÂÆöÁöÑÊ•ºÂ±Ç„ÄÇ</li><li>dp[i][count-1]ÔºöÂΩìËõãÊ≤°Á¢éÔºåÊÉÖÂÜµ‰∏∫Â∞ë1Ê¨°Êìç‰ΩúÊï∞ÔºåÊâÄËÉΩÁ°ÆÂÆöÁöÑÊ•ºÂ±Ç</li><li>dp[i-1][count-1]ÔºöÂΩìËõãÁ¢é‰∫ÜÔºåÊÉÖÂÜµ‰∏∫Â∞ë1‰∏™ËõãÔºåÂ∞ë1Ê¨°Êìç‰ΩúÊï∞ÔºåÊâÄËÉΩÁ°ÆÂÆöÁöÑÊ•ºÂ±Ç<br>ÂΩìÂâç‰ª∑ÂÄº = È∏°ËõãÁ¢é‰∫ÜÁöÑ‰ª∑ÂÄº + È∏°ËõãÊ≤°Á¢éÁöÑ‰ª∑ÂÄº + Á°ÆÂÆöÂΩìÂâçÂ±ÇÁöÑ‰ª∑ÂÄº1<br><code>dp[i][count] = dp[i-1][count-1]+dp[i][count-1]+1;</code></li></ul><h3 id="‰∫åÁª¥ËÉåÂåÖ‰ª£Á†Å"><a href="#‰∫åÁª¥ËÉåÂåÖ‰ª£Á†Å" class="headerlink" title="‰∫åÁª¥ËÉåÂåÖ‰ª£Á†Å"></a>‰∫åÁª¥ËÉåÂåÖ‰ª£Á†Å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">        01ËÉåÂåÖÈóÆÈ¢ò</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">superEggDrop</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ËÉåÂåÖÔºöÈ∏°ËõãÊï∞Ôºàk‰∏™ÔºâÔºõ Áâ©ÂìÅÔºöÊìç‰ΩúÊï∞Ôºàn‰∏™ÔºâÔºõ‰ª∑ÂÄºÔºöÁ°ÆÂÆöÊ•ºÂ±Ç</span></span><br><span class="line">        <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[k+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Êúâ‰∫∫ÈóÆ‰∫ÜÔºå‰∏∫‰ªÄ‰πà‰∏çÊòØÈ∏°Ëõã‰Ωú‰∏∫Áâ©ÂìÅÔºåÊúÄÂ∞èÊìç‰ΩúÊï∞‰Ωú‰∏∫ËÉåÂåÖÔºü</span></span><br><span class="line">        <span class="comment">// ËÉåÂåÖÈóÆÈ¢òÂæÄÂæÄÁâ©ÂìÅ‰∏é‰ª∑ÂÄºÊúâÊ≠£Áõ∏ÂÖ≥ÂÖ≥Á≥ª„ÄÇ</span></span><br><span class="line">        <span class="comment">// È∏°ËõãÊúâk‰∏™Ôºå‰ΩÜÂÆûÈôÖ‰∏ç‰∏ÄÂÆöÂÖ®ÈÉΩÁî®‰∏äÔºåÈôêÂà∂‰∏ÄÂÆöÁöÑÊúÄÂ∞èÊìç‰ΩúÊï∞ÔºåÈ∏°ËõãÂ¢ûÂä†ÔºåÁ°ÆÂÆöÊ•ºÂ±ÇÔºà‰ª∑ÂÄºÔºâ‰∏ç‰∏ÄÂÆöÂ¢ûÂä†</span></span><br><span class="line">        <span class="comment">// ËÄåÂèñ‰∏ÄÂÆöÁöÑÈ∏°ËõãÔºåÊúÄÂ∞èÊìç‰ΩúÊï∞ÊØèÂ¢ûÂä†1ÔºåÁ°ÆÂÆöÊ•ºÂ±Ç(‰ª∑ÂÄº)Â∞±‰ºö‰∏ÄÂÆöÂ¢ûÂä†</span></span><br><span class="line">        <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÂÖàÈÅçÂéÜÁâ©ÂìÅÔºåÂÜçÈÅçÂéÜËÉåÂåÖ</span></span><br><span class="line">        <span class="keyword">for</span>(;dp[k][count]&lt;n;)&#123; <span class="comment">// ÈÅçÂéÜÁâ©ÂìÅÔºåËøôÈáåÁõ¥Âà∞‰ª∑ÂÄº‰∏∫nÂ∞±ÁªìÊùü</span></span><br><span class="line">             count++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &gt;=<span class="number">1</span>; i--) &#123; <span class="comment">// ÈÅçÂéÜËÉåÂåÖÔºå‰∫åÁª¥Êï∞ÁªÑÂèØ‰ª•Ê≠£Â∫èÊàñÂÄíÂèô</span></span><br><span class="line">                <span class="comment">//ÂΩìÂâç‰ª∑ÂÄº = È∏°ËõãÁ¢é‰∫ÜÁöÑ‰ª∑ÂÄº + È∏°ËõãÊ≤°Á¢éÁöÑ‰ª∑ÂÄº + Á°ÆÂÆöÂΩìÂâçÂ±ÇÁöÑ‰ª∑ÂÄº1</span></span><br><span class="line">                dp[i][count] = dp[i-<span class="number">1</span>][count-<span class="number">1</span>]+dp[i][count-<span class="number">1</span>]+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="‰∏ÄÁª¥ÊªöÂä®Êï∞ÁªÑ‰ª£Á†Å"><a href="#‰∏ÄÁª¥ÊªöÂä®Êï∞ÁªÑ‰ª£Á†Å" class="headerlink" title="‰∏ÄÁª¥ÊªöÂä®Êï∞ÁªÑ‰ª£Á†Å"></a>‰∏ÄÁª¥ÊªöÂä®Êï∞ÁªÑ‰ª£Á†Å</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">        01ËÉåÂåÖÈóÆÈ¢òÔºå ÊªöÂä®Êï∞ÁªÑ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">superEggDrop</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ËÉåÂåÖÔºöÈ∏°ËõãÊï∞Ôºàk‰∏™ÔºâÔºõÁâ©ÂìÅÔºöÊìç‰ΩúÊï∞Ôºàn‰∏™ÔºâÔºõ‰ª∑ÂÄºÔºöÁ°ÆÂÆöÊ•ºÂ±Ç</span></span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[k+<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Êúâ‰∫∫ÈóÆ‰∫ÜÔºå‰∏∫‰ªÄ‰πà‰∏çÊòØÈ∏°Ëõã‰Ωú‰∏∫Áâ©ÂìÅÔºåÊìç‰ΩúÊï∞‰Ωú‰∏∫ËÉåÂåÖÔºü</span></span><br><span class="line">        <span class="comment">// ËÉåÂåÖÈóÆÈ¢òÂæÄÂæÄÁâ©ÂìÅ‰∏é‰ª∑ÂÄºÊúâÊ≠£Áõ∏ÂÖ≥ÂÖ≥Á≥ª„ÄÇ</span></span><br><span class="line">        <span class="comment">// È∏°ËõãÊúâk‰∏™Ôºå‰ΩÜÂÆûÈôÖ‰∏ç‰∏ÄÂÆöÂÖ®ÈÉΩÁî®‰∏äÔºåÈôêÂà∂‰∏ÄÂÆöÁöÑÊìç‰ΩúÊï∞ÔºåÈ∏°ËõãÂ¢ûÂä†ÔºåÁ°ÆÂÆöÊ•ºÂ±ÇÔºà‰ª∑ÂÄºÔºâ‰∏ç‰∏ÄÂÆöÂ¢ûÂä†</span></span><br><span class="line">        <span class="comment">// ËÄåÂèñ‰∏ÄÂÆöÁöÑÈ∏°ËõãÔºåÊìç‰ΩúÊï∞ÊØèÂ¢ûÂä†1ÔºåÁ°ÆÂÆöÊ•ºÂ±Ç (‰ª∑ÂÄº)Â∞±‰ºö‰∏ÄÂÆöÂ¢ûÂä†</span></span><br><span class="line">        <span class="keyword">int</span> count=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÂÖàÈÅçÂéÜÁâ©ÂìÅÔºåÂÜçÈÅçÂéÜËÉåÂåÖ</span></span><br><span class="line">        <span class="keyword">for</span>(;dp[k]&lt;n;)&#123; <span class="comment">// ÈÅçÂéÜÁâ©ÂìÅÔºåËøôÈáåÁõ¥Âà∞‰ª∑ÂÄº‰∏∫nÂ∞±ÁªìÊùü</span></span><br><span class="line">             count++;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = k; i &gt;=<span class="number">1</span>; i--) &#123; <span class="comment">// ÈÅçÂéÜËÉåÂåÖÔºå‰∏ÄÁª¥ÊªöÂä®Êï∞ÁªÑ‰∏ÄÂÆöÂÄíÂèô</span></span><br><span class="line">                <span class="comment">//ÂΩìÂâç‰ª∑ÂÄº = È∏°ËõãÁ¢é‰∫ÜÁöÑ‰ª∑ÂÄº + È∏°ËõãÊ≤°Á¢éÁöÑ‰ª∑ÂÄº + Á°ÆÂÆöÂΩìÂâçÂ±ÇÁöÑ‰ª∑ÂÄº1</span></span><br><span class="line">                dp[i] = dp[i-<span class="number">1</span>]+dp[i]+<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>PS: ÂØπ‰∫éËÉåÂåÖÈóÆÈ¢ò‰∏ç‰∫ÜËß£ÁöÑÂêåÂ≠¶ÔºåÊé®ËçêÁúãÁúã‰ª£Á†ÅÈöèÊÉ≥ÂΩïÁöÑËÉåÂåÖÈóÆÈ¢òÂêàÈõÜÔºõ<br>ÁõÆÂâçÊ≤°ÁúãÂà∞ÂÖ∂‰ªñ‰∫∫ËøêÁî®Âà∞ËÉåÂåÖÁöÑÊÄùË∑ØÔºåÊ≠§È¢òËß£ÊòØÊú¨‰∫∫Â≠¶‰π†ËøáÁ®ã‰∏≠ÁöÑÈáéÁîüÊÉ≥Ê≥ïÔºåÂ¶ÇÊúâÈóÆÈ¢òÔºåÊ¨¢ËøéÊåáÊ≠£</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;È¢òÁõÆ&quot;&gt;&lt;a href=&quot;#È¢òÁõÆ&quot; class=&quot;headerlink&quot; title=&quot;È¢òÁõÆ&quot;&gt;&lt;/a&gt;È¢òÁõÆ&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/sort-colors/&quot; target=&quot;_blank</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="01ËÉåÂåÖ" scheme="https://github.com/missionOdd/tags/01ËÉåÂåÖ/"/>
    
  </entry>
  
  <entry>
    <title>Á≥ªÁªüËÆæËÆ°ÂÆûÊàòÂ∫îÁî®ÁØá | Â∏∏ËßÅÁöÑ‰∏öÂä°Âú∫ÊôØ</title>
    <link href="https://github.com/missionOdd/2022/01/03/java-design/"/>
    <id>https://github.com/missionOdd/2022/01/03/java-design/</id>
    <published>2022-01-03T05:50:37.000Z</published>
    <updated>2022-02-16T10:37:03.529Z</updated>
    
    <content type="html"><![CDATA[<ul><li><a href="#‰∏ÄesÁØá">‰∏Ä„ÄÅESÁØá</a><ul><li><a href="#1Ê¶ÇËø∞">1„ÄÅÊ¶ÇËø∞</a><ul><li><a href="#ÁâπÁÇπ">ÁâπÁÇπ</a></li><li><a href="#ÂäüËÉΩ">ÂäüËÉΩ</a></li><li><a href="#Âú∫ÊôØ">Âú∫ÊôØ</a></li><li><a href="#Á´ûÂìÅÂàÜÊûê">Á´ûÂìÅÂàÜÊûê</a></li><li><a href="#ÂØπÊØî">ÂØπÊØî</a></li></ul></li><li><a href="#2Âü∫Êú¨Ê¶ÇÂøµ">2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ</a><ul><li><a href="#ikÂàÜËØçÂô®">IKÂàÜËØçÂô®</a></li><li><a href="#Á¥¢ÂºïÁ±ªÊï∞ÊçÆÂ∫ì">Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ</a></li><li><a href="#Êò†Â∞ÑÁ±ªË°®ËÆæËÆ°">Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ</a></li><li><a href="#ÊñáÊ°£Êï∞ÊçÆ">ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ</a></li></ul></li><li><a href="#3È´òÁ∫ßÁâπÊÄß">3„ÄÅÈ´òÁ∫ßÁâπÊÄß</a><ul><li><a href="#Êò†Â∞ÑÈ´òÁ∫ß">Êò†Â∞ÑÈ´òÁ∫ß</a><ul><li><a href="#Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã"><strong>Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã</strong></a></li><li><a href="#Âä®ÊÄÅÊò†Â∞Ñ">Âä®ÊÄÅÊò†Â∞Ñ</a></li></ul></li><li><a href="#dslÈ´òÁ∫ß">DSLÈ´òÁ∫ß</a></li><li><a href="#ËÅöÂêàÂàÜÊûê"><strong>ËÅöÂêàÂàÜÊûê</strong></a></li><li><a href="#Êô∫ËÉΩÊêúÁ¥¢"><strong>Êô∫ËÉΩÊêúÁ¥¢</strong></a></li></ul></li><li><a href="#4ÂÆûÊàò">4„ÄÅÂÆûÊàò</a><ul><li><a href="#ÂÜô‰ºòÂåñ">ÂÜô‰ºòÂåñ</a></li><li><a href="#ËØª‰ºòÂåñ">ËØª‰ºòÂåñ</a></li><li><a href="#Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à">Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à</a></li><li><a href="#deeppagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à">DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à</a></li></ul></li></ul></li><li><a href="#‰∫ådockerk8sÁØá">‰∫åÔºöDocker&amp;K8SÁØá</a><ul><li><a href="#why-docker">Why Docker</a></li><li><a href="#Ê†∏ÂøÉÊ¶ÇÂøµ">Ê†∏ÂøÉÊ¶ÇÂøµ</a></li><li><a href="#Âü∫Êú¨Êìç‰Ωú">Âü∫Êú¨Êìç‰Ωú</a></li><li><a href="#ÂÆûÊàò">ÂÆûÊàò</a></li></ul></li><li><a href="#‰∏ânettyÁØá">‰∏â„ÄÅNettyÁØá</a><ul><li><a href="#Ê†∏ÂøÉÁªÑ‰ª∂">Ê†∏ÂøÉÁªÑ‰ª∂</a><ul><li><a href="#1Êï¥‰ΩìÁªìÊûÑ">1„ÄÅÊï¥‰ΩìÁªìÊûÑ</a></li><li><a href="#2ÈÄªËæëÊû∂ÊûÑ">2„ÄÅÈÄªËæëÊû∂ÊûÑ</a></li></ul></li><li><a href="#ÁΩëÁªú‰º†Ëæì">ÁΩëÁªú‰º†Ëæì</a><ul><li><a href="#1‰∫îÁßçioÊ®°ÂûãÁöÑÂå∫Âà´"><strong>1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´</strong></a></li><li><a href="#2reactorÂ§öÁ∫øÁ®ãÊ®°Âûã">2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã</a></li><li><a href="#3ÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò">3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò</a></li><li><a href="#4Ëá™ÂÆö‰πâÂçèËÆÆ">4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ</a></li><li><a href="#5writeandflush">5„ÄÅWriteAndFlush</a></li></ul></li><li><a href="#ÂÜÖÂ≠òÁÆ°ÁêÜ">ÂÜÖÂ≠òÁÆ°ÁêÜ</a><ul><li><a href="#1Â†ÜÂ§ñÂÜÖÂ≠ò">1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò</a></li><li><a href="#2Êï∞ÊçÆËΩΩ‰Ωìbytebuf">2„ÄÅ<strong>Êï∞ÊçÆËΩΩ‰ΩìByteBuf</strong></a></li><li><a href="#3ÂÜÖÂ≠òÂàÜÈÖçjemalloc">3„ÄÅ<strong>ÂÜÖÂ≠òÂàÜÈÖçjemalloc</strong></a></li><li><a href="#4jemalloc-Êû∂ÊûÑ">4„ÄÅjemalloc Êû∂ÊûÑ</a></li><li><a href="#5ÂÜÖÂ≠òÊ±†ËÆæËÆ°ÂæÖË°•ÂÖÖ">5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ</a></li><li><a href="#6recycleÂØπË±°Ê±†ÂæÖË°•ÂÖÖ">6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ</a></li><li><a href="#7Èõ∂Êã∑Ë¥ùÊäÄÊúØ">7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ</a></li></ul></li><li><a href="#È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ">È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ</a><ul><li><a href="#1fastthreadlocal">1„ÄÅFastThreadLocal</a></li><li><a href="#2hashedtimerwheel">2„ÄÅ<strong>HashedTimerWheel</strong></a></li><li><a href="#3mpscqueue">3„ÄÅMpscQueue</a></li><li><a href="#4selectpollepollÁöÑÂå∫Âà´">4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´</a></li></ul></li></ul></li><li><a href="#Âõõleetcode">Âõõ„ÄÅLEETCODE</a><ul><li><a href="#pythonËØ≠Ê≥ï">„ÄêPythonËØ≠Ê≥ï„Äë</a></li><li><a href="#ËÉåÂåÖÊ®°Êùø">„ÄêËÉåÂåÖÊ®°Êùø„Äë</a></li><li><a href="#ÂõûÊ∫ØÊ®°Êùø">„ÄêÂõûÊ∫ØÊ®°Êùø„Äë</a></li><li><a href="#Âπ∂Êü•ÈõÜÊ®°Êùø">„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë</a></li><li><a href="#ÊãìÊâëÊéíÂ∫èÊ®°Êùø">„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë</a></li><li><a href="#ÂçïË∞ÉÊ†àÊ®°Êùø"><strong>„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë</strong></a></li><li><a href="#‰∫åÂàÜÊ®°Êùø">„Äê‰∫åÂàÜÊ®°Êùø„Äë</a></li><li><a href="#Âä®ÊÄÅËßÑÂàíÊ®°Êùø">„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë</a><ul><li><a href="#Âçï‰∏≤ÈóÆÈ¢ò">„Äå<strong>Âçï‰∏≤ÈóÆÈ¢ò</strong>„Äç</a></li><li><a href="#Âçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò">„Äå<strong>Âçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò</strong>„Äç</a></li><li><a href="#ÁªèÂÖ∏Âèå‰∏≤lcsÈóÆÈ¢ò">„Äå<strong>ÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò</strong>„Äç</a></li><li><a href="#Âå∫Èó¥Âä®ÊÄÅËßÑÂàí">„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç</a></li><li><a href="#Âå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí"><strong>„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç</strong></a></li></ul></li><li><a href="#ÊªëÂä®Á™óÂè£">„ÄêÊªëÂä®Á™óÂè£„Äë</a></li><li><a href="#ÂâçÁºÄÂíå">„ÄêÂâçÁºÄÂíå„Äë</a></li><li><a href="#ÂèåÊåáÈíà">„ÄêÂèåÊåáÈíà„Äë</a></li><li><a href="#Ê∑±Â∫¶‰ºòÂÖà">„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë</a></li><li><a href="#ÂπøÂ∫¶‰ºòÂÖà">„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë</a></li><li><a href="#ÂõæËÆ∫">„ÄêÂõæËÆ∫„Äë</a></li></ul></li><li><a href="#‰∫îÂÆûÊàòÁÆóÊ≥ïÁØá">‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá</a><ul><li><a href="#1urlÈªëÂêçÂçïÂ∏ÉÈöÜËøáÊª§Âô®"><strong>1„ÄÅ</strong>URLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ</a></li><li><a href="#2ËØçÈ¢ëÁªüËÆ°ÂàÜÊñá‰ª∂">2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ</a></li><li><a href="#3Êú™Âá∫Áé∞ÁöÑÊï∞bitÊï∞ÁªÑ"><strong>3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞</strong>ÔºàbitÊï∞ÁªÑÔºâ</a></li><li><a href="#4ÈáçÂ§çurlÂàÜÊú∫Âô®"><strong>4„ÄÅÈáçÂ§çURL</strong>ÔºàÂàÜÊú∫Âô®Ôºâ</a></li><li><a href="#5topkÊêúÁ¥¢Â∞èÊ†πÂ†Ü"><strong>5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ</strong></a></li><li><a href="#6‰∏≠‰ΩçÊï∞ÂçïÂêë‰∫åÂàÜÊü•Êâæ"><strong>6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ</strong></a></li><li><a href="#7Áü≠ÂüüÂêçÁ≥ªÁªüÁºìÂ≠ò"><strong>7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ</strong></a></li><li><a href="#8Êµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÊ∂àÊÅØÈòüÂàó"><strong>8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ</strong></a></li><li><a href="#9Âú®Á∫øÂπ∂ÂèëÁî®Êà∑Êï∞redis"><strong>9„ÄÅÂú®Á∫ø/Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ</strong></a></li><li><a href="#10ÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÂâçÁºÄÊ†ë">10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ</a></li><li><a href="#11Á∫¢ÂåÖÁÆóÊ≥ï">11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï</a></li><li><a href="#11ÊâãÂÜôÂø´Êéí">11„ÄÅÊâãÂÜôÂø´Êéí</a></li><li><a href="#12ÊâãÂÜôÂΩíÂπ∂">12„ÄÅÊâãÂÜôÂΩíÂπ∂</a></li><li><a href="#13ÊâãÂÜôÂ†ÜÊéí">13„ÄÅÊâãÂÜôÂ†ÜÊéí</a></li><li><a href="#14ÊâãÂÜôÂçï‰æã">14„ÄÅÊâãÂÜôÂçï‰æã</a></li><li><a href="#15ÊâãÂÜôlrucache">15„ÄÅÊâãÂÜôLRUcache</a></li><li><a href="#16ÊâãÂÜôÁ∫øÁ®ãÊ±†"><strong>16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†</strong></a></li><li><a href="#17ÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè"><strong>17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè</strong></a></li><li><a href="#18ÊâãÂÜôÈòªÂ°ûÈòüÂàó"><strong>18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó</strong></a></li><li><a href="#19ÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞abc"><strong>19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC</strong></a></li><li><a href="#20‰∫§ÊõøÊâìÂç∞foobar">20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar</a></li></ul></li><li><a href="#ÂÖ≠‰∏™‰∫∫È°πÁõÆ"><strong>ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ</strong></a><ul><li><a href="#‰∏Ä‰∏ÄÁ´ôÂà∞Â∫ï"><strong>‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï</strong></a><ul><li><a href="#1Â¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú">1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú</a><ul><li><a href="#ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã">ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã</a></li><li><a href="#ÊñπÊ°à‰ºòÂåñËøáÁ®ã">ÊñπÊ°à‰ºòÂåñËøáÁ®ã</a></li><li><a href="#ÊñπÊ°à1ÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÂΩìÊó•Ê±áËÅöË¥πÊó∂Èó¥">ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ</a></li><li><a href="#ÊñπÊ°à2ÂÖ®Â±Än‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôË¥πÁ©∫Èó¥">ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ</a></li><li><a href="#ÊñπÊ°à3ÂÆûÊó∂Êõ¥Êñ∞Â∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú">ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú</a></li></ul></li><li><a href="#2Â¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò">2„ÄÅ<strong>Â¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò</strong></a></li><li><a href="#3‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î"><strong>3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î</strong></a></li><li><a href="#4Â¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç"><strong>4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç</strong></a></li><li><a href="#5Â¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°"><strong>5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°</strong></a></li><li><a href="#6Â¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû"><strong>6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû</strong></a></li></ul></li><li><a href="#‰∫åÁßíÊùÄÈ°πÁõÆ">‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ</a><ul><li><a href="#ÊäÄÊúØÈÄâÂûã"><strong>ÊäÄÊúØÈÄâÂûã</strong></a></li><li><a href="#ÊñπÊ°àËÆæËÆ°">ÊñπÊ°àËÆæËÆ°</a></li><li><a href="#1Â¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñ"><strong>1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü</strong></a></li><li><a href="#2Â¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçï"><strong>2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü</strong></a></li><li><a href="#3Â¶Ç‰ΩïÈò≤Âà∑"><strong>3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü</strong></a></li><li><a href="#4ÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥"><strong>4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü</strong></a></li><li><a href="#5Â∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç"><strong>5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç</strong></a></li><li><a href="#6Â∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç"><strong>6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç</strong></a></li><li><a href="#7Â¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß"><strong>7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß</strong></a></li><li><a href="#8ÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú">8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú**</a></li><li><a href="#9ÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó">9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó</a></li></ul></li><li><a href="#‰∏âÂç≥Êó∂ÈÄö‰ø°">‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°</a><ul><li><a href="#1ÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì">1„ÄÅ<strong>ÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì</strong></a></li><li><a href="#2Áæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç"><strong>2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç</strong></a></li><li><a href="#3Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß">3„ÄÅ<strong>Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß</strong></a></li><li><a href="#4Êé®ÊãâÁªìÂêà"><strong>4ÔºöÊé®ÊãâÁªìÂêà</strong></a></li><li><a href="#5Â•ΩÂèãÊé®Ëçê">5„ÄÅÂ•ΩÂèãÊé®Ëçê</a></li></ul></li><li><a href="#ÂõõÊô∫ÊÖßÁ§æÂå∫">Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫</a><ul><li><a href="#Áâ©ËÅîÁΩëÊû∂ÊûÑ"><strong>Áâ©ËÅîÁΩëÊû∂ÊûÑ</strong></a><ul><li><a href="#dcmÁ≥ªÁªüÊû∂ÊûÑ">DCMÁ≥ªÁªüÊû∂ÊûÑ</a></li><li><a href="#‰∏âË¶ÅÁ¥†"><strong>‰∏âË¶ÅÁ¥†</strong></a></li><li><a href="#‰∫ë--Ëæπ--Á´ØÂçèÂêå">‰∫ë / Ëæπ / Á´ØÂçèÂêå</a></li><li><a href="#Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•">Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•</a></li><li><a href="#Èó®ÈîÅÊé•ÂÖ•">Èó®ÈîÅÊé•ÂÖ•</a></li><li><a href="#ÂêÑÁßçÂçèËÆÆ">ÂêÑÁßçÂçèËÆÆ</a></li></ul></li><li><a href="#iotÊµÅÈáèÊ¥™Â≥∞">IOTÊµÅÈáèÊ¥™Â≥∞</a></li><li><a href="#Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß">Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß</a><ul><li><a href="#‰∫ßÂìÅÁöÑËÉåÊôØ"><strong>‰∫ßÂìÅÁöÑËÉåÊôØ</strong></a></li><li><a href="#Èù¢‰∏¥ÁöÑÊåëÊàò">Èù¢‰∏¥ÁöÑÊåëÊàò</a></li><li><a href="#ÂçèËÆÆÁöÑÊØîËæÉ">ÂçèËÆÆÁöÑÊØîËæÉ</a></li><li><a href="#Êï¥‰ΩìÊµÅÁ®ã">Êï¥‰ΩìÊµÅÁ®ã</a></li><li><a href="#Áõ¥Êí≠ÊµÅÁ®ã"><strong>Áõ¥Êí≠ÊµÅÁ®ã</strong></a></li><li><a href="#Êí≠ÊîæÊµÅÁ®ã">Êí≠ÊîæÊµÅÁ®ã</a></li></ul></li><li><a href="#Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à"><strong>Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à</strong></a></li><li><a href="#ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à"><strong>ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à</strong></a></li><li><a href="#ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï">ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï</a></li></ul></li></ul></li><li><a href="#‰∏ÉÊû∂ÊûÑËÆæËÆ°"><strong>‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°</strong></a><ul><li><a href="#1Á§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ">1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ</a></li><li><a href="#2ÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®">2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®</a></li><li><a href="#3ÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß">3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß</a></li><li><a href="#4Áî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•">4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•</a></li><li><a href="#5ÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°">5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°</a></li><li><a href="#6ÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞"><strong>6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞</strong></a></li><li><a href="#7Á≥ªÁªüËÆæËÆ°---ÂæÆËΩØ">7„ÄÅÁ≥ªÁªüËÆæËÆ° - ÂæÆËΩØ</a><ul><li><a href="#1ÈúÄÊ±ÇÊî∂ÈõÜ"><strong>1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ</strong></a></li><li><a href="#2È°∂Â±ÇËÆæËÆ°"><strong>2„ÄÅÈ°∂Â±ÇËÆæËÆ°</strong></a></li><li><a href="#3Á≥ªÁªüÊ†∏ÂøÉÊåáÊ†á"><strong>3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á</strong></a></li><li><a href="#4Êï∞ÊçÆÂ≠òÂÇ®">4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®</a></li></ul></li><li><a href="#7Â¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö">7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö</a></li></ul></li><li><a href="#ÂÖ´È¢ÜÂüüÊ®°ÂûãËêΩÂú∞">ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞</a><ul><li><a href="#1ÊãÜÂàÜÂæÆÊúçÂä°">1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°</a></li><li><a href="#2ÂÖ≥ËÅîÂæÆÊúçÂä°">2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°</a></li><li><a href="#3ÂæÆÊúçÂä°ÁöÑËêΩÂú∞"><strong>3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞</strong></a></li><li><a href="#4È¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ">4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ</a></li><li><a href="#5ÊàòÁï•Âª∫Ê®°">5„ÄÅÊàòÁï•Âª∫Ê®°</a></li><li><a href="#6Áõ∏ÂÖ≥ÂêçËØç"><strong>6„ÄÅÁõ∏ÂÖ≥ÂêçËØç</strong></a></li></ul></li></ul><h1 id="‰∏Ä„ÄÅESÁØá"><a href="#‰∏Ä„ÄÅESÁØá" class="headerlink" title="‰∏Ä„ÄÅESÁØá"></a>‰∏Ä„ÄÅESÁØá</h1><blockquote><p>ElasticsearchÂèØ‰ª•ÂÆûÁé∞<strong>ÁßíÁ∫ß</strong>ÁöÑÊêúÁ¥¢ÔºåclusterÊòØ‰∏ÄÁßçÂàÜÂ∏ÉÂºèÁöÑÈÉ®ÁΩ≤ÔºåÊûÅ<strong>ÊòìÊâ©Â±ï(scale )</strong>ËøôÊ†∑ÂæàÂÆπÊòì‰ΩøÂÆÉÂ§ÑÁêÜPBÁ∫ßÁöÑÊï∞ÊçÆÂ∫ìÂÆπÈáè„ÄÇÊúÄÈáçË¶ÅÁöÑÊòØElasticsearchÊòØÂÆÉÊêúÁ¥¢ÁöÑÁªìÊûúÂèØ‰ª•ÊåâÁÖßÂàÜÊï∞ËøõË°åÊéíÂ∫èÔºåÂÆÉËÉΩÊèê‰æõÊàë‰ª¨ÊúÄ<strong>Áõ∏ÂÖ≥</strong>ÁöÑÊêúÁ¥¢ÁªìÊûúÔºà<strong>relevance</strong>) „ÄÇ</p></blockquote><h2 id="1„ÄÅÊ¶ÇËø∞"><a href="#1„ÄÅÊ¶ÇËø∞" class="headerlink" title="1„ÄÅÊ¶ÇËø∞"></a>1„ÄÅÊ¶ÇËø∞</h2><h3 id="ÁâπÁÇπ"><a href="#ÁâπÁÇπ" class="headerlink" title="ÁâπÁÇπ"></a>ÁâπÁÇπ</h3><ol><li><p><strong>ÂÆâË£ÖÊñπ‰æø</strong>ÔºöÊ≤°ÊúâÂÖ∂‰ªñ‰æùËµñÔºå‰∏ãËΩΩÂêéÂÆâË£ÖÈùûÂ∏∏Êñπ‰æøÔºõÂè™Áî®‰øÆÊîπÂá†‰∏™ÂèÇÊï∞Â∞±ÂèØ‰ª•Êê≠Âª∫Ëµ∑Êù•‰∏Ä‰∏™ÈõÜÁæ§</p></li><li><p><strong>JSON</strong>ÔºöËæìÂÖ•/ËæìÂá∫Ê†ºÂºè‰∏∫ JSONÔºåÊÑèÂë≥ÁùÄ‰∏çÈúÄË¶ÅÂÆö‰πâ SchemaÔºåÂø´Êç∑Êñπ‰æø</p></li><li><p><strong>RESTful</strong>ÔºöÂü∫Êú¨ÊâÄÊúâÊìç‰Ωú ( Á¥¢Âºï„ÄÅÊü•ËØ¢„ÄÅÁîöËá≥ÊòØÈÖçÁΩÆ ) ÈÉΩÂèØ‰ª•ÈÄöËøá HTTP Êé•Âè£ËøõË°å</p></li><li><p><strong>ÂàÜÂ∏ÉÂºè</strong>ÔºöËäÇÁÇπÂØπÂ§ñË°®Áé∞ÂØπÁ≠âÔºàÊØè‰∏™ËäÇÁÇπÈÉΩÂèØ‰ª•Áî®Êù•ÂÅöÂÖ•Âè£Ôºâ Âä†ÂÖ•ËäÇÁÇπËá™Âä®Ë¥üËΩΩÂùáË°°</p></li><li><p><strong>Â§öÁßüÊà∑</strong>ÔºöÂèØÊ†πÊçÆ‰∏çÂêåÁöÑÁî®ÈÄîÂàÜÁ¥¢ÂºïÔºåÂèØ‰ª•ÂêåÊó∂Êìç‰ΩúÂ§ö‰∏™Á¥¢Âºï</p></li><li><p><strong>ÊîØÊåÅË∂ÖÂ§ßÊï∞ÊçÆ</strong>Ôºö ÂèØ‰ª•Êâ©Â±ïÂà∞ PB Á∫ßÁöÑÁªìÊûÑÂåñÂíåÈùûÁªìÊûÑÂåñÊï∞ÊçÆ Êµ∑ÈáèÊï∞ÊçÆÁöÑËøëÂÆûÊó∂Â§ÑÁêÜ</p></li></ol><h3 id="ÂäüËÉΩ"><a href="#ÂäüËÉΩ" class="headerlink" title="ÂäüËÉΩ"></a>ÂäüËÉΩ</h3><ul><li><p><strong>ÂàÜÂ∏ÉÂºèÁöÑÊêúÁ¥¢ÂºïÊìé</strong></p><p>ÂàÜÂ∏ÉÂºèÔºöElasticsearchËá™Âä®Â∞ÜÊµ∑ÈáèÊï∞ÊçÆÂàÜÊï£Âà∞Â§öÂè∞ÊúçÂä°Âô®‰∏äÂéªÂ≠òÂÇ®ÂíåÊ£ÄÁ¥¢</p></li><li><p><strong>ÂÖ®ÊñáÊ£ÄÁ¥¢</strong></p><p>Êèê‰æõÊ®°Á≥äÊêúÁ¥¢Á≠âËá™Âä®Â∫¶ÂæàÈ´òÁöÑÊü•ËØ¢ÊñπÂºèÔºåÂπ∂ËøõË°åÁõ∏ÂÖ≥ÊÄßÊéíÂêçÔºåÈ´ò‰∫ÆÁ≠âÂäüËÉΩ</p></li><li><p><strong>Êï∞ÊçÆÂàÜÊûêÂºïÊìéÔºàÂàÜÁªÑËÅöÂêàÔºâ</strong></p><p>Á§æÂå∫ÁΩëÁ´ôÔºåÊúÄËøë‰∏ÄÂë®Áî®Êà∑ÁôªÂΩï„ÄÅÊúÄËøë‰∏Ä‰∏™ÊúàÂêÑÂäüËÉΩ‰ΩøÁî®ÊÉÖÂÜµ</p></li><li><p><strong>ÂØπÊµ∑ÈáèÊï∞ÊçÆËøõË°åËøëÂÆûÊó∂ÔºàÁßíÁ∫ßÔºâÁöÑÂ§ÑÁêÜ</strong></p><p>Êµ∑ÈáèÊï∞ÊçÆÁöÑÂ§ÑÁêÜÔºöÂõ†‰∏∫ÊòØÂàÜÂ∏ÉÂºèÊû∂ÊûÑÔºåÂèØ‰ª•ÈááÁî®Â§ßÈáèÁöÑÊúçÂä°Âô®ÂéªÂ≠òÂÇ®ÂíåÊ£ÄÁ¥¢Êï∞ÊçÆ</p></li></ul><h3 id="Âú∫ÊôØ"><a href="#Âú∫ÊôØ" class="headerlink" title="Âú∫ÊôØ"></a>Âú∫ÊôØ</h3><ul><li><p><strong>ÊêúÁ¥¢Á±ª</strong>Âú∫ÊôØ</p><p>ÊØîÂ¶ÇËØ¥‰∫∫ÂëòÊ£ÄÁ¥¢„ÄÅËÆæÂ§áÊ£ÄÁ¥¢„ÄÅAppÂÜÖÁöÑÊêúÁ¥¢„ÄÅËÆ¢ÂçïÊêúÁ¥¢„ÄÇ</p></li><li><p><strong>Êó•ÂøóÂàÜÊûê</strong>Á±ªÂú∫ÊôØ</p><p>ÁªèÂÖ∏ÁöÑELKÁªÑÂêàÔºà<strong>Elasticsearch</strong>/<strong>Logstash</strong>/<strong>Kibana</strong>ÔºâÔºåÂÆûÁé∞<strong>Êó•ÂøóÊî∂ÈõÜ</strong>Ôºå<strong>Êó•ÂøóÂ≠òÂÇ®</strong>Ôºå<strong>Êó•ÂøóÂàÜÊûê</strong></p></li><li><p><strong>Êï∞ÊçÆÈ¢ÑË≠¶Âπ≥Âè∞</strong>ÂèäÊï∞ÊçÆÂàÜÊûêÂú∫ÊôØ</p><p>‰æãÂ¶ÇÁ§æÂå∫Âõ¢Ë¥≠ÊèêÁ§∫ÔºåÂΩì‰ºòÊÉ†ÁöÑ‰ª∑Ê†º‰Ωé‰∫éÊüê‰∏™ÂÄºÊó∂ÔºåËá™Âä®Ëß¶ÂèëÈÄöÁü•Ê∂àÊÅØÔºåÈÄöÁü•Áî®Êà∑Ë¥≠‰π∞„ÄÇ</p><p>ÂàÜÊûêÁ´û‰∫âÂØπÊâãÂïÜÂìÅÈîÄÈáèTop10Ôºå‰æõËøêËê•ÂàÜÊûêÁ≠âÁ≠â„ÄÇ</p></li><li><p><strong>ÂïÜ‰∏öBI(Business Intelligence)</strong>Á≥ªÁªü</p><p>ÊØîÂ¶ÇÁ§æÂå∫Âë®ËæπÔºåÈúÄË¶ÅÂàÜÊûêÊüê‰∏ÄÂú∞Âå∫Áî®Êà∑Ê∂àË¥πÈáëÈ¢ùÂèäÂïÜÂìÅÁ±ªÂà´ÔºåËæìÂá∫Áõ∏Â∫îÁöÑÊä•Ë°®Êï∞ÊçÆÔºåÂπ∂È¢ÑÊµãËØ•Âú∞Âå∫ÁöÑÁÉ≠ÂçñÂïÜÂìÅÔºåÈÄöËøáÂå∫ÂüüÂíå‰∫∫Áæ§ÁâπÂæÅÂàíÂàÜËøõË°åÂÆöÂêëÊé®Ëçê„ÄÇElasticsearchÊâßË°åÊï∞ÊçÆÂàÜÊûêÂíåÊåñÊéòÔºåKibanaÂÅöÊï∞ÊçÆÂèØËßÜÂåñ„ÄÇ</p></li></ul><h3 id="Á´ûÂìÅÂàÜÊûê"><a href="#Á´ûÂìÅÂàÜÊûê" class="headerlink" title="Á´ûÂìÅÂàÜÊûê"></a>Á´ûÂìÅÂàÜÊûê</h3><p><strong>Lucene</strong></p><p>JavaÁºñÂÜôÁöÑ‰ø°ÊÅØÊêúÁ¥¢Â∑•ÂÖ∑ÂåÖÔºàJarÂåÖÔºâÔºåLuceneÂè™ÊòØ‰∏Ä‰∏™Ê°ÜÊû∂ÔºåÁÜüÁªÉËøêÁî®LuceneÈùûÂ∏∏Â§çÊùÇ„ÄÇ</p><p><strong>Solr</strong></p><p>Âü∫‰∫é<strong>Lucene</strong>ÁöÑHTTPÊé•Âè£Êü•ËØ¢ÊúçÂä°Âô®ÔºåÊòØ‰∏Ä‰∏™Â∞ÅË£Ö‰∫ÜÂæàÂ§öLuceneÁªÜËäÇÊêúÁ¥¢ÂºïÊìéÁ≥ªÁªü</p><p><strong>Elasticsearch</strong></p><p>Âü∫‰∫é<strong>Lucene</strong>ÂàÜÂ∏ÉÂºèÊµ∑ÈáèÊï∞ÊçÆËøëÂÆûÊó∂ÊêúÁ¥¢ÂºïÊìé„ÄÇÈááÁî®ÁöÑÁ≠ñÁï•ÊòØÂ∞ÜÊØè‰∏Ä‰∏™Â≠óÊÆµÈÉΩÁºñÂÖ•Á¥¢ÂºïÔºå‰ΩøÂÖ∂ÂèØ‰ª•Ë¢´ÊêúÁ¥¢„ÄÇ</p><h3 id="ÂØπÊØî"><a href="#ÂØπÊØî" class="headerlink" title="ÂØπÊØî"></a>ÂØπÊØî</h3><p>1ÔºâSolrÂà©Áî®ZookeeperËøõË°åÂàÜÂ∏ÉÂºèÁÆ°ÁêÜÔºåËÄåElasticsearchËá™Ë∫´Â∏¶ÊúâÂàÜÂ∏ÉÂºèÂçèË∞ÉÁÆ°ÁêÜÂäüËÉΩ</p><p>2ÔºâSolrÊØîElasticsearchÂÆûÁé∞Êõ¥Âä†ÂÖ®Èù¢ÔºåËÄåElasticsearchÊú¨Ë∫´Êõ¥Ê≥®Èáç‰∫éÊ†∏ÂøÉÂäüËÉΩÔºå È´òÁ∫ßÂäüËÉΩÂ§öÁî±Á¨¨‰∏âÊñπÊèí‰ª∂Êèê‰æõ</p><p>3ÔºâSolrÂú®‰º†ÁªüÁöÑÊêúÁ¥¢Â∫îÁî®‰∏≠Ë°®Áé∞Â•Ω‰∫éElasticsearchÔºåËÄåElasticsearchÂú®ÂÆûÊó∂ÊêúÁ¥¢Â∫îÁî®ÊñπÈù¢ÊØîSolrË°®Áé∞Â•Ω</p><p>ÁõÆÂâç‰∏ªÊµÅ‰æùÁÑ∂ÊòØ<strong>Elasticsearch</strong>7.x ÊúÄÊñ∞ÁöÑÊòØ7.8</p><p>‚Äã    ‰ºòÂåñÔºö<strong>ÈªòËÆ§ÈõÜÊàêJDK</strong>„ÄÅÂçáÁ∫ßLucene8Â§ßÂπÖÊèêÂçá<strong>TopKÊÄßËÉΩ</strong>„ÄÅÂºïÂÖ•ÁÜîÊñ≠Êú∫Âà∂<strong>ÈÅøÂÖçOOM</strong>ÂèëÁîü</p><h2 id="2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ"><a href="#2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ" class="headerlink" title="2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ"></a>2„ÄÅÂü∫Êú¨Ê¶ÇÂøµ</h2><h3 id="IKÂàÜËØçÂô®"><a href="#IKÂàÜËØçÂô®" class="headerlink" title="IKÂàÜËØçÂô®"></a>IKÂàÜËØçÂô®</h3><p>IKAnalyzerÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÔºåÂü∫‰∫éjavaËØ≠Ë®ÄÂºÄÂèëÁöÑËΩªÈáèÁ∫ßÁöÑ‰∏≠ÊñáÂàÜËØçÂ∑•ÂÖ∑ÂåÖ„ÄÇÊñ∞ÁâàÊú¨ÁöÑIKAnalyzer3.0ÂàôÂèëÂ±ï‰∏∫ Èù¢ÂêëJavaÁöÑÂÖ¨Áî®ÂàÜËØçÁªÑ‰ª∂ÔºåÁã¨Á´ã‰∫éLuceneÈ°πÁõÆÔºåÂêåÊó∂Êèê‰æõ‰∫ÜÂØπLuceneÁöÑÈªòËÆ§‰ºòÂåñÂÆûÁé∞„ÄÇ</p><p>IKÂàÜËØçÂô®3.0ÁöÑÁâπÊÄßÂ¶Ç‰∏ãÔºö</p><ol><li>ÈááÁî®‰∫ÜÁâπÊúâÁöÑ‚ÄúÊ≠£ÂêëËø≠‰ª£<strong>ÊúÄÁªÜÁ≤íÂ∫¶</strong>ÂàáÂàÜÁÆóÊ≥ï‚ÄúÔºåÂÖ∑Êúâ<strong>60‰∏á</strong>Â≠ó/ÁßíÁöÑÈ´òÈÄüÂ§ÑÁêÜËÉΩÂäõ„ÄÇ</li><li>ÈááÁî®‰∫Ü<strong>Â§öÂ≠êÂ§ÑÁêÜÂô®</strong>ÂàÜÊûêÊ®°ÂºèÔºåÊîØÊåÅÔºöËã±ÊñáÂ≠óÊØçÔºàIPÂú∞ÂùÄ„ÄÅEmail„ÄÅURLÔºâ„ÄÅÊï∞Â≠óÔºàÊó•ÊúüÔºåÂ∏∏Áî®‰∏≠ÊñáÊï∞ÈáèËØçÔºåÁΩóÈ©¨Êï∞Â≠óÔºåÁßëÂ≠¶ËÆ°Êï∞Ê≥ïÔºâÔºå‰∏≠ÊñáËØçÊ±áÔºàÂßìÂêç„ÄÅÂú∞ÂêçÂ§ÑÁêÜÔºâÁ≠âÂàÜËØçÂ§ÑÁêÜ„ÄÇ</li><li>ÊîØÊåÅ<strong>‰∏™‰∫∫ËØçÊù°ÁöÑ‰ºòÂåñ</strong>ÁöÑËØçÂÖ∏Â≠òÂÇ®ÔºåÊõ¥Â∞èÁöÑÂÜÖÂ≠òÂç†Áî®„ÄÇ</li><li>ÈíàÂØπLucene<strong>ÂÖ®ÊñáÊ£ÄÁ¥¢‰ºòÂåñ</strong>ÁöÑÊü•ËØ¢ÂàÜÊûêÂô®IKQueryParserÔºõÈááÁî®Ê≠ß‰πâÂàÜÊûêÁÆóÊ≥ï‰ºòÂåñÊü•ËØ¢ÂÖ≥ÈîÆÂ≠óÁöÑÊêúÁ¥¢</li><li>ÊéíÂàóÁªÑÂêàÔºåËÉΩÊûÅÂ§ßÁöÑÊèêÈ´òLuceneÊ£ÄÁ¥¢ÁöÑÂëΩ‰∏≠Áéá„ÄÇ</li></ol><ul><li><strong>Êâ©Â±ïËØçÂÖ∏</strong>Ôºöext_dict</li><li><strong>ÂÅúÁî®ËØçÂÖ∏</strong>Ôºöstop_dict</li><li><strong>Âêå‰πâËØçÂÖ∏</strong>Ôºösame_dict</li></ul><h3 id="Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ"><a href="#Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ" class="headerlink" title="Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ"></a>Á¥¢ÂºïÔºàÁ±ªÊï∞ÊçÆÂ∫ìÔºâ</h3><p>settingsÔºöËÆæÁΩÆÁ¥¢ÂºïÂ∫ìÔºåÂÆö‰πâÁ¥¢ÂºïÂ∫ìÁöÑÂàÜÁâáÊï∞ÂâØÊú¨Êï∞Á≠â</p><h3 id="Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ"><a href="#Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ" class="headerlink" title="Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ"></a>Êò†Â∞ÑÔºàÁ±ªË°®ËÆæËÆ°Ôºâ</h3><ul><li>Â≠óÊÆµÁöÑÊï∞ÊçÆÁ±ªÂûã</li><li>ÂàÜËØçÂô®Á±ªÂûã</li><li>ÊòØÂê¶Ë¶ÅËøõË°åÂ≠òÂÇ®ÊàñËÄÖÂàõÈÄ†Á¥¢Âºï</li></ul><h3 id="ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ"><a href="#ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ" class="headerlink" title="ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ"></a>ÊñáÊ°£ÔºàÊï∞ÊçÆÔºâ</h3><ul><li>ÂÖ®ÈáèÊõ¥Êñ∞Áî®Put</li><li>Â±ÄÈÉ®Êõ¥Êñ∞Áî®Post</li></ul><h2 id="3„ÄÅÈ´òÁ∫ßÁâπÊÄß"><a href="#3„ÄÅÈ´òÁ∫ßÁâπÊÄß" class="headerlink" title="3„ÄÅÈ´òÁ∫ßÁâπÊÄß"></a>3„ÄÅÈ´òÁ∫ßÁâπÊÄß</h2><h3 id="Êò†Â∞ÑÈ´òÁ∫ß"><a href="#Êò†Â∞ÑÈ´òÁ∫ß" class="headerlink" title="Êò†Â∞ÑÈ´òÁ∫ß"></a>Êò†Â∞ÑÈ´òÁ∫ß</h3><h4 id="Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã"><a href="#Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã" class="headerlink" title="Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã"></a><strong>Âú∞ÁêÜÂùêÊ†áÁÇπÊï∞ÊçÆÁ±ªÂûã</strong></h4><blockquote><p>Âú∞ÁêÜÂùêÊ†áÁÇπÊòØÊåáÂú∞ÁêÉË°®Èù¢ÂèØ‰ª•Áî®ÁªèÁ∫¨Â∫¶ÊèèËø∞ÁöÑ‰∏Ä‰∏™ÁÇπ„ÄÇ Âú∞ÁêÜÂùêÊ†áÁÇπÂèØ‰ª•Áî®Êù•ËÆ°ÁÆó‰∏§‰∏™ÂùêÊ†áÈó¥ÁöÑË∑ùÁ¶ªÔºåËøòÂèØ‰ª•Âà§Êñ≠‰∏Ä‰∏™ÂùêÊ†áÊòØÂê¶Âú®‰∏Ä‰∏™Âå∫Âüü‰∏≠„ÄÇÂú∞ÁêÜÂùêÊ†áÁÇπÈúÄË¶ÅÊòæÂºèÂ£∞ÊòéÂØπÂ∫îÂ≠óÊÆµÁ±ªÂûã‰∏∫ geo_point</p></blockquote><h4 id="Âä®ÊÄÅÊò†Â∞Ñ"><a href="#Âä®ÊÄÅÊò†Â∞Ñ" class="headerlink" title="Âä®ÊÄÅÊò†Â∞Ñ"></a>Âä®ÊÄÅÊò†Â∞Ñ</h4><blockquote><p>‰ΩøÁî®dynamic mapping Êù•Á°ÆÂÆöÂ≠óÊÆµÁöÑÊï∞ÊçÆÁ±ªÂûãÂπ∂Ëá™Âä®ÊääÊñ∞ÁöÑÂ≠óÊÆµÊ∑ªÂä†Âà∞Á±ªÂûãÊò†Â∞Ñ</p></blockquote><h3 id="DSLÈ´òÁ∫ß"><a href="#DSLÈ´òÁ∫ß" class="headerlink" title="DSLÈ´òÁ∫ß"></a>DSLÈ´òÁ∫ß</h3><ul><li><strong>Êü•ËØ¢ÊâÄÊúâ(match_all query)</strong></li><li><p><strong>ÂÖ®ÊñáÊêúÁ¥¢(full-text query)</strong></p><ul><li>ÂåπÈÖçÊêúÁ¥¢(match query)</li><li>Áü≠ËØ≠ÊêúÁ¥¢(match phrase query)</li><li>ÈªòËÆ§Êü•ËØ¢(query string)</li><li>Â§öÂ≠óÊÆµÂåπÈÖçÊêúÁ¥¢(multi match query)</li></ul></li><li><p><strong>ËØçÊù°Á∫ßÊêúÁ¥¢(term-level query)</strong></p><ul><li>Á≤æÁ°ÆÊêúÁ¥¢term</li><li>ÈõÜÂêàÊêúÁ¥¢idx</li><li>ËåÉÂõ¥ÊêúÁ¥¢range</li><li>ÂâçÁºÄÊêúÁ¥¢prefix</li><li>ÈÄöÈÖçÁ¨¶ÊêúÁ¥¢wildcard</li><li>Ê≠£ÂàôÊêúÁ¥¢regexp</li><li>Ê®°Á≥äÊêúÁ¥¢fuzzy</li></ul></li><li><p>Â§çÂêàÊêúÁ¥¢</p></li><li>ÊéíÂ∫è<strong>sort</strong>&amp;ÂàÜÈ°µ<strong>size</strong>&amp;È´ò‰∫Æ<strong>highLight</strong>&amp;ÊâπÈáè<strong>bluk</strong></li></ul><h3 id="ËÅöÂêàÂàÜÊûê"><a href="#ËÅöÂêàÂàÜÊûê" class="headerlink" title="ËÅöÂêàÂàÜÊûê"></a><strong>ËÅöÂêàÂàÜÊûê</strong></h3><blockquote><p>ËÅöÂêàÂàÜÊûêÊòØÊï∞ÊçÆÂ∫ì‰∏≠ÈáçË¶ÅÁöÑÂäüËÉΩÁâπÊÄßÔºåÂÆåÊàêÂØπ‰∏Ä‰∏™Êü•ËØ¢ÁöÑÊï∞ÊçÆÈõÜ‰∏≠Êï∞ÊçÆÁöÑËÅöÂêàËÆ°ÁÆóÔºåÂ¶ÇÔºöÊâæÂá∫ÊüêÂ≠óÊÆµÔºàÊàñËÆ°ÁÆóË°®ËææÂºèÁöÑÁªìÊûúÔºâÁöÑÊúÄÂ§ßÂÄº„ÄÅÊúÄÂ∞èÂÄºÔºåËÆ°ÁÆóÂíå„ÄÅÂπ≥ÂùáÂÄºÁ≠â</p></blockquote><ul><li>ÂØπ‰∏Ä‰∏™Êï∞ÊçÆÈõÜÊ±ÇÊúÄÂ§ß„ÄÅÊúÄÂ∞è„ÄÅÂíå„ÄÅÂπ≥ÂùáÂÄºÁ≠âÊåáÊ†áÁöÑËÅöÂêàÔºåÂú®ES‰∏≠Áß∞‰∏∫<strong>ÊåáÊ†áËÅöÂêà</strong> <strong>metric</strong></li><li>ÂØπÊü•ËØ¢Âá∫ÁöÑÊï∞ÊçÆËøõË°å<strong>ÂàÜÊ°∂</strong>group byÔºåÂÜçÂú®<strong>Ê°∂</strong>‰∏äËøõË°åÊåáÊ†á<strong>Ê°∂ËÅöÂêà</strong> <strong>bucketing</strong></li></ul><h3 id="Êô∫ËÉΩÊêúÁ¥¢"><a href="#Êô∫ËÉΩÊêúÁ¥¢" class="headerlink" title="Êô∫ËÉΩÊêúÁ¥¢"></a><strong>Êô∫ËÉΩÊêúÁ¥¢</strong></h3><ul><li>Term Suggester</li><li>Phrase Suggester</li><li>Completion Suggester</li><li>Context Suggester</li></ul><p>Â¶ÇÊûú<strong>Completion Suggester</strong>Â∑≤ÁªèÂà∞‰∫ÜÈõ∂ÂåπÈÖçÔºåÂèØ‰ª•ÁåúÊµãÁî®Êà∑ÊúâËæìÂÖ•ÈîôËØØÔºåËøôÊó∂ÂÄôÂèØ‰ª•Â∞ùËØï‰∏Ä‰∏ã<strong>Phrase Suggester</strong>„ÄÇÂ¶ÇÊûúËøòÊòØÊú™ÂåπÈÖçÂàôÂ∞ùËØï<strong>Term Suggester</strong>„ÄÇ</p><p>Á≤æÂáÜÁ®ãÂ∫¶‰∏ä(<strong>Precision</strong>)ÁúãÔºö <strong>Completion &gt; Phrase &gt; Term</strong>Ôºå ËÄåÂè¨ÂõûÁéá‰∏ä(Recall)ÂàôÂèç‰πã„ÄÇ</p><p>‰ªéÊÄßËÉΩ‰∏äÁúãÔºåCompletion SuggesterÊòØÊúÄÂø´ÁöÑÔºåÂ¶ÇÊûúËÉΩÊª°Ë∂≥‰∏öÂä°ÈúÄÊ±ÇÔºåÂè™Áî®Completion SuggesterÂÅöÂâçÁºÄÂåπÈÖçÊòØÊúÄÁêÜÊÉ≥ÁöÑ„ÄÇ PhraseÂíåTermÁî±‰∫éÊòØÂÅöÂÄíÊéíÁ¥¢ÂºïÁöÑÊêúÁ¥¢ÔºåÁõ∏ÊØîËæÉËÄåË®ÄÊÄßËÉΩÂ∫îËØ•Ë¶Å‰Ωé‰∏çÂ∞ëÔºåÂ∫îÂ∞ΩÈáèÊéßÂà∂SuggesterÁî®Âà∞ÁöÑÁ¥¢ÂºïÁöÑÊï∞ÊçÆÈáèÔºåÊúÄÁêÜÊÉ≥ÁöÑÁä∂ÂÜµÊòØÁªèËøá‰∏ÄÂÆöÊó∂Èó¥È¢ÑÁÉ≠ÂêéÔºåÁ¥¢ÂºïÂèØ‰ª•ÂÖ®ÈáèmapÂà∞ÂÜÖÂ≠ò„ÄÇ</p><h2 id="4„ÄÅÂÆûÊàò"><a href="#4„ÄÅÂÆûÊàò" class="headerlink" title="4„ÄÅÂÆûÊàò"></a>4„ÄÅÂÆûÊàò</h2><h3 id="ÂÜô‰ºòÂåñ"><a href="#ÂÜô‰ºòÂåñ" class="headerlink" title="ÂÜô‰ºòÂåñ"></a>ÂÜô‰ºòÂåñ</h3><ul><li><p><strong>ÂâØÊú¨Êï∞Èáè</strong>0</p><p>È¶ñÊ¨° ÂàùÂßãÂåñÊï∞ÊçÆÊó∂ÔºåÂ∞ÜÂâØÊú¨ËÆæÁΩÆ‰∏∫0ÔºåÂÜôÂÖ•ÂÆåÊØïÂÜçÊîπÂõûÔºåÈÅøÂÖç‰∫ÜÂâØÊú¨Âª∫Á´ãÁ¥¢ÂºïÁöÑËøáÁ®ã</p></li><li><p><strong>Ëá™Âä®ÁîüÊàêid</strong></p><p>ÂèØ‰ª•ÈÅøÂÖçÂÜôÂâçÂà§Êñ≠ÊòØÂê¶Â≠òÂú®ÁöÑËøáÁ®ã</p></li><li><p><strong>ÂêàÁêÜ‰ΩøÁî®ÂàÜËØçÂô®</strong></p><p>binaryÁ±ªÂûã‰∏çÈÄÇÁî®ÔºåtitleÂíåtext‰ΩøÁî®‰∏çÂêåÁöÑÂàÜËØçÂô®Âä†Âø´ÈÄüÂ∫¶</p></li><li><p><strong>Á¶ÅÁî®ËØÑÂàÜÔºåÂª∂ÈïøÁ¥¢ÂºïÂà∑Êñ∞Èó¥Èöî</strong></p></li><li><p><strong>Â∞ÜÂ§ö‰∏™Á¥¢ÂºïÊìç‰ΩúÊîæÂÖ•Âà∞batchËøõË°åÂ§ÑÁêÜ</strong></p></li></ul><h3 id="ËØª‰ºòÂåñ"><a href="#ËØª‰ºòÂåñ" class="headerlink" title="ËØª‰ºòÂåñ"></a>ËØª‰ºòÂåñ</h3><ul><li><p>‰ΩøÁî®<strong>Filter</strong>‰ª£ÊõøQueryÔºåÂáèÂ∞ëÊâìÂàÜÁºìËß£Ôºå‰ΩøÁî®<strong>bool</strong>ÁªÑÂêàqueryÂíåfilterÊü•ËØ¢</p></li><li><p>ÂØπÊï∞ÊçÆËøõË°å<strong>ÂàÜÁªÑ</strong>ÔºåÊåâÁÖßÊó•ÔºåÊúàÔºåÂπ¥‰∏çÂêåÁª¥Â∫¶ÂàÜÁªÑÔºåÊü•ËØ¢ÂèØÈõÜ‰∏≠Âú®Â±ÄÈÉ®index‰∏≠</p></li></ul><h3 id="Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à"><a href="#Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à" class="headerlink" title="Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à"></a>Èõ∂ÂÅúÊú∫Á¥¢ÂºïÈáçÂª∫ÊñπÊ°à</h3><ul><li><p><strong>Â§ñÈÉ®Êï∞ÊçÆÂØºÂÖ•</strong></p><ul><li>ÈÄöËøáMQÁöÑwebÊéßÂà∂Âè∞ÊàñcliÂëΩ‰ª§Ë°åÔºåÂèëÈÄÅÊåáÂÆöÁöÑMQÊ∂àÊÅØ</li><li>MQÊ∂àÊÅØË¢´ÂæÆÊúçÂä°Ê®°ÂùóÁöÑÊ∂àË¥πËÄÖÊ∂àË¥πÔºåËß¶ÂèëESÊï∞ÊçÆÈáçÊñ∞ÂØºÂÖ•ÂäüËÉΩ</li><li>ÂæÆÊúçÂä°Ê®°Âùó‰ªéÊï∞ÊçÆÂ∫ìÈáåÊü•ËØ¢Êï∞ÊçÆÁöÑÊÄªÊï∞ÂèäÂàÜÈ°µ‰ø°ÊÅØÔºåÂπ∂ÂèëÈÄÅËá≥MQ</li><li>ÂæÆÊúçÂä°‰ªéMQ‰∏≠Ê†πÊçÆÂàÜÈ°µ‰ø°ÊÅØ‰ªéÊï∞ÊçÆÂ∫ìËé∑ÂèñÂà∞Êï∞ÊçÆÂêéÔºåÊ†πÊçÆÁ¥¢ÂºïÁªìÊûÑÁöÑÂÆö‰πâÔºåÂ∞ÜÊï∞ÊçÆÁªÑË£ÖÊàêESÊîØÊåÅÁöÑJSONÊ†ºÂºèÔºåÂπ∂ÈÄöËøábulkÂëΩ‰ª§Â∞ÜÊï∞ÊçÆÂèëÈÄÅÁªôElasticsearchÈõÜÁæ§ËøõË°åÁ¥¢ÂºïÁöÑÈáçÂª∫Â∑•‰Ωú„ÄÇ</li></ul></li><li><p><strong>Âü∫‰∫éScroll+bulk+Á¥¢ÂºïÂà´ÂêçÁöÑÊñπÊ°à</strong></p><ul><li><p>Êñ∞Âª∫Á¥¢Âºïbook_newÔºåÂ∞Ümapping‰ø°ÊÅØÔºåsettings‰ø°ÊÅØÁ≠âÊåâÊñ∞ÁöÑË¶ÅÊ±ÇÂÖ®ÈÉ®ÂÆö‰πâÂ•Ω</p></li><li><p>‰ΩøÁî®scroll apiÂ∞ÜÊï∞ÊçÆÊâπÈáèÊü•ËØ¢Âá∫Êù•ÔºåÊåáÂÆöscrollÊü•ËØ¢ÊåÅÁª≠Êó∂Èó¥</p></li><li><p>ÈááÁî®bulk apiÂ∞ÜscollÊü•Âá∫Êù•ÁöÑ‰∏ÄÊâπÊï∞ÊçÆÔºåÊâπÈáèÂÜôÂÖ•Êñ∞Á¥¢Âºï</p></li><li><p>Êü•ËØ¢‰∏ÄÊâπÂØºÂÖ•‰∏ÄÊâπÔºåÊ≥®ÊÑèÊØèÊ¨°ÈÉΩ‰ΩøÁî®‰∏äÊ¨°ÁªìÊùüÊó∂ÁöÑscoll_id</p></li><li><p>ÂàáÊç¢Âà´Âêçbook_aliasÂà∞Êñ∞ÁöÑÁ¥¢Âºïbook_new‰∏äÈù¢ÔºåÊ≠§Êó∂JavaÂÆ¢Êà∑Á´Ø‰ªçÁÑ∂‰ΩøÁî®Âà´ÂêçËÆøÈóÆÔºå‰πü‰∏çÈúÄË¶Å‰øÆ</p><p>Êîπ‰ªª‰Ωï‰ª£Á†ÅÔºå‰∏çÈúÄË¶ÅÂÅúÊú∫„ÄÇÈ™åËØÅÂà´ÂêçÊü•ËØ¢ÁöÑÊòØÂê¶‰∏∫Êñ∞Á¥¢ÂºïÁöÑÊï∞ÊçÆ</p></li></ul></li><li><p><strong>Reindex APIÊñπÊ°à</strong></p><ul><li>Elasticsearch v6.3.1Â∑≤ÁªèÊîØÊåÅReindex APIÔºåÂÆÉÂØπscroll„ÄÅbulkÂÅö‰∫Ü‰∏ÄÂ±ÇÂ∞ÅË£ÖÔºåËÉΩÂ§ü ÂØπÊñáÊ°£ÈáçÂª∫Á¥¢ÂºïËÄå‰∏çÈúÄË¶Å‰ªª‰ΩïÊèí‰ª∂ÊàñÂ§ñÈÉ®Â∑•ÂÖ∑„ÄÇ</li></ul></li></ul><p><strong>ÂèÇ‰∏éÂ∫¶</strong> &amp; <strong>ÁÅµÊ¥ªÊÄß</strong>ÔºöËá™Á†î &gt; scroll+bulk &gt; reindex</p><p><strong>Á®≥ÂÆöÊÄß</strong> &amp; <strong>ÂèØÈù†ÊÄß</strong>ÔºöËá™Á†î &lt; scroll+bulk &lt; reindex</p><h3 id="DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à"><a href="#DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à" class="headerlink" title="DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à"></a>DeepPagingÊÄßËÉΩËß£ÂÜ≥ÊñπÊ°à</h3><blockquote><p>ÊØîÂ¶ÇË∂ÖÁ∫ßÁÆ°ÁêÜÂëòÔºåË¶ÅÁªôÊüê‰∏™ÁúÅ‰ªΩÁî®Êà∑ÂèëÈÄÅÂÖ¨ÂëäÊàñËÄÖÂπøÂëäÔºåÊúÄÂÆπÊòìÊÉ≥Âà∞ÁöÑÂ∞±ÊòØÂà©Áî® from + size Êù•ÂÆûÁé∞Ôºå‰ΩÜËøôÊòØ‰∏çÁé∞ÂÆûÁöÑ</p></blockquote><p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gne4vx9hu4j30x60gw0w5.jpg" alt="image-20210206212712493" style="zoom:60%;"></p><h1 id="‰∫åÔºöDocker-amp-K8SÁØá"><a href="#‰∫åÔºöDocker-amp-K8SÁØá" class="headerlink" title="‰∫åÔºöDocker&amp;K8SÁØá"></a>‰∫åÔºöDocker&amp;K8SÁØá</h1><blockquote><p>chroot ÊòØÂú® Unix Âíå Linux Á≥ªÁªüÁöÑ‰∏Ä‰∏™Êìç‰ΩúÔºåÈíàÂØπÊ≠£Âú®Ëøê‰ΩúÁöÑËΩØ‰ª∂Ë°åÁ®ãÂíåÂÆÉÁöÑÂ≠êËøõÁ®ãÔºåÊîπÂèòÂÆÉÂ§ñÊòæÁöÑÊ†πÁõÆÂΩï„ÄÇ‰∏Ä‰∏™ËøêË°åÂú®Ëøô‰∏™ÁéØÂ¢É‰∏ãÔºåÁªèÁî± chroot ËÆæÁΩÆÊ†πÁõÆÂΩïÁöÑÁ®ãÂ∫èÔºåÂÆÉ‰∏çËÉΩÂ§üÂØπËøô‰∏™ÊåáÂÆöÊ†πÁõÆÂΩï‰πãÂ§ñÁöÑÊñá‰ª∂ËøõË°åËÆøÈóÆÂä®‰ΩúÔºå‰∏çËÉΩËØªÂèñÔºå‰πü‰∏çËÉΩÊõ¥ÊîπÂÆÉÁöÑÂÜÖÂÆπ„ÄÇ</p></blockquote><p><strong>ËôöÊãüÂåñÊäÄÊúØ_VMware „ÄÅVirtualBox„ÄÅKVM</strong></p><p>ËôöÊãüÂåñÊäÄÊúØÂ∞±ÊòØÂú®Êìç‰ΩúÁ≥ªÁªü‰∏äÂ§öÂä†‰∫Ü‰∏Ä‰∏™ËôöÊãüÂåñÂ±ÇÔºàHypervisorÔºâÔºåÂèØ‰ª•Â∞ÜÁâ©ÁêÜÊú∫ÁöÑCPU„ÄÅÂÜÖÂ≠ò„ÄÅÁ°¨Áõò„ÄÅÁΩëÁªúÁ≠âËµÑÊ∫êËøõË°åËôöÊãüÂåñÔºåÂÜçÈÄöËøáËôöÊãüÂåñÂá∫Êù•ÁöÑÁ©∫Èó¥‰∏äÂÆâË£ÖÊìç‰ΩúÁ≥ªÁªüÔºåÊûÑÂª∫ËôöÊãüÁöÑÂ∫îÁî®Á®ãÂ∫èÊâßË°åÁéØÂ¢É„ÄÇËøôÂ∞±ÊòØÊàë‰ª¨ÈÄöÂ∏∏ËØ¥ÁöÑËôöÊãüÊú∫„ÄÇ</p><p>ËôöÊãüÊú∫ÁöÑ‰ºòÁÇπÔºö</p><ul><li>ÊèêÂçáITÊïàÁéá„ÄÅÈôç‰ΩéËøêÁª¥ÊàêÊú¨</li><li>Êõ¥Âø´Âú∞ÈÉ®ÁΩ≤Â∑•‰ΩúË¥üË¥£</li><li>ÊèêÈ´òÊúçÂä°Âô®ÂèØÁî®ÊÄß</li></ul><p>ËôöÊãüÊú∫ÁöÑÁº∫ÁÇπÔºö</p><ul><li>Âç†Áî®ËµÑÊ∫êËæÉÂ§ö„ÄÅÊÄßËÉΩËæÉÂ∑Æ</li><li>Êâ©Â±ï„ÄÅËøÅÁßªËÉΩÂäõËæÉÂ∑Æ</li></ul><h3 id="Why-Docker"><a href="#Why-Docker" class="headerlink" title="Why Docker"></a>Why Docker</h3><p><strong>Âú∫ÊôØ</strong></p><ul><li>ÂºÄÂèë‰∫∫ÂëòÂú®Êú¨Âú∞ÁºñÂÜô‰ª£Á†ÅÔºåÂπ∂‰ΩøÁî®DockerÂÆπÂô®‰∏éÂÖ∂‰ªñÂêå‰∫ãÂÖ±‰∫´Âä≥Âä®ÊàêÊûú„ÄÇ</li><li>‰ΩøÁî®DockerÂ∞ÜÂ∫îÁî®Á®ãÂ∫èÊé®ÈÄÅÂà∞ÊµãËØïÁéØÂ¢É‰∏≠ÔºåÂπ∂ÊâßË°åËá™Âä®ÂíåÊâãÂä®ÊµãËØï„ÄÇ</li><li>ÂºÄÂèë‰∫∫ÂëòÂèØ‰ª•Âú®ÂºÄÂèëÁéØÂ¢É‰∏≠ÂØπÂÖ∂ËøõË°å‰øÆÂ§çÔºåÁÑ∂ÂêéÂ∞ÜÂÖ∂ÈáçÊñ∞ÈÉ®ÁΩ≤Âà∞ÊµãËØïÁéØÂ¢É‰∏≠‰ª•ËøõË°åÊµãËØïÂíåÈ™åËØÅ„ÄÇ</li><li>ÊµãËØïÂÆåÊàêÂêéÔºåÂ∞Ü‰øÆË°•Á®ãÂ∫èÊé®ÈÄÅÁªôÁîü‰∫ßÁéØÂ¢ÉÂ∞±ÂÉèÂ∞ÜÊõ¥Êñ∞ÁöÑÈïúÂÉèÊé®ÈÄÅÂà∞Áîü‰∫ßÁéØÂ¢É‰∏ÄÊ†∑ÁÆÄÂçï„ÄÇ</li></ul><p><strong>ÈúÄÊ±Ç</strong></p><blockquote><p>Âø´ÈÄüÔºå‰∏ÄËá¥Âú∞‰∫§‰ªòÂ∫îÁî®Á®ãÂ∫è„ÄÅÈïúÂÉèÊâìÂåÖÁéØÂ¢ÉÔºåÈÅøÂÖç‰∫ÜÁéØÂ¢É‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢òÔºåÁÆÄÂåñÂºÄÂèëÁöÑÁîüÂëΩÂë®ÊúüÔºåÈÄÇÂêà‰∫éÂø´ÈÄüËø≠‰ª£ÊïèÊç∑ÂºÄÂèëÁöÑÂú∫ÊôØ</p></blockquote><p><img src="https://i.loli.net/2021/02/20/7hx2RcvUPKgXpma.png" alt="image-20210220140837929" style="zoom: 50%;"></p><h3 id="Ê†∏ÂøÉÊ¶ÇÂøµ"><a href="#Ê†∏ÂøÉÊ¶ÇÂøµ" class="headerlink" title="Ê†∏ÂøÉÊ¶ÇÂøµ"></a>Ê†∏ÂøÉÊ¶ÇÂøµ</h3><p><strong>DockerÂºïÊìé-ÂÆàÊä§ËøõÁ®ã</strong></p><p>‚Äã    Docker‰ΩøÁî®C / SÊû∂ÊûÑ ÔºöÁî®Êà∑ÈÄöËøá<strong>DockerÂÆ¢Êà∑Á´Ø</strong>‰∏éDockerÂÆàÊä§ËøõÁ®ãÔºàDockerÂºïÊìéÔºâÈÄöËøáUnixÂ•óÊé•Â≠óÊàñËÄÖRESTAPIËøõË°åÈÄö‰ø°Ôºå<strong>DockerÂºïÊìé</strong>ÂÆåÊàê‰∫ÜÊûÑÂª∫ÔºåËøêË°åÂíåÂàÜÂèëDockerÂÆπÂô®ÁöÑÁπÅÈáçÂ∑•‰Ωú</p><p><strong>DockerÈïúÂÉè-Dockerfile</strong></p><p>‚Äã    DockerÈïúÂÉèÁ±ª‰ºº‰∫éËôöÊãüÊú∫ÈïúÂÉèÔºåÊòØ‰∏Ä‰∏™Âè™ËØªÁöÑÊ®°ÊùøÔºåÊòØÂàõÂª∫DockerÂÆπÂô®ÁöÑÂü∫Á°Ä</p><p>‚Äã    ÈïúÂÉèÊòØÂü∫‰∫éËÅîÂêàÔºàUnionÔºâÊñá‰ª∂Á≥ªÁªüÁöÑ‰∏ÄÁßçÂ±ÇÂºèÁöÑÁªìÊûÑÔºåÁî±‰∏ÄÁ≥ªÂàóÊåá‰ª§‰∏ÄÊ≠•‰∏ÄÊ≠•ÊûÑÂª∫Âá∫Êù•„ÄÇ</p><p>‚Äã    ÊØîÂ¶ÇÔºöÊã∑Ë¥ùÊñá‰ª∂„ÄÅÊâßË°åÂëΩ‰ª§</p><p><strong>Docker‰ªìÂ∫ì-Hub</strong></p><p>Docker‰ªìÂ∫ìÂèØ‰ª•ÂàÜ‰∏∫<strong>ÂÖ¨ÂºÄ‰ªìÂ∫ì ÔºàPublicÔºâ</strong>Âíå<strong>ÁßÅÊúâ‰ªìÂ∫ìÔºàPrivateÔºâ</strong>‰∏§ÁßçÂΩ¢Âºè„ÄÇ</p><p>ÊúÄÂ§ßÁöÑÂÖ¨ÂºÄ‰ªìÂ∫ìÊòØÂÆòÊñπÊèê‰æõÁöÑ<strong>Docker Hub</strong>ÔºåÂÖ∂‰∏≠Â≠òÊîæ‰∫ÜÊï∞ÈáèÂ∫ûÂ§ßÁöÑÈïúÂÉè‰æõÁî®Êà∑‰∏ãËΩΩ„ÄÇ</p><h3 id="Âü∫Êú¨Êìç‰Ωú"><a href="#Âü∫Êú¨Êìç‰Ωú" class="headerlink" title="Âü∫Êú¨Êìç‰Ωú"></a>Âü∫Êú¨Êìç‰Ωú</h3><p><strong>ÈïúÂÉè</strong></p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker pull mysql:5.7.30</span></span><br><span class="line"><span class="number">5.7</span>.<span class="number">30</span>: Pulling <span class="keyword">from</span> library/mysql ‚Ä¶‚Ä¶</span><br><span class="line">[root@localhost ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY TAG IMAGE ID CREATED SIZE</span><br><span class="line">mysql <span class="number">5.7</span>.<span class="number">30</span> <span class="number">9</span>cfcce23593a <span class="number">6</span> weeks ago <span class="number">448</span>MB</span><br><span class="line">[root@localhost ~]<span class="comment"># docker tag mysql:5.7.30 mysql5</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker images</span></span><br><span class="line">REPOSITORY TAG IMAGE ID CREATED SIZE</span><br><span class="line">mysql5 latest <span class="number">9</span>cfcce23593a <span class="number">6</span> weeks ago <span class="number">448</span>MB</span><br><span class="line">mysql <span class="number">5.7</span>.<span class="number">30</span> <span class="number">9</span>cfcce23593a <span class="number">6</span> weeks ago <span class="number">448</span>MB</span><br><span class="line">[root@localhost ~]<span class="comment"># docker inspect mysql:5.7.30</span></span><br><span class="line">[&#123;ÊòæÁ§∫docker ËØ¶ÁªÜ‰ø°ÊÅØ&#125;]</span><br><span class="line">[root@localhost ~]<span class="comment"># docker search mysql</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker rmi mysql:5.7.30</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker push mysql[:TAG]</span></span><br></pre></td></tr></table></figure><p><strong>ÂÆπÂô®</strong></p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># docker create -it nginx</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker start 9cfcce23593a</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Êü•ÁúãËøêË°åÁöÑÂÆπÂô®</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker ps</span></span><br><span class="line"><span class="comment">#Êü•ÁúãÊâÄÊúâÂÆπÂô®</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker ps -a</span></span><br><span class="line"><span class="comment">#Êñ∞Âª∫Âπ∂ÂêØÂä®ÂÆπÂô®</span></span><br><span class="line">[root@localhost ~]<span class="comment"># docker run -it --rm --network host tomcat:8.5.56-jdk8-openjdk</span></span><br></pre></td></tr></table></figure><h3 id="ÂÆûÊàò"><a href="#ÂÆûÊàò" class="headerlink" title="ÂÆûÊàò"></a>ÂÆûÊàò</h3><ol><li><p>ÂàõÂª∫‰∏Ä‰∏™Âç∑ÔºåÂæÖÂêéËæπ‰ΩøÁî®</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="keyword">volume</span><span class="bash"> create test_volume</span></span><br></pre></td></tr></table></figure></li><li><p>ÂàÜÂà´ÂêØÂä®2‰∏™ÂÆπÂô®ÊåÇÂú®‰∏äÂç∑,</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Âú®<span class="number">2</span>‰∏™ÁªàÁ´ØÁ™óÂè£ÂêØÂä®<span class="number">2</span>‰∏™ÂÆπÂô®</span><br><span class="line">docker <span class="keyword">run</span><span class="bash"> -it --rm -v test_volume:/<span class="built_in">test</span> nginx:latest /bin/bash</span></span><br><span class="line">docker <span class="keyword">run</span><span class="bash"> -it --rm -v test_volume:/<span class="built_in">test</span> nginx:latest /bin/bash</span></span><br><span class="line">cd /test;</span><br><span class="line">touch a.txt</span><br><span class="line">ls /test <span class="comment"># Âú®‰∏§‰∏™ÂÆπÂô®‰∏≠Êàë‰ª¨ÂùáÂèØ‰ª•ÁúãÂà∞Êàë‰ª¨ÂàõÂª∫ÁöÑÊñá‰ª∂ÔºåshixianÂú®Â§ö‰∏™ÂÆπÂô®‰πãÈó¥ÂÆûÁé∞Êï∞ÊçÆÂÖ±‰∫´</span></span><br></pre></td></tr></table></figure></li></ol><p>ÊåÇËΩΩÂú®ÂÆπÂô® /test ÁõÆÂΩïÂÜÖÂàõÂª∫„ÄÇ Docker <strong>‰∏çÊîØÊåÅÂÆπÂô®ÂÜÖÂÆâË£ÖÁÇπÁöÑÁõ∏ÂØπË∑ØÂæÑ</strong>„ÄÇ Â§ö‰∏™ÂÆπÂô®ÂèØ‰ª•Âú®Âêå‰∏ÄÊó∂Èó¥ÊÆµÂÜÖ‰ΩøÁî®Áõ∏ÂêåÁöÑÂç∑„ÄÇÂ¶ÇÊûú‰∏§‰∏™ÂÆπÂô®ÈúÄË¶ÅËÆøÈóÆÂÖ±‰∫´Êï∞ÊçÆÔºå‰æãÂ¶ÇÔºåÂ¶ÇÊûú‰∏Ä‰∏™ÂÆπÂô®ÂÜôÂÖ•ËÄåÂè¶‰∏Ä‰∏™ÂÆπÂô®ËØªÂèñÊï∞ÊçÆ„ÄÇ Âç∑Âêç Âú®È©±Âä®Á®ãÂ∫ètestÂøÖÈ°ªÂîØ‰∏Ä„ÄÇËøôÊÑèÂë≥ÁùÄ‰∏çËÉΩÂ∞Ü<strong>Áõ∏ÂêåÁöÑÂç∑Âêç</strong>‰∏é‰∏§‰∏™‰∏çÂêåÁöÑÈ©±Âä®Á®ãÂ∫è‰∏ÄËµ∑‰ΩøÁî®„ÄÇ Â¶ÇÊûúÊàë‰ª¨ÊåáÂÆö‰∫ÜÂΩìÂâçtest_volumeÁ®ãÂ∫è‰∏äÂ∑≤Âú®‰ΩøÁî®ÁöÑÂç∑ÂêçÔºåÂàôDocker‰ºöÂÅáÂÆöÊàë‰ª¨Ë¶ÅÈáçÁî®Áé∞ÊúâÂç∑ÔºåÂπ∂‰∏î‰∏ç‰ºöËøîÂõûÈîôËØØ„ÄÇÂ¶ÇÊûúÂºÄÂßãÊó† test_volume Âàô‰ºöÂàõÂª∫Ëøô‰∏™Âç∑ÂΩìÁÑ∂Èô§‰∫Ü‰ΩøÁî®Âç∑Ôºå‰πüÂèØ‰ª•‰ΩøÁî®Â∞ÜÂÆø‰∏ªÊú∫ÁöÑÊñá‰ª∂Êò†Â∞ÑÂà∞ÂÆπÂô®ÁöÑÂç∑ÔºåÂëΩ‰ª§Á±ª‰ººÔºåÂè™‰∏çËøá‰∏çÁî®ÊèêÂâçÂàõÂª∫Âç∑ÔºåËÄå‰∏îÊï∞ÊçÆ‰ºöÊò†Â∞ÑÂà∞ÂÆø‰∏ªÊú∫‰∏äÊ≥®ÊÑèÂ¶ÇÊûúÂÆø‰∏ªÊú∫‰∏äÁöÑÁõÆÂΩïÂèØ‰ª•‰∏çÂ≠òÂú®Ôºå‰ºöÂú®ÂêØÂä®ÂÆπÂô®ÁöÑÊó∂ÂÄôÂàõÂª∫</p><h1 id="‰∏â„ÄÅNettyÁØá"><a href="#‰∏â„ÄÅNettyÁØá" class="headerlink" title="‰∏â„ÄÅNettyÁØá"></a>‰∏â„ÄÅNettyÁØá</h1><h3 id="Ê†∏ÂøÉÁªÑ‰ª∂"><a href="#Ê†∏ÂøÉÁªÑ‰ª∂" class="headerlink" title="Ê†∏ÂøÉÁªÑ‰ª∂"></a>Ê†∏ÂøÉÁªÑ‰ª∂</h3><h4 id="1„ÄÅÊï¥‰ΩìÁªìÊûÑ"><a href="#1„ÄÅÊï¥‰ΩìÁªìÊûÑ" class="headerlink" title="1„ÄÅÊï¥‰ΩìÁªìÊûÑ"></a>1„ÄÅÊï¥‰ΩìÁªìÊûÑ</h4><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ijej9w7j30p00doaim.jpg" alt="image-20210504171606057" style="zoom:50%;"></p><p>‚Äã</p><p>‚Äã    <strong>Core Ê†∏ÂøÉÂ±Ç</strong><br>‚Äã    Core Ê†∏ÂøÉÂ±ÇÊòØ Netty ÊúÄÁ≤æÂçéÁöÑÂÜÖÂÆπÔºåÂÆÉÊèê‰æõ‰∫ÜÂ∫ïÂ±ÇÁΩëÁªúÈÄö‰ø°ÁöÑÈÄöÁî®ÊäΩË±°ÂíåÂÆûÁé∞ÔºåÂåÖÊã¨‰∫ã‰ª∂Ê®°Âûã„ÄÅÈÄöÁî®API„ÄÅÊîØÊåÅÈõ∂Êã∑Ë¥ùÁöÑ ByteBuf Á≠â„ÄÇ</p><p>‚Äã    <strong>Protocol Support ÂçèËÆÆÊîØÊåÅÂ±Ç</strong><br>‚Äã    ÂçèËÆÆÊîØÊåÅÂ±ÇÂü∫Êú¨‰∏äË¶ÜÁõñ‰∫Ü‰∏ªÊµÅÂçèËÆÆÁöÑÁºñËß£Á†ÅÂÆûÁé∞ÔºåÂ¶Ç HTTP„ÄÅProtobuf„ÄÅWebSocket„ÄÅ‰∫åËøõÂà∂Á≠â‰∏ªÊµÅÂçèËÆÆÔºåÊ≠§Â§ñ Netty ËøòÊîØÊåÅËá™ÂÆö‰πâÂ∫îÁî®Â±ÇÂçèËÆÆ„ÄÇNetty ‰∏∞ÂØåÁöÑÂçèËÆÆÊîØÊåÅÈôç‰Ωé‰∫ÜÁî®Êà∑ÁöÑÂºÄÂèëÊàêÊú¨ÔºåÂü∫‰∫é Netty Êàë‰ª¨ÂèØ‰ª•Âø´ÈÄüÂºÄÂèë HTTP„ÄÅWebSocket Á≠âÊúçÂä°„ÄÇ</p><p>‚Äã    <strong>Transport Service ‰º†ËæìÊúçÂä°Â±Ç</strong><br>‚Äã    ‰º†ËæìÊúçÂä°Â±ÇÊèê‰æõ‰∫ÜÁΩëÁªú‰º†ËæìËÉΩÂäõÁöÑÂÆö‰πâÂíåÂÆûÁé∞ÊñπÊ≥ï„ÄÇÂÆÉÊîØÊåÅ Socket„ÄÅHTTP ÈößÈÅì„ÄÅËôöÊãüÊú∫ÁÆ°ÈÅìÁ≠â‰º†ËæìÊñπÂºè„ÄÇNetty ÂØπ TCP„ÄÅUDP Á≠âÊï∞ÊçÆ‰º†ËæìÂÅö‰∫ÜÊäΩË±°ÂíåÂ∞ÅË£ÖÔºåÁî®Êà∑ÂèØ‰ª•Êõ¥ËÅöÁÑ¶Âú®‰∏öÂä°ÈÄªËæëÂÆûÁé∞‰∏äÔºåËÄå‰∏çÂøÖÂÖ≥Á≥ªÂ∫ïÂ±ÇÊï∞ÊçÆ‰º†ËæìÁöÑÁªÜËäÇ„ÄÇ</p><h4 id="2„ÄÅÈÄªËæëÊû∂ÊûÑ"><a href="#2„ÄÅÈÄªËæëÊû∂ÊûÑ" class="headerlink" title="2„ÄÅÈÄªËæëÊû∂ÊûÑ"></a>2„ÄÅÈÄªËæëÊû∂ÊûÑ</h4><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6iiju6h8j30ry0o6dj0.jpg" alt="image-20210504171514089" style="zoom:50%;"></p><p>‚Äã        </p><p>‚Äã    <strong>ÁΩëÁªúÈÄö‰ø°Â±Ç</strong><br>‚Äã    ÁΩëÁªúÈÄö‰ø°Â±ÇÁöÑËÅåË¥£ÊòØÊâßË°åÁΩëÁªú I/O ÁöÑÊìç‰Ωú„ÄÇÂÆÉÊîØÊåÅÂ§öÁßçÁΩëÁªúÂçèËÆÆÂíå I/O Ê®°ÂûãÁöÑËøûÊé•Êìç‰Ωú„ÄÇÂΩìÁΩëÁªúÊï∞ÊçÆËØªÂèñÂà∞ÂÜÖÊ†∏ÁºìÂÜ≤Âå∫ÂêéÔºå‰ºöËß¶ÂèëÂêÑÁßçÁΩëÁªú‰∫ã‰ª∂ÔºåËøô‰∫õÁΩëÁªú‰∫ã‰ª∂‰ºöÂàÜÂèëÁªô‰∫ã‰ª∂Ë∞ÉÂ∫¶Â±ÇËøõË°åÂ§ÑÁêÜ„ÄÇ</p><p>ÁΩëÁªúÈÄö‰ø°Â±ÇÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂåÖÂê´<strong>BootStrap„ÄÅServerBootStrap„ÄÅChannel</strong>‰∏â‰∏™ÁªÑ‰ª∂„ÄÇ</p><p>‚Äã    Bootstrap ÊòØ‚ÄúÂºïÂØº‚ÄùÁöÑÊÑèÊÄùÔºåË¥üË¥£ Netty <strong>ÂÆ¢Êà∑Á´ØÁ®ãÂ∫è</strong>ÁöÑÂêØÂä®„ÄÅÂàùÂßãÂåñ„ÄÅÊúçÂä°Âô®ËøûÊé•Á≠âËøáÁ®ãÔºå‰∏≤ËÅî‰∫Ü Netty ÁöÑÂÖ∂‰ªñÊ†∏ÂøÉÁªÑ‰ª∂„ÄÇ</p><p>‚Äã    ServerBootStrap Áî®‰∫é<strong>ÊúçÂä°Á´ØÂêØÂä®</strong>ÁªëÂÆöÊú¨Âú∞Á´ØÂè£Ôºå‰ºöÁªëÂÆöBoss Âíå Worker‰∏§‰∏™ EventLoopGroup„ÄÇ</p><p>‚Äã    Channel ÁöÑÊòØ‚Äú<strong>ÈÄöÈÅì</strong>‚ÄùÔºåNetty ChannelÊèê‰æõ‰∫ÜÂü∫‰∫éNIOÊõ¥È´òÂ±ÇÊ¨°ÁöÑÊäΩË±°ÔºåÂ¶Ç register„ÄÅbind„ÄÅconnect„ÄÅread„ÄÅwrite„ÄÅflush Á≠â„ÄÇ</p><p>‚Äã</p><p>‚Äã    <strong>‰∫ã‰ª∂Ë∞ÉÂ∫¶Â±Ç</strong><br>‚Äã    ‰∫ã‰ª∂Ë∞ÉÂ∫¶Â±ÇÁöÑËÅåË¥£ÊòØÈÄöËøá Reactor Á∫øÁ®ãÊ®°ÂûãÂØπÂêÑÁ±ª‰∫ã‰ª∂ËøõË°åËÅöÂêàÂ§ÑÁêÜÔºåÈÄöËøá Selector ‰∏ªÂæ™ÁéØÁ∫øÁ®ãÈõÜÊàêÂ§öÁßç‰∫ã‰ª∂Ôºà I/O ‰∫ã‰ª∂„ÄÅ‰ø°Âè∑‰∫ã‰ª∂„ÄÅÂÆöÊó∂‰∫ã‰ª∂Á≠âÔºâÔºåÂÆûÈôÖÁöÑ‰∏öÂä°Â§ÑÁêÜÈÄªËæëÊòØ‰∫§Áî±ÊúçÂä°ÁºñÊéíÂ±Ç‰∏≠Áõ∏ÂÖ≥ÁöÑ Handler ÂÆåÊàê„ÄÇ</p><p>‰∫ã‰ª∂Ë∞ÉÂ∫¶Â±ÇÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂåÖÊã¨ <strong>EventLoopGroup„ÄÅEventLoop</strong>„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ijuqesxj30ke0ekgpj.jpg" alt="image-20210504171631793" style="zoom:50%;"></p><p>‚Äã                        </p><p>‚Äã    <strong>EventLoop</strong> Ë¥üË¥£Â§ÑÁêÜ Channel ÁîüÂëΩÂë®ÊúüÂÜÖÁöÑÊâÄÊúâ I/O ‰∫ã‰ª∂ÔºåÂ¶Ç accept„ÄÅconnect„ÄÅread„ÄÅwrite Á≠â I/O ‰∫ã‰ª∂</p><p>‚Äã        ‚ë†‰∏Ä‰∏™ EventLoopGroup ÂæÄÂæÄÂåÖÂê´<strong>‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™</strong> EventLoop„ÄÇ</p><p>‚Äã        ‚ë°EventLoop Âêå‰∏ÄÊó∂Èó¥‰ºö‰∏é‰∏Ä‰∏™ChannelÁªëÂÆöÔºåÊØè‰∏™ EventLoop Ë¥üË¥£<strong>Â§ÑÁêÜ‰∏ÄÁßçÁ±ªÂûã Channel</strong>„ÄÇ</p><p>‚Äã        ‚ë¢Channel Âú®ÁîüÂëΩÂë®ÊúüÂÜÖÂèØ‰ª•ÂØπÂíåÂ§ö‰∏™ EventLoop ËøõË°å<strong>Â§öÊ¨°ÁªëÂÆöÂíåËß£Áªë</strong>„ÄÇ        </p><p>‚Äã    <strong>EventLoopGroup</strong> ÊòØNetty ÁöÑ<strong>Ê†∏ÂøÉÂ§ÑÁêÜÂºïÊìé</strong>ÔºåÊú¨Ë¥®ÊòØ‰∏Ä‰∏™Á∫øÁ®ãÊ±†Ôºå‰∏ªË¶ÅË¥üË¥£Êé•Êî∂ I/O ËØ∑Ê±ÇÔºåÂπ∂ÂàÜÈÖçÁ∫øÁ®ãÊâßË°åÂ§ÑÁêÜËØ∑Ê±Ç„ÄÇÈÄöËøáÂàõÂª∫‰∏çÂêåÁöÑ EventLoopGroup ÂèÇÊï∞ÈÖçÁΩÆÔºåÂ∞±ÂèØ‰ª•ÊîØÊåÅ Reactor ÁöÑ‰∏âÁßçÁ∫øÁ®ãÊ®°ÂûãÔºö</p><p>‚Äã        <strong>ÂçïÁ∫øÁ®ãÊ®°Âûã</strong>ÔºöEventLoopGroup Âè™ÂåÖÂê´‰∏Ä‰∏™ EventLoopÔºåBoss Âíå Worker ‰ΩøÁî®Âêå‰∏Ä‰∏™EventLoopGroupÔºõ</p><p>‚Äã        <strong>Â§öÁ∫øÁ®ãÊ®°Âûã</strong>ÔºöEventLoopGroup ÂåÖÂê´Â§ö‰∏™ EventLoopÔºåBoss Âíå Worker ‰ΩøÁî®Âêå‰∏Ä‰∏™EventLoopGroupÔºõ</p><p>‚Äã        <strong>‰∏ª‰ªéÂ§öÁ∫øÁ®ãÊ®°Âûã</strong>ÔºöEventLoopGroup ÂåÖÂê´Â§ö‰∏™ EventLoopÔºåBoss ÊòØ‰∏ª ReactorÔºåWorker ÊòØ‰ªé ReactorÔºåÂÆÉ‰ª¨ÂàÜÂà´‰ΩøÁî®‰∏çÂêåÁöÑ EventLoopGroupÔºå‰∏ª Reactor Ë¥üË¥£Êñ∞ÁöÑÁΩëÁªúËøûÊé• Channel ÂàõÂª∫ÔºåÁÑ∂ÂêéÊää Channel Ê≥®ÂÜåÂà∞‰ªé Reactor„ÄÇ</p><p>‚Äã    <strong>ÊúçÂä°ÁºñÊéíÂ±Ç</strong><br>‚Äã    ÊúçÂä°ÁºñÊéíÂ±ÇÁöÑËÅåË¥£ÊòØË¥üË¥£ÁªÑË£ÖÂêÑÁ±ªÊúçÂä°ÔºåÂÆÉÊòØ Netty ÁöÑÊ†∏ÂøÉÂ§ÑÁêÜÈìæÔºåÁî®‰ª•ÂÆûÁé∞ÁΩëÁªú‰∫ã‰ª∂ÁöÑÂä®ÊÄÅÁºñÊéíÂíåÊúâÂ∫è‰º†Êí≠„ÄÇ</p><p>ÊúçÂä°ÁºñÊéíÂ±ÇÁöÑÊ†∏ÂøÉÁªÑ‰ª∂ÂåÖÊã¨ <strong>ChannelPipeline„ÄÅChannelHandler„ÄÅChannelHandlerContext</strong>„ÄÇ</p><p>‚Äã    <strong>ChannelPipeline</strong> ÊòØ Netty ÁöÑÊ†∏ÂøÉÁºñÊéíÁªÑ‰ª∂ÔºåË¥üË¥£ÁªÑË£ÖÂêÑÁßç ChannelHandlerÔºåChannelPipeline ÂÜÖÈÉ®ÈÄöËøáÂèåÂêëÈìæË°®Â∞Ü‰∏çÂêåÁöÑ ChannelHandler ÈìæÊé•Âú®‰∏ÄËµ∑„ÄÇÂΩì I/O ËØªÂÜô‰∫ã‰ª∂Ëß¶ÂèëÊó∂ÔºåPipeline ‰ºö‰æùÊ¨°Ë∞ÉÁî® Handler ÂàóË°®ÂØπ Channel ÁöÑÊï∞ÊçÆËøõË°åÊã¶Êà™ÂíåÂ§ÑÁêÜ„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6il759apj313s068abj.jpg" alt="image-20210504171749533" style="zoom:50%;"></p><p>‚Äã</p><p>‚Äã    ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈÉΩÊúâÂêÑËá™ÁöÑ ChannelPipeline„ÄÇÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´Ø‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑËØ∑Ê±ÇÔºöÂÆ¢Êà∑Á´ØÂá∫Á´ôÔºàEncoder ËØ∑Ê±ÇÊï∞ÊçÆÔºâ„ÄÅÊúçÂä°Á´ØÂÖ•Á´ôÔºàDecoderÊé•Êî∂Êï∞ÊçÆÂπ∂ÊâßË°å‰∏öÂä°ÈÄªËæëÔºâ„ÄÅÊúçÂä°Á´ØÂá∫Á´ôÔºàEncoderÂìçÂ∫îÁªìÊûúÔºâ„ÄÇ</p><p>‚Äã    <strong>ChannelHandler</strong> ÂÆåÊàêÊï∞ÊçÆÁöÑÁºñËß£Á†Å‰ª•ÂèäÂ§ÑÁêÜÂ∑•‰Ωú„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ilvuhupj30ye08e0vd.jpg" alt="image-20210504171829071" style="zoom:50%;"></p><p>‚Äã    <strong>ChannelHandlerContext</strong> Áî®‰∫é‰øùÂ≠òHandler ‰∏ä‰∏ãÊñáÔºåÈÄöËøá HandlerContext Êàë‰ª¨ÂèØ‰ª•Áü•ÈÅì Pipeline Âíå Handler ÁöÑÂÖ≥ËÅîÂÖ≥Á≥ª„ÄÇHandlerContext ÂèØ‰ª•ÂÆûÁé∞ Handler ‰πãÈó¥ÁöÑ‰∫§‰∫íÔºåHandlerContext ÂåÖÂê´‰∫Ü Handler ÁîüÂëΩÂë®ÊúüÁöÑÊâÄÊúâ‰∫ã‰ª∂ÔºåÂ¶Ç connect„ÄÅbind„ÄÅread„ÄÅflush„ÄÅwrite„ÄÅclose Á≠â„ÄÇÂêåÊó∂ÔºåHandlerContext ÂÆûÁé∞‰∫ÜHandlerÈÄöÁî®ÁöÑÈÄªËæëÁöÑÊ®°ÂûãÊäΩË±°„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6imu2khlj31080gu0xc.jpg" alt="image-20210504171924019" style="zoom:50%;"></p><h3 id="ÁΩëÁªú‰º†Ëæì"><a href="#ÁΩëÁªú‰º†Ëæì" class="headerlink" title="ÁΩëÁªú‰º†Ëæì"></a>ÁΩëÁªú‰º†Ëæì</h3><h4 id="1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´"><a href="#1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´" class="headerlink" title="1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´"></a><strong>1„ÄÅ‰∫îÁßçIOÊ®°ÂûãÁöÑÂå∫Âà´</strong></h4><p><strong>ÈòªÂ°ûI/OÔºöÔºàBIOÔºâ</strong></p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ingki0yj30kw0d6gmr.jpg" alt="image-20210504171959821" style="zoom:50%;"></p><p>‚Äã</p><p>‚Äã        Â∫îÁî®ËøõÁ®ãÂêëÂÜÖÊ†∏ÂèëËµ∑ I/O ËØ∑Ê±ÇÔºåÂèëËµ∑Ë∞ÉÁî®ÁöÑÁ∫øÁ®ã‰∏ÄÁõ¥Á≠âÂæÖÂÜÖÊ†∏ËøîÂõûÁªìÊûú„ÄÇ‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑ I/O ËØ∑Ê±ÇÁß∞‰∏∫BIOÔºàBlocking IOÔºåÈòªÂ°û I/OÔºâÔºåÊâÄ‰ª• BIO Âú®ÂÆûÁé∞ÂºÇÊ≠•Êìç‰ΩúÊó∂ÔºåÂè™ËÉΩ‰ΩøÁî®Â§öÁ∫øÁ®ãÊ®°ÂûãÔºå‰∏Ä‰∏™ËØ∑Ê±ÇÂØπÂ∫î‰∏Ä‰∏™Á∫øÁ®ã„ÄÇ‰ΩÜÊòØÔºå<strong>Á∫øÁ®ãÁöÑËµÑÊ∫êÊòØÊúâÈôê‰∏îÂÆùË¥µÁöÑÔºåÂàõÂª∫ËøáÂ§öÁöÑÁ∫øÁ®ã‰ºöÂ¢ûÂä†Á∫øÁ®ãÂàáÊç¢ÁöÑÂºÄÈîÄ„ÄÇ</strong></p><p><strong>ÂêåÊ≠•ÈùûÈòªÂ°ûI/OÔºàNIOÔºâÔºö</strong></p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6inzsk9xj30lg0cign1.jpg" alt="image-20210504172029418" style="zoom:50%;"></p><p>‚Äã        </p><p>‚Äã        Â∫îÁî®ËøõÁ®ãÂêëÂÜÖÊ†∏ÂèëËµ∑ I/O ËØ∑Ê±ÇÂêé‰∏çÂÜç‰ºöÂêåÊ≠•Á≠âÂæÖÁªìÊûúÔºåËÄåÊòØ‰ºöÁ´ãÂç≥ËøîÂõûÔºåÈÄöËøáËΩÆËØ¢ÁöÑÊñπÂºèËé∑ÂèñËØ∑Ê±ÇÁªìÊûú„ÄÇNIO Áõ∏ÊØî BIO ËôΩÁÑ∂Â§ßÂπÖÊèêÂçá‰∫ÜÊÄßËÉΩÔºå‰ΩÜÊòØËΩÆËØ¢ËøáÁ®ã‰∏≠Â§ßÈáèÁöÑÁ≥ªÁªüË∞ÉÁî®ÂØºËá¥‰∏ä‰∏ãÊñáÂàáÊç¢ÂºÄÈîÄÂæàÂ§ß„ÄÇÊâÄ‰ª•ÔºåÂçïÁã¨‰ΩøÁî®ÈùûÈòªÂ°û I/O Êó∂ÊïàÁéáÂπ∂‰∏çÈ´òÔºåËÄå‰∏î<strong>ÈöèÁùÄÂπ∂ÂèëÈáèÁöÑÊèêÂçáÔºåÈùûÈòªÂ°û I/O ‰ºöÂ≠òÂú®‰∏•ÈáçÁöÑÊÄßËÉΩÊµ™Ë¥π„ÄÇ</strong></p><p><strong>Â§öË∑ØÂ§çÁî®I/OÔºàselectÂíåpollÔºâÔºö</strong></p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6iogl9x0j30ja0cqdh7.jpg" alt="image-20210504172057237" style="zoom:50%;"></p><p>‚Äã        </p><p>‚Äã        Â§öË∑ØÂ§çÁî®ÂÆûÁé∞‰∫Ü<strong>‰∏Ä‰∏™Á∫øÁ®ãÂ§ÑÁêÜÂ§ö‰∏™ I/O Âè•ÊüÑÁöÑÊìç‰Ωú</strong>„ÄÇÂ§öË∑ØÊåáÁöÑÊòØÂ§ö‰∏™Êï∞ÊçÆÈÄöÈÅìÔºåÂ§çÁî®ÊåáÁöÑÊòØ‰ΩøÁî®‰∏Ä‰∏™ÊàñÂ§ö‰∏™Âõ∫ÂÆöÁ∫øÁ®ãÊù•Â§ÑÁêÜÊØè‰∏Ä‰∏™ Socket„ÄÇselect„ÄÅpoll„ÄÅepoll ÈÉΩÊòØ I/O Â§öË∑ØÂ§çÁî®ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåÁ∫øÁ®ã‰∏ÄÊ¨° select Ë∞ÉÁî®ÂèØ‰ª•Ëé∑ÂèñÂÜÖÊ†∏ÊÄÅ‰∏≠Â§ö‰∏™Êï∞ÊçÆÈÄöÈÅìÁöÑÊï∞ÊçÆÁä∂ÊÄÅ„ÄÇÂÖ∂‰∏≠ÔºåselectÂè™Ë¥üË¥£Á≠âÔºårecvfromÂè™Ë¥üË¥£Êã∑Ë¥ùÔºåÈòªÂ°ûIO‰∏≠ÂèØ‰ª•ÂØπÂ§ö‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶ËøõË°åÈòªÂ°ûÁõëÂê¨ÔºåÊòØ‰∏ÄÁßçÈùûÂ∏∏È´òÊïàÁöÑ I/O Ê®°Âûã„ÄÇ</p><p><strong>‰ø°Âè∑È©±Âä®I/OÔºàSIGIOÔºâÔºö</strong></p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ioxthajj30ii0cemyk.jpg" alt="image-20210504172124965" style="zoom:50%;"></p><p>‚Äã        </p><p>‚Äã        ‰ø°Âè∑È©±Âä®IOÊ®°ÂûãÔºåÂ∫îÁî®ËøõÁ®ãÂëäËØâÂÜÖÊ†∏ÔºöÂΩìÊï∞ÊçÆÊä•ÂáÜÂ§áÂ•ΩÁöÑÊó∂ÂÄôÔºåÁªôÊàëÂèëÈÄÅ‰∏Ä‰∏™‰ø°Âè∑ÔºåÂØπSIGIO‰ø°Âè∑ËøõË°åÊçïÊçâÔºåÂπ∂‰∏îË∞ÉÁî®ÊàëÁöÑ‰ø°Âè∑Â§ÑÁêÜÂáΩÊï∞Êù•Ëé∑ÂèñÊï∞ÊçÆÊä•„ÄÇ</p><p><strong>ÂºÇÊ≠•I/OÔºàPosix.1ÁöÑaio_Á≥ªÂàóÂáΩÊï∞ÔºâÔºö</strong></p><p>‚Äã        <img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ipcc12jj30lg0coabe.jpg" alt="image-20210504172148095" style="zoom:50%;"></p><p>‚Äã        ÂΩìÂ∫îÁî®Á®ãÂ∫èË∞ÉÁî®aio_readÊó∂ÔºåÂÜÖÊ†∏‰∏ÄÊñπÈù¢ÂéªÂèñÊï∞ÊçÆÊä•ÂÜÖÂÆπËøîÂõûÔºåÂè¶‰∏ÄÊñπÈù¢Â∞ÜÁ®ãÂ∫èÊéßÂà∂ÊùÉËøòÁªôÂ∫îÁî®ËøõÁ®ãÔºåÂ∫îÁî®ËøõÁ®ãÁªßÁª≠Â§ÑÁêÜÂÖ∂‰ªñ‰∫ãÊÉÖÔºåÊòØ‰∏ÄÁßçÈùûÈòªÂ°ûÁöÑÁä∂ÊÄÅ„ÄÇÂΩìÂÜÖÊ†∏‰∏≠ÊúâÊï∞ÊçÆÊä•Â∞±Áª™Êó∂ÔºåÁî±ÂÜÖÊ†∏Â∞ÜÊï∞ÊçÆÊä•Êã∑Ë¥ùÂà∞Â∫îÁî®Á®ãÂ∫è‰∏≠ÔºåËøîÂõûaio_read‰∏≠ÂÆö‰πâÂ•ΩÁöÑÂáΩÊï∞Â§ÑÁêÜÁ®ãÂ∫è„ÄÇ</p><h4 id="2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã"><a href="#2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã" class="headerlink" title="2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã"></a>2„ÄÅReactorÂ§öÁ∫øÁ®ãÊ®°Âûã</h4><p>‚Äã        Netty ÁöÑ I/O Ê®°ÂûãÊòØÂü∫‰∫é<strong>ÈùûÈòªÂ°û I/O</strong> ÂÆûÁé∞ÁöÑÔºåÂ∫ïÂ±Ç‰æùËµñÁöÑÊòØ NIO Ê°ÜÊû∂ÁöÑ<strong>Â§öË∑ØÂ§çÁî®Âô® Selector</strong>„ÄÇÈááÁî® <strong>epoll Ê®°Âºè</strong>ÂêéÔºåÂè™ÈúÄË¶Å‰∏Ä‰∏™Á∫øÁ®ãË¥üË¥£ Selector ÁöÑËΩÆËØ¢„ÄÇÂΩìÊúâÊï∞ÊçÆÂ§Ñ‰∫éÂ∞±Áª™Áä∂ÊÄÅÂêéÔºåÈúÄË¶Å‰∏Ä‰∏™<strong>‰∫ã‰ª∂ÂàÜÂèëÂô®</strong>ÔºàEvent DispatherÔºâÔºåÂÆÉË¥üË¥£Â∞ÜËØªÂÜô‰∫ã‰ª∂ÂàÜÂèëÁªôÂØπÂ∫îÁöÑËØªÂÜô<strong>‰∫ã‰ª∂Â§ÑÁêÜÂô®</strong>ÔºàEvent HandlerÔºâ„ÄÇ‰∫ã‰ª∂ÂàÜÂèëÂô®Êúâ‰∏§ÁßçËÆæËÆ°Ê®°ÂºèÔºö<strong>Reactor Âíå Proactor</strong>ÔºåReactor ÈááÁî®ÂêåÊ≠• I/OÔºå Proactor ÈááÁî®ÂºÇÊ≠• I/O„ÄÇ</p><p>‚Äã</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ipob6wjj30we0i4jz2.jpg" alt="image-20210504172207142" style="zoom:50%;"></p><p>‚Äã        Reactor ÂÆûÁé∞Áõ∏ÂØπÁÆÄÂçïÔºåÈÄÇÂêàÂ§ÑÁêÜËÄóÊó∂Áü≠ÁöÑÂú∫ÊôØÔºåÂØπ‰∫éËÄóÊó∂ÈïøÁöÑ I/O Êìç‰ΩúÂÆπÊòìÈÄ†ÊàêÈòªÂ°û„ÄÇProactor ÊÄßËÉΩÊõ¥È´òÔºå‰ΩÜÊòØÂÆûÁé∞ÈÄªËæëÈùûÂ∏∏Â§çÊùÇÔºåÈÄÇÂêàÂõæÁâáÊàñËßÜÈ¢ëÊµÅÂàÜÊûêÊúçÂä°Âô®ÔºåÁõÆÂâç‰∏ªÊµÅÁöÑ‰∫ã‰ª∂È©±Âä®Ê®°ÂûãËøòÊòØ‰æùËµñ <strong>select Êàñ epoll</strong> Êù•ÂÆûÁé∞„ÄÇ</p><h4 id="3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò"><a href="#3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò" class="headerlink" title="3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò"></a>3„ÄÅÊãÜÂåÖÁ≤òÂåÖÈóÆÈ¢ò</h4><p><strong>ÊãÜÂåÖ</strong>TCP ‰º†ËæìÂçèËÆÆÊòØÈù¢ÂêëÊµÅÁöÑÔºåÊ≤°ÊúâÊï∞ÊçÆÂåÖÁïåÈôê„ÄÇ<br><strong>MTUÔºàMaxitum Transmission UnitÔºâ</strong> ÊòØÈìæË∑ØÂ±Ç‰∏ÄÊ¨°ÊúÄÂ§ß‰º†ËæìÊï∞ÊçÆÁöÑÂ§ßÂ∞è„ÄÇMTU ‰∏ÄËà¨Êù•ËØ¥Â§ßÂ∞è‰∏∫ 1500 byte„ÄÇ<strong>MSSÔºàMaximum Segement SizeÔºâ</strong> ÊòØÊåá TCP ÊúÄÂ§ßÊä•ÊñáÊÆµÈïøÂ∫¶ÔºåÂÆÉÊòØ‰º†ËæìÂ±Ç‰∏ÄÊ¨°ÂèëÈÄÅÊúÄÂ§ßÊï∞ÊçÆÁöÑÂ§ßÂ∞è„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6iq4xdjtj30q407egnk.jpg" alt="image-20210504172233844" style="zoom:50%;"></p><p>Â¶Ç‰∏äÂõæÊâÄÁ§∫ÔºåÂ¶ÇÊûú MSS + TCP È¶ñÈÉ® + IP È¶ñÈÉ® &gt; MTUÔºåÈÇ£‰πàÊï∞ÊçÆÂåÖÂ∞Ü‰ºöË¢´ÊãÜÂàÜ‰∏∫Â§ö‰∏™ÂèëÈÄÅ„ÄÇËøôÂ∞±ÊòØ<strong>ÊãÜÂåÖÁé∞Ë±°</strong>„ÄÇ</p><p><strong>Nagle ÁÆóÊ≥ï</strong><br>Nagle ÁÆóÊ≥ïÂèØ‰ª•ÁêÜËß£‰∏∫ÊâπÈáèÂèëÈÄÅÔºå‰πüÊòØÊàë‰ª¨Âπ≥Êó∂ÁºñÁ®ã‰∏≠ÁªèÂ∏∏Áî®Âà∞ÁöÑ‰ºòÂåñÊÄùË∑ØÔºåÂÆÉÊòØÂú®Êï∞ÊçÆÊú™ÂæóÂà∞Á°ÆËÆ§‰πãÂâçÂÖàÂÜôÂÖ•ÁºìÂÜ≤Âå∫ÔºåÁ≠âÂæÖÊï∞ÊçÆÁ°ÆËÆ§ÊàñËÄÖÁºìÂÜ≤Âå∫ÁßØÊîíÂà∞‰∏ÄÂÆöÂ§ßÂ∞èÂÜçÊääÊï∞ÊçÆÂåÖÂèëÈÄÅÂá∫Âéª„ÄÇNetty ‰∏≠‰∏∫‰∫Ü‰ΩøÊï∞ÊçÆ<strong>‰º†ËæìÂª∂ËøüÊúÄÂ∞èÂåñ</strong>ÔºåÂ∞±ÈªòËÆ§<strong>Á¶ÅÁî®‰∫Ü Nagle ÁÆóÊ≥ï</strong>„ÄÇ</p><p><strong>ÊãÜÂåÖ/Á≤òÂåÖÁöÑËß£ÂÜ≥ÊñπÊ°à</strong></p><p>Âú®ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Á´ØÈÄö‰ø°ÁöÑËøáÁ®ã‰∏≠ÔºåÊúçÂä°Á´Ø‰∏ÄÊ¨°ËØªÂà∞ÁöÑÊï∞ÊçÆÂ§ßÂ∞èÊòØ‰∏çÁ°ÆÂÆöÁöÑ„ÄÇÈúÄË¶ÅÁ°ÆÂÆöËæπÁïåÔºö</p><p><strong>Ê∂àÊÅØÈïøÂ∫¶Âõ∫ÂÆö</strong><br><strong>ÁâπÂÆöÂàÜÈöîÁ¨¶</strong><br><strong>Ê∂àÊÅØÈïøÂ∫¶ + Ê∂àÊÅØÂÜÖÂÆπ</strong>(Netty)</p><h4 id="4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ"><a href="#4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ" class="headerlink" title="4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ"></a>4„ÄÅËá™ÂÆö‰πâÂçèËÆÆ</h4><p>Netty Â∏∏Áî®ÁºñÁ†ÅÂô®Á±ªÂûãÔºö</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MessageToByteEncoder <span class="comment">//ÂØπË±°ÁºñÁ†ÅÊàêÂ≠óËäÇÊµÅÔºõ</span></span><br><span class="line"></span><br><span class="line">MessageToMessageEncoder <span class="comment">//‰∏ÄÁßçÊ∂àÊÅØÁ±ªÂûãÁºñÁ†ÅÊàêÂè¶Â§ñ‰∏ÄÁßçÊ∂àÊÅØÁ±ªÂûã„ÄÇ</span></span><br></pre></td></tr></table></figure><p>Netty Â∏∏Áî®Ëß£Á†ÅÂô®Á±ªÂûãÔºö</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ByteToMessageDecoder/ReplayingDecoder <span class="comment">//Â∞ÜÂ≠óËäÇÊµÅËß£Á†Å‰∏∫Ê∂àÊÅØÂØπË±°Ôºõ</span></span><br><span class="line"></span><br><span class="line">MessageToMessageDecoder <span class="comment">//Â∞Ü‰∏ÄÁßçÊ∂àÊÅØÁ±ªÂûãËß£Á†Å‰∏∫Âè¶Â§ñ‰∏ÄÁßçÊ∂àÊÅØÁ±ªÂûã„ÄÇ</span></span><br></pre></td></tr></table></figure><p>ÁºñËß£Á†ÅÂô®ÂèØ‰ª•ÂàÜ‰∏∫<strong>‰∏ÄÊ¨°Ëß£Á†ÅÂô®</strong>Âíå<strong>‰∫åÊ¨°Ëß£Á†ÅÂô®</strong>Ôºå‰∏ÄÊ¨°Ëß£Á†ÅÂô®Áî®‰∫éËß£ÂÜ≥ <strong>TCP ÊãÜÂåÖ/Á≤òÂåÖÈóÆÈ¢ò</strong>ÔºåÊåâÂçèËÆÆËß£ÊûêÂêéÂæóÂà∞ÁöÑÂ≠óËäÇÊï∞ÊçÆ„ÄÇÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÂØπËß£ÊûêÂêéÁöÑ<strong>Â≠óËäÇÊï∞ÊçÆÂÅöÂØπË±°Ê®°Âûã</strong>ÁöÑËΩ¨Êç¢ÔºåËøôÊó∂ÂÄô‰æøÈúÄË¶ÅÁî®Âà∞‰∫åÊ¨°Ëß£Á†ÅÂô®ÔºåÂêåÁêÜÁºñÁ†ÅÂô®ÁöÑËøáÁ®ãÊòØÂèçËøáÊù•ÁöÑ„ÄÇ</p><p><strong>NettyËá™ÂÆö‰πâÂçèËÆÆÂÜÖÂÆπÔºö</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">+---------------------------------------------------------------+</span></span><br><span class="line"><span class="comment">| È≠îÊï∞ 2byte | ÂçèËÆÆÁâàÊú¨Âè∑ 1byte | Â∫èÂàóÂåñÁÆóÊ≥ï 1byte | Êä•ÊñáÁ±ªÂûã 1byte¬† |</span></span><br><span class="line"><span class="comment">+---------------------------------------------------------------+</span></span><br><span class="line"><span class="comment">| Áä∂ÊÄÅ 1byte |¬† ¬† ¬† ¬† ‰øùÁïôÂ≠óÊÆµ 4byte¬† ¬† ¬†|¬† ¬† ¬† Êï∞ÊçÆÈïøÂ∫¶ 4byte¬† ¬† ¬†|¬†</span></span><br><span class="line"><span class="comment">+---------------------------------------------------------------+</span></span><br><span class="line"><span class="comment">|¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬†Êï∞ÊçÆÂÜÖÂÆπ ÔºàÈïøÂ∫¶‰∏çÂÆöÔºâ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† |</span></span><br><span class="line"><span class="comment">+---------------------------------------------------------------+</span></span><br><span class="line"><span class="comment">¬†*/</span></span><br></pre></td></tr></table></figure><p>Â¶Ç‰ΩïÂà§Êñ≠ ByteBuf ÊòØÂê¶Â≠òÂú®ÂÆåÊï¥ÁöÑÊä•ÊñáÔºüÊúÄÂ∏∏Áî®ÁöÑÂÅöÊ≥ïÂ∞±ÊòØÈÄöËøáËØªÂèñÊ∂àÊÅØÈïøÂ∫¶ dataLength ËøõË°åÂà§Êñ≠„ÄÇÂ¶ÇÊûú ByteBuf ÁöÑÂèØËØªÊï∞ÊçÆÈïøÂ∫¶Â∞è‰∫é dataLengthÔºåËØ¥Êòé ByteBuf Ëøò‰∏çÂ§üËé∑Âèñ‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÊä•Êñá„ÄÇ</p><h4 id="5„ÄÅWriteAndFlush"><a href="#5„ÄÅWriteAndFlush" class="headerlink" title="5„ÄÅWriteAndFlush"></a>5„ÄÅWriteAndFlush</h4><p>‚Äã        <img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6iqnas8fj31400lkaj2.jpg" alt="image-20210504172303465" style="zoom:50%;"></p><p>‚Äã    ‚ë†writeAndFlush Â±û‰∫éÂá∫Á´ôÊìç‰ΩúÔºåÂÆÉÊòØ‰ªé Pipeline ÁöÑ Tail ËäÇÁÇπÂºÄÂßãËøõË°å‰∫ã‰ª∂‰º†Êí≠Ôºå‰∏ÄÁõ¥ÂêëÂâç‰º†Êí≠Âà∞ Head ËäÇÁÇπ„ÄÇ‰∏çÁÆ°Âú® write ËøòÊòØ flush ËøáÁ®ãÔºåHead ËäÇÁÇπÈÉΩ‰∏≠ÊâÆÊºîÁùÄÈáçË¶ÅÁöÑËßíËâ≤„ÄÇ</p><p>‚Äã    ‚ë°write ÊñπÊ≥ïÂπ∂Ê≤°ÊúâÂ∞ÜÊï∞ÊçÆÂÜôÂÖ• Socket ÁºìÂÜ≤Âå∫ÔºåÂè™ÊòØÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Âà∞ ChannelOutboundBuffer ÁºìÂ≠ò‰∏≠ÔºåChannelOutboundBuffer ÁºìÂ≠òÂÜÖÈÉ®ÊòØÁî±ÂçïÂêëÈìæË°®ÂÆûÁé∞ÁöÑ„ÄÇ</p><p>‚Äã    ‚ë¢flush ÊñπÊ≥ïÊâçÊúÄÁªàÂ∞ÜÊï∞ÊçÆÂÜôÂÖ•Âà∞ Socket ÁºìÂÜ≤Âå∫„ÄÇ</p><h3 id="ÂÜÖÂ≠òÁÆ°ÁêÜ"><a href="#ÂÜÖÂ≠òÁÆ°ÁêÜ" class="headerlink" title="ÂÜÖÂ≠òÁÆ°ÁêÜ"></a>ÂÜÖÂ≠òÁÆ°ÁêÜ</h3><h4 id="1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò"><a href="#1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò" class="headerlink" title="1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò"></a>1„ÄÅÂ†ÜÂ§ñÂÜÖÂ≠ò</h4><p>‚Äã    Âú® Java ‰∏≠ÂØπË±°ÈÉΩÊòØÂú®Â†ÜÂÜÖÂàÜÈÖçÁöÑÔºåÈÄöÂ∏∏Êàë‰ª¨ËØ¥ÁöÑ<strong>JVM ÂÜÖÂ≠ò</strong>‰πüÂ∞±ÊåáÁöÑ<strong>Â†ÜÂÜÖÂÜÖÂ≠ò</strong>Ôºå<strong>Â†ÜÂÜÖÂÜÖÂ≠ò</strong>ÂÆåÂÖ®Ë¢´<strong>JVM ËôöÊãüÊú∫</strong>ÊâÄÁÆ°ÁêÜÔºåJVM ÊúâËá™Â∑±ÁöÑÂûÉÂúæÂõûÊî∂ÁÆóÊ≥ïÔºåÂØπ‰∫é‰ΩøÁî®ËÄÖÊù•ËØ¥‰∏çÂøÖÂÖ≥ÂøÉÂØπË±°ÁöÑÂÜÖÂ≠òÂ¶Ç‰ΩïÂõûÊî∂„ÄÇ<strong>Â†ÜÂ§ñÂÜÖÂ≠ò</strong>‰∏éÂ†ÜÂÜÖÂÜÖÂ≠òÁõ∏ÂØπÂ∫îÔºåÂØπ‰∫éÊï¥‰∏™Êú∫Âô®ÂÜÖÂ≠òËÄåË®ÄÔºåÈô§<strong>Â†ÜÂÜÖÂÜÖÂ≠ò‰ª•Â§ñÈÉ®ÂàÜÂç≥‰∏∫Â†ÜÂ§ñÂÜÖÂ≠ò</strong>„ÄÇÂ†ÜÂ§ñÂÜÖÂ≠ò‰∏çÂèó JVM ËôöÊãüÊú∫ÁÆ°ÁêÜÔºåÁõ¥Êé•Áî±Êìç‰ΩúÁ≥ªÁªüÁÆ°ÁêÜ„ÄÇ‰ΩøÁî®Â†ÜÂ§ñÂÜÖÂ≠òÊúâÂ¶Ç‰∏ãÂá†‰∏™‰ºòÁÇπÔºö</p><ol><li>Â†ÜÂÜÖÂÜÖÂ≠òÁî± JVM GC Ëá™Âä®ÂõûÊî∂ÂÜÖÂ≠òÔºåÈôç‰Ωé‰∫Ü Java Áî®Êà∑ÁöÑ‰ΩøÁî®ÂøÉÊô∫ÔºåÂ†ÜÂ§ñÂÜÖÂ≠òÁî±‰∫é‰∏çÂèó JVM ÁÆ°ÁêÜÔºåÊâÄ‰ª•Âú®‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÂèØ‰ª•Èôç‰Ωé GC ÂØπÂ∫îÁî®ËøêË°åÊó∂Â∏¶Êù•ÁöÑÂΩ±Âìç„ÄÇ</li><li>Â†ÜÂ§ñÂÜÖÂ≠òÈúÄË¶ÅÊâãÂä®ÈáäÊîæÔºåËøô‰∏ÄÁÇπË∑ü C/C++ ÂæàÂÉèÔºåÁ®çÊúâ‰∏çÊÖéÂ∞±‰ºöÈÄ†ÊàêÂ∫îÁî®Á®ãÂ∫èÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂΩìÂá∫Áé∞ÂÜÖÂ≠òÊ≥ÑÊºèÈóÆÈ¢òÊó∂ÊéíÊü•Ëµ∑Êù•‰ºöÁõ∏ÂØπÂõ∞Èöæ„ÄÇ</li><li>ÂΩìËøõË°åÁΩëÁªú I/O Êìç‰Ωú„ÄÅÊñá‰ª∂ËØªÂÜôÊó∂ÔºåÂ†ÜÂÜÖÂÜÖÂ≠òÈÉΩÈúÄË¶ÅËΩ¨Êç¢‰∏∫Â†ÜÂ§ñÂÜÖÂ≠òÔºåÁÑ∂ÂêéÂÜç‰∏éÂ∫ïÂ±ÇËÆæÂ§áËøõË°å‰∫§‰∫íÔºåÊâÄ‰ª•Áõ¥Êé•‰ΩøÁî®Â†ÜÂ§ñÂÜÖÂ≠òÂèØ‰ª•ÂáèÂ∞ë‰∏ÄÊ¨°ÂÜÖÂ≠òÊã∑Ë¥ù„ÄÇ</li><li>Â†ÜÂ§ñÂÜÖÂ≠òÂèØ‰ª•Êñπ‰æøÂÆûÁé∞ËøõÁ®ã‰πãÈó¥„ÄÅJVM Â§öÂÆû‰æã‰πãÈó¥ÁöÑÊï∞ÊçÆÂÖ±‰∫´„ÄÇ</li></ol><p>‚Äã    Âú®Â†ÜÂÜÖÂ≠òÊîæÁöÑ DirectByteBuffer ÂØπË±°Âπ∂‰∏çÂ§ßÔºå‰ªÖ‰ªÖÂåÖÂê´Â†ÜÂ§ñÂÜÖÂ≠òÁöÑÂú∞ÂùÄ„ÄÅÂ§ßÂ∞èÁ≠âÂ±ûÊÄßÔºåÂêåÊó∂Ëøò‰ºöÂàõÂª∫ÂØπÂ∫îÁöÑ Cleaner ÂØπË±°ÔºåÈÄöËøá ByteBuffer ÂàÜÈÖçÁöÑÂ†ÜÂ§ñÂÜÖÂ≠ò‰∏çÈúÄË¶ÅÊâãÂä®ÂõûÊî∂ÔºåÂÆÉÂèØ‰ª•Ë¢´ JVM Ëá™Âä®ÂõûÊî∂„ÄÇÂΩìÂ†ÜÂÜÖÁöÑ DirectByteBuffer ÂØπË±°Ë¢´ GC ÂõûÊî∂Êó∂ÔºåCleaner Â∞±‰ºöÁî®‰∫éÂõûÊî∂ÂØπÂ∫îÁöÑÂ†ÜÂ§ñÂÜÖÂ≠ò„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ir0d0cmj30qw0hw41z.jpg" alt="image-20210504172324820" style="zoom:50%;"></p><p>‚Äã    ‰ªé DirectByteBuffer ÁöÑÊûÑÈÄ†ÂáΩÊï∞‰∏≠ÂèØ‰ª•ÁúãÂá∫ÔºåÁúüÊ≠£ÂàÜÈÖçÂ†ÜÂ§ñÂÜÖÂ≠òÁöÑÈÄªËæëËøòÊòØÈÄöËøá unsafe.allocateMemory(size)ÔºåUnsafe ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏‰∏çÂÆâÂÖ®ÁöÑÁ±ªÔºåÂÆÉÁî®‰∫éÊâßË°åÂÜÖÂ≠òËÆøÈóÆ„ÄÅÂàÜÈÖç„ÄÅ‰øÆÊîπÁ≠â<strong>ÊïèÊÑüÊìç‰Ωú</strong>ÔºåÂèØ‰ª•Ë∂äËøá JVM ÈôêÂà∂ÁöÑÊû∑ÈîÅ„ÄÇUnsafe ÊúÄÂàùÂπ∂‰∏çÊòØ‰∏∫ÂºÄÂèëËÄÖËÆæËÆ°ÁöÑÔºå‰ΩøÁî®ÂÆÉÊó∂ËôΩÁÑ∂ÂèØ‰ª•Ëé∑ÂèñÂØπÂ∫ïÂ±ÇËµÑÊ∫êÁöÑÊéßÂà∂ÊùÉÔºå‰ΩÜ‰πüÂ§±Âéª‰∫ÜÂÆâÂÖ®ÊÄßÁöÑ‰øùËØÅÔºå‰ΩøÁî® Unsafe ‰∏ÄÂÆöË¶ÅÊÖéÈáçÔºàJava ‰∏≠ÊòØ‰∏çËÉΩÁõ¥Êé•‰ΩøÁî® Unsafe ÁöÑÔºå‰ΩÜÊòØÂèØ‰ª•ÈÄöËøáÂèçÂ∞ÑËé∑Âèñ Unsafe ÂÆû‰æãÔºâ„ÄÇNetty ‰∏≠‰æùËµñ‰∫Ü Unsafe Â∑•ÂÖ∑Á±ªÔºåÊòØÂõ†‰∏∫ Netty ÈúÄË¶Å‰∏éÂ∫ïÂ±Ç Socket ËøõË°å‰∫§‰∫íÔºåUnsafe ÊèêÂçá Netty ÁöÑÊÄßËÉΩ</p><p>‚Äã     Âõ†‰∏∫DirectByteBuffer ÂØπË±°ÁöÑÂõûÊî∂ÈúÄË¶Å‰æùËµñ Old GC ÊàñËÄÖ Full GC ÊâçËÉΩËß¶ÂèëÊ∏ÖÁêÜÔºåÂ¶ÇÊûúÈïøÊó∂Èó¥Ê≤°Êúâ GCÊâßË°åÔºåÈÇ£‰πàÂ†ÜÂ§ñÂÜÖÂ≠òÂç≥‰Ωø‰∏çÂÜç‰ΩøÁî®Ôºå‰πü‰ºö‰∏ÄÁõ¥Âú®Âç†Áî®ÂÜÖÂ≠ò‰∏çÈáäÊîæÔºåÂæàÂÆπÊòìÂ∞ÜÊú∫Âô®ÁöÑÁâ©ÁêÜÂÜÖÂ≠òËÄóÂ∞Ω„ÄÇ-XX:MaxDirectMemorySize ÊåáÂÆöÂ†ÜÂ§ñÂÜÖÂ≠òÁöÑ‰∏äÈôêÂ§ßÂ∞èÔºåË∂ÖÂá∫Êó∂Ëß¶ÂèëGCÔºå‰ªçÊó†Ê≥ïÈáäÊîæÊäõÂá∫OOMÂºÇÂ∏∏„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ir0d0cmj30qw0hw41z.jpg" alt="image-20210504172324820" style="zoom:50%;"></p><p>‚Äã    ÂΩìÂàùÂßãÂåñÂ†ÜÂ§ñÂÜÖÂ≠òÊó∂ÔºåÂÜÖÂ≠ò‰∏≠ÁöÑÂØπË±°ÂºïÁî®ÊÉÖÂÜµÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºåfirst ÊòØ Cleaner Á±ª‰∏≠ÁöÑÈùôÊÄÅÂèòÈáèÔºåCleaner ÂØπË±°Âú®ÂàùÂßãÂåñÊó∂‰ºöÂä†ÂÖ• Cleaner ÈìæË°®‰∏≠„ÄÇDirectByteBuffer ÂØπË±°ÂåÖÂê´Â†ÜÂ§ñÂÜÖÂ≠òÁöÑÂú∞ÂùÄ„ÄÅÂ§ßÂ∞è‰ª•Âèä Cleaner ÂØπË±°ÁöÑÂºïÁî®ÔºåReferenceQueue Áî®‰∫é‰øùÂ≠òÈúÄË¶ÅÂõûÊî∂ÁöÑ Cleaner ÂØπË±°„ÄÇ</p><p>‚Äã</p><h4 id="2„ÄÅÊï∞ÊçÆËΩΩ‰ΩìByteBuf"><a href="#2„ÄÅÊï∞ÊçÆËΩΩ‰ΩìByteBuf" class="headerlink" title="2„ÄÅÊï∞ÊçÆËΩΩ‰ΩìByteBuf"></a>2„ÄÅ<strong>Êï∞ÊçÆËΩΩ‰ΩìByteBuf</strong></h4><p>JDK NIO ÁöÑ <strong>ByteBuffer</strong></p><ul><li>markÔºö‰∏∫Êüê‰∏™ËØªÂèñËøáÁöÑÂÖ≥ÈîÆ‰ΩçÁΩÆÂÅöÊ†áËÆ∞ÔºåÊñπ‰æøÂõûÈÄÄÂà∞ËØ•‰ΩçÁΩÆÔºõ</li><li>positionÔºöÂΩìÂâçËØªÂèñÁöÑ‰ΩçÁΩÆÔºõ</li><li>limitÔºöbuffer ‰∏≠ÊúâÊïàÁöÑÊï∞ÊçÆÈïøÂ∫¶Â§ßÂ∞èÔºõ</li><li>capacityÔºöÂàùÂßãÂåñÊó∂ÁöÑÁ©∫Èó¥ÂÆπÈáè„ÄÇ</li></ul><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6irlptv0j30z408wabn.jpg" alt="image-20210504172358702" style="zoom:50%;"></p><p>‚Äã    Á¨¨‰∏ÄÔºåByteBuffer ÂàÜÈÖçÁöÑÈïøÂ∫¶ÊòØÂõ∫ÂÆöÁöÑÔºåÊó†Ê≥ïÂä®ÊÄÅÊâ©Áº©ÂÆπÔºåÊØèÊ¨°Âú®Â≠òÊîæÊï∞ÊçÆÁöÑÊó∂ÂÄôÂØπÂÆπÈáèÂ§ßÂ∞èÂÅöÊ†°È™åÔºåÊâ©ÂÆπÈúÄË¶ÅÂ∞ÜÂ∑≤ÊúâÁöÑÊï∞ÊçÆËøÅÁßª„ÄÇ</p><p>‚Äã    Á¨¨‰∫åÔºåByteBuffer Âè™ËÉΩÈÄöËøá position Ëé∑ÂèñÂΩìÂâçÂèØÊìç‰ΩúÁöÑ‰ΩçÁΩÆÔºåÂõ†‰∏∫ËØªÂÜôÂÖ±Áî®ÁöÑ position ÊåáÈíàÔºåÊâÄ‰ª•ÈúÄË¶ÅÈ¢ëÁπÅË∞ÉÁî® flip„ÄÅrewind ÊñπÊ≥ïÂàáÊç¢ËØªÂÜôÁä∂ÊÄÅ„ÄÇ</p><p>Netty‰∏≠ÁöÑByteBuf</p><ul><li><strong>Â∫üÂºÉÂ≠óËäÇ</strong>ÔºåË°®Á§∫Â∑≤Áªè‰∏¢ÂºÉÁöÑÊó†ÊïàÂ≠óËäÇÊï∞ÊçÆ„ÄÇ</li><li><strong>ÂèØËØªÂ≠óËäÇ</strong>ÔºåË°®Á§∫ ByteBuf ‰∏≠ÂèØ‰ª•Ë¢´ËØªÂèñÁöÑÂ≠óËäÇÂÜÖÂÆπÔºåÂèØ‰ª•ÈÄöËøá writeIndex - readerIndex ËÆ°ÁÆóÂæóÂá∫„ÄÇÂΩìËØªÂÜô‰ΩçÁΩÆÈáçÂè†Êó∂Êó∂ÔºåË°®Á§∫ ByteBuf Â∑≤Áªè‰∏çÂèØËØª„ÄÇ</li><li><strong>ÂèØÂÜôÂ≠óËäÇ</strong>ÔºåÂêë ByteBuf ‰∏≠ÂÜôÂÖ•Êï∞ÊçÆÈÉΩ‰ºöÂ≠òÂÇ®Âà∞ÂèØÂÜôÂ≠óËäÇÂå∫Âüü„ÄÇÂΩì writeIndex Ë∂ÖËøá capacityÔºåË°®Á§∫ ByteBuf ÂÆπÈáè‰∏çË∂≥ÔºåÈúÄË¶ÅÊâ©ÂÆπ„ÄÇ</li><li><strong>ÂèØÊâ©ÂÆπÂ≠óËäÇ</strong>ÔºåË°®Á§∫ ByteBuf ÊúÄÂ§öËøòÂèØ‰ª•Êâ©ÂÆπÂ§öÂ∞ëÂ≠óËäÇÔºåÊúÄÂ§öÊâ©ÂÆπÂà∞ maxCapacity ‰∏∫Ê≠¢ÔºåË∂ÖËøá maxCapacity ÂÜçÂÜôÂÖ•Â∞±‰ºöÂá∫Èîô„ÄÇ</li></ul><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j1t85zuj31020ds42m.jpg" alt="image-20210504173347000" style="zoom:50%;"></p><p><strong>ÂºïÁî®ËÆ°Êï∞</strong></p><p>‚Äã    ÂΩìbyteBufÂΩìÂºïÁî®ËÆ°Êï∞‰∏∫ 0ÔºåËØ• ByteBuf ÂèØ‰ª•Ë¢´ÊîæÂÖ•Âà∞ÂØπË±°Ê±†‰∏≠ÔºåÈÅøÂÖçÊØèÊ¨°‰ΩøÁî® ByteBuf ÈÉΩÈáçÂ§çÂàõÂª∫„ÄÇ</p><p>‚Äã    JVM Âπ∂‰∏çÁü•ÈÅì Netty ÁöÑÂºïÁî®ËÆ°Êï∞ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºåÂΩì ByteBuf ÂØπË±°‰∏çÂèØËææÊó∂Ôºå‰∏ÄÊ†∑‰ºöË¢´ GC ÂõûÊî∂ÊéâÔºå‰ΩÜÊòØÂ¶ÇÊûúÊ≠§Êó∂ ByteBuf ÁöÑÂºïÁî®ËÆ°Êï∞‰∏ç‰∏∫ 0ÔºåÈÇ£‰πàËØ•ÂØπË±°Â∞±‰∏ç‰ºöÈáäÊîæÊàñËÄÖË¢´ÊîæÂÖ•ÂØπË±°Ê±†Ôºå‰ªéËÄåÂèëÁîü‰∫ÜÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇNetty ‰ºöÂØπÂàÜÈÖçÁöÑ ByteBuf ËøõË°åÊäΩÊ†∑ÂàÜÊûêÔºåÊ£ÄÊµã ByteBuf ÊòØÂê¶Â∑≤Áªè‰∏çÂèØËææ‰∏îÂºïÁî®ËÆ°Êï∞Â§ß‰∫é 0ÔºåÂà§ÂÆöÂÜÖÂ≠òÊ≥ÑÊºèÁöÑ‰ΩçÁΩÆÂπ∂ËæìÂá∫Âà∞Êó•Âøó‰∏≠Ôºå<strong>ÈÄöËøáÂÖ≥Ê≥®Êó•Âøó‰∏≠ LEAK ÂÖ≥ÈîÆÂ≠óÂèØ‰ª•ÊâæÂà∞ÂÜÖÂ≠òÊ≥ÑÊºèÁöÑÂÖ∑‰ΩìÂØπË±°</strong>„ÄÇ</p><h4 id="3„ÄÅÂÜÖÂ≠òÂàÜÈÖçjemalloc"><a href="#3„ÄÅÂÜÖÂ≠òÂàÜÈÖçjemalloc" class="headerlink" title="3„ÄÅÂÜÖÂ≠òÂàÜÈÖçjemalloc"></a>3„ÄÅ<strong>ÂÜÖÂ≠òÂàÜÈÖçjemalloc</strong></h4><p>‚Äã    ‰∏∫‰∫ÜÂáèÂ∞ëÂàÜÈÖçÊó∂‰∫ßÁîüÁöÑÂÜÖÈÉ®Á¢éÁâáÂíåÂ§ñÈÉ®Á¢éÁâáÔºåÂ∏∏ËßÅÁöÑÂÜÖÂ≠òÂàÜÈÖçÁÆóÊ≥ï<strong>Âä®ÊÄÅÂÜÖÂ≠òÂàÜÈÖç</strong>„ÄÅ<strong>‰ºô‰º¥ÁÆóÊ≥ï</strong>Âíå<strong>Slab ÁÆóÊ≥ï</strong></p><p><strong>Âä®ÊÄÅÂÜÖÂ≠òÂàÜÈÖçÔºàDMAÔºâ</strong></p><p>‚Äã    <strong>‚æ∏Ê¨°ÈÄÇÂ∫îÁÆóÊ≥ïÔºàfirst fitÔºâ</strong>ÔºåÁ©∫Èó≤ÂàÜÂå∫Èìæ‰ª•Âú∞ÂùÄÈÄíÂ¢ûÁöÑÈ°∫Â∫èÂ∞ÜÁ©∫Èó≤ÂàÜÂå∫‰ª•ÂèåÂêëÈìæË°®ÁöÑÂΩ¢ÂºèËøûÊé•Âú®‰∏ÄËµ∑Ôºå‰ªéÁ©∫Èó≤ÂàÜÂå∫Èìæ‰∏≠ÊâæÂà∞Á¨¨‰∏Ä‰∏™Êª°Ë∂≥ÂàÜÈÖçÊù°‰ª∂ÁöÑÁ©∫Èó≤ÂàÜÂå∫ÔºåÁÑ∂Âêé‰ªéÁ©∫Èó≤ÂàÜÂå∫‰∏≠ÂàíÂàÜÂá∫‰∏ÄÂùóÂèØÁî®ÂÜÖÂ≠òÁªôËØ∑Ê±ÇËøõÁ®ãÔºåÂâ©‰ΩôÁöÑÁ©∫Èó≤ÂàÜÂå∫‰ªçÁÑ∂‰øùÁïôÂú®Á©∫Èó≤ÂàÜÂå∫Èìæ‰∏≠„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j26fh88j30ni0ea41c.jpg" alt="image-20210504173407923" style="zoom:50%;"></p><p>‚Äã    <strong>Âæ™ÁéØÈ¶ñÊ¨°ÈÄÇÂ∫îÁÆóÊ≥ïÔºànext fitÔºâ</strong>‰∏çÂÜçÊòØÊØèÊ¨°‰ªéÈìæË°®ÁöÑÂºÄÂßãËøõË°åÊü•ÊâæÔºåËÄåÊòØ‰ªé‰∏äÊ¨°ÊâæÂà∞ÁöÑÁ©∫Èó≤ÂàÜÂå∫ÁöÑ‰ª•ÂêéÂºÄÂßãÊü•Êâæ„ÄÇÊü•ÊâæÊïàÁéáÊèêÂçáÔºå‰ºö‰∫ßÁîüÊõ¥Â§öÁöÑÁ¢éÁâá„ÄÇ</p><p>‚Äã    <strong>ÊúÄ‰Ω≥ÈÄÇÂ∫îÁÆóÊ≥ïÔºàbest fitÔºâ</strong>ÔºåÁ©∫Èó≤ÂàÜÂå∫Èìæ‰ª•Á©∫Èó≤ÂàÜÂå∫Â§ßÂ∞èÈÄíÂ¢ûÁöÑÈ°∫Â∫èÂ∞ÜÁ©∫Èó≤ÂàÜÂå∫‰ª•ÂèåÂêëÈìæË°®ÁöÑÂΩ¢ÂºèËøûÊé•Âú®‰∏ÄËµ∑ÔºåÊØèÊ¨°‰ªéÁ©∫Èó≤ÂàÜÂå∫ÈìæÁöÑÂºÄÂ§¥ËøõË°åÊü•Êâæ„ÄÇ</p><p><strong>‰ºô‰º¥ÁÆóÊ≥ï</strong>ÔºàÂ§ñÈÉ®Á¢éÁâáÂ∞ëÔºåÂÜÖÈÉ®Á¢éÁâáÂ§öÔºâ</p><p>‚Äã    ÊòØ‰∏ÄÁßçÈùûÂ∏∏ÁªèÂÖ∏ÁöÑÂÜÖÂ≠òÂàÜÈÖçÁÆóÊ≥ïÔºåÂÆÉÈááÁî®‰∫Ü<strong>ÂàÜÁ¶ªÈÄÇÈÖçÁöÑËÆæËÆ°ÊÄùÊÉ≥</strong>ÔºåÂ∞ÜÁâ©ÁêÜÂÜÖÂ≠òÊåâÁÖß 2 ÁöÑÊ¨°ÂπÇËøõË°åÂàíÂàÜÔºåÂÜÖÂ≠òÂàÜÈÖçÊó∂‰πüÊòØÊåâÁÖß 2 ÁöÑÊ¨°ÂπÇÂ§ßÂ∞èËøõË°åÊåâÈúÄÂàÜÈÖç</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j2m0rr1j30ly0iugnk.jpg" alt="image-20210504173433749" style="zoom:50%;"></p><ol><li>È¶ñÂÖàÈúÄË¶ÅÊâæÂà∞Â≠òÂÇ® 2^4 ËøûÁª≠ Page ÊâÄÂØπÂ∫îÁöÑÈìæË°®ÔºåÂç≥Êï∞ÁªÑ‰∏ãÊ†á‰∏∫ 4Ôºõ</li><li>Êü•Êâæ 2^4 ÈìæË°®‰∏≠ÊòØÂê¶ÊúâÁ©∫Èó≤ÁöÑÂÜÖÂ≠òÂùóÔºåÂ¶ÇÊûúÊúâÂàôÂàÜÈÖçÊàêÂäüÔºõ</li><li>Â¶ÇÊûú 2^4 ÈìæË°®‰∏çÂ≠òÂú®Á©∫Èó≤ÁöÑÂÜÖÂ≠òÂùóÔºåÂàôÁªßÁª≠Ê≤øÊï∞ÁªÑÂêë‰∏äÊü•ÊâæÔºåÂç≥ÂÆö‰ΩçÂà∞Êï∞ÁªÑ‰∏ãÊ†á‰∏∫ 5 ÁöÑÈìæË°®ÔºåÈìæË°®‰∏≠ÊØè‰∏™ËäÇÁÇπÂ≠òÂÇ® 2^5 ÁöÑËøûÁª≠ PageÔºõ</li><li>Â¶ÇÊûú 2^5 ÈìæË°®‰∏≠Â≠òÂú®Á©∫Èó≤ÁöÑÂÜÖÂ≠òÂùóÔºåÂàôÂèñÂá∫ËØ•ÂÜÖÂ≠òÂùóÂπ∂Â∞ÜÂÆÉÂàÜÂâ≤‰∏∫ 2 ‰∏™ 2^4 Â§ßÂ∞èÁöÑÂÜÖÂ≠òÂùóÔºåÂÖ∂‰∏≠‰∏ÄÂùóÂàÜÈÖçÁªôËøõÁ®ã‰ΩøÁî®ÔºåÂâ©‰ΩôÁöÑ‰∏ÄÂùóÈìæÊé•Âà∞ 2^4 ÈìæË°®‰∏≠„ÄÇ</li></ol><p><strong>Slab ÁÆóÊ≥ïÔºàËß£ÂÜ≥‰ºô‰º¥ÁÆóÊ≥ïÂÜÖÈÉ®Á¢éÁâáÈóÆÈ¢òÔºâ</strong></p><p>‚Äã    Slab ÁÆóÊ≥ïÂú®‰ºô‰º¥ÁÆóÊ≥ïÁöÑÂü∫Á°Ä‰∏äÔºåÂØπÂ∞èÂÜÖÂ≠òÁöÑÂú∫ÊôØ‰∏ìÈó®ÂÅö‰∫Ü‰ºòÂåñÔºåÈááÁî®‰∫ÜÂÜÖÂ≠òÊ±†ÁöÑÊñπÊ°àÔºåËß£ÂÜ≥ÂÜÖÈÉ®Á¢éÁâáÈóÆÈ¢ò„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j3160yuj30rw0eo77o.jpg" alt="image-20210504173454562" style="zoom:50%;"></p><p>Âú® Slab ÁÆóÊ≥ï‰∏≠Áª¥Êä§ÁùÄÂ§ßÂ∞è‰∏çÂêåÁöÑ Slab ÈõÜÂêàÔºåÂ∞ÜËøôÂùóÂÜÖÂ≠òÂàíÂàÜ‰∏∫Â§ßÂ∞èÁõ∏ÂêåÁöÑ slotÔºå‰∏ç‰ºöÂØπÂÜÖÂ≠òÂùóÂÜçËøõË°åÂêàÂπ∂ÔºåÂêåÊó∂‰ΩøÁî®‰ΩçÂõæ bitmap ËÆ∞ÂΩïÊØè‰∏™ slot ÁöÑ‰ΩøÁî®ÊÉÖÂÜµ„ÄÇ</p><p>‚Äã    kmem_cache ‰∏≠ÂåÖÂê´‰∏â‰∏™ Slab ÈìæË°®Ôºö<strong>ÂÆåÂÖ®ÂàÜÈÖç‰ΩøÁî® slab_full</strong>„ÄÅ<strong>ÈÉ®ÂàÜÂàÜÈÖç‰ΩøÁî® slab_partial</strong>Âíå<strong>ÂÆåÂÖ®Á©∫Èó≤ slabs_empty</strong>ÔºåËøô‰∏â‰∏™ÈìæË°®Ë¥üË¥£ÂÜÖÂ≠òÁöÑÂàÜÈÖçÂíåÈáäÊîæ„ÄÇSlab ÁÆóÊ≥ïÊòØÂü∫‰∫éÂØπË±°ËøõË°åÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÔºåÂÆÉÊääÁõ∏ÂêåÁ±ªÂûãÁöÑÂØπË±°ÂàÜ‰∏∫‰∏ÄÁ±ª„ÄÇÂΩìÂàÜÈÖçÂÜÖÂ≠òÊó∂Ôºå‰ªé Slab ÈìæË°®‰∏≠ÂàíÂàÜÁõ∏Â∫îÁöÑÂÜÖÂ≠òÂçïÂÖÉÔºõÂçï‰∏™ Slab ÂèØ‰ª•Âú®‰∏çÂêåÁöÑÈìæË°®‰πãÈó¥ÁßªÂä®Ôºå‰æãÂ¶ÇÂΩì‰∏Ä‰∏™ Slab Ë¢´ÂàÜÈÖçÂÆåÔºåÂ∞±‰ºö‰ªé slab_partial ÁßªÂä®Âà∞ slabs_fullÔºåÂΩì‰∏Ä‰∏™ Slab ‰∏≠ÊúâÂØπË±°Ë¢´ÈáäÊîæÂêéÔºåÂ∞±‰ºö‰ªé slab_full ÂÜçÊ¨°ÂõûÂà∞ slab_partialÔºåÊâÄÊúâÂØπË±°ÈÉΩË¢´ÈáäÊîæÂÆåÁöÑËØùÔºåÂ∞±‰ºö‰ªé slab_partial ÁßªÂä®Âà∞ slab_empty„ÄÇÂΩì<strong>ÈáäÊîæÂÜÖÂ≠òÊó∂ÔºåSlab ÁÆóÊ≥ïÂπ∂‰∏ç‰ºö‰∏¢ÂºÉÂ∑≤ÁªèÂàÜÈÖçÁöÑÂØπË±°ÔºåËÄåÊòØÂ∞ÜÂÆÉ‰øùÂ≠òÂú®ÁºìÂ≠ò‰∏≠ÔºåÂΩì‰∏ãÊ¨°ÂÜç‰∏∫ÂØπË±°ÂàÜÈÖçÂÜÖÂ≠òÊó∂ÔºåÁõ¥Êé•‰ºö‰ΩøÁî®ÊúÄËøëÈáäÊîæÁöÑÂÜÖÂ≠òÂùó</strong>„ÄÇ</p><h4 id="4„ÄÅjemalloc-Êû∂ÊûÑ"><a href="#4„ÄÅjemalloc-Êû∂ÊûÑ" class="headerlink" title="4„ÄÅjemalloc Êû∂ÊûÑ"></a>4„ÄÅjemalloc Êû∂ÊûÑ</h4><ul><li>ÂÜÖÂ≠òÊòØÁî±‰∏ÄÂÆöÊï∞ÈáèÁöÑ arenas Ë¥üË¥£ÁÆ°ÁêÜÔºåÁ∫øÁ®ãÂùáÂåÄÂàÜÂ∏ÉÂú® arenas ÂΩì‰∏≠Ôºõ</li><li>ÊØè‰∏™ arena ÈÉΩÂåÖÂê´‰∏Ä‰∏™ bin Êï∞ÁªÑÔºåÊØè‰∏™ bin ÁÆ°ÁêÜ‰∏çÂêåÊ°£‰ΩçÁöÑÂÜÖÂ≠òÂùóÔºõ</li><li>ÊØè‰∏™ arena Ë¢´ÂàíÂàÜ‰∏∫Ëã•Âπ≤‰∏™ chunksÔºåÊØè‰∏™ chunk ÂèàÂåÖÂê´Ëã•Âπ≤‰∏™ runsÔºåÊØè‰∏™ run Áî±ËøûÁª≠ÁöÑ Page ÁªÑÊàêÔºårun ÊâçÊòØÂÆûÈôÖÂàÜÈÖçÂÜÖÂ≠òÁöÑÊìç‰ΩúÂØπË±°Ôºõ</li><li>ÊØè‰∏™ run ‰ºöË¢´ÂàíÂàÜ‰∏∫‰∏ÄÂÆöÊï∞ÈáèÁöÑ regionsÔºåÂú®Â∞èÂÜÖÂ≠òÁöÑÂàÜÈÖçÂú∫ÊôØÔºåregion Áõ∏ÂΩì‰∫éÁî®Êà∑ÂÜÖÂ≠òÔºõ</li><li>ÊØè‰∏™ tcache ÂØπÂ∫î‰∏Ä‰∏™ arenaÔºåtcache ‰∏≠ÂåÖÂê´Â§öÁßçÁ±ªÂûãÁöÑ bin„ÄÇ</li></ul><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j3160yuj30rw0eo77o.jpg" alt="image-20210504173454562" style="zoom:50%;"></p><p><strong>ÂÜÖÂ≠òÁÆ°ÁêÜArena</strong> ÔºåÂÜÖÂ≠òÁî±‰∏ÄÂÆöÊï∞ÈáèÁöÑ arenas Ë¥üË¥£ÁÆ°ÁêÜ„ÄÇÊØè‰∏™Áî®Êà∑Á∫øÁ®ãÈááÁî® round-robin ËΩÆËØ¢ÁöÑÊñπÂºèÈÄâÊã©ÂèØÁî®ÁöÑ arena ËøõË°åÂÜÖÂ≠òÂàÜÈÖç„ÄÇ</p><p><strong>ÂàÜÁ∫ßÁÆ°ÁêÜBin</strong>ÔºåÊØè‰∏™ bin ÁÆ°ÁêÜÁöÑÂÜÖÂ≠òÂ§ßÂ∞èÊòØÊåâÂàÜÁ±ª‰æùÊ¨°ÈÄíÂ¢û„ÄÇ<strong>jemalloc ‰∏≠Â∞èÂÜÖÂ≠òÁöÑÂàÜÈÖçÊòØÂü∫‰∫é Slab ÁÆóÊ≥ï</strong>ÂÆåÊàêÁöÑÔºå‰ºö‰∫ßÁîü‰∏çÂêåÁ±ªÂà´ÁöÑÂÜÖÂ≠òÂùó„ÄÇ</p><p><strong>PageÈõÜÂêàchunk</strong>Ôºåchunk ‰ª• Page ‰∏∫Âçï‰ΩçÁÆ°ÁêÜÂÜÖÂ≠ò„ÄÇÊØè‰∏™ chunk ÂèØË¢´Áî®‰∫éÂ§öÊ¨°Â∞èÂÜÖÂ≠òÁöÑÁî≥ËØ∑Ôºå‰ΩÜÊòØÂú®Â§ßÂÜÖÂ≠òÂàÜÈÖçÁöÑÂú∫ÊôØ‰∏ãÂè™ËÉΩÂàÜÈÖç‰∏ÄÊ¨°„ÄÇ</p><p><strong>ÂÆûÈôÖÂàÜÈÖçÂçï‰Ωçrun</strong>Ôºårun ÁªìÊûÑÂÖ∑‰ΩìÁöÑÂ§ßÂ∞èÁî±‰∏çÂêåÁöÑ bin ÂÜ≥ÂÆöÔºå‰æãÂ¶Ç 8 Â≠óËäÇÁöÑ bin ÂØπÂ∫îÁöÑ run Âè™Êúâ‰∏Ä‰∏™ PageÔºåÂèØ‰ª•‰ªé‰∏≠ÈÄâÂèñ 8 Â≠óËäÇÁöÑÂùóËøõË°åÂàÜÈÖç„ÄÇ</p><p><strong>run ÁªÜÂàÜregion</strong>ÔºåÊØè‰∏™ run ‰ºöÂ∞ÜÂàíÂàÜ‰∏∫Ëã•Âπ≤‰∏™Á≠âÈïøÁöÑ regionÔºåÊØèÊ¨°ÂÜÖÂ≠òÂàÜÈÖç‰πüÊòØÊåâÁÖß region ËøõË°åÂàÜÂèë„ÄÇ</p><p><strong>tcache ÊòØÊØè‰∏™Á∫øÁ®ãÁßÅÊúâÁöÑÁºìÂ≠ò</strong>Ôºåtcache ÊØèÊ¨°‰ªé arena Áî≥ËØ∑‰∏ÄÊâπÂÜÖÂ≠òÔºåÂú®ÂàÜÈÖçÂÜÖÂ≠òÊó∂È¶ñÂÖàÂú® tcache Êü•ÊâæÔºåÈÅøÂÖçÈîÅÁ´û‰∫âÔºåÂàÜÈÖçÂ§±Ë¥•Êâç‰ºöÈÄöËøá run ÊâßË°åÂÜÖÂ≠òÂàÜÈÖç„ÄÇ</p><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/008i3skNly1gx2u1jn9b3j31e80hqjt5.jpg" alt="image-20211205121406792" title class>                <p>image-20211205121406792</p>            </figure><p>Small Âú∫ÊôØÔºåÂ¶ÇÊûúËØ∑Ê±ÇÂàÜÈÖçÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÂ∞è‰∫é arena ‰∏≠ÁöÑÊúÄÂ∞èÁöÑ binÔºåÈÇ£‰πà‰ºòÂÖà‰ªéÁ∫øÁ®ã‰∏≠ÂØπÂ∫îÁöÑ tcache ‰∏≠ËøõË°åÂàÜÈÖç„ÄÇÈ¶ñÂÖàÁ°ÆÂÆöÊü•ÊâæÂØπÂ∫îÁöÑ tbin ‰∏≠ÊòØÂê¶Â≠òÂú®ÁºìÂ≠òÁöÑÂÜÖÂ≠òÂùóÔºåÂ¶ÇÊûúÂ≠òÂú®ÂàôÂàÜÈÖçÊàêÂäüÔºåÂê¶ÂàôÊâæÂà∞ tbin ÂØπÂ∫îÁöÑ arenaÔºå‰ªé arena ‰∏≠ÂØπÂ∫îÁöÑ bin ‰∏≠ÂàÜÈÖç region ‰øùÂ≠òÂú® tbin ÁöÑ avail Êï∞ÁªÑ‰∏≠ÔºåÊúÄÁªà‰ªé availl Êï∞ÁªÑ‰∏≠ÈÄâÂèñ‰∏Ä‰∏™Âú∞ÂùÄËøõË°åÂÜÖÂ≠òÂàÜÈÖçÔºåÂΩìÂÜÖÂ≠òÈáäÊîæÊó∂‰πü‰ºöÂ∞ÜË¢´ÂõûÊî∂ÁöÑÂÜÖÂ≠òÂùóËøõË°åÁºìÂ≠ò„ÄÇ</p><p>Large Âú∫ÊôØÁöÑÂÜÖÂ≠òÂàÜÈÖç‰∏é Smalll Á±ª‰ººÔºåÂ¶ÇÊûúËØ∑Ê±ÇÂàÜÈÖçÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÂ§ß‰∫é arena ‰∏≠ÁöÑÊúÄÂ∞èÁöÑ binÔºå‰ΩÜÊòØ‰∏çÂ§ß‰∫é tcache ‰∏≠ËÉΩÂ§üÁºìÂ≠òÁöÑÊúÄÂ§ßÂùóÔºå‰æùÁÑ∂‰ºöÈÄöËøá tcache ËøõË°åÂàÜÈÖçÔºå‰ΩÜÊòØ‰∏çÂêåÁöÑÊòØÊ≠§Êó∂‰ºöÂàÜÈÖç chunk ‰ª•ÂèäÊâÄÂØπÂ∫îÁöÑ runÔºå‰ªé chunk ‰∏≠ÊâæÂà∞Áõ∏Â∫îÁöÑÂÜÖÂ≠òÁ©∫Èó¥ËøõË°åÂàÜÈÖç„ÄÇÂÜÖÂ≠òÈáäÊîæÊó∂‰πüË∑ü samll Âú∫ÊôØÁ±ª‰ººÔºå‰ºöÊääÈáäÊîæÁöÑÂÜÖÂ≠òÂùóÁºìÂ≠òÂú® tacache ÁöÑ tbin ‰∏≠„ÄÇÊ≠§Â§ñËøòÊúâ‰∏ÄÁßçÊÉÖÂÜµÔºåÂΩìËØ∑Ê±ÇÂàÜÈÖçÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÂ§ß‰∫étcache ‰∏≠ËÉΩÂ§üÁºìÂ≠òÁöÑÊúÄÂ§ßÂùóÔºå‰ΩÜÊòØ‰∏çÂ§ß‰∫é chunk ÁöÑÂ§ßÂ∞èÔºåÈÇ£‰πàÂ∞Ü‰∏ç‰ºöÈááÁî® tcache Êú∫Âà∂ÔºåÁõ¥Êé•Âú® chunk ‰∏≠ËøõË°åÂÜÖÂ≠òÂàÜÈÖç„ÄÇ</p><p>Huge Âú∫ÊôØÔºåÂ¶ÇÊûúËØ∑Ê±ÇÂàÜÈÖçÂÜÖÂ≠òÁöÑÂ§ßÂ∞èÂ§ß‰∫é chunk ÁöÑÂ§ßÂ∞èÔºåÈÇ£‰πàÁõ¥Êé•ÈÄöËøá mmap ËøõË°åÂàÜÈÖçÔºåË∞ÉÁî® munmap ËøõË°åÂõûÊî∂„ÄÇ</p><h4 id="5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ"><a href="#5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ" class="headerlink" title="5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ"></a>5„ÄÅÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºàÂæÖË°•ÂÖÖÔºâ</h4><h4 id="6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ"><a href="#6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ" class="headerlink" title="6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ"></a>6„ÄÅRecycleÂØπË±°Ê±†ÔºàÂæÖË°•ÂÖÖÔºâ</h4><h4 id="7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ"><a href="#7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ" class="headerlink" title="7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ"></a>7„ÄÅÈõ∂Êã∑Ë¥ùÊäÄÊúØ</h4><ol><li>ÂΩìÁî®Êà∑ËøõÁ®ãÂèëËµ∑ read() Ë∞ÉÁî®ÂêéÔºå‰∏ä‰∏ãÊñá‰ªéÁî®Êà∑ÊÄÅÂàáÊç¢Ëá≥ÂÜÖÊ†∏ÊÄÅ„ÄÇDMA ÂºïÊìé‰ªéÊñá‰ª∂‰∏≠ËØªÂèñÊï∞ÊçÆÔºåÂπ∂Â≠òÂÇ®Âà∞ÂÜÖÊ†∏ÊÄÅÁºìÂÜ≤Âå∫ÔºåËøôÈáåÊòØ<strong>Á¨¨‰∏ÄÊ¨°Êï∞ÊçÆÊã∑Ë¥ù</strong>„ÄÇ</li><li>ËØ∑Ê±ÇÁöÑÊï∞ÊçÆ‰ªéÂÜÖÊ†∏ÊÄÅÁºìÂÜ≤Âå∫Êã∑Ë¥ùÂà∞Áî®Êà∑ÊÄÅÁºìÂÜ≤Âå∫ÔºåÁÑ∂ÂêéËøîÂõûÁªôÁî®Êà∑ËøõÁ®ã„ÄÇ<strong>Á¨¨‰∫åÊ¨°Êï∞ÊçÆÊã∑Ë¥ù</strong>ÁöÑËøáÁ®ãÂêåÊó∂Ôºå‰ºöÂØºËá¥‰∏ä‰∏ãÊñá‰ªéÂÜÖÊ†∏ÊÄÅÂÜçÊ¨°ÂàáÊç¢Âà∞Áî®Êà∑ÊÄÅ„ÄÇ</li><li>Áî®Êà∑ËøõÁ®ãË∞ÉÁî® send() ÊñπÊ≥ïÊúüÊúõÂ∞ÜÊï∞ÊçÆÂèëÈÄÅÂà∞ÁΩëÁªú‰∏≠ÔºåÁî®Êà∑ÊÄÅ‰ºöÂÜçÊ¨°ÂàáÊç¢Âà∞ÂÜÖÊ†∏ÊÄÅÔºå<strong>Á¨¨‰∏âÊ¨°Êï∞ÊçÆÊã∑Ë¥ù</strong>ËØ∑Ê±ÇÁöÑÊï∞ÊçÆ‰ªéÁî®Êà∑ÊÄÅÁºìÂÜ≤Âå∫Ë¢´Êã∑Ë¥ùÂà∞ Socket ÁºìÂÜ≤Âå∫„ÄÇ</li><li>ÊúÄÁªà send() Á≥ªÁªüË∞ÉÁî®ÁªìÊùüËøîÂõûÁªôÁî®Êà∑ËøõÁ®ãÔºåÂèëÁîü‰∫ÜÁ¨¨ÂõõÊ¨°‰∏ä‰∏ãÊñáÂàáÊç¢„ÄÇ<strong>Á¨¨ÂõõÊ¨°Êã∑Ë¥ù‰ºöÂºÇÊ≠•ÊâßË°å</strong>Ôºå‰ªé Socket ÁºìÂÜ≤Âå∫Êã∑Ë¥ùÂà∞ÂçèËÆÆÂºïÊìé‰∏≠„ÄÇ</li></ol><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jlghxe0j30t00fsjtw.jpg" alt="image-20210504175240348" style="zoom:50%;"></p><p>‚Äã    <strong>Âú® Linux ‰∏≠</strong>Á≥ªÁªüË∞ÉÁî® sendfile() ÂèØ‰ª•ÂÆûÁé∞Â∞ÜÊï∞ÊçÆ‰ªé‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶‰º†ËæìÂà∞Âè¶‰∏Ä‰∏™Êñá‰ª∂ÊèèËø∞Á¨¶Ôºå‰ªéËÄåÂÆûÁé∞‰∫ÜÈõ∂Êã∑Ë¥ùÊäÄÊúØ„ÄÇ</p><p>‚Äã    <strong>Âú® Java ‰∏≠</strong>‰πü‰ΩøÁî®‰∫ÜÈõ∂Êã∑Ë¥ùÊäÄÊúØÔºåÂÆÉÂ∞±ÊòØ NIO FileChannel Á±ª‰∏≠ÁöÑ transferTo() ÊñπÊ≥ïÔºåÂÆÉÂèØ‰ª•Â∞ÜÊï∞ÊçÆ‰ªé FileChannel Áõ¥Êé•‰º†ËæìÂà∞Âè¶Â§ñ‰∏Ä‰∏™ Channel„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jm8q3yej311c0h6q7v.jpg" alt="image-20210504175323875" style="zoom:50%;"></p><p><strong>Netty ‰∏≠ÁöÑÈõ∂Êã∑Ë¥ù</strong>ÊäÄÊúØÈô§‰∫ÜÊìç‰ΩúÁ≥ªÁªüÁ∫ßÂà´ÁöÑÂäüËÉΩÂ∞ÅË£ÖÔºåÊõ¥Â§öÁöÑÊòØÈù¢ÂêëÁî®Êà∑ÊÄÅÁöÑÊï∞ÊçÆÊìç‰Ωú‰ºòÂåñÔºå‰∏ªË¶Å‰ΩìÁé∞Âú®‰ª•‰∏ã 5 ‰∏™ÊñπÈù¢Ôºö</p><ul><li>Â†ÜÂ§ñÂÜÖÂ≠òÔºåÈÅøÂÖç JVM Â†ÜÂÜÖÂ≠òÂà∞Â†ÜÂ§ñÂÜÖÂ≠òÁöÑÊï∞ÊçÆÊã∑Ë¥ù„ÄÇ</li><li>CompositeByteBuf Á±ªÔºåÂèØ‰ª•ÁªÑÂêàÂ§ö‰∏™ Buffer ÂØπË±°ÂêàÂπ∂Êàê‰∏Ä‰∏™ÈÄªËæë‰∏äÁöÑÂØπË±°ÔºåÈÅøÂÖçÈÄöËøá‰º†ÁªüÂÜÖÂ≠òÊã∑Ë¥ùÁöÑÊñπÂºèÂ∞ÜÂá†‰∏™ Buffer ÂêàÂπ∂Êàê‰∏Ä‰∏™Â§ßÁöÑ Buffer„ÄÇ</li><li>ÈÄöËøá Unpooled.wrappedBuffer ÂèØ‰ª•Â∞Ü byte Êï∞ÁªÑÂåÖË£ÖÊàê ByteBuf ÂØπË±°ÔºåÂåÖË£ÖËøáÁ®ã‰∏≠‰∏ç‰ºö‰∫ßÁîüÂÜÖÂ≠òÊã∑Ë¥ù„ÄÇ</li><li>ByteBuf.slice Ôºåslice Êìç‰ΩúÂèØ‰ª•Â∞Ü‰∏Ä‰∏™ ByteBuf ÂØπË±°ÂàáÂàÜÊàêÂ§ö‰∏™ ByteBuf ÂØπË±°ÔºåÂàáÂàÜËøáÁ®ã‰∏≠‰∏ç‰ºö‰∫ßÁîüÂÜÖÂ≠òÊã∑Ë¥ùÔºåÂ∫ïÂ±ÇÂÖ±‰∫´‰∏Ä‰∏™ byte Êï∞ÁªÑÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇ</li><li>Netty ‰ΩøÁî® Â∞ÅË£Ö‰∫ÜtransferTo() ÊñπÊ≥ï FileRegionÔºåÂèØ‰ª•Â∞ÜÊñá‰ª∂ÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆÁõ¥Êé•‰º†ËæìÂà∞ÁõÆÊ†á ChannelÔºåÈÅøÂÖçÂÜÖÊ†∏ÁºìÂÜ≤Âå∫ÂíåÁî®Êà∑ÊÄÅÁºìÂÜ≤Âå∫‰πãÈó¥ÁöÑÊï∞ÊçÆÊã∑Ë¥ù„ÄÇ</li></ul><h3 id="È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ"><a href="#È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ" class="headerlink" title="È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ"></a>È´òÊÄßËÉΩÊï∞ÊçÆÁªìÊûÑ</h3><h4 id="1„ÄÅFastThreadLocal"><a href="#1„ÄÅFastThreadLocal" class="headerlink" title="1„ÄÅFastThreadLocal"></a>1„ÄÅFastThreadLocal</h4><p>‚Äã    ThreadLocal ÂèØ‰ª•ÁêÜËß£‰∏∫Á∫øÁ®ãÊú¨Âú∞ÂèòÈáè„ÄÇThreadLocal ‰∏∫ÂèòÈáèÂú®ÊØè‰∏™Á∫øÁ®ã‰∏≠ÈÉΩÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂâØÊú¨ÔºåËØ•ÂâØÊú¨Âè™ËÉΩË¢´ÂΩìÂâçÁ∫øÁ®ãËÆøÈóÆÔºåÂ§öÁ∫øÁ®ã‰πãÈó¥ÊòØÈöîÁ¶ªÁöÑÔºåÂèòÈáè‰∏çËÉΩÂú®Â§öÁ∫øÁ®ã‰πãÈó¥ÂÖ±‰∫´„ÄÇËøôÊ†∑ÊØè‰∏™Á∫øÁ®ã‰øÆÊîπÂèòÈáèÂâØÊú¨Êó∂Ôºå‰∏ç‰ºöÂØπÂÖ∂‰ªñÁ∫øÁ®ã‰∫ßÁîüÂΩ±Âìç„ÄÇ</p><p>‚Äã    Êó¢ÁÑ∂Â§öÁ∫øÁ®ãËÆøÈóÆ ThreadLocal ÂèòÈáèÊó∂ÈÉΩ‰ºöÊúâËá™Â∑±Áã¨Á´ãÁöÑÂÆû‰æãÂâØÊú¨ÔºåÈÇ£‰πàÂæàÂÆπÊòìÊÉ≥Âà∞ÁöÑÊñπÊ°àÂ∞±ÊòØÂú® ThreadLocal ‰∏≠Áª¥Êä§‰∏Ä‰∏™ MapÔºåËÆ∞ÂΩïÁ∫øÁ®ã‰∏éÂÆû‰æã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ª„ÄÇÂΩìÊñ∞Â¢ûÁ∫øÁ®ãÂíåÈîÄÊØÅÁ∫øÁ®ãÊó∂ÈÉΩÈúÄË¶ÅÊõ¥Êñ∞ Map ‰∏≠ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂõ†‰∏∫‰ºöÂ≠òÂú®Â§öÁ∫øÁ®ãÂπ∂Âèë‰øÆÊîπÔºåÊâÄ‰ª•ÈúÄË¶Å‰øùËØÅ Map ÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑ„ÄÇ‰ΩÜÊòØÂú®È´òÂπ∂ÂèëÁöÑÂú∫ÊôØÂπ∂Âèë‰øÆÊîπ Map ÈúÄË¶ÅÂä†ÈîÅÔºåÂäøÂøÖ‰ºöÈôç‰ΩéÊÄßËÉΩ„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jmqtl1hj30q60dmtck.jpg" alt="image-20210504175349901" style="zoom:50%;"></p><p>‚Äã    JDK ‰∏∫‰∫ÜÈÅøÂÖçÂä†ÈîÅÔºåÈááÁî®‰∫ÜÁõ∏ÂèçÁöÑËÆæËÆ°ÊÄùË∑Ø„ÄÇ‰ª• Thread ÂÖ•ÊâãÔºåÂú® Thread ‰∏≠Áª¥Êä§‰∏Ä‰∏™ MapÔºåËÆ∞ÂΩï ThreadLocal ‰∏éÂÆû‰æã‰πãÈó¥ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåËøôÊ†∑Âú®Âêå‰∏Ä‰∏™Á∫øÁ®ãÂÜÖÔºåMap Â∞±‰∏çÈúÄË¶ÅÂä†ÈîÅ‰∫Ü„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jmyxnylj30ns06adgu.jpg" alt="image-20210504175406824" style="zoom:50%;"></p><p>‚Äã    ThreadLocalMap ÊòØ‰∏ÄÁßç‰ΩøÁî®Á∫øÊÄßÊé¢ÊµãÊ≥ïÂÆûÁé∞ÁöÑÂìàÂ∏åË°®ÔºåÂ∫ïÂ±ÇÈááÁî®Êï∞ÁªÑÂ≠òÂÇ®Êï∞ÊçÆÔºåÈÄöËøáÈ≠îÊï∞0x61c88647Êù•‰ΩøÊï£ÂàóÊõ¥Âä†Âπ≥Ë°°„ÄÇThreadLocalMap ÂàùÂßãÂåñ‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫ 16 ÁöÑ Entry Êï∞ÁªÑ„ÄÇ‰∏é HashMap ‰∏çÂêåÁöÑÊòØÔºåEntry ÁöÑ key Â∞±ÊòØ ThreadLocalÂØπË±°Êú¨Ë∫´Ôºåvalue Â∞±ÊòØÁî®Êà∑ÂÖ∑‰ΩìÈúÄË¶ÅÂ≠òÂÇ®ÁöÑÂÄº„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jncecy1j30yy0eejtq.jpg" alt="image-20210504175428964" style="zoom:50%;"></p><p>‚Äã    Entry ÁªßÊâøËá™Âº±ÂºïÁî®Á±ª WeakReferenceÔºåEntry ÁöÑ key ÊòØÂº±ÂºïÁî®Ôºåvalue ÊòØÂº∫ÂºïÁî®„ÄÇÂú® JVM ÂûÉÂúæÂõûÊî∂Êó∂ÔºåÂè™Ë¶ÅÂèëÁé∞‰∫ÜÂº±ÂºïÁî®ÁöÑÂØπË±°Ôºå‰∏çÁÆ°ÂÜÖÂ≠òÊòØÂê¶ÂÖÖË∂≥ÔºåÈÉΩ‰ºöË¢´ÂõûÊî∂„ÄÇÈÇ£‰πà‰∏∫‰ªÄ‰πà Entry ÁöÑ key Ë¶ÅËÆæËÆ°ÊàêÂº±ÂºïÁî®Âë¢ÔºüÂ¶ÇÊûú key ÈÉΩÊòØÂº∫ÂºïÁî®ÔºåÂΩìÁ∫ø ThreadLocal ‰∏çÂÜç‰ΩøÁî®Êó∂ÔºåÁÑ∂ËÄå ThreadLocalMap ‰∏≠ËøòÊòØÂ≠òÂú®ÂØπ ThreadLocal ÁöÑÂº∫ÂºïÁî®ÔºåÈÇ£‰πà GC ÊòØÊó†Ê≥ïÂõûÊî∂ÁöÑÔºå‰ªéËÄåÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºè„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm4umi0759j30hi0a03zd.jpg" alt="img" style="zoom: 67%;"></p><p>‚Äã    ËôΩÁÑ∂ Entry ÁöÑ key ËÆæËÆ°Êàê‰∫ÜÂº±ÂºïÁî®Ôºå‰ΩÜÊòØÂΩì ThreadLocal‰∏çÂÜç‰ΩøÁî®(<strong>‰∏öÂä°ÈÄªËæëËµ∞ÂÆåÔºå‰ΩÜÊòØÁî±‰∫éÁ∫øÁ®ãÂ§çÁî®ÂØºËá¥Á∫øÁ®ãÂπ∂Ê≤°ÊúâÁªìÊùü</strong>)Ë¢´ GC ÂõûÊî∂ÂêéÔºåThreadLocalMap ‰∏≠ÂèØËÉΩÂá∫Áé∞ Entry ÁöÑ key ‰∏∫ NULLÔºåÈÇ£‰πà Entry ÁöÑ value ‰∏ÄÁõ¥‰ºöÂº∫ÂºïÁî®Êï∞ÊçÆËÄåÂæó‰∏çÂà∞ÈáäÊîæÔºåÂè™ËÉΩÁ≠âÂæÖÁ∫øÁ®ãÈîÄÊØÅ„ÄÇÈÇ£‰πàÂ∫îËØ•Â¶Ç‰ΩïÈÅøÂÖç ThreadLocalMap ÂÜÖÂ≠òÊ≥ÑÊºèÂë¢ÔºüThreadLocal Â∑≤ÁªèÂ∏ÆÂä©Êàë‰ª¨ÂÅö‰∫Ü‰∏ÄÂÆöÁöÑ‰øùÊä§Êé™ÊñΩÔºåÂú®ÊâßË°å ThreadLocal.set()/get() ÊñπÊ≥ïÊó∂ÔºåThreadLocal ‰ºöÊ∏ÖÈô§ ThreadLocalMap ‰∏≠ key ‰∏∫ NULL ÁöÑ Entry ÂØπË±°ÔºåËÆ©ÂÆÉËøòËÉΩÂ§üË¢´ GC ÂõûÊî∂„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåÂΩìÁ∫øÁ®ã‰∏≠Êüê‰∏™ ThreadLocal ÂØπË±°‰∏çÂÜç‰ΩøÁî®Êó∂ÔºåÁ´ãÂç≥Ë∞ÉÁî® remove() ÊñπÊ≥ïÂà†Èô§ Entry ÂØπË±°„ÄÇÂ¶ÇÊûúÊòØÂú®ÂºÇÂ∏∏ÁöÑÂú∫ÊôØ‰∏≠ÔºåÂ∫îÂú® finally ‰ª£Á†ÅÂùó‰∏≠ËøõË°åÊ∏ÖÁêÜÔºå‰øùÊåÅËâØÂ•ΩÁöÑÁºñÁ†ÅÊÑèËØÜ„ÄÇÂú®Netty‰∏≠ÔºåÂèØ‰ª•Êñπ‰æøÁöÑ‰ΩøÁî®FashThreadLocalÊù•Èò≤Ê≠¢ÂÜÖÂ≠òÊ≥ÑÊºè</p><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm4ux5gohpj30hs0ajjs1.jpg" alt="img" style="zoom:67%;"></p><p><strong>FastThreadLocal</strong></p><p>‚Äã    FastThreadLocal ‰ΩøÁî® Object Êï∞ÁªÑÊõø‰ª£‰∫Ü Entry Êï∞ÁªÑÔºåObject[0] Â≠òÂÇ®ÁöÑÊòØ‰∏Ä‰∏™Set&lt;FastThreadLocal&lt;?&gt;&gt; ÈõÜÂêàÔºå‰ªéÊï∞ÁªÑ‰∏ãÊ†á 1 ÂºÄÂßãÈÉΩÊòØÁõ¥Êé•Â≠òÂÇ®ÁöÑ value Êï∞ÊçÆÔºå‰∏çÂÜçÈááÁî® ThreadLocal ÁöÑÈîÆÂÄºÂØπÂΩ¢ÂºèËøõË°åÂ≠òÂÇ®„ÄÇ‰∏ªË¶ÅÊòØÈíàÂØπsetÊñπÊ≥ïÔºåÂ¢ûÂä†‰∫Ü‰∏§‰∏™È¢ùÂ§ñÁöÑË°å‰∏∫„ÄÇ</p><ol><li>ÊâæÂà∞Êï∞ÁªÑ‰∏ãÊ†á index ‰ΩçÁΩÆÔºåËÆæÁΩÆÊñ∞ÁöÑ value„ÄÇ</li><li>Â∞Ü <strong>FastThreadLocal ÂØπË±°‰øùÂ≠òÂà∞ÂæÖÊ∏ÖÁêÜÁöÑ Set ‰∏≠</strong>„ÄÇ</li></ol><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jnu8l6aj315k060wfi.jpg" alt="image-20210504175457264" style="zoom:50%;"></p><ul><li><strong>È´òÊïàÊü•Êâæ</strong>„ÄÇFastThreadLocal Âú®ÂÆö‰ΩçÊï∞ÊçÆÁöÑÊó∂ÂÄôÂèØ‰ª•Áõ¥Êé•Ê†πÊçÆÊï∞ÁªÑ‰∏ãÊ†á index Ëé∑ÂèñÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ O(1)„ÄÇËÄå JDK ÂéüÁîüÁöÑ ThreadLocal Âú®Êï∞ÊçÆËæÉÂ§öÊó∂ÂìàÂ∏åË°®ÂæàÂÆπÊòìÂèëÁîü Hash ÂÜ≤Á™ÅÔºåÁ∫øÊÄßÊé¢ÊµãÊ≥ïÂú®Ëß£ÂÜ≥ Hash ÂÜ≤Á™ÅÊó∂ÈúÄË¶Å‰∏çÂÅúÂú∞Âêë‰∏ãÂØªÊâæÔºåÊïàÁéáËæÉ‰Ωé„ÄÇÊ≠§Â§ñÔºåFastThreadLocal Áõ∏ÊØî ThreadLocal Êï∞ÊçÆÊâ©ÂÆπÊõ¥Âä†ÁÆÄÂçïÈ´òÊïàÔºåFastThreadLocal ‰ª• index ‰∏∫Âü∫ÂáÜÂêë‰∏äÂèñÊï¥Âà∞ 2 ÁöÑÊ¨°ÂπÇ‰Ωú‰∏∫Êâ©ÂÆπÂêéÂÆπÈáèÔºåÁÑ∂ÂêéÊääÂéüÊï∞ÊçÆÊã∑Ë¥ùÂà∞Êñ∞Êï∞ÁªÑ„ÄÇËÄå ThreadLocal Áî±‰∫éÈááÁî®ÁöÑÂìàÂ∏åË°®ÔºåÊâÄ‰ª•Âú®Êâ©ÂÆπÂêéÈúÄË¶ÅÂÜçÂÅö‰∏ÄËΩÆ rehash„ÄÇ</li><li><strong>ÂÆâÂÖ®ÊÄßÊõ¥È´ò</strong>„ÄÇJDK ÂéüÁîüÁöÑ ThreadLocal ‰ΩøÁî®‰∏çÂΩìÂèØËÉΩÈÄ†ÊàêÂÜÖÂ≠òÊ≥ÑÊºèÔºåÂè™ËÉΩÁ≠âÂæÖÁ∫øÁ®ãÈîÄÊØÅ„ÄÇÂú®‰ΩøÁî®Á∫øÁ®ãÊ±†ÁöÑÂú∫ÊôØ‰∏ãÔºåThreadLocal Âè™ËÉΩÈÄöËøá‰∏ªÂä®Ê£ÄÊµãÁöÑÊñπÂºèÈò≤Ê≠¢ÂÜÖÂ≠òÊ≥ÑÊºèÔºå‰ªéËÄåÈÄ†Êàê‰∫Ü‰∏ÄÂÆöÁöÑÂºÄÈîÄ„ÄÇÁÑ∂ËÄå FastThreadLocal ‰∏ç‰ªÖÊèê‰æõ‰∫Ü remove() ‰∏ªÂä®Ê∏ÖÈô§ÂØπË±°ÁöÑÊñπÊ≥ïÔºåËÄå‰∏îÂú®Á∫øÁ®ãÊ±†Âú∫ÊôØ‰∏≠ Netty ËøòÂ∞ÅË£Ö‰∫Ü FastThreadLocalRunnableÔºå<strong>‰ªªÂä°ÊâßË°åÂÆåÊØïÂêé‰∏ÄÂÆö‰ºöÊâßË°å FastThreadLocal.removeAll() Â∞Ü Set ÈõÜÂêà‰∏≠ÊâÄÊúâ FastThreadLocal ÂØπË±°ÈÉΩÊ∏ÖÁêÜÊéâ</strong></li></ul><h4 id="2„ÄÅHashedTimerWheel"><a href="#2„ÄÅHashedTimerWheel" class="headerlink" title="2„ÄÅHashedTimerWheel"></a>2„ÄÅ<strong>HashedTimerWheel</strong></h4><p>‚Äã    ÁîüÊàêÊúàÁªüËÆ°Êä•Ë°®„ÄÅÊØèÊó•ÂæóÂàÜÁªìÁÆó„ÄÅÈÇÆ‰ª∂ÂÆöÊó∂Êé®ÈÄÅ</p><p>‚Äã    ÂÆöÊó∂‰ªªÂä°‰∏âÁßçÂΩ¢ÂºèÔºö</p><p>‚Äã        1„ÄÅÊåâÂõ∫ÂÆöÂë®ÊúüÂÆöÊó∂ÊâßË°å</p><p>‚Äã        2„ÄÅÂª∂Ëøü‰∏ÄÂÆöÊó∂Èó¥ÂêéÊâßË°å</p><p>‚Äã        3„ÄÅÊåáÂÆöÊüê‰∏™Êó∂ÂàªÊâßË°å</p><p>‚Äã    ÂÆöÊó∂‰ªªÂä°ÁöÑ‰∏â‰∏™ÂÖ≥ÈîÆÊñπÊ≥ïÔºö</p><p>‚Äã        Schedule Êñ∞Â¢û‰ªªÂä°Ëá≥‰ªªÂä°ÈõÜÂêàÔºõ</p><p>‚Äã        Cancel ÂèñÊ∂àÊüê‰∏™‰ªªÂä°Ôºõ</p><p>‚Äã        Run ÊâßË°åÂà∞ÊúüÁöÑ‰ªªÂä°</p><p>JDKËá™Â∏¶ÁöÑ‰∏âÁßçÂÆöÊó∂Âô®Ôºö<strong>Timer</strong>„ÄÅ<strong>DelayedQueue</strong> Âíå <strong>ScheduledThreadPoolExecutor</strong></p><pre><code>TimerÂ∞èÊ†πÂ†ÜÈòüÂàóÔºådeadline ‰ªªÂä°‰Ωç‰∫éÂ†ÜÈ°∂Á´ØÔºåÂºπÂá∫ÁöÑÂßãÁªàÊòØÊúÄ‰ºòÂÖàË¢´ÊâßË°åÁöÑ‰ªªÂä°„ÄÇRun Êìç‰ΩúÊó∂Èó¥Â§çÊùÇÂ∫¶ O(1)ÔºåSchedule ÂíåCancel Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØ O(logn)„ÄÇ</code></pre><p>‰∏çËÆ∫ÊúâÂ§öÂ∞ë‰ªªÂä°Ë¢´Âä†ÂÖ•Êï∞ÁªÑÔºåÂßãÁªàÁî± ÂºÇÊ≠•Á∫øÁ®ãTimerThread Ë¥üË¥£Â§ÑÁêÜ„ÄÇTimerThread ‰ºöÂÆöÊó∂ËΩÆËØ¢ TaskQueue ‰∏≠ÁöÑ‰ªªÂä°ÔºåÂ¶ÇÊûúÂ†ÜÈ°∂ÁöÑ‰ªªÂä°ÁöÑ deadline Â∑≤Âà∞ÔºåÈÇ£‰πàÊâßË°å‰ªªÂä°ÔºõÂ¶ÇÊûúÊòØÂë®ÊúüÊÄß‰ªªÂä°ÔºåÊâßË°åÂÆåÊàêÂêéÈáçÊñ∞ËÆ°ÁÆó‰∏ã‰∏ÄÊ¨°‰ªªÂä°ÁöÑ deadlineÔºåÂπ∂ÂÜçÊ¨°ÊîæÂÖ•Â∞èÊ†πÂ†ÜÔºõÂ¶ÇÊûúÊòØÂçïÊ¨°ÊâßË°åÁöÑ‰ªªÂä°ÔºåÊâßË°åÁªìÊùüÂêé‰ºö‰ªé TaskQueue ‰∏≠Âà†Èô§„ÄÇ</p><p>‚Äã</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DelayedQueue ÈááÁî®‰ºòÂÖàÁ∫ßÈòüÂàó PriorityQueueÂª∂ËøüËé∑ÂèñÂØπË±°ÁöÑÈòªÂ°ûÈòüÂàó„ÄÇDelayQueue‰∏≠ÁöÑÊØè‰∏™ÂØπË±°ÈÉΩÂøÖÈ°ªÂÆûÁé∞Delayed Êé•Âè£ÔºåÂπ∂ÈáçÂÜô compareTo Âíå getDelay ÊñπÊ≥ï„ÄÇ</span><br></pre></td></tr></table></figure><p>DelayQueue Êèê‰æõ‰∫Ü put() Âíå take() ÁöÑÈòªÂ°ûÊñπÊ≥ïÔºåÂèØ‰ª•ÂêëÈòüÂàó‰∏≠Ê∑ªÂä†ÂØπË±°ÂíåÂèñÂá∫ÂØπË±°„ÄÇÂØπË±°Ë¢´Ê∑ªÂä†Âà∞ DelayQueue ÂêéÔºå‰ºöÊ†πÊçÆ compareTo() ÊñπÊ≥ïËøõË°å‰ºòÂÖàÁ∫ßÊéíÂ∫è„ÄÇgetDelay() ÊñπÊ≥ïÁî®‰∫éËÆ°ÁÆóÊ∂àÊÅØÂª∂ËøüÁöÑÂâ©‰ΩôÊó∂Èó¥ÔºåÂè™Êúâ getDelay &lt;=0 Êó∂ÔºåËØ•ÂØπË±°ÊâçËÉΩ‰ªé DelayQueue ‰∏≠ÂèñÂá∫„ÄÇ</p><p>DelayQueue Âú®Êó•Â∏∏ÂºÄÂèë‰∏≠ÊúÄÂ∏∏Áî®ÁöÑÂú∫ÊôØÂ∞±ÊòØÂÆûÁé∞ÈáçËØïÊú∫Âà∂„ÄÇ‰æãÂ¶ÇÔºåÊé•Âè£Ë∞ÉÁî®Â§±Ë¥•ÊàñËÄÖËØ∑Ê±ÇË∂ÖÊó∂ÂêéÔºåÂèØ‰ª•Â∞ÜÂΩìÂâçËØ∑Ê±ÇÂØπË±°ÊîæÂÖ• DelayQueueÔºåÈÄöËøá‰∏Ä‰∏™ÂºÇÊ≠•Á∫øÁ®ã take() ÂèñÂá∫ÂØπË±°ÁÑ∂ÂêéÁªßÁª≠ËøõË°åÈáçËØï„ÄÇÂ¶ÇÊûúËøòÊòØËØ∑Ê±ÇÂ§±Ë¥•ÔºåÁªßÁª≠ÊîæÂõû DelayQueue„ÄÇÂèØ‰ª•ËÆæÁΩÆÈáçËØïÁöÑÊúÄÂ§ßÊ¨°Êï∞‰ª•ÂèäÈááÁî®ÊåáÊï∞ÈÄÄÈÅøÁÆóÊ≥ïËÆæÁΩÆÂØπË±°ÁöÑ deadlineÔºåÂ¶Ç 2s„ÄÅ4s„ÄÅ8s„ÄÅ16s ‚Ä¶‚Ä¶‰ª•Ê≠§Á±ªÊé®„ÄÇDelayQueueÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂíåTimerÂü∫Êú¨‰∏ÄËá¥„ÄÇ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">‰∏∫‰∫ÜËß£ÂÜ≥ Timer ÁöÑËÆæËÆ°Áº∫Èô∑ÔºåJDK Êèê‰æõ‰∫ÜÂäüËÉΩÊõ¥Âä†‰∏∞ÂØåÁöÑ ScheduledThreadPoolExecutorÔºåÂ§öÁ∫øÁ®ã„ÄÅÁõ∏ÂØπÊó∂Èó¥„ÄÅÂØπÂºÇÂ∏∏</span><br></pre></td></tr></table></figure><p>‚Äã    Timer ÊòØÂçïÁ∫øÁ®ãÊ®°Âºè„ÄÇÂ¶ÇÊûúÊüê‰∏™ TimerTask ÊâßË°åÊó∂Èó¥Âæà‰πÖÔºå‰ºöÂΩ±ÂìçÂÖ∂‰ªñ‰ªªÂä°ÁöÑË∞ÉÂ∫¶„ÄÇ</p><p>‚Äã    Timer ÁöÑ‰ªªÂä°Ë∞ÉÂ∫¶ÊòØÂü∫‰∫éÁ≥ªÁªüÁªùÂØπÊó∂Èó¥ÁöÑÔºåÂ¶ÇÊûúÁ≥ªÁªüÊó∂Èó¥‰∏çÊ≠£Á°ÆÔºåÂèØËÉΩ‰ºöÂá∫Áé∞ÈóÆÈ¢ò„ÄÇ</p><p>‚Äã    TimerTask Â¶ÇÊûúÊâßË°åÂá∫Áé∞ÂºÇÂ∏∏ÔºåTimer Âπ∂‰∏ç‰ºöÊçïËé∑Ôºå‰ºöÂØºËá¥Á∫øÁ®ãÁªàÊ≠¢ÔºåÂÖ∂‰ªñ‰ªªÂä°Ê∞∏Ëøú‰∏ç‰ºöÊâßË°å„ÄÇ</p><p><strong>Êó∂Èó¥ËΩÆÂéüÁêÜÂàÜÊûê</strong></p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jo7abpbj30wi0ciacs.jpg" alt="image-20210504175518335" style="zoom:50%;"></p><p>Ê†πÊçÆ‰ªªÂä°ÁöÑÂà∞ÊúüÊó∂Èó¥ËøõË°åÂèñ‰ΩôÂíåÂèñÊ®°ÔºåÁÑ∂ÂêéÊ†πÊçÆÂèñ‰ΩôÁªìÊûúÂ∞Ü‰ªªÂä°ÂàÜÂ∏ÉÂà∞‰∏çÂêåÁöÑ slot ‰∏≠ÔºåÊØè‰∏™slot‰∏≠Ê†πÊçÆroundÂÄºÂÜ≥ÂÆöÊòØÂê¶Êìç‰ΩúÔºåÊØèÊ¨°ËΩÆËØ¢Âà∞ÊåáÂÆöslotÊó∂ÔºåÊÄªÊó∂ÈÅçÂéÜÊúÄÂ∞ëroundÁöÑÂØπË±°ËøõË°åÊâßË°åÔºåËøôÊ†∑Êñ∞Â¢û„ÄÅÊâßË°å‰∏§‰∏™Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩËøë‰ººO(1)„ÄÇÂ¶ÇÊûúÂÜ≤Á™ÅËæÉÂ§ßÂèØ‰ª•Â¢ûÂä†Êï∞ÁªÑÈïøÂ∫¶ÔºåÊàñËÄÖÈááÁî®Â§öÁ∫ßÊó∂Èó¥ËΩÆÁöÑÊñπÂºèÂ§ÑÁêÜ„ÄÇ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashedWheelTimer</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† ThreadFactory threadFactory, //Á∫øÁ®ãÊ±†Ôºå‰ΩÜÊòØÂè™ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Á∫øÁ®ã</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† <span class="keyword">long</span> tickDuration,¬†//Êó∂ÈíàÊØèÊ¨° tick ÁöÑÊó∂Èó¥ÔºåÁõ∏ÂΩì‰∫éÊó∂ÈíàÈó¥ÈöîÂ§ö‰πÖËµ∞Âà∞‰∏ã‰∏Ä‰∏™ slot</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† TimeUnit unit,¬†//Ë°®Á§∫ tickDuration ÁöÑÊó∂Èó¥Âçï‰ΩçÔºåtickDuration * unit</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† <span class="keyword">int</span> ticksPerWheel,¬† //Êó∂Èó¥ËΩÆ‰∏ä‰∏ÄÂÖ±ÊúâÂ§öÂ∞ë‰∏™ slotÔºåÈªòËÆ§ <span class="number">512</span> ‰∏™„ÄÇ</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† <span class="keyword">boolean</span> leakDetection,</span></span></span><br><span class="line"><span class="function"><span class="params">¬† ¬† ¬† ¬† <span class="keyword">long</span> maxPendingTimeouts)</span> </span>&#123;<span class="comment">//ÊúÄÂ§ßÂÖÅËÆ∏Á≠âÂæÖ‰ªªÂä°Êï∞</span></span><br><span class="line">¬† ¬† <span class="comment">// ÁúÅÁï•ÂÖ∂‰ªñ‰ª£Á†Å</span></span><br><span class="line">¬† ¬† wheel = createWheel(ticksPerWheel); <span class="comment">// ÂàõÂª∫Êó∂Èó¥ËΩÆÁöÑÁéØÂΩ¢Êï∞ÁªÑÁªìÊûÑ</span></span><br><span class="line">¬† ¬† mask = wheel.length - <span class="number">1</span>; <span class="comment">// Áî®‰∫éÂø´ÈÄüÂèñÊ®°ÁöÑÊé©Á†Å</span></span><br><span class="line">¬† ¬† <span class="keyword">long</span> duration = unit.toNanos(tickDuration); <span class="comment">// ËΩ¨Êç¢ÊàêÁ∫≥ÁßíÂ§ÑÁêÜ</span></span><br><span class="line">¬† ¬† workerThread = threadFactory.newThread(worker); <span class="comment">// ÂàõÂª∫Â∑•‰ΩúÁ∫øÁ®ã</span></span><br><span class="line">¬† ¬† leak = leakDetection || !workerThread.isDaemon() ? leakDetector.track(<span class="keyword">this</span>) : <span class="keyword">null</span>; <span class="comment">// ÊòØÂê¶ÂºÄÂêØÂÜÖÂ≠òÊ≥ÑÊºèÊ£ÄÊµã</span></span><br><span class="line">¬† ¬† <span class="keyword">this</span>.maxPendingTimeouts = maxPendingTimeouts; <span class="comment">// ÊúÄÂ§ßÂÖÅËÆ∏Á≠âÂæÖ‰ªªÂä°Êï∞ÔºåHashedWheelTimer ‰∏≠‰ªªÂä°Ë∂ÖÂá∫ËØ•ÈòàÂÄºÊó∂‰ºöÊäõÂá∫ÂºÇÂ∏∏</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jofq9r4j315i0fmq96.jpg" alt="image-20210504175531294" style="zoom:50%;"></p><p>‚Äã    <strong>Êó∂Èó¥ËΩÆÁ©∫Êé®ËøõÈóÆÈ¢ò</strong></p><p>‚Äã    Netty ‰∏≠ÁöÑÊó∂Èó¥ËΩÆÊòØÈÄöËøáÂõ∫ÂÆöÁöÑÊó∂Èó¥Èó¥Èöî tickDuration ËøõË°åÊé®Âä®ÁöÑÔºåÂ¶ÇÊûúÈïøÊó∂Èó¥Ê≤°ÊúâÂà∞Êúü‰ªªÂä°ÔºåÈÇ£‰πà‰ºöÂ≠òÂú®Êó∂Èó¥ËΩÆÁ©∫Êé®ËøõÁöÑÁé∞Ë±°Ôºå‰ªéËÄåÈÄ†Êàê‰∏ÄÂÆöÁöÑÊÄßËÉΩÊçüËÄó„ÄÇÊ≠§Â§ñÔºåÂ¶ÇÊûú‰ªªÂä°ÁöÑÂà∞ÊúüÊó∂Èó¥Ë∑®Â∫¶ÂæàÂ§ßÔºå‰æãÂ¶Ç A ‰ªªÂä° 1s ÂêéÊâßË°åÔºåB ‰ªªÂä° 6 Â∞èÊó∂‰πãÂêéÊâßË°åÔºå‰πü‰ºöÈÄ†ÊàêÁ©∫Êé®ËøõÁöÑÈóÆÈ¢ò„ÄÇ</p><p><strong>KafkaËß£ÂÜ≥ÊñπÊ°à</strong></p><p>‚Äã    <strong>‰∏∫‰∫ÜËß£ÂÜ≥Á©∫Êé®ËøõÁöÑÈóÆÈ¢ò</strong>ÔºåKafka ÂÄüÂä© JDK ÁöÑ DelayQueue Êù•Ë¥üË¥£Êé®ËøõÊó∂Èó¥ËΩÆ„ÄÇDelayQueue ‰øùÂ≠ò‰∫ÜÊó∂Èó¥ËΩÆ‰∏≠ÁöÑÊØè‰∏™ BucketÔºåÂπ∂‰∏îÊ†πÊçÆ Bucket ÁöÑÂà∞ÊúüÊó∂Èó¥ËøõË°åÊéíÂ∫èÔºåÊúÄËøëÁöÑÂà∞ÊúüÊó∂Èó¥Ë¢´ÊîæÂú® DelayQueue ÁöÑÈòüÂ§¥„ÄÇKafka ‰∏≠‰ºöÊúâ‰∏Ä‰∏™Á∫øÁ®ãÊù•ËØªÂèñ DelayQueue ‰∏≠ÁöÑ‰ªªÂä°ÂàóË°®Ôºå<strong>Â¶ÇÊûúÊó∂Èó¥Ê≤°ÊúâÂà∞ÔºåÈÇ£‰πà DelayQueue ‰ºö‰∏ÄÁõ¥Â§Ñ‰∫éÈòªÂ°ûÁä∂ÊÄÅ</strong>Ôºå‰ªéËÄåËß£ÂÜ≥Á©∫Êé®ËøõÁöÑÈóÆÈ¢ò„ÄÇËôΩÁÑ∂DelayQueue ÊèíÂÖ•ÂíåÂà†Èô§ÁöÑÊÄßËÉΩ‰∏çÊòØÂæàÂ•ΩÔºå‰ΩÜËøôÂÖ∂ÂÆûÂ∞±ÊòØ‰∏ÄÁßçÊùÉË°°ÁöÑÁ≠ñÁï•Ôºå‰ΩÜÊòØDelayQueue Âè™Â≠òÊîæ‰∫Ü BucketÔºåBucket ÁöÑÊï∞ÈáèÂπ∂‰∏çÂ§öÔºåÁõ∏ÊØîÁ©∫Êé®ËøõÂ∏¶Êù•ÁöÑÂΩ±ÂìçÊòØÂà©Â§ß‰∫éÂºäÁöÑ„ÄÇ</p><p>‚Äã    <strong>‰∏∫‰∫ÜËß£ÂÜ≥‰ªªÂä°Êó∂Èó¥Ë∑®Â∫¶ÂæàÂ§ßÁöÑÈóÆÈ¢ò</strong>ÔºåKafka ÂºïÂÖ•‰∫ÜÂ±ÇÁ∫ßÊó∂Èó¥ËΩÆÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫„ÄÇÂΩì‰ªªÂä°ÁöÑ deadline Ë∂ÖÂá∫ÂΩìÂâçÊâÄÂú®Â±ÇÁöÑÊó∂Èó¥ËΩÆË°®Á§∫ËåÉÂõ¥Êó∂ÔºåÂ∞±‰ºöÂ∞ùËØïÂ∞Ü‰ªªÂä°Ê∑ªÂä†Âà∞‰∏ä‰∏ÄÂ±ÇÊó∂Èó¥ËΩÆ‰∏≠ÔºåË∑üÈíüË°®ÁöÑÊó∂Èíà„ÄÅÂàÜÈíà„ÄÅÁßíÈíàÁöÑËΩ¨Âä®ËßÑÂàôÊòØÂêå‰∏Ä‰∏™ÈÅìÁêÜ„ÄÇ</p><h4 id="3„ÄÅMpscQueue"><a href="#3„ÄÅMpscQueue" class="headerlink" title="3„ÄÅMpscQueue"></a>3„ÄÅMpscQueue</h4><h4 id="4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´"><a href="#4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´" class="headerlink" title="4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´"></a>4„ÄÅselect„ÄÅpoll„ÄÅepollÁöÑÂå∫Âà´</h4><p><strong>select</strong> ÔºàwindowsÔºâ<strong>poll </strong>(linux)Êú¨Ë¥®‰∏äÂíåselectÊ≤°ÊúâÂå∫Âà´ÔºåÊü•ËØ¢ÊØè‰∏™fdÂØπÂ∫îÁöÑËÆæÂ§áÁä∂ÊÄÅÔºåÂ¶ÇÊûúËÆæÂ§áÂ∞±Áª™ÂàôÂú®ËÆæÂ§áÁ≠âÂæÖÈòüÂàó‰∏≠Âä†ÂÖ•‰∏ÄÈ°πÂπ∂ÁªßÁª≠ÈÅçÂéÜÔºåÂ¶ÇÊûúÈÅçÂéÜÂÆåÊâÄÊúâfdÂêéÊ≤°ÊúâÂèëÁé∞Â∞±Áª™ËÆæÂ§áÔºåÂàôÊåÇËµ∑ÂΩìÂâçËøõÁ®ãÔºåÁõ¥Âà∞ËÆæÂ§áÂ∞±Áª™ÊàñËÄÖ‰∏ªÂä®Ë∂ÖÊó∂ÔºåË¢´Âî§ÈÜíÂêéÂÆÉÂèàË¶ÅÂÜçÊ¨°ÈÅçÂéÜfd„ÄÇ</p><p><strong>epoll </strong>ÊîØÊåÅÊ∞¥Âπ≥Ëß¶ÂèëÂíåËæπÁºòËß¶ÂèëÔºåÊúÄÂ§ßÁöÑÁâπÁÇπÂú®‰∫éËæπÁºòËß¶ÂèëÔºåÂÆÉÂè™ÂëäËØâËøõÁ®ãÂì™‰∫õfdÂàöÂàöÂèò‰∏∫Â∞±Áª™ÊÄÅÔºåÂπ∂‰∏îÂè™‰ºöÈÄöÁü•‰∏ÄÊ¨°„ÄÇËøòÊúâ‰∏Ä‰∏™ÁâπÁÇπÊòØÔºåepoll‰ΩøÁî®‚Äú‰∫ã‰ª∂‚ÄùÁöÑÂ∞±Áª™ÈÄöÁü•ÊñπÂºèÔºåÈÄöËøáepoll_ctlÊ≥®ÂÜåfdÔºå‰∏ÄÊó¶ËØ•fdÂ∞±Áª™ÔºåÂÜÖÊ†∏Â∞±‰ºöÈááÁî®Á±ª‰ººcallbackÁöÑÂõûË∞ÉÊú∫Âà∂Êù•ÊøÄÊ¥ªËØ•fdÔºåepoll_wait‰æøÂèØ‰ª•Êî∂Âà∞ÈÄöÁü•„ÄÇ</p><p><strong>EpollÁ©∫ËΩÆËØ¢ÊºèÊ¥û</strong></p><p>Âú® JDK ‰∏≠Ôºå Epoll ÁöÑÂÆûÁé∞ÊòØÂ≠òÂú®ÊºèÊ¥ûÁöÑÔºåÂç≥‰Ωø Selector ËΩÆËØ¢ÁöÑ‰∫ã‰ª∂ÂàóË°®‰∏∫Á©∫ÔºåNIO Á∫øÁ®ã‰∏ÄÊ†∑ÂèØ‰ª•Ë¢´Âî§ÈÜíÔºåÂØºËá¥ CPU 100% Âç†Áî®„ÄÇÂÆûÈôÖ‰∏ä Netty Âπ∂Ê≤°Êúâ‰ªéÊ†πÊ∫ê‰∏äËß£ÂÜ≥ËØ•ÈóÆÈ¢òÔºåËÄåÊòØÂ∑ßÂ¶ôÂú∞ËßÑÈÅø‰∫ÜËøô‰∏™ÈóÆÈ¢ò„ÄÇ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> time = System.nanoTime();</span><br><span class="line"><span class="keyword">if</span> (<span class="comment">/*‰∫ã‰ª∂ËΩÆËØ¢ÁöÑÊåÅÁª≠Êó∂Èó¥Â§ß‰∫éÁ≠â‰∫é timeoutMillis*/</span>) &#123;</span><br><span class="line">    selectCnt = <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="comment">/*‰∏çÊ≠£Â∏∏ÁöÑÊ¨°Êï∞ selectCnt ËææÂà∞ÈòàÂÄº 512*/</span>) &#123;</span><br><span class="line">    <span class="comment">//ÈáçÂª∫SelectÂπ∂‰∏îSelectionKeyÈáçÊñ∞Ê≥®ÂÜåÂà∞Êñ∞Selector‰∏ä</span></span><br><span class="line">  selector = selectRebuildSelector(selectCnt);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>NioEventLoop Á∫øÁ®ãÁöÑÂèØÈù†ÊÄßËá≥ÂÖ≥ÈáçË¶ÅÔºå‰∏ÄÊó¶ NioEventLoop ÂèëÁîüÈòªÂ°ûÊàñËÄÖÈô∑ÂÖ•Á©∫ËΩÆËØ¢ÔºåÂ∞±‰ºöÂØºËá¥Êï¥‰∏™Á≥ªÁªü‰∏çÂèØÁî®„ÄÇ</p><h1 id="Âõõ„ÄÅLEETCODE"><a href="#Âõõ„ÄÅLEETCODE" class="headerlink" title="Âõõ„ÄÅLEETCODE"></a>Âõõ„ÄÅLEETCODE</h1><h3 id="„ÄêPythonËØ≠Ê≥ï„Äë"><a href="#„ÄêPythonËØ≠Ê≥ï„Äë" class="headerlink" title="„ÄêPythonËØ≠Ê≥ï„Äë"></a>„ÄêPythonËØ≠Ê≥ï„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line">reduce(function, iterable[, initializer])</span><br><span class="line">    reduce(<span class="keyword">lambda</span> x,y:x * y,ns) <span class="comment"># Êï∞ÁªÑ‰πã‰πòÁßØ (ns[0] * ns[1]) * ns[2]</span></span><br><span class="line">    reduce(<span class="keyword">lambda</span> x,y:x + y,ns) <span class="comment"># Êï∞ÁªÑ‰πãÂíå</span></span><br><span class="line"><span class="comment"># ËÆ∞ÂøÜÂåñÊêúÁ¥¢</span></span><br><span class="line"><span class="meta">@functools.lru_cache(None)</span></span><br><span class="line">res = helper(<span class="number">0</span>,N,<span class="number">0</span>)</span><br><span class="line">helper.cache_clear()</span><br><span class="line">tuple(ns) ÂèØ‰ª•hashÂÅöÂèÇÊï∞</span><br><span class="line"><span class="comment"># Â§ßÊ†πÂ†Ü</span></span><br><span class="line">q = list(map(<span class="keyword">lambda</span> x:-x,ns))</span><br><span class="line">heapq.heapify(q)</span><br><span class="line">key = -heapq.heappop(q)</span><br><span class="line"><span class="comment"># ËøáÊª§ÂáΩÊï∞</span></span><br><span class="line">filter(function, iterable)</span><br><span class="line">    filter(<span class="keyword">lambda</span> x: <span class="number">2</span> &lt; x &lt; <span class="number">10</span> <span class="keyword">and</span> x % <span class="number">2</span> == <span class="number">0</span>, range(<span class="number">18</span>))</span><br><span class="line">    filter(dfs, range(len(graph)))</span><br><span class="line"><span class="comment"># Èô§Êï∞</span></span><br><span class="line">div, mod = divmod(sum(ns), <span class="number">4</span>)</span><br><span class="line">random.randint(i,len(self.ns)<span class="number">-1</span>)</span><br><span class="line"><span class="comment">#Á¨¨‰∏Ä‰∏™ÈôçÂ∫èÔºåÁ¨¨‰∫å‰∏™ÂçáÂ∫è</span></span><br><span class="line">sorted(pss,key = <span class="keyword">lambda</span> x:[x[<span class="number">0</span>],-x[<span class="number">1</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># ‰∏çÂèØÂèòstr Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">split(sep=<span class="literal">None</span>, maxsplit=<span class="number">-1</span>)  <span class="comment"># ‰ª•sepÊù•ÂàÜÂâ≤Â≠óÁ¨¶‰∏≤</span></span><br><span class="line">strip([chars])  <span class="comment"># ÂéªÈô§È¶ñÊú´‰∏§Á´ØÁöÑÂ≠óÁ¨¶, ÈªòËÆ§ÊòØ \r,\n," "</span></span><br><span class="line">join(iterable)  <span class="comment"># Â∞ÜiterableÂÜÖÁöÑÂÖÉÁ¥†ÊãºÊé•ÊàêÂ≠óÁ¨¶‰∏≤,Â¶Ç','.join(['leet', 'code'])="leet,code"</span></span><br><span class="line">replace(old, new[, count])  <span class="comment"># Â≠óÁ¨¶‰∏≤ÊõøÊç¢, old to new</span></span><br><span class="line">count(sub[, start[, end]])  <span class="comment"># ÁªüËÆ°Â≠êÂ≠óÁ¨¶‰∏≤subÁöÑ‰∏™Êï∞</span></span><br><span class="line">startswith(prefix[, start[, end]])  <span class="comment"># ‰ª•prefixÂºÄÂßãÁöÑÂ≠óÁ¨¶‰∏≤</span></span><br><span class="line">endswith(suffix[, start[, end]])  <span class="comment"># ‰ª•suffixÁªìÊùüÁöÑÂ≠óÁ¨¶‰∏≤</span></span><br><span class="line">cs <span class="keyword">in</span> chrs: <span class="comment"># chrs ‰∏≠ÂåÖÂê´ cs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># deque Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">queue = deque([iterable[, maxlen]])</span><br><span class="line">queue.append(val)  <span class="comment"># ÂæÄÂè≥ËæπÊ∑ªÂä†‰∏Ä‰∏™ÂÖÉÁ¥†</span></span><br><span class="line">queue.appendleft(val)  <span class="comment"># ÂæÄÂ∑¶ËæπÊ∑ªÂä†‰∏Ä‰∏™ÂÖÉÁ¥†</span></span><br><span class="line">queue.clear()  <span class="comment"># Ê∏ÖÁ©∫ÈòüÂàó</span></span><br><span class="line">queue.count(val)  <span class="comment"># ËøîÂõûÊåáÂÆöÂÖÉÁ¥†ÁöÑÂá∫Áé∞Ê¨°Êï∞</span></span><br><span class="line">queue.insert(val[, start[, stop]])  <span class="comment"># Âú®ÊåáÂÆö‰ΩçÁΩÆÊèíÂÖ•ÂÖÉÁ¥†</span></span><br><span class="line">queue.pop()  <span class="comment"># Ëé∑ÂèñÊúÄÂè≥Ëæπ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Âú®ÈòüÂàó‰∏≠Âà†Èô§</span></span><br><span class="line">queue.popleft()  <span class="comment"># Ëé∑ÂèñÊúÄÂ∑¶Ëæπ‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂπ∂Âú®ÈòüÂàó‰∏≠Âà†Èô§</span></span><br><span class="line">queue.reverse()  <span class="comment"># ÈòüÂàóÂèçËΩ¨</span></span><br><span class="line">queue.remove(val)  <span class="comment"># Âà†Èô§ÊåáÂÆöÂÖÉÁ¥†</span></span><br><span class="line">queue.rotate(n=<span class="number">1</span>)  <span class="comment"># ÊääÂè≥ËæπÂÖÉÁ¥†ÊîæÂà∞Â∑¶Ëæπ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">lst.sort(*, key=<span class="literal">None</span>, reverse=<span class="literal">False</span>)</span><br><span class="line">lst.append(val)  <span class="comment"># ‰πüÂèØ‰ª• lst = lst + [val]</span></span><br><span class="line">lst.clear()  <span class="comment"># Ê∏ÖÁ©∫ÂàóË°®</span></span><br><span class="line">lst.count(val)  <span class="comment"># val‰∏™Êï∞</span></span><br><span class="line">lst.pop(val=lst[<span class="number">-1</span>])  <span class="comment"># (ÈªòËÆ§)‰ªéÊú´Á´ØÁßªÈô§‰∏Ä‰∏™ÂÄº</span></span><br><span class="line">lst.remove(val)  <span class="comment"># ÁßªÈô§ val</span></span><br><span class="line">lst.reverse()  <span class="comment"># ÂèçËΩ¨</span></span><br><span class="line">lst.insert(i, val)  <span class="comment"># Âú® i Â§ÑÊèíÂÖ• val</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Â≠óÂÖ∏dict Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">d = defaultdict(<span class="keyword">lambda</span> : value) <span class="comment"># ÂèñÂà∞‰∏çÂ≠òÂú®ÁöÑÂÄºÊó∂‰∏ç‰ºöÊä•ÈîôÔºåÁî®&#123;&#125;Êó∂„ÄÅÈúÄË¶ÅËÆæÁΩÆgetÁöÑdefaultÂÄº</span></span><br><span class="line">pop(key[, default])  <span class="comment"># ÈÄöËøáÈîÆÂéªÂà†Èô§ÈîÆÂÄºÂØπ(Ëã•Ê≤°ÊúâËØ•ÈîÆÂàôËøîÂõûdefault(Ê≤°ÊúâËÆæÁΩÆdefaultÂàôÊä•Èîô))</span></span><br><span class="line">setdefault(key[, default])  <span class="comment"># ËÆæÁΩÆÈªòËÆ§ÂÄº</span></span><br><span class="line">update([other])  <span class="comment"># ÊâπÈáèÊ∑ªÂä†</span></span><br><span class="line">get(key[, default])  <span class="comment"># ÈÄöËøáÈîÆËé∑ÂèñÂÄº(Ëã•Ê≤°ÊúâËØ•ÈîÆÂèØËÆæÁΩÆÈªòËÆ§ÂÄº, È¢ÑÈò≤Êä•Èîô)</span></span><br><span class="line">clear()  <span class="comment"># Ê∏ÖÁ©∫Â≠óÂÖ∏</span></span><br><span class="line">keys()  <span class="comment"># Â∞ÜÂ≠óÂÖ∏ÁöÑÈîÆÁªÑÊàêÊñ∞ÁöÑÂèØËø≠‰ª£ÂØπË±°</span></span><br><span class="line">values()  <span class="comment"># Â∞ÜÂ≠óÂÖ∏‰∏≠ÁöÑÂÄºÁªÑÊàêÊñ∞ÁöÑÂèØËø≠‰ª£ÂØπË±°</span></span><br><span class="line">items()  <span class="comment"># Â∞ÜÂ≠óÂÖ∏ÁöÑÈîÆÂÄºÂØπÂáëÊàê‰∏Ä‰∏™‰∏™ÂÖÉÁªÑ, ÁªÑÊàêÊñ∞ÁöÑÂèØËø≠‰ª£ÂØπË±°</span></span><br><span class="line">dict1 = dict2 <span class="comment">#‰∏§‰∏™Â≠óÂÖ∏ÂÆåÂÖ®Áõ∏Á≠âÔºåÊªëÁ™óÊó∂ÂèØÁî®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ÈõÜÂêàset Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">s = set(<span class="keyword">lambda</span> : value)</span><br><span class="line">add(elem)  <span class="comment"># ÂêëÈõÜÂêà‰∏≠Ê∑ªÂä†Êï∞ÊçÆ</span></span><br><span class="line">update(*others)  <span class="comment"># Ëø≠‰ª£ÁùÄÂ¢ûÂä†</span></span><br><span class="line">clear()  <span class="comment"># Ê∏ÖÁ©∫ÈõÜÂêà</span></span><br><span class="line">discard(elem)  <span class="comment"># Âà†Èô§ÈõÜÂêà‰∏≠ÊåáÂÆöÁöÑÂÄº(‰∏çÂ≠òÂú®Âàô‰∏çÂà†Èô§)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Â†Üheapq Â∏∏ËßÅÂáΩÊï∞</span></span><br><span class="line">heap = []  <span class="comment"># Âª∫Â†Ü</span></span><br><span class="line">heapq.heappush(heap,item)  <span class="comment"># ÂæÄÂ†Ü‰∏≠ÊèíÂÖ•Êñ∞ÂÄº</span></span><br><span class="line">heapq.heappop(heap)  <span class="comment"># ÂºπÂá∫ÊúÄÂ∞èÁöÑÂÄº</span></span><br><span class="line">heap[<span class="number">0</span>]  <span class="comment"># Êü•ÁúãÂ†Ü‰∏≠ÊúÄÂ∞èÁöÑÂÄº, ‰∏çÂºπÂá∫</span></span><br><span class="line">heapq.heapify(x)  <span class="comment"># ‰ª•Á∫øÊÄßÊó∂Èó¥Â∞Ü‰∏Ä‰∏™ÂàóË°®ËΩ¨‰∏∫Â†Ü</span></span><br><span class="line">heapq.heappoppush(heap, item)  <span class="comment"># ÂºπÂá∫ÊúÄÂ∞èÁöÑÂÄº.Âπ∂‰∏îÂ∞ÜÊñ∞ÁöÑÂÄºÊèíÂÖ•ÂÖ∂‰∏≠.</span></span><br><span class="line">heapq.merge(*iterables, key=<span class="literal">None</span>, reverse=<span class="literal">False</span>)  <span class="comment"># Â∞ÜÂ§ö‰∏™Â†ÜËøõË°åÂêàÂπ∂</span></span><br><span class="line">heapq.nlargest(n, iterable, key=<span class="literal">None</span>)  <span class="comment"># ‰ªéÂ†Ü‰∏≠ÊâæÂá∫ÊúÄÂ§ßÁöÑ n ‰∏™Êï∞ÔºåkeyÁöÑ‰ΩúÁî®Âíåsorted( )ÊñπÊ≥ïÈáåÈù¢ÁöÑkeyÁ±ª‰ºº, Áî®ÂàóË°®ÂÖÉÁ¥†ÁöÑÊüê‰∏™Â±ûÊÄßÂíåÂáΩÊï∞‰Ωú‰∏∫ÂÖ≥ÈîÆÂ≠ó</span></span><br><span class="line">heapq.nsmallest(n, iterable, key=<span class="literal">None</span>)  <span class="comment"># ‰ªéÂ†Ü‰∏≠ÊâæÂá∫ÊúÄÂ∞èÁöÑ n ‰∏™Êï∞, ‰∏é nlargest Áõ∏Âèç</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ‰∫åÂàÜÊü•ÊâæÂáΩÊï∞</span></span><br><span class="line">bisect.bisect_left(ps, T, L=<span class="number">0</span>, R=len(ns))  <span class="comment">#‰∫åÂàÜÂ∑¶ËæπÁïå</span></span><br><span class="line">bisect.bisect_right(ps, T, L=<span class="number">0</span>, R=len(ns)) <span class="comment">#‰∫åÂàÜÂè≥ËæπÁïå</span></span><br><span class="line">bisect.insort_left(a, x, lo=<span class="number">0</span>, hi=len(a))  <span class="comment"># ‰∫åÂàÜÊèíÂÖ•Âà∞Â∑¶‰æß</span></span><br><span class="line">bisect.insort_right(a, x, lo=<span class="number">0</span>, hi=len(a)) <span class="comment"># ‰∫åÂàÜÊèíÂÖ•Âà∞Âè≥‰æß</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># bitÊìç‰Ωú</span></span><br><span class="line">&amp; Á¨¶Âè∑Ôºåx &amp; y Ôºå‰ºöÂ∞Ü‰∏§‰∏™ÂçÅËøõÂà∂Êï∞Âú®‰∫åËøõÂà∂‰∏ãËøõË°å‰∏éËøêÁÆó</span><br><span class="line">| Á¨¶Âè∑Ôºåx | y Ôºå‰ºöÂ∞Ü‰∏§‰∏™ÂçÅËøõÂà∂Êï∞Âú®‰∫åËøõÂà∂‰∏ãËøõË°åÊàñËøêÁÆó</span><br><span class="line">^ Á¨¶Âè∑Ôºåx ^ y Ôºå‰ºöÂ∞Ü‰∏§‰∏™ÂçÅËøõÂà∂Êï∞Âú®‰∫åËøõÂà∂‰∏ãËøõË°åÂºÇÊàñËøêÁÆó</span><br><span class="line">&lt;&lt; Á¨¶Âè∑Ôºåx &lt;&lt; y Â∑¶ÁßªÊìç‰ΩúÔºåÊúÄÂè≥ËæπÁî® <span class="number">0</span> Â°´ÂÖÖ</span><br><span class="line">&gt;&gt; Á¨¶Âè∑Ôºåx &gt;&gt; y Âè≥ÁßªÊìç‰ΩúÔºåÊúÄÂ∑¶ËæπÁî® <span class="number">0</span> Â°´ÂÖÖ</span><br><span class="line">~ Á¨¶Âè∑Ôºå~x ÔºåÊåâ‰ΩçÂèñÂèçÊìç‰ΩúÔºåÂ∞Ü x Âú®‰∫åËøõÂà∂‰∏ãÁöÑÊØè‰∏Ä‰ΩçÂèñÂèç</span><br><span class="line"></span><br><span class="line"><span class="comment"># Êï¥Êï∞ÈõÜÂêàset‰ΩçËøêÁÆó</span></span><br><span class="line"><span class="comment"># Êï¥Êï∞ÈõÜÂêàÂÅöÊ†áÂøóÊó∂ÔºåÂèØ‰ª•ÂÅöÂèÇÊï∞Âä†ÈÄüËøêÁÆó</span></span><br><span class="line">vstd ËÆøÈóÆ i Ôºövstd | (<span class="number">1</span> &lt;&lt; i)</span><br><span class="line">vstd Á¶ªÂºÄ i Ôºövstd &amp; ~(<span class="number">1</span> &lt;&lt; i)</span><br><span class="line">vstd ‰∏çÂåÖÂê´ i : <span class="keyword">not</span> vstd &amp; (<span class="number">1</span> &lt;&lt; i)</span><br><span class="line"></span><br><span class="line">Âπ∂ÈõÜ ÔºöA | B</span><br><span class="line">‰∫§ÈõÜ ÔºöA &amp; B</span><br><span class="line">ÂÖ®ÈõÜ Ôºö(<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span></span><br><span class="line">Ë°•ÈõÜ Ôºö((<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>) ^ A</span><br><span class="line">Â≠êÈõÜ Ôºö(A &amp; B) == B</span><br><span class="line">Âà§Êñ≠ÊòØÂê¶ÊòØ <span class="number">2</span> ÁöÑÂπÇ ÔºöA &amp; (A - <span class="number">1</span>) == <span class="number">0</span></span><br><span class="line">ÊúÄ‰Ωé‰ΩçÁöÑ <span class="number">1</span> Âèò‰∏∫ <span class="number">0</span> Ôºön &amp;= (n - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            n &amp;= n - <span class="number">1</span></span><br><span class="line">            ret += <span class="number">1</span></span><br><span class="line">ÊúÄ‰Ωé‰ΩçÁöÑ <span class="number">1</span>ÔºöA &amp; (-A)ÔºåÊúÄ‰Ωé‰ΩçÁöÑ <span class="number">1</span> ‰∏ÄËà¨ËÆ∞‰∏∫ lowbit(A)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ^     ÔºöÂåπÈÖçÂ≠óÁ¨¶‰∏≤ÂºÄÂ§¥</span></span><br><span class="line"><span class="comment"># [\+\-]Ôºö‰ª£Ë°®‰∏Ä‰∏™+Â≠óÁ¨¶Êàñ-Â≠óÁ¨¶</span></span><br><span class="line"><span class="comment"># ?     ÔºöÂâçÈù¢‰∏Ä‰∏™Â≠óÁ¨¶ÂèØÊúâÂèØÊó†</span></span><br><span class="line"><span class="comment"># \d    Ôºö‰∏Ä‰∏™Êï∞Â≠ó</span></span><br><span class="line"><span class="comment"># +     ÔºöÂâçÈù¢‰∏Ä‰∏™Â≠óÁ¨¶ÁöÑ‰∏Ä‰∏™ÊàñÂ§ö‰∏™</span></span><br><span class="line"><span class="comment"># \D    Ôºö‰∏Ä‰∏™ÈùûÊï∞Â≠óÂ≠óÁ¨¶</span></span><br><span class="line"><span class="comment"># *     ÔºöÂâçÈù¢‰∏Ä‰∏™Â≠óÁ¨¶ÁöÑ0‰∏™ÊàñÂ§ö‰∏™</span></span><br><span class="line">matches = re.match(<span class="string">'[ ]*([+-]?\d+)'</span>, s)</span><br></pre></td></tr></table></figure><h3 id="„ÄêËÉåÂåÖÊ®°Êùø„Äë"><a href="#„ÄêËÉåÂåÖÊ®°Êùø„Äë" class="headerlink" title="„ÄêËÉåÂåÖÊ®°Êùø„Äë"></a>„ÄêËÉåÂåÖÊ®°Êùø„Äë</h3><p><strong>„ÄåÂäõÊâ£„Äç‰∏äÁöÑ 0-1 ËÉåÂåÖÈóÆÈ¢òÔºö</strong></p><ul><li><p>ÁªÑÂêàÈóÆÈ¢òÊ®°Êùø</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#0-1ËÉåÂåÖÔºå‰∏çÂèØÈáçÂ§ç</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> ns:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(T, n<span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">        dp[i] = max(dp[i], dp[i - n] + ws[i])</span><br><span class="line"><span class="comment">#ÂÆåÂÖ®ËÉåÂåÖÔºåÂèØÈáçÂ§çÔºåÊó†Â∫èÔºåÁÆóÈáçÈáè</span></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> ns:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n, T+<span class="number">1</span>):</span><br><span class="line">        dp[i] = max(dp[i], dp[i - n] + ws[i])</span><br><span class="line"><span class="comment">#ÂÆåÂÖ®ËÉåÂåÖÔºåÂèØÈáçÂ§çÔºåÊúâÂ∫èÔºåÁÆóÊ¨°Êï∞     </span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, T+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> ns:</span><br><span class="line">dp[i] += dp[i-n]</span><br></pre></td></tr></table></figure><p><strong>‚úÖ377</strong> ÁªÑÂêàÊÄªÂíå ‚Ö£<br>‚úÖ<strong>494</strong> ÁõÆÊ†áÂíå<br>‚úÖ<strong>518</strong> Èõ∂Èí±ÂÖëÊç¢ II</p></li><li><p>True„ÄÅFalseÈóÆÈ¢ò</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dp[i] |= dp[i-num]</span><br></pre></td></tr></table></figure><p><strong>‚úÖ139</strong> ÂçïËØçÊãÜÂàÜ<br><strong>‚úÖ416</strong> ÂàÜÂâ≤Á≠âÂíåÂ≠êÈõÜ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ÁâπÊÆäÁöÑÂèØ‰ª•‰ΩøÁî®bitÊï∞ÁªÑ</span></span><br></pre></td></tr></table></figure></li><li><p>ÊúÄÂ§ßÊúÄÂ∞èÈóÆÈ¢òÔºö</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dp[i] = min(dp[i], dp[i-num]+<span class="number">1</span>)</span><br><span class="line">dp[i] = max(dp[i], dp[i-num]+<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>‚úÖ<strong>474</strong> ‰∏ÄÂíåÈõ∂<br>‚úÖ<strong>322</strong> Èõ∂Èí±ÂÖëÊç¢</p></li></ul><p>„ÄåÂäõÊâ£„ÄçÁ¨¨ <strong>879</strong> È¢òÔºöÁõàÂà©ËÆ°ÂàíÔºàÂõ∞ÈöæÔºâÔºõ<br>„ÄåÂäõÊâ£„ÄçÁ¨¨ <strong>1449</strong> È¢òÔºöÊï∞‰ΩçÊàêÊú¨Âíå‰∏∫ÁõÆÊ†áÂÄºÁöÑÊúÄÂ§ßÊï∞Â≠óÔºàÂõ∞ÈöæÔºâ„ÄÇ</p><h3 id="„ÄêÂõûÊ∫ØÊ®°Êùø„Äë"><a href="#„ÄêÂõûÊ∫ØÊ®°Êùø„Äë" class="headerlink" title="„ÄêÂõûÊ∫ØÊ®°Êùø„Äë"></a>„ÄêÂõûÊ∫ØÊ®°Êùø„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÂõûÊ∫ØÁÆóÊ≥ïÔºåÂ§çÊùÇÂ∫¶ËæÉÈ´ò2^nÊàñËÄÖNÔºÅÔºåÂõ†‰∏∫ÂõûÊ∫ØÁÆóÊ≥ïÂ∞±ÊòØÊö¥ÂäõÁ©∑‰∏æÔºåÂèØÁî®lruÂâ™Êûù</span></span><br><span class="line"><span class="meta">@functools.lru_cache(None)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(Ë∑ØÂæÑ, ÈÄâÊã©ÂàóË°®)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> Êª°Ë∂≥ÁªìÊùüÊù°‰ª∂:</span><br><span class="line">        ÁªìÊûú.append(Ë∑ØÂæÑ)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">for</span> ÈÄâÊã© <span class="keyword">in</span> ÈÄâÊã©ÂàóË°®:    <span class="comment"># Ê†∏ÂøÉ‰ª£Á†ÅÊÆµ</span></span><br><span class="line">      <span class="keyword">if</span> vst[i]:   <span class="comment"># ËæÖÂä©Êï∞ÁªÑÔºåÂáèÊûù</span></span><br><span class="line">          <span class="keyword">continue</span></span><br><span class="line">        ÂÅöÂá∫ÈÄâÊã©</span><br><span class="line">        ÈÄíÂΩíÊâßË°åbacktrack</span><br><span class="line">        Êí§ÈîÄÈÄâÊã©</span><br></pre></td></tr></table></figure><p>„Äå<strong>Ââ™Êûù</strong>„ÄçÁ¨¨ <strong>46</strong> È¢ò ÂÖ®ÊéíÂàó Á¨¨ <strong>47</strong> È¢ò ÂÖ®ÊéíÂàó‚ë°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ââ™Êûù</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(temp_list, length)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> length == n:</span><br><span class="line">      res.append(temp_list)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> visited[i]:</span><br><span class="line">          visited[i] = <span class="number">1</span></span><br><span class="line">          backtrack(temp_list + [nums[i]], length + <span class="number">1</span>)</span><br><span class="line">          visited[i] = <span class="number">0</span></span><br></pre></td></tr></table></figure><p>„Äå<strong>Á¥¢ÂºïÈÅçÂéÜ</strong>„ÄçÁ¨¨ <strong>78</strong> È¢ò Â≠êÈõÜ | Á¨¨ <strong>47</strong> È¢ò Â≠êÈõÜ‚ë° | Á¨¨ <strong>131</strong> È¢ò ÂàÜÂâ≤Â≠óÁ¨¶‰∏≤</p><pre><code>Á¨¨ **39 **È¢ò ÁªÑÂêà | Á¨¨ **40** È¢ò ÁªÑÂêà‚ë°  | Á¨¨ **216** È¢ò ÁªÑÂêà‚ë¢</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¥¢ÂºïÈÅçÂéÜ</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">helper1</span><span class="params">(idx, n, temp_list)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> temp_list <span class="keyword">not</span> <span class="keyword">in</span> res:</span><br><span class="line">    res.append(temp_list)</span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(idx, n):</span><br><span class="line">    helper1(i + <span class="number">1</span>, n, temp_list + [nums[i]])</span><br></pre></td></tr></table></figure><p>„Äå <strong>ËµÑÊ∫êÊ∂àËÄó</strong>„ÄçÁ¨¨ <strong>22</strong> È¢ò Â§∏Âè∑ÁîüÊàê</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ËµÑÊ∫êÊ∂àËÄó</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(S, L, R)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> L <span class="keyword">and</span> <span class="keyword">not</span> R:</span><br><span class="line">    ans.append(<span class="string">''</span>.join(S))</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  <span class="keyword">if</span> L :     backtrack(S + [<span class="string">'('</span>], L<span class="number">-1</span>, R)</span><br><span class="line">  <span class="keyword">if</span> R &gt; L : backtrack(S + [<span class="string">')'</span>], L, R<span class="number">-1</span>)</span><br></pre></td></tr></table></figure><p>„Äå<strong>ËµÑÊ∫êÊ∂àËÄó</strong>„ÄçÁ¨¨ <strong>93</strong> È¢ò Â§çÂéüIP</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ËµÑÊ∫êÊ∂àËÄó</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(i, tmp, flag)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> i == n <span class="keyword">and</span> flag == <span class="number">0</span>:</span><br><span class="line">    res.append(tmp[:<span class="number">-1</span>])</span><br><span class="line">  <span class="keyword">elif</span> i&lt;n <span class="keyword">and</span> s[i] == <span class="string">'0'</span>:</span><br><span class="line">    backtrack(i + <span class="number">1</span>, tmp + s[i] + <span class="string">"."</span>, flag - <span class="number">1</span>)</span><br><span class="line">  <span class="keyword">elif</span> flag :</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i, min(n,i + <span class="number">3</span>)):</span><br><span class="line">      <span class="keyword">if</span> <span class="number">0</span> &lt; int(s[i:j + <span class="number">1</span>]) &lt;= <span class="number">255</span>:</span><br><span class="line">        backtrack(j + <span class="number">1</span>, tmp + s[i:j + <span class="number">1</span>] + <span class="string">"."</span>, flag - <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>„Äå<strong>ËµÑÊ∫êÊ∂àËÄó</strong>„ÄçÁ¨¨ <strong>17</strong> È¢ò ÁîµËØùÂè∑Á†Å</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ËµÑÊ∫êÊ∂àËÄó</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(path, remains)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> remains:</span><br><span class="line">    res.append(path[:])</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(len(remains)):</span><br><span class="line">    dfs(path + [remains[i]], remains[:i] + remains[i+<span class="number">1</span>:])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Â•óÊ®°Êùø</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(pth,idx)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> idx == len(ds):</span><br><span class="line">        res.append(pth)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> dic[ds[idx]]:</span><br><span class="line">        dfs(pth + c, idx + <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>„Äå<strong>Â§öÈáçÈôêÂà∂</strong>„ÄçÁ¨¨ <strong>37</strong> È¢ò Ëß£Êï∞Áã¨  | Á¨¨ <strong>51</strong> È¢ò NÁöáÂêé</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Â§öÈáçÈôêÂà∂</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">backtrack</span><span class="params">(pos)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> pos == n:</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">  i, j = empty[pos]</span><br><span class="line">  <span class="keyword">for</span> num <span class="keyword">in</span> row[i] &amp; col[j] &amp; block[bidx(i, j)]:</span><br><span class="line">    row[i].remove(num)</span><br><span class="line">    col[j].remove(num)</span><br><span class="line">    block[bidx(i, j)].remove(num)</span><br><span class="line">    board[i][j] = str(num)</span><br><span class="line">    <span class="keyword">if</span> backtrack(pos + <span class="number">1</span>): <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    row[i].add(num)</span><br><span class="line">    col[j].add(num)</span><br><span class="line">    block[bidx(i, j)].add(num)</span><br></pre></td></tr></table></figure><p>„Äå<strong>ÈÄíÂΩí</strong>„ÄçÁ¨¨ <strong>10</strong> È¢ò Ê≠£ÂàôÂåπÈÖç</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÈÄíÂΩí</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isMatch</span><span class="params">(self, s: str, p: str)</span> -&gt; bool:</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> p:</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">not</span> s</span><br><span class="line">  f = bool(s <span class="keyword">and</span> p[<span class="number">0</span>] <span class="keyword">in</span> &#123;s[<span class="number">0</span>],<span class="string">'.'</span>&#125;)</span><br><span class="line">  <span class="keyword">if</span> len(p) &gt;= <span class="number">2</span> <span class="keyword">and</span> p[<span class="number">1</span>] == <span class="string">"*"</span>:</span><br><span class="line">    <span class="keyword">return</span> self.isMatch(s, p[<span class="number">2</span>:]) <span class="keyword">or</span> f <span class="keyword">and</span> self.isMatch(s[<span class="number">1</span>:], p)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">return</span> f <span class="keyword">and</span> self.isMatch(s[<span class="number">1</span>:], p[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure><h3 id="„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë"><a href="#„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë" class="headerlink" title="„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë"></a>„ÄêÂπ∂Êü•ÈõÜÊ®°Êùø„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#ËôöÊãüËäÇÁÇπÁî®‰ª•ËøûÊé•Êüê‰∏ÄÁâπÂæÅÁöÑÂÖ®ÈÉ®ËäÇÁÇπÔºåÁ±ª‰ºº‰∫éÈìæË°®ÁöÑpreHead</span></span><br><span class="line">dummy</span><br><span class="line">parent = &#123;&#125;</span><br><span class="line">size = collections.defaultdict(<span class="keyword">lambda</span>:<span class="number">1</span>)</span><br><span class="line">cnt = <span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find</span><span class="params">(x)</span>:</span></span><br><span class="line">    parent.setdefault(x,x)</span><br><span class="line">    <span class="keyword">while</span> x != parent[x]:</span><br><span class="line">        x = parent[x]</span><br><span class="line">        <span class="comment">#Ë∑ØÂæÑÂéãÁº© parent[x] = parent[parent[x]];</span></span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(x,y)</span>:</span></span><br><span class="line">    <span class="keyword">nonlocal</span> cnt</span><br><span class="line">    <span class="keyword">if</span> connected(x,y): <span class="keyword">return</span></span><br><span class="line">    <span class="comment"># Â∞èÁöÑÊ†ëÊåÇÂà∞Â§ßÁöÑÊ†ë‰∏äÔºå ‰ΩøÊ†ëÂ∞ΩÈáèÂπ≥Ë°°</span></span><br><span class="line">    xP = find(x)</span><br><span class="line">    yP = find(y)</span><br><span class="line">    <span class="keyword">if</span> size[hP] &lt; size[yP]:</span><br><span class="line">        parent[xP] = yP</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        parent[yP] = xP</span><br><span class="line">    size[xP] += size[yP]</span><br><span class="line">    <span class="comment"># ‰ºòÂåñÁªìÊùü</span></span><br><span class="line">    parent[find(x)] = find(y)</span><br><span class="line">    <span class="comment"># ‰∏ç‰ºòÂåñ</span></span><br><span class="line">    cnt -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> size[xP]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connected</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> find(x) == find(y)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self,x)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> parent:</span><br><span class="line">        parent[x] = <span class="literal">None</span></span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line"><span class="comment"># Ê£ÄÊü•ÊòØÂê¶ÊúâÁéØ</span></span><br><span class="line"><span class="keyword">for</span> a, b <span class="keyword">in</span> edges:</span><br><span class="line">    <span class="keyword">if</span> connected(a, b):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    union(a, b)</span><br><span class="line"><span class="comment"># Â∞ÜÊØè‰∏™ÈõÜÂêàÁªÑÊàê‰ª•Â§¥‰∏∫keyÁöÑÂ≠óÂÖ∏</span></span><br><span class="line">res = collections.defaultdict(list)</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> e2n:</span><br><span class="line">    res[uf.find(e)].append(e)</span><br></pre></td></tr></table></figure><h3 id="„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë"><a href="#„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë" class="headerlink" title="„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë"></a>„ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># „ÄêÊãìÊâëÊéíÂ∫èÊ®°Êùø„Äë</span></span><br><span class="line">ins = [<span class="number">0</span>] * n</span><br><span class="line">ous = collections.defaultdict(list)</span><br><span class="line"><span class="keyword">for</span> cur, pre <span class="keyword">in</span> ps:</span><br><span class="line">    ins[cur] += <span class="number">1</span>  <span class="comment">#ÂÖ•Â∫¶</span></span><br><span class="line">    ous[pre].append(cur)<span class="comment">#Âá∫Â∫¶</span></span><br><span class="line">res = list(filter(<span class="keyword">lambda</span> x:ins[x]==<span class="number">0</span>, range(n)))</span><br><span class="line">q = collections.deque(res)</span><br><span class="line"><span class="keyword">while</span> q:</span><br><span class="line">    pre = q.popleft()</span><br><span class="line">    <span class="keyword">for</span> cur <span class="keyword">in</span> ous[pre]:   <span class="comment">#ÈáäÊîæÂá∫Â∫¶ÈòüÂàó</span></span><br><span class="line">        ins[cur] -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> ins[cur]:</span><br><span class="line">            q.append(cur)  <span class="comment">#ÂÖ•Â∫¶‰∏∫0Ëß£ÈîÅ</span></span><br><span class="line">            res.append(cur)</span><br></pre></td></tr></table></figure><h3 id="„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë"><a href="#„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë" class="headerlink" title="„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë"></a><strong>„ÄêÂçïË∞ÉÊ†àÊ®°Êùø„Äë</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># s‰∏≠‰∏ÄËà¨Â≠òÁ¥¢Âºï</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(ns):</span><br><span class="line">    <span class="keyword">while</span> stack <span class="keyword">and</span> ns[stack[<span class="number">-1</span>]] &lt;= ns[i]: <span class="comment"># ÂçïË∞ÉÈÄíÂáèÊ†à</span></span><br><span class="line">        stack.pop()</span><br><span class="line">    <span class="comment"># ‰∏öÂä°ÈÄªËæë</span></span><br><span class="line">    stack.append(i)</span><br></pre></td></tr></table></figure><p>„Äå<strong>ÂçïË∞ÉÈÄíÂ¢û</strong>„ÄçÁ¨¨ <strong>84</strong> È¢ò Ê±ÇÊúÄÂ§ßÁü©ÂΩ¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¨¨ **84** È¢ò Ê±ÇÊúÄÂ§ßÁü©ÂΩ¢</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(hs)):</span><br><span class="line">    <span class="keyword">while</span> s <span class="keyword">and</span> hs[i] &lt; hs[s[<span class="number">-1</span>]]:</span><br><span class="line">        base = s.pop()</span><br><span class="line">        <span class="keyword">if</span> s:</span><br><span class="line">            H = hs[base]</span><br><span class="line">            W = i - s[<span class="number">-1</span>] - <span class="number">1</span> <span class="comment"># ÂΩìÂâçÂºπÂá∫ÁöÑÂÅöÈ´òÔºåÂΩìÂâç‰∏éÊ¨°Â∞èÂÅöÂÆΩ</span></span><br><span class="line">            res = max(res, H * W)</span><br><span class="line">    s.append(i)</span><br></pre></td></tr></table></figure><p>„Äå<strong>ÂçïË∞ÉÈÄíÂ¢û,ËÄÉËôëÂâ©‰Ωô</strong>„ÄçÁ¨¨ <strong>316</strong> È¢ò ÂéªÈô§ÈáçÂ§çÂ≠óÁ¨¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¨¨ **316** È¢ò ÂéªÈô§ÈáçÂ§çÂ≠óÁ¨¶</span></span><br><span class="line"><span class="keyword">for</span> i,c <span class="keyword">in</span> enumerate(ss):</span><br><span class="line">    <span class="keyword">if</span> c <span class="keyword">not</span> <span class="keyword">in</span> s:</span><br><span class="line">        <span class="keyword">while</span> s <span class="keyword">and</span> c &lt; s[<span class="number">-1</span>] <span class="keyword">and</span> s[<span class="number">-1</span>] <span class="keyword">in</span> ss[i:]:</span><br><span class="line">            s.pop()</span><br><span class="line">        s.append(c)</span><br></pre></td></tr></table></figure><p>„Äå<strong>ÂçïË∞ÉÈÄíÂáè</strong>„ÄçÁ¨¨ <strong>42</strong> È¢ò Êé•Èõ®Ê∞¥</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¨¨ **42** È¢ò Êé•Èõ®Ê∞¥</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(hgt)):</span><br><span class="line">    <span class="keyword">while</span> stack <span class="keyword">and</span> hgt[i] &gt; hgt[stack[<span class="number">-1</span>]]: <span class="comment">#ÈÄíÂáèÊ†à</span></span><br><span class="line">        base = stack.pop()</span><br><span class="line">        <span class="keyword">if</span> stack:</span><br><span class="line">            LH = hgt[stack[<span class="number">-1</span>]]</span><br><span class="line">            W = i - stack[<span class="number">-1</span>] - <span class="number">1</span></span><br><span class="line">            H = min(LH,hgt[i]) - hgt[base]</span><br><span class="line">            res += W * H</span><br><span class="line">    stack.append(i)</span><br></pre></td></tr></table></figure><p>„Äå<strong>ÂçïË∞ÉÈÄíÂáè</strong>„ÄçÁ¨¨ <strong>739</strong> È¢ò ÊØèÊó•Ê∏©Â∫¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¨¨ **739** È¢ò ÊØèÊó•Ê∏©Â∫¶</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(T)<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">    <span class="keyword">while</span> s <span class="keyword">and</span> T[s[<span class="number">-1</span>]] &lt;= T[i] :   <span class="comment">#ÈÄíÂáèÊ†à</span></span><br><span class="line">        s.pop()</span><br><span class="line">    res[i] = s[<span class="number">-1</span>] - i <span class="keyword">if</span> s <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">    s.append(i)</span><br></pre></td></tr></table></figure><h3 id="„Äê‰∫åÂàÜÊ®°Êùø„Äë"><a href="#„Äê‰∫åÂàÜÊ®°Êùø„Äë" class="headerlink" title="„Äê‰∫åÂàÜÊ®°Êùø„Äë"></a>„Äê‰∫åÂàÜÊ®°Êùø„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1355579 T=5 =&gt; 13(5)55579 ËøîÂõû2</span></span><br><span class="line"><span class="comment"># ps[i-1] &lt; ps[i] &lt;= ps[i+1]</span></span><br><span class="line">bisect.bisect_left(ps, T, L=<span class="number">0</span>, R=len(ns))  </span><br><span class="line"><span class="comment"># 1355579 T=5 =&gt; 13555(5)79 ËøîÂõû5</span></span><br><span class="line"><span class="comment"># ps[i-1] &lt;= ps[i] &lt; ps[i+1]</span></span><br><span class="line">bisect.bisect_right(ps, T, L=<span class="number">0</span>, R=len(ns))  </span><br><span class="line">bisect.bisect(ps, T, L=<span class="number">0</span>, R=len(ns))</span><br></pre></td></tr></table></figure><p>„Äå<strong>‰∏≠‰ΩçËøîÂõû</strong>„ÄçÁ¨¨ <strong>33</strong> È¢ò ÊêúÁ¥¢ÊóãËΩ¨ÊéíÂ∫èÊï∞ÁªÑ | Á¨¨<strong>374</strong>È¢ò ÁåúÊï∞Â≠óÂ§ßÂ∞è | Á¨¨<strong>69</strong>È¢ò  xÂπ≥ÊñπÊ†π</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ‰∏≠‰ΩçËøîÂõû</span></span><br><span class="line"><span class="keyword">while</span> L &lt;= R:</span><br><span class="line">    M = (L + R) // <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> nums[M] == T:</span><br><span class="line">        <span class="keyword">return</span> M</span><br><span class="line">    <span class="keyword">elif</span> nums[M] &lt; T:</span><br><span class="line">        L = M + <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        R = M - <span class="number">1</span></span><br></pre></td></tr></table></figure><p>„Äå<strong>Âå∫ÂüüÂéãÁº©</strong>„ÄçÁ¨¨<strong>278</strong>È¢ò Á¨¨‰∏Ä‰∏™ÈîôËØØÁâàÊú¨| Á¨¨<strong>162</strong>È¢ò ÂØªÊâæÂ≥∞ÂÄº | Á¨¨<strong>153</strong>È¢ò ÂØªÊâæÊï∞ÁªÑÊúÄÂ∞èÂÄº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Âå∫ÂüüÂéãÁº©</span></span><br><span class="line"><span class="keyword">while</span> L &lt; R:</span><br><span class="line">    M = (L + R) // <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> need <span class="keyword">in</span> s[L:M]:</span><br><span class="line">        R = M</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        L = M + <span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë"><a href="#„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë" class="headerlink" title="„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë"></a>„ÄêÂä®ÊÄÅËßÑÂàíÊ®°Êùø„Äë</h3><h4 id="„ÄåÂçï‰∏≤ÈóÆÈ¢ò„Äç"><a href="#„ÄåÂçï‰∏≤ÈóÆÈ¢ò„Äç" class="headerlink" title="„ÄåÂçï‰∏≤ÈóÆÈ¢ò„Äç"></a>„Äå<strong>Âçï‰∏≤ÈóÆÈ¢ò</strong>„Äç</h4><ul><li>70 Áà¨Ê•ºÊ¢ØÈóÆÈ¢ò</li><li>801 ‰ΩøÂ∫èÂàóÈÄíÂ¢ûÁöÑÊúÄÂ∞è‰∫§Êç¢Ê¨°Êï∞</li><li>746 ‰ΩøÁî®ÊúÄÂ∞èËä±Ë¥πÁà¨Ê•ºÊ¢Ø</li><li>300 ÊúÄÈïø‰∏äÂçáÂ≠êÂ∫èÂàó</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ‰æùËµñÂâçÂçï‰∏™ÂÖÉÁ¥†</span></span><br><span class="line">dp[i] = dp[i<span class="number">-1</span>] + ns[i]</span><br><span class="line"><span class="comment"># ‰æùËµñÂâçÈÉ®Âå∫ÂüüÂÖÉÁ¥†</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i)</span><br><span class="line">        dp[i] = min(dp[i], f(dp[j])</span><br></pre></td></tr></table></figure><h4 id="„ÄåÂçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò„Äç"><a href="#„ÄåÂçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò„Äç" class="headerlink" title="„ÄåÂçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò„Äç"></a>„Äå<strong>Âçï‰∏≤Âä†Áä∂ÊÄÅÈóÆÈ¢ò</strong>„Äç</h4><ul><li><p>887 È∏°ËõãÊéâËêΩ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># È∏°ËõãÊéâËêΩ</span></span><br><span class="line"><span class="keyword">while</span> cur[K] &lt; N:             <span class="comment"># ËøòÂâ© j ‰∏™Ëõã Êµã ans Ê¨° Ë¶ÜÁõñÂ§öÂ∞ëÂ±Ç</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, K + <span class="number">1</span>): <span class="comment"># Ë¶ÜÁõñÊÄªÂ±ÇÊï∞ Á¢é‰∫Ü -1 Ê¨°Â±ÇÊï∞ + 1 + Ê≤°Á¢é -1 Ê¨°Â±ÇÊï∞</span></span><br><span class="line">        cur[j] = prev[j - <span class="number">1</span>] + <span class="number">1</span> + prev[j]</span><br><span class="line">    ans += <span class="number">1</span></span><br><span class="line">    prev = copy.deepcopy(cur)</span><br></pre></td></tr></table></figure></li><li><p>813 ÊúÄÂ§ßÂπ≥ÂùáÂÄºÂàÜÁªÑ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 813 ÊúÄÂ§ßÂπ≥ÂùáÂÄºÂàÜÁªÑ</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(K<span class="number">-1</span>):            <span class="comment">#Âæ™ÁéØkÊ¨°</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(N):          <span class="comment">#ÊØèÊ¨°Âùá‰æùËµñ‰∏äÊ¨°ÁöÑÁªìÊûú</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, N):</span><br><span class="line">            dp[i] = max(dp[i], avrg(i, j) + dp[j])</span><br></pre></td></tr></table></figure></li><li><p>410 ÂàÜÂâ≤Êï∞ÁªÑÊúÄÂ§ßÂÄº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 410 ÂàÜÂâ≤Êï∞ÁªÑÊúÄÂ§ßÂÄº</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> range(<span class="number">1</span>,K):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(N):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i):</span><br><span class="line">            <span class="comment"># 0~i‰∏≠ÂàÜ k ÊÆµÊúÄÂ§ß Âç≥‰∏∫</span></span><br><span class="line">            <span class="comment"># 0~j‰∏≠ÂàÜk-1ÊÆµÊúÄÂ§ß Âíå jÂà∞iÁöÑÂâçÁºÄÂíåÁöÑÊúÄÂ§ß</span></span><br><span class="line">            dp[i][k] = min(dp[i][k], max(dp[j][k<span class="number">-1</span>], ps[i+<span class="number">1</span>] - ps[j+<span class="number">1</span>]))</span><br></pre></td></tr></table></figure></li></ul><h4 id="„ÄåÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò„Äç"><a href="#„ÄåÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò„Äç" class="headerlink" title="„ÄåÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò„Äç"></a>„Äå<strong>ÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò</strong>„Äç</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÁªèÂÖ∏Âèå‰∏≤LCSÈóÆÈ¢ò</span></span><br><span class="line">dp = [[<span class="number">0</span>] * (M+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(N+<span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(N):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(M):</span><br><span class="line">        <span class="keyword">if</span> t1[i] == t2[j] : dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = dp[i][j] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span> : dp[i+<span class="number">1</span>][j+<span class="number">1</span>] = max(dp[i][j+<span class="number">1</span>],dp[i+<span class="number">1</span>][j])</span><br></pre></td></tr></table></figure><h4 id="„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç"><a href="#„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç" class="headerlink" title="„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç"></a>„ÄåÂå∫Èó¥Âä®ÊÄÅËßÑÂàí„Äç</h4><ul><li>5 ÊúÄÈïøÂõûÊñáÂ≠ê‰∏≤</li><li>647 ÊúÄÂ§öÂõûÊñáÂ≠ê‰∏≤</li><li>516 ÊúÄÈïøÂõûÊñáÂ≠êÂ∫èÂàó</li><li>1312 ÊúÄÈïøÂõûÊñáÊèíÂÖ•Ê¨°Êï∞</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dp[i][j] ‰ª£Ë°®‰ªé i Âà∞ j ÁöÑÊúÄÈïøÂ≠ê‰∏≤Êª°Ë∂≥Êù°‰ª∂ÁöÑÊï∞Èáè</span></span><br><span class="line"><span class="comment"># i-- &lt; j++  ==&gt; i Âú® 0~j ËåÉÂõ¥ÂÜÖ --</span></span><br><span class="line">dp = [[<span class="number">0</span>] * (N) <span class="keyword">for</span> _ <span class="keyword">in</span> range(N)]</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(N):</span><br><span class="line">    dp[j][j] = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(j<span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span>):</span><br><span class="line">        <span class="keyword">if</span> ss[i] == ss[j]:</span><br><span class="line">            dp[i][j] = dp[i+<span class="number">1</span>][j<span class="number">-1</span>] +<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span> :</span><br><span class="line">            dp[i][j] = max(dp[i+<span class="number">1</span>][j],dp[i][j<span class="number">-1</span>])</span><br></pre></td></tr></table></figure><h4 id="„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç"><a href="#„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç" class="headerlink" title="„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç"></a><strong>„ÄåÂå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí„Äç</strong></h4><p><a href="https://leetcode-cn.com/problems/predict-the-winner/" target="_blank" rel="noopener">486 È¢ÑÊµãËµ¢ÂÆ∂</a></p><p><a href="***https://leetcode-cn.com/problems/burst-balloons/***">312 Êà≥Ê∞îÁêÉ</a></p><p><a href="***https://leetcode-cn.com/problems/strange-printer/***">664 Â•áÊÄ™ÁöÑÊâìÂç∞Êú∫</a></p><p><a href="***https://leetcode-cn.com/problems/remove-boxes/***">546 ÁßªÈô§ÁõíÂ≠ê</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Âå∫Èó¥ÂàÜÊ≤ªÂä®ÊÄÅËßÑÂàí</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, ns: List[int])</span> :</span></span><br><span class="line">    N = len(ns)</span><br><span class="line">    dp = [[<span class="number">0</span>] * N <span class="keyword">for</span> _ <span class="keyword">in</span> range(N+<span class="number">1</span>)]</span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> range(N): <span class="comment"># ÈïøÂ∫¶‰ªéÂ∞èÂà∞Â§ß</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(N-l): <span class="comment"># ‰ª• i ‰∏∫ ÂºÄÂ§¥</span></span><br><span class="line">            j = i + l           <span class="comment"># ‰ª• j ‰∏∫ ÁªàÁÇπ</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> range(i,j): <span class="comment"># ‰ª• k ‰∏∫ÂàÜÂâ≤ÁÇπÔºåËøõË°åÂàÜÊ≤ª         </span></span><br><span class="line">                // Todo ‰∏öÂä°ÈÄªËæë</span><br></pre></td></tr></table></figure><p>„Äå<strong>Âç°ÁâπÂÖ∞Êï∞</strong>„Äç</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Âç°ÁâπÂÖ∞Êï∞</span></span><br><span class="line">g(n) = g(<span class="number">0</span>)*g(n<span class="number">-1</span>) + g(<span class="number">1</span>)*g(n<span class="number">-2</span>) ...g(n<span class="number">-1</span>)*g(<span class="number">0</span>)</span><br><span class="line">dp=[<span class="number">1</span>] + [<span class="number">0</span>] * n</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>,i+<span class="number">1</span>):</span><br><span class="line">        dp[i] += dp[j<span class="number">-1</span>] * dp[i-j]</span><br></pre></td></tr></table></figure><h3 id="„ÄêÊªëÂä®Á™óÂè£„Äë"><a href="#„ÄêÊªëÂä®Á™óÂè£„Äë" class="headerlink" title="„ÄêÊªëÂä®Á™óÂè£„Äë"></a>„ÄêÊªëÂä®Á™óÂè£„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""ÁªôÂÆöÂæÖÊü•‰∏≤sÂíåÁõÆÊ†á‰∏≤t"""</span></span><br><span class="line">nd, wd = &#123;&#125;, &#123;&#125;</span><br><span class="line">nd = collections.Counter(s1)</span><br><span class="line">L, R = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">cnt = <span class="number">0</span> <span class="comment"># Êª°Ë∂≥Êù°‰ª∂‰∏™Êï∞</span></span><br><span class="line"><span class="keyword">while</span> R &lt; len(s):        <span class="comment"># Á™óÂè£Âè≥ËæπÁïå‰∏çÊñ≠Êâ©Â§ßÔºåÊú¨Ë¥®ÊòØÊêúÁ¥¢ÈóÆÈ¢òÁöÑÂèØËÉΩËß£</span></span><br><span class="line">    c = s[R]      <span class="comment"># Âç≥Â∞ÜÂä†ÂÖ•Âà∞Á™óÂè£‰∏≠ÁöÑÂ≠óÁ¨¶</span></span><br><span class="line">    R += <span class="number">1</span></span><br><span class="line">    Êõ¥Êñ∞Á™óÂè£‰∏≠ÁöÑÊï∞ÊçÆ</span><br><span class="line">    <span class="keyword">while</span> Êª°Ë∂≥Á™óÂè£Êî∂Áº©Êù°‰ª∂Ôºö  <span class="comment"># Á™óÂè£ÁöÑÂ∑¶ËæπÁïåÊî∂Áº©ÔºåÊú¨Ë¥®ÊòØ‰ºòÂåñÂèØË°åËß£</span></span><br><span class="line">        ËÆ∞ÂΩïÊàñËøîÂõûÁªìÊûú</span><br><span class="line">        d = s[L]   <span class="comment"># Âç≥Â∞Ü‰ªéÁ™óÂè£‰∏≠Âà†Èô§ÁöÑÂ≠óÁ¨¶</span></span><br><span class="line">        L += <span class="number">1</span></span><br><span class="line">        Êõ¥Êñ∞Á™óÂè£‰∏≠ÁöÑÊï∞ÊçÆ</span><br><span class="line"><span class="keyword">return</span> ÁªìÊûú</span><br><span class="line"></span><br><span class="line"><span class="comment"># Âõ∫ÂÆöÁ™óÂè£ ,ÊØîÊªëÂä®Á™óÂè£Êõ¥Âø´‰∏Ä‰∫õ</span></span><br><span class="line">i = j = cnt = <span class="number">0</span>      </span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(A)):</span><br><span class="line">    <span class="keyword">if</span> A[j] == <span class="number">0</span>:</span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> cnt &gt; K: <span class="comment">#‰∏çÊª°Ë∂≥Êó∂ Âπ≥Áßª</span></span><br><span class="line">        <span class="keyword">if</span> A[i] == <span class="number">0</span>:</span><br><span class="line">            cnt -= <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"><span class="keyword">return</span> j - i + <span class="number">1</span>        </span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> range(len(A)):</span><br><span class="line">    <span class="keyword">if</span> A[j] == <span class="number">0</span>:</span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> cnt &gt; K:</span><br><span class="line">        <span class="keyword">if</span> A[i] == <span class="number">0</span>:</span><br><span class="line">            cnt -= <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    res = max(res, j - i + <span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><h3 id="„ÄêÂâçÁºÄÂíå„Äë"><a href="#„ÄêÂâçÁºÄÂíå„Äë" class="headerlink" title="„ÄêÂâçÁºÄÂíå„Äë"></a>„ÄêÂâçÁºÄÂíå„Äë</h3><p>„Äå<strong>Á¥ØÂä†ÂíåÂ≠ò‰ΩçÁΩÆ</strong>„Äç</p><p>1371 ÊúÄÈïøÂÅ∂Êï∞ÂÖÉÈü≥Â≠êÊï∞ÁªÑ</p><p>525 ÊúÄÈïøÁõ∏Á≠â01Â≠êÊï∞ÁªÑ</p><p>325 ÊúÄÈïøÂíå‰∏∫k Â≠êÊï∞ÁªÑ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÂâçÁºÄÂíåÂàùÂßãÂåñ</span></span><br><span class="line">psd = &#123;<span class="number">0</span>: <span class="number">-1</span>&#125;  </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)):</span><br><span class="line">    t ^= cd.get(s[i], <span class="number">0</span>) <span class="comment"># ‰∏öÂä°ÈÄªËæë</span></span><br><span class="line">    <span class="keyword">if</span> t <span class="keyword">not</span> <span class="keyword">in</span> psd:</span><br><span class="line">        psd[t] = i       <span class="comment"># Á¨¨‰∏ÄÊ¨°Â≠òÂÖ•Êï∞ÁªÑ</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ans = max(ans, i - psd[t]) <span class="comment">#Â∑≤Â≠òÂÖ•ÂàôÂºÄÂßãËÆ°ÁÆó</span></span><br></pre></td></tr></table></figure><p>„Äå<strong>Á¥ØÂä†ÂíåÂ≠òÊï∞Èáè</strong>„Äç</p><p>560 Âíå‰∏∫KÁöÑÂ≠êÊï∞ÁªÑÊï∞Èáè</p><p> ÁªüËÆ°‰ºòÁæéÂ≠êÊï∞ÁªÑ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Á¥ØÂä†ÂíåÂ≠òÊï∞Èáè</span></span><br><span class="line">psd = &#123;<span class="number">0</span>:<span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(ns)):</span><br><span class="line">    s += ns[i]</span><br><span class="line">    <span class="keyword">if</span> s - T <span class="keyword">in</span> psd:</span><br><span class="line">        ans += psd[s - T] <span class="comment"># Â≠òÊï∞Èáè</span></span><br><span class="line">    psd[s] = psd.get(s,<span class="number">0</span>) + <span class="number">1</span></span><br></pre></td></tr></table></figure><p>„Äå<strong>Ê®°KÁä∂ÊÄÅÂâçÁºÄÂíå</strong>„Äç</p><p>523 ËøûÁª≠Âíå‰∏∫ k ÂÄç ÁöÑÂ≠êÊï∞ÁªÑÔºàÂ≠òÁ¥¢ÂºïÔºâ</p><p>974 ÂíåË¢´k Êï¥Èô§ Â≠êÊï∞ÁªÑÊï∞ÈáèÔºàÂ≠òÊï∞ÈáèÔºâ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Ê®°KÁä∂ÊÄÅÂâçÁºÄÂíå</span></span><br><span class="line">psd = &#123;<span class="number">0</span>:<span class="number">-1</span>&#125;</span><br><span class="line">ans = s = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(ns)):</span><br><span class="line">    s += ns[i]<span class="comment"># ‰∏öÂä°ÈÄªËæë</span></span><br><span class="line">    <span class="keyword">if</span> T != <span class="number">0</span>: s %= abs(T)<span class="comment"># Ê®°kÁä∂ÊÄÅÂÅökeyÔºåÁ¥¢ÂºïÂÅöÂÄº</span></span><br><span class="line">    <span class="keyword">if</span> s <span class="keyword">not</span> <span class="keyword">in</span> psd:</span><br><span class="line">        psd[s] = i</span><br><span class="line">    <span class="keyword">elif</span> i - psd[s] &gt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><p><strong>„ÄåÁü©ÈòµÂâçÁºÄÂíå„Äç</strong></p><ul><li>363 ‰∏çË∂ÖËøáKÁöÑÊúÄÂ§ßÊï∞ÂÄºÂíå</li><li>1074 Âíå‰∏∫ÁõÆÊ†áÂÄºÁöÑÂ≠êÁü©ÈòµÊï∞Èáè</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Áü©ÈòµÂâçÁºÄÂíå</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(m):        <span class="comment">#Âõ∫ÂÆöÂ∑¶ËæπÁïå</span></span><br><span class="line">    ps = [<span class="number">0</span>] * n</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(i, m): <span class="comment">#Âõ∫ÂÆöÂè≥ËæπÁïå</span></span><br><span class="line">    psS = <span class="number">0</span></span><br><span class="line">        dct = &#123;<span class="number">0</span>:<span class="number">1</span>&#125;       <span class="comment">#ÂàùÂßãÂè™Êúâ‰∏ÄÁßçÂèØËÉΩ</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> range(n): <span class="comment"># ‰ª•È´òÂÅöÂâçÁºÄÂíå</span></span><br><span class="line">            ps[k] += mtx[j][k]          <span class="comment"># ÊØèË°åÂâçÁºÄÂíå</span></span><br><span class="line">            psS += ps[k]                <span class="comment"># nË°åÂâçÁºÄÂíå</span></span><br><span class="line">            cnt += dct.get(psS - T, <span class="number">0</span>)  <span class="comment"># Êª°Ë∂≥Êù°‰ª∂cnt</span></span><br><span class="line">            dct[psS] = dct.get(psS,<span class="number">0</span>) + <span class="number">1</span> <span class="comment"># ‰øùÂ≠òÂΩìÂâçÁä∂ÊÄÅ</span></span><br><span class="line"><span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure><h3 id="„ÄêÂèåÊåáÈíà„Äë"><a href="#„ÄêÂèåÊåáÈíà„Äë" class="headerlink" title="„ÄêÂèåÊåáÈíà„Äë"></a>„ÄêÂèåÊåáÈíà„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÂèåÊåáÈíà</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeElement</span><span class="params">(self, ns: List[int], val: int)</span> -&gt; int:</span></span><br><span class="line">    slow = <span class="number">0</span></span><br><span class="line">    n = len(ns)</span><br><span class="line">    <span class="keyword">for</span> fast <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="keyword">if</span> ns[fast] != val:</span><br><span class="line">            ns[slow] = ns[fast]</span><br><span class="line">            slow += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> slow</span><br></pre></td></tr></table></figure><h3 id="„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë"><a href="#„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë" class="headerlink" title="„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë"></a>„ÄêÊ∑±Â∫¶‰ºòÂÖà„Äë</h3><p>„Äå<strong>‰∫åÂèâÊ†ëÈÅçÂéÜÊ®°Êùø</strong>„Äç</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ÈÄíÂΩí</span></span><br><span class="line"><span class="comment"># Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöO(n)Ôºån‰∏∫ËäÇÁÇπÊï∞ÔºåËÆøÈóÆÊØè‰∏™ËäÇÁÇπÊÅ∞Â•Ω‰∏ÄÊ¨°„ÄÇ</span></span><br><span class="line"><span class="comment"># Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöÁ©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(h)Ôºåh‰∏∫Ê†ëÁöÑÈ´òÂ∫¶„ÄÇÊúÄÂùèÊÉÖÂÜµ‰∏ãÈúÄË¶ÅÁ©∫Èó¥O(n)ÔºåÂπ≥ÂùáÊÉÖÂÜµ‰∏∫O(logn)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ÈÄíÂΩí1Ôºö‰∫åÂèâÊ†ëÈÅçÂéÜÊúÄÊòìÁêÜËß£ÂíåÂÆûÁé∞ÁâàÊú¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="comment"># ÂâçÂ∫èÈÄíÂΩí</span></span><br><span class="line">        <span class="keyword">return</span> [root.val] + self.preOrd(root.left) + self.preOrd(root.right)</span><br><span class="line">        <span class="comment"># # ‰∏≠Â∫èÈÄíÂΩí</span></span><br><span class="line">        <span class="comment"># return self.inOrd(root.left) + [root.val] + self.inOrd(root.right)</span></span><br><span class="line">        <span class="comment"># # ÂêéÂ∫èÈÄíÂΩí</span></span><br><span class="line">        <span class="comment"># return self.postOrd(root.left) + self.postOrd(root.right) + [root.val]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ÈÄíÂΩí2ÔºöÈÄöÁî®Ê®°ÊùøÔºåÂèØ‰ª•ÈÄÇÂ∫î‰∏çÂêåÁöÑÈ¢òÁõÆÔºåÊ∑ªÂä†ÂèÇÊï∞„ÄÅÂ¢ûÂä†ËøîÂõûÊù°‰ª∂„ÄÅ‰øÆÊîπËøõÂÖ•ÈÄíÂΩíÊù°‰ª∂„ÄÅËá™ÂÆö‰πâËøîÂõûÂÄº</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(cur)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> cur:</span><br><span class="line">                <span class="keyword">return</span>      </span><br><span class="line">            <span class="comment"># ÂâçÂ∫èÈÄíÂΩí</span></span><br><span class="line">            res.append(cur.val)</span><br><span class="line">            dfs(cur.left)</span><br><span class="line">            dfs(cur.right)</span><br><span class="line">            <span class="comment"># # ‰∏≠Â∫èÈÄíÂΩí</span></span><br><span class="line">            <span class="comment"># dfs(cur.left)</span></span><br><span class="line">            <span class="comment"># res.append(cur.val)</span></span><br><span class="line">            <span class="comment"># dfs(cur.right)</span></span><br><span class="line">            <span class="comment"># # ÂêéÂ∫èÈÄíÂΩí</span></span><br><span class="line">            <span class="comment"># dfs(cur.left)</span></span><br><span class="line">            <span class="comment"># dfs(cur.right)</span></span><br><span class="line">            <span class="comment"># res.append(cur.val)      </span></span><br><span class="line">        res = []</span><br><span class="line">        dfs(root)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëø≠‰ª£</span></span><br><span class="line"><span class="comment"># Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöO(n)Ôºån‰∏∫ËäÇÁÇπÊï∞ÔºåËÆøÈóÆÊØè‰∏™ËäÇÁÇπÊÅ∞Â•Ω‰∏ÄÊ¨°„ÄÇ</span></span><br><span class="line"><span class="comment"># Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(h)Ôºåh‰∏∫Ê†ëÁöÑÈ´òÂ∫¶„ÄÇÂèñÂÜ≥‰∫éÊ†ëÁöÑÁªìÊûÑÔºåÊúÄÂùèÊÉÖÂÜµÂ≠òÂÇ®Êï¥Ê£µÊ†ëÔºåÂç≥O(n)</span></span><br><span class="line"><span class="comment"># Ëø≠‰ª£1ÔºöÂâçÂ∫èÈÅçÂéÜÊúÄÂ∏∏Áî®Ê®°ÊùøÔºàÂêéÂ∫èÂêåÊ†∑ÂèØ‰ª•Áî®Ôºâ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []        </span><br><span class="line">        res = []</span><br><span class="line">        stack = [root]</span><br><span class="line">        <span class="comment"># # ÂâçÂ∫èËø≠‰ª£Ê®°ÊùøÔºöÊúÄÂ∏∏Áî®ÁöÑ‰∫åÂèâÊ†ëDFSËø≠‰ª£ÈÅçÂéÜÊ®°Êùø</span></span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            cur = stack.pop()</span><br><span class="line">            res.append(cur.val)</span><br><span class="line">            <span class="keyword">if</span> cur.right:</span><br><span class="line">                stack.append(cur.right)</span><br><span class="line">            <span class="keyword">if</span> cur.left:</span><br><span class="line">                stack.append(cur.left)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="comment"># # ÂêéÂ∫èËø≠‰ª£ÔºåÁõ∏ÂêåÊ®°ÊùøÔºöÂ∞ÜÂâçÂ∫èËø≠‰ª£ËøõÊ†àÈ°∫Â∫èÁ®ç‰Ωú‰øÆÊîπÔºåÊúÄÂêéÂæóÂà∞ÁöÑÁªìÊûúÂèçËΩ¨</span></span><br><span class="line">        <span class="comment"># while stack:</span></span><br><span class="line">        <span class="comment">#     cur = stack.pop()</span></span><br><span class="line">        <span class="comment">#     if cur.left:</span></span><br><span class="line">        <span class="comment">#         stack.append(cur.left)</span></span><br><span class="line">        <span class="comment">#     if cur.right:</span></span><br><span class="line">        <span class="comment">#         stack.append(cur.right)</span></span><br><span class="line">        <span class="comment">#     res.append(cur.val)</span></span><br><span class="line">        <span class="comment"># return res[::-1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëø≠‰ª£1ÔºöÂ±ÇÂ∫èÈÅçÂéÜÊúÄÂ∏∏Áî®Ê®°Êùø</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">levelOrder</span><span class="params">(self, root: TreeNode)</span> -&gt; List[List[int]]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        q = deque([root])</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">while</span> q :</span><br><span class="line">            l = []</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(len(q)) :</span><br><span class="line">                t = q.popleft()</span><br><span class="line">                l.append(t.val)</span><br><span class="line">                <span class="keyword">if</span> t.left : q.append(t.left)</span><br><span class="line">                <span class="keyword">if</span> t.right : q.append(t.right)</span><br><span class="line">            res.append(l)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëø≠‰ª£2ÔºöÂâç„ÄÅ‰∏≠„ÄÅÂêéÂ∫èÈÅçÂéÜÈÄöÁî®Ê®°ÊùøÔºàÂè™ÈúÄ‰∏Ä‰∏™Ê†àÁöÑÁ©∫Èó¥Ôºâ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line">        stack = []</span><br><span class="line">        cur = root</span><br><span class="line">        <span class="comment"># ‰∏≠Â∫èÔºåÊ®°ÊùøÔºöÂÖàÁî®ÊåáÈíàÊâæÂà∞ÊØèÈ¢óÂ≠êÊ†ëÁöÑÊúÄÂ∑¶‰∏ãËßíÔºåÁÑ∂ÂêéËøõË°åËøõÂá∫Ê†àÊìç‰Ωú</span></span><br><span class="line">        <span class="keyword">while</span> stack <span class="keyword">or</span> cur:</span><br><span class="line">            <span class="keyword">while</span> cur:</span><br><span class="line">                stack.append(cur)</span><br><span class="line">                cur = cur.left</span><br><span class="line">            cur = stack.pop()</span><br><span class="line">            res.append(cur.val)</span><br><span class="line">            cur = cur.right</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="comment"># # ÂâçÂ∫èÔºåÁõ∏ÂêåÊ®°Êùø</span></span><br><span class="line">        <span class="comment"># while stack or cur:</span></span><br><span class="line">        <span class="comment">#     while cur:</span></span><br><span class="line">        <span class="comment">#         res.append(cur.val)</span></span><br><span class="line">        <span class="comment">#         stack.append(cur)</span></span><br><span class="line">        <span class="comment">#         cur = cur.left</span></span><br><span class="line">        <span class="comment">#     cur = stack.pop()</span></span><br><span class="line">        <span class="comment">#     cur = cur.right</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># # ÂêéÂ∫èÔºåÁõ∏ÂêåÊ®°Êùø</span></span><br><span class="line">        <span class="comment"># while stack or cur:</span></span><br><span class="line">        <span class="comment">#     while cur:</span></span><br><span class="line">        <span class="comment">#         res.append(cur.val)</span></span><br><span class="line">        <span class="comment">#         stack.append(cur)</span></span><br><span class="line">        <span class="comment">#         cur = cur.right</span></span><br><span class="line">        <span class="comment">#     cur = stack.pop()</span></span><br><span class="line">        <span class="comment">#     cur = cur.left</span></span><br><span class="line">        <span class="comment"># return res[::-1]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëø≠‰ª£3ÔºöÊ†áËÆ∞Ê≥ïËø≠‰ª£ÔºàÈúÄË¶ÅÂèåÂÄçÁöÑÁ©∫Èó¥Êù•Â≠òÂÇ®ËÆøÈóÆÁä∂ÊÄÅÔºâÔºö</span></span><br><span class="line"><span class="comment"># Ââç„ÄÅ‰∏≠„ÄÅÂêé„ÄÅÂ±ÇÂ∫èÈÄöÁî®Ê®°ÊùøÔºåÂè™ÈúÄÊîπÂèòËøõÊ†àÈ°∫Â∫èÊàñÂç≥ÂèØÂÆûÁé∞ÂâçÂêé‰∏≠Â∫èÈÅçÂéÜÔºå</span></span><br><span class="line"><span class="comment"># ËÄåÂ±ÇÂ∫èÈÅçÂéÜÂàô‰ΩøÁî®ÈòüÂàóÂÖàËøõÂÖàÂá∫„ÄÇ0Ë°®Á§∫ÂΩìÂâçÊú™ËÆøÈóÆÔºå1Ë°®Á§∫Â∑≤ËÆøÈóÆ„ÄÇ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line">        stack = [(<span class="number">0</span>, root)]</span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            flag, cur = stack.pop()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> cur: <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> flag == <span class="number">0</span>:</span><br><span class="line">                <span class="comment"># ÂâçÂ∫èÔºåÊ†áËÆ∞Ê≥ï</span></span><br><span class="line">                stack.append((<span class="number">0</span>, cur.right))</span><br><span class="line">                stack.append((<span class="number">0</span>, cur.left))</span><br><span class="line">                stack.append((<span class="number">1</span>, cur))</span><br><span class="line"></span><br><span class="line">                <span class="comment"># # ÂêéÂ∫èÔºåÊ†áËÆ∞Ê≥ï</span></span><br><span class="line">                <span class="comment"># stack.append((1, cur))</span></span><br><span class="line">                <span class="comment"># stack.append((0, cur.right))</span></span><br><span class="line">                <span class="comment"># stack.append((0, cur.left))</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># # ‰∏≠Â∫èÔºåÊ†áËÆ∞Ê≥ï</span></span><br><span class="line">                <span class="comment"># stack.append((0, cur.right))</span></span><br><span class="line">                <span class="comment"># stack.append((1, cur))</span></span><br><span class="line">                <span class="comment"># stack.append((0, cur.left))  </span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                res.append(cur.val)  </span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">        <span class="comment"># # Â±ÇÂ∫èÔºåÊ†áËÆ∞Ê≥ï</span></span><br><span class="line">        <span class="comment"># res = []</span></span><br><span class="line">        <span class="comment"># queue = [(0, root)]</span></span><br><span class="line">        <span class="comment"># while queue:</span></span><br><span class="line">        <span class="comment">#     flag, cur = queue.pop(0)  # Ê≥®ÊÑèÊòØÈòüÂàóÔºåÂÖàËøõÂÖàÂá∫</span></span><br><span class="line">        <span class="comment">#     if not cur: continue</span></span><br><span class="line">        <span class="comment">#     if flag == 0:</span></span><br><span class="line">                  <span class="comment"># Â±ÇÂ∫èÈÅçÂéÜËøô‰∏â‰∏™ÁöÑÈ°∫Â∫èÊó†ÊâÄË∞ìÔºåÂõ†‰∏∫ÊòØÈòüÂàóÔºåÂè™ÂºπÂá∫ÈòüÈ¶ñÂÖÉÁ¥†</span></span><br><span class="line">        <span class="comment">#         queue.append((1, cur))</span></span><br><span class="line">        <span class="comment">#         queue.append((0, cur.left))</span></span><br><span class="line">        <span class="comment">#         queue.append((0, cur.right))</span></span><br><span class="line">        <span class="comment">#     else:</span></span><br><span class="line">        <span class="comment">#         res.append(cur.val)</span></span><br><span class="line">        <span class="comment"># return res</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëé´ÈáåÊñØÈÅçÂéÜ</span></span><br><span class="line"><span class="comment"># Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöO(n)Ôºån‰∏∫ËäÇÁÇπÊï∞ÔºåÁúã‰ººË∂ÖËøáO(n)ÔºåÊúâÁöÑËäÇÁÇπÂèØËÉΩË¶ÅËÆøÈóÆ‰∏§Ê¨°ÔºåÂÆûÈôÖÂàÜÊûêËøòÊòØO(n)</span></span><br><span class="line"><span class="comment"># Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(1)ÔºåÂ¶ÇÊûúÂú®ÈÅçÂéÜËøáÁ®ã‰∏≠Â∞±ËæìÂá∫ËäÇÁÇπÂÄºÔºåÂàôÂè™ÈúÄÂ∏∏Êï∞Á©∫Èó¥Â∞±ËÉΩÂæóÂà∞‰∏≠Â∫èÈÅçÂéÜÁªìÊûúÔºåÁ©∫Èó¥Âè™ÈúÄ‰∏§‰∏™ÊåáÈíà„ÄÇ</span></span><br><span class="line"><span class="comment"># Â¶ÇÊûúÂ∞ÜÁªìÊûúÂÇ®Â≠òÊúÄÂêéËæìÂá∫ÔºåÂàôÁ©∫Èó¥Â§çÊùÇÂ∫¶ËøòÊòØO(n)„ÄÇ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># PSÔºöËé´ÈáåÊñØÈÅçÂéÜÂÆûÈôÖ‰∏äÊòØÂú®ÂéüÊúâ‰∫åÂèâÊ†ëÁöÑÁªìÊûÑÂü∫Á°Ä‰∏äÔºåÊûÑÈÄ†‰∫ÜÁ∫øÁ¥¢‰∫åÂèâÊ†ëÔºå</span></span><br><span class="line"><span class="comment"># Á∫øÁ¥¢‰∫åÂèâÊ†ëÂÆö‰πâ‰∏∫ÔºöÂéüÊú¨‰∏∫Á©∫ÁöÑÂè≥Â≠êËäÇÁÇπÊåáÂêë‰∫Ü‰∏≠Â∫èÈÅçÂéÜÈ°∫Â∫è‰πãÂêéÁöÑÈÇ£‰∏™ËäÇÁÇπÔºåÊääÊâÄÊúâÂéüÊú¨‰∏∫Á©∫ÁöÑÂ∑¶Â≠êËäÇÁÇπÈÉΩÊåáÂêë‰∫Ü‰∏≠Â∫èÈÅçÂéÜ‰πãÂâçÁöÑÈÇ£‰∏™ËäÇÁÇπ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ê≠§Â§ÑÂè™ÁªôÂá∫‰∏≠Â∫èÈÅçÂéÜÔºåÂâçÂ∫èÈÅçÂéÜÂè™ÈúÄ‰øÆÊîπËæìÂá∫È°∫Â∫èÂç≥ÂèØ</span></span><br><span class="line"><span class="comment"># ËÄåÂêéÂ∫èÈÅçÂéÜÔºåÁî±‰∫éÈÅçÂéÜÊòØ‰ªéÊ†πÂºÄÂßãÁöÑÔºåËÄåÁ∫øÁ¥¢‰∫åÂèâÊ†ëÊòØÂ∞Ü‰∏∫Á©∫ÁöÑÂ∑¶Âè≥Â≠êËäÇÁÇπËøûÊé•Âà∞Áõ∏Â∫îÁöÑÈ°∫Â∫è‰∏äÔºå‰ΩøÂÖ∂ËÉΩÂ§üÊåâÁÖßÁõ∏Â∫îÂáÜÂàôËæìÂá∫</span></span><br><span class="line"><span class="comment"># ‰ΩÜÊòØÂêéÂ∫èÈÅçÂéÜÁöÑÊ†πËäÇÁÇπÂç¥Â∑≤ÁªèÊ≤°ÊúâÈ¢ùÂ§ñÁöÑÁ©∫Èó¥Êù•Ê†áËÆ∞Ëá™Â∑±‰∏ã‰∏Ä‰∏™Â∫îËØ•ËÆøÈóÆÁöÑËäÇÁÇπÔºå</span></span><br><span class="line"><span class="comment"># ÊâÄ‰ª•ËøôÈáåÈúÄË¶ÅÂª∫Á´ã‰∏Ä‰∏™‰∏¥Êó∂ËäÇÁÇπdumpÔºå‰ª§ÂÖ∂Â∑¶Â≠©Â≠êÊòØroot„ÄÇÂπ∂‰∏îËøòÈúÄË¶Å‰∏Ä‰∏™Â≠êËøáÁ®ãÔºåÂ∞±ÊòØÂÄíÂ∫èËæìÂá∫Êüê‰∏§‰∏™ËäÇÁÇπ‰πãÈó¥Ë∑ØÂæÑ‰∏äÁöÑÂêÑ‰∏™ËäÇÁÇπ„ÄÇ</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Ëé´ÈáåÊñØÈÅçÂéÜÔºåÂÄüÂä©Á∫øÁ¥¢‰∫åÂèâÊ†ë‰∏≠Â∫èÈÅçÂéÜÔºàÈôÑÂâçÂ∫èÈÅçÂéÜÔºâ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inOrd</span><span class="params">(self, root: TreeNode)</span> -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="comment"># cur = pre = TreeNode(None)</span></span><br><span class="line">        cur = root</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> cur.left:</span><br><span class="line">                res.append(cur.val)</span><br><span class="line">                <span class="comment"># print(cur.val)</span></span><br><span class="line">                cur = cur.right</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                pre = cur.left</span><br><span class="line">                <span class="keyword">while</span> pre.right <span class="keyword">and</span> pre.right != cur:</span><br><span class="line">                    pre = pre.right</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> pre.right:</span><br><span class="line">                    <span class="comment"># print(cur.val) ËøôÈáåÊòØÂâçÂ∫èÈÅçÂéÜÁöÑ‰ª£Á†ÅÔºåÂâçÂ∫è‰∏é‰∏≠Â∫èÁöÑÂîØ‰∏ÄÂ∑ÆÂà´</span></span><br><span class="line">                    pre.right = cur</span><br><span class="line">                    cur = cur.left</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    pre.right = <span class="literal">None</span></span><br><span class="line">                    res.append(cur.val)</span><br><span class="line">                    <span class="comment"># print(cur.val)</span></span><br><span class="line">                    cur = cur.right</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># NÂèâÊ†ëÈÅçÂéÜ</span></span><br><span class="line"><span class="comment"># Êó∂Èó¥Â§çÊùÇÂ∫¶ÔºöÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºöO(M)ÔºåÂÖ∂‰∏≠ M ÊòØ N ÂèâÊ†ë‰∏≠ÁöÑËäÇÁÇπ‰∏™Êï∞„ÄÇÊØè‰∏™ËäÇÁÇπÂè™‰ºöÂÖ•Ê†àÂíåÂá∫Ê†àÂêÑ‰∏ÄÊ¨°„ÄÇ</span></span><br><span class="line"><span class="comment"># Á©∫Èó¥Â§çÊùÇÂ∫¶ÔºöO(M)„ÄÇÂú®ÊúÄÂùèÁöÑÊÉÖÂÜµ‰∏ãÔºåËøôÊ£µ N ÂèâÊ†ëÂè™Êúâ 2 Â±ÇÔºåÊâÄÊúâÁ¨¨ 2 Â±ÇÁöÑËäÇÁÇπÈÉΩÊòØÊ†πËäÇÁÇπÁöÑÂ≠©Â≠ê„ÄÇ</span></span><br><span class="line"><span class="comment"># Â∞ÜÊ†πËäÇÁÇπÊé®Âá∫Ê†àÂêéÔºåÈúÄË¶ÅÂ∞ÜËøô‰∫õËäÇÁÇπÈÉΩÊîæÂÖ•Ê†àÔºåÂÖ±Êúâ M‚àí1‰∏™ËäÇÁÇπÔºåÂõ†Ê≠§Ê†àÁöÑÂ§ßÂ∞è‰∏∫ O(M)„ÄÇ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># NÂèâÊ†ëÁÆÄÊ¥ÅÈÄíÂΩí</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorder</span><span class="params">(self, root: <span class="string">'Node'</span>)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> []</span><br><span class="line">        res = [root.val]</span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> root.children:</span><br><span class="line">            res.extend(self.preorder(node))</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># NÂèâÊ†ëÈÄöÁî®ÈÄíÂΩíÊ®°Êùø</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorder</span><span class="params">(self, root: <span class="string">'Node'</span>)</span> -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(root)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            res.append(root.val)</span><br><span class="line">            <span class="keyword">for</span> child <span class="keyword">in</span> root.children:</span><br><span class="line">                helper(child)</span><br><span class="line">        helper(root)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># NÂèâÊ†ëËø≠‰ª£ÊñπÊ≥ï</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorder</span><span class="params">(self, root: <span class="string">'Node'</span>)</span> -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        s = [root]</span><br><span class="line">        <span class="comment"># s.append(root)</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">while</span> s:</span><br><span class="line">            node = s.pop()</span><br><span class="line">            res.append(node.val)</span><br><span class="line">            <span class="comment"># for child in node.children[::-1]:</span></span><br><span class="line">            <span class="comment">#     s.append(child)</span></span><br><span class="line">            s.extend(node.children[::<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><h3 id="„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë"><a href="#„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë" class="headerlink" title="„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë"></a>„ÄêÂπøÂ∫¶‰ºòÂÖà„Äë</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># „Äå**Êó†ÂêëÂõæÁöÑÈÅçÂéÜ**„Äç</span></span><br><span class="line">q = collections.deque([i])</span><br><span class="line"><span class="keyword">while</span> q:</span><br><span class="line">    cur = q.popleft()</span><br><span class="line">    <span class="keyword">for</span> nxt <span class="keyword">in</span> dt[cur]:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> vst[nxt]:</span><br><span class="line">            vstd[nxt] = <span class="literal">True</span></span><br><span class="line">            q.append(nxt)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># „Äå**‰∫åÂèâÊ†ëÂ±ÇÂ∫èÈÅçÂéÜ**„Äç</span></span><br><span class="line">q = deque([root])</span><br><span class="line">res = []</span><br><span class="line"><span class="keyword">while</span> q :</span><br><span class="line">    l = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(q)) :</span><br><span class="line">        t = q.popleft()</span><br><span class="line">        l.append(t.val)</span><br><span class="line">        <span class="keyword">if</span> t.left : q.append(t.left)</span><br><span class="line">        <span class="keyword">if</span> t.right : q.append(t.right)</span><br><span class="line">    res.append(l)</span><br><span class="line"><span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><h3 id="„ÄêÂõæËÆ∫„Äë"><a href="#„ÄêÂõæËÆ∫„Äë" class="headerlink" title="„ÄêÂõæËÆ∫„Äë"></a>„ÄêÂõæËÆ∫„Äë</h3><hr><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#„ÄåDijkstraÊúÄÁü≠Ë∑ØÂæÑ„Äç</span></span><br><span class="line">dic = collections.defaultdict(list)</span><br><span class="line"><span class="keyword">for</span> u, v, w <span class="keyword">in</span> edges:</span><br><span class="line">    dic[u].append([v, w])</span><br><span class="line">    dic[v].append([u, w])</span><br><span class="line">q = [(<span class="number">0</span>, n)]</span><br><span class="line">dist = [<span class="number">-1</span>] * (n + <span class="number">1</span>)</span><br><span class="line"><span class="keyword">while</span> q:</span><br><span class="line">    dis, cur = heapq.heappop(q)</span><br><span class="line">    <span class="keyword">if</span> dist[cur] &lt; <span class="number">0</span>:</span><br><span class="line">        dist[cur] = dis</span><br><span class="line">        <span class="keyword">for</span> nxt, wi <span class="keyword">in</span> dic[cur]:</span><br><span class="line">            heapq.heappush(q, [dis + wi, nxt])</span><br></pre></td></tr></table></figure><p><strong>„ÄåFloyd Ê±ÇÂõæ‰∏≠Ë∑ØÂæÑ„Äç</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># FloydÁÆóÊ≥ï Ê±ÇÂõæ‰∏≠‰ªªÊÑè2ÁÇπË∑ùÁ¶ª</span></span><br><span class="line">ds = defaultdict(int)</span><br><span class="line">st = set()</span><br><span class="line"><span class="keyword">for</span> i, (x, y) <span class="keyword">in</span> enumerate(ess):</span><br><span class="line">    ds[(x, y)] = vs[i]</span><br><span class="line">    ds[(y, x)] = <span class="number">1</span> / vs[i]</span><br><span class="line">    st.update(&#123;x,y&#125;)</span><br><span class="line">arr = list(st)</span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> arr:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> arr:</span><br><span class="line">            <span class="keyword">if</span> ds[(i, k)] <span class="keyword">and</span> ds[(k, j)]:</span><br><span class="line">                ds[(i, j)] = ds[(i, k)] * ds[(k, j)]</span><br></pre></td></tr></table></figure><h1 id="‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá"><a href="#‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá" class="headerlink" title="‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá"></a>‰∫î„ÄÅÂÆûÊàòÁÆóÊ≥ïÁØá</h1><h3 id="1„ÄÅURLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ"><a href="#1„ÄÅURLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ" class="headerlink" title="1„ÄÅURLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ"></a><strong>1„ÄÅ</strong>URLÈªëÂêçÂçïÔºàÂ∏ÉÈöÜËøáÊª§Âô®Ôºâ</h3><p><strong>100‰∫øÈªëÂêçÂçïURLÔºåÊØè‰∏™64BÔºåÈóÆËøô‰∏™ÈªëÂêçÂçïË¶ÅÊÄé‰πàÂ≠òÔºüÂà§Êñ≠‰∏Ä‰∏™URLÊòØÂê¶Âú®ÈªëÂêçÂçï‰∏≠</strong></p><p>‚Äã    <strong>Êï£ÂàóË°®Ôºö</strong></p><p>‚Äã        Â¶ÇÊûúÊääÈªëÂêçÂçïÁúãÊàê‰∏Ä‰∏™ÈõÜÂêàÔºåÂ∞ÜÂÖ∂Â≠òÂú® hashmap ‰∏≠ÔºåË≤å‰ººÂ§™Â§ß‰∫ÜÔºåÈúÄË¶Å 640GÔºåÊòéÊòæ‰∏çÁßëÂ≠¶„ÄÇ</p><p>‚Äã    <strong>Â∏ÉÈöÜËøáÊª§Âô®Ôºö</strong></p><p>‚Äã        ÂÆÉÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ÂæàÈïøÁöÑ‰∫åËøõÂà∂Áü¢ÈáèÂíå‰∏ÄÁ≥ªÂàóÈöèÊú∫Êò†Â∞ÑÂáΩÊï∞„ÄÇ</p><p>‚Äã        ÂÆÉ<strong>ÂèØ‰ª•Áî®Êù•Âà§Êñ≠‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØÂê¶Âú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠</strong>„ÄÇÂÆÉÁöÑ‰ºòÂäøÊòØÂè™ÈúÄË¶ÅÂç†Áî®ÂæàÂ∞èÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰ª•ÂèäÊúâÁùÄÈ´òÊïàÁöÑÊü•ËØ¢ÊïàÁéá„ÄÇÂØπ‰∫éÂ∏ÉÈöÜËøáÊª§Âô®ËÄåË®ÄÔºåÂÆÉÁöÑÊú¨Ë¥®ÊòØ‰∏Ä‰∏™<strong>‰ΩçÊï∞ÁªÑ</strong>Ôºö‰ΩçÊï∞ÁªÑÂ∞±ÊòØÊï∞ÁªÑÁöÑÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÂè™Âç†Áî® 1 bit ÔºåÂπ∂‰∏îÊØè‰∏™ÂÖÉÁ¥†Âè™ËÉΩÊòØ 0 ÊàñËÄÖ 1„ÄÇ</p><p>‚Äã        Âú®Êï∞ÁªÑ‰∏≠ÁöÑÊØè‰∏Ä‰ΩçÈÉΩÊòØ‰∫åËøõÂà∂‰Ωç„ÄÇÂ∏ÉÈöÜËøáÊª§Âô®Èô§‰∫Ü‰∏Ä‰∏™‰ΩçÊï∞ÁªÑÔºåËøòÊúâ K ‰∏™ÂìàÂ∏åÂáΩÊï∞„ÄÇÂΩì‰∏Ä‰∏™ÂÖÉÁ¥†Âä†ÂÖ•Â∏ÉÈöÜËøáÊª§Âô®‰∏≠ÁöÑÊó∂ÂÄôÔºå‰ºöËøõË°åÂ¶Ç‰∏ãÊìç‰ΩúÔºö</p><ul><li>‰ΩøÁî® K ‰∏™ÂìàÂ∏åÂáΩÊï∞ÂØπÂÖÉÁ¥†ÂÄºËøõË°å K Ê¨°ËÆ°ÁÆóÔºåÂæóÂà∞ K ‰∏™ÂìàÂ∏åÂÄº„ÄÇ</li><li>Ê†πÊçÆÂæóÂà∞ÁöÑÂìàÂ∏åÂÄºÔºåÂú®‰ΩçÊï∞ÁªÑ‰∏≠ÊääÂØπÂ∫î‰∏ãÊ†áÁöÑÂÄºÁΩÆ‰∏∫ 1„ÄÇ</li></ul><h3 id="2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ"><a href="#2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ" class="headerlink" title="2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ"></a>2„ÄÅËØçÈ¢ëÁªüËÆ°ÔºàÂàÜÊñá‰ª∂Ôºâ</h3><p><strong>2GBÂÜÖÂ≠òÂú®20‰∫øÊï¥Êï∞‰∏≠ÊâæÂà∞Âá∫Áé∞Ê¨°Êï∞ÊúÄÂ§öÁöÑÊï∞</strong></p><p>‚Äã        ÈÄöÂ∏∏ÂÅöÊ≥ïÊòØ‰ΩøÁî®ÂìàÂ∏åË°®ÂØπÂá∫Áé∞ÁöÑÊØè‰∏Ä‰∏™Êï∞ÂÅöËØçÈ¢ëÁªüËÆ°ÔºåÂìàÂ∏åË°®ÁöÑkeyÊòØÊüê‰∏™Êï¥Êï∞ÔºåvalueËÆ∞ÂΩïÊï¥Êï∞Âá∫Áé∞ÁöÑÊ¨°Êï∞„ÄÇÊú¨È¢òÁöÑÊï∞ÊçÆÈáèÊòØ20‰∫øÔºåÊúâÂèØËÉΩ‰∏Ä‰∏™Êï∞Âá∫Áé∞20‰∫øÊ¨°ÔºåÂàô‰∏∫‰∫ÜÈÅøÂÖçÊ∫¢Âá∫ÔºåÂìàÂ∏åË°®ÁöÑkeyÊòØ32‰ΩçÔºà4BÔºâ,value‰πüÊòØ 32‰ΩçÔºà4BÔºâÔºåÈÇ£‰πà‰∏ÄÊù°ÂìàÂ∏åË°®ÁöÑËÆ∞ÂΩïÂ∞±ÈúÄË¶ÅÂç†Áî®8B„ÄÇ</p><p>‚Äã        ÂΩìÂìàÂ∏åË°®ËÆ∞ÂΩïÊï∞‰∏∫2‰∫ø‰∏™Êó∂ÔºåÈúÄË¶Å16‰∫ø‰∏™Â≠óËäÇÊï∞Ôºà8*2‰∫øÔºâÔºåÈúÄË¶ÅËá≥Â∞ë1.6GBÂÜÖÂ≠ò(16‰∫ø/2^30,1GB== 2 ^30‰∏™Â≠óËäÇ == 10‰∫ø)„ÄÇÂàô20‰∫ø‰∏™ËÆ∞ÂΩïÔºåËá≥Â∞ëÈúÄË¶Å16GBÁöÑÂÜÖÂ≠òÔºå‰∏çÁ¨¶ÂêàÈ¢òÁõÆË¶ÅÊ±Ç„ÄÇ</p><p>‚Äã        Ëß£ÂÜ≥ÂäûÊ≥ïÊòØÂ∞Ü20‰∫ø‰∏™Êï∞ÁöÑÂ§ßÊñá‰ª∂Âà©Áî®ÂìàÂ∏åÂáΩÊï∞ÂàÜÊàê16‰∏™Â∞èÊñá‰ª∂ÔºåÊ†πÊçÆÂìàÂ∏åÂáΩÊï∞ÂèØ‰ª•Êää20‰∫øÊù°Êï∞ÊçÆÂùáÂåÄÂàÜÂ∏ÉÂà∞16‰∏™Êñá‰ª∂‰∏äÔºåÂêå‰∏ÄÁßçÊï∞‰∏çÂèØËÉΩË¢´ÂìàÂ∏åÂáΩÊï∞ÂàÜÂà∞‰∏çÂêåÁöÑÂ∞èÊñá‰ª∂‰∏äÔºåÂÅáËÆæÂìàÂ∏åÂáΩÊï∞Â§üÂ•Ω„ÄÇÁÑ∂ÂêéÂØπÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂Áî®ÂìàÂ∏åÂáΩÊï∞Êù•ÁªüËÆ°ÂÖ∂‰∏≠ÊØèÁßçÊï∞Âá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂæóÂà∞16‰∏™Êñá‰ª∂‰∏≠Âá∫Áé∞Ê¨°Êï∞ÊúÄÂ§öÁöÑÊï∞ÔºåÊé•ÁùÄ‰ªé16‰∏™Êï∞‰∏≠ÈÄâÂá∫Ê¨°Êï∞ÊúÄÂ§ßÁöÑÈÇ£‰∏™keyÂç≥ÂèØ„ÄÇ</p><h3 id="3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞ÔºàbitÊï∞ÁªÑÔºâ"><a href="#3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞ÔºàbitÊï∞ÁªÑÔºâ" class="headerlink" title="3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞ÔºàbitÊï∞ÁªÑÔºâ"></a><strong>3„ÄÅÊú™Âá∫Áé∞ÁöÑÊï∞</strong>ÔºàbitÊï∞ÁªÑÔºâ</h3><p><strong>40‰∫ø‰∏™ÈùûË¥üÊï¥Êï∞‰∏≠ÊâæÂà∞Ê≤°ÊúâÂá∫Áé∞ÁöÑÊï∞</strong></p><p>‚Äã        ÂØπ‰∫éÂéüÈóÆÈ¢òÔºåÂ¶ÇÊûú‰ΩøÁî®ÂìàÂ∏åË°®Êù•‰øùÂ≠òÂá∫Áé∞ËøáÁöÑÊï∞ÔºåÈÇ£‰πàÊúÄÂùèÊÉÖÂÜµ‰∏ãÊòØ40‰∫ø‰∏™Êï∞ÈÉΩ‰∏çÁõ∏ÂêåÔºåÈÇ£‰πàÂìàÂ∏åË°®ÂàôÈúÄË¶Å‰øùÂ≠ò40‰∫øÊù°Êï∞ÊçÆÔºå‰∏Ä‰∏™32‰ΩçÊï¥Êï∞ÈúÄË¶Å4BÔºåÈÇ£‰πà40‰∫ø*4B = 160‰∫ø‰∏™Â≠óËäÇÔºå‰∏ÄËà¨Â§ßÊ¶Ç10‰∫ø‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆÈúÄË¶Å1GÁöÑÁ©∫Èó¥ÔºåÈÇ£‰πàÂ§ßÊ¶ÇÈúÄË¶Å16GÁöÑÁ©∫Èó¥ÔºåËøô‰∏çÁ¨¶ÂêàË¶ÅÊ±Ç„ÄÇ</p><p>„ÄÄ„ÄÄÊàë‰ª¨Êç¢‰∏ÄÁßçÊñπÂºèÔºåÁî≥ËØ∑‰∏Ä‰∏™bitÊï∞ÁªÑÔºåÊï∞ÁªÑÂ§ßÂ∞è‰∏∫4294967295ÔºåÂ§ßÊ¶Ç‰∏∫40‰∫øbitÔºå40‰∫ø/8 = 5‰∫øÂ≠óËäÇÔºåÈÇ£‰πàÈúÄË¶Å0.5GÁ©∫Èó¥Ôºå bitÊï∞ÁªÑÁöÑÊØè‰∏™‰ΩçÁΩÆÊúâ‰∏§ÁßçÁä∂ÊÄÅ0Âíå1ÔºåÈÇ£‰πàÊÄé‰πà‰ΩøÁî®Ëøô‰∏™bitÊï∞ÁªÑÂë¢ÔºüÂëµÂëµÔºåÊï∞ÁªÑÁöÑÈïøÂ∫¶ÂàöÂ•ΩÊª°Ë∂≥Êàë‰ª¨Êï¥Êï∞ÁöÑ‰∏™Êï∞ËåÉÂõ¥ÔºåÈÇ£‰πàÊï∞ÁªÑÁöÑÊØè‰∏™‰∏ãÊ†áÂÄºÂØπÂ∫î4294967295‰∏≠ÁöÑ‰∏Ä‰∏™Êï∞ÔºåÈÄê‰∏™ÈÅçÂéÜ40‰∫ø‰∏™Êó†Á¨¶Âè∑Êï∞Ôºå‰æãÂ¶ÇÔºåÈÅáÂà∞20ÔºåÂàôbitArray[20] = 1ÔºõÈÅáÂà∞666ÔºåÂàôbitArray[666] = 1,ÈÅçÂéÜÂÆåÊâÄÊúâÁöÑÊï∞ÔºåÂ∞ÜÊï∞ÁªÑÁõ∏Â∫î‰ΩçÁΩÆÂèò‰∏∫1„ÄÇ</p><p><strong>40‰∫ø‰∏™ÈùûË¥üÊï¥Êï∞‰∏≠ÊâæÂà∞‰∏Ä‰∏™Ê≤°ÊúâÂá∫Áé∞ÁöÑÊï∞ÔºåÂÜÖÂ≠òÈôêÂà∂10MB</strong></p><p>‚Äã        10‰∫ø‰∏™Â≠óËäÇÁöÑÊï∞ÊçÆÂ§ßÊ¶ÇÈúÄË¶Å1GBÁ©∫Èó¥Â§ÑÁêÜÔºåÈÇ£‰πà10MBÂÜÖÂ≠òÊç¢ÁÆóËøáÊù•Â∞±ÊòØÂèØ‰ª•Â§ÑÁêÜ1ÂçÉ‰∏áÂ≠óËäÇÁöÑÊï∞ÊçÆÔºå‰πüÂ∞±ÊòØ8ÂçÉ‰∏ábitÔºåÂØπ‰∫é40‰∫øÈùûË¥üÊï¥Êï∞Â¶ÇÊûúÁî≥ËØ∑bitÊï∞ÁªÑÁöÑËØùÔºå40‰∫øbit / 0.8‰∫øbit = 50ÔºåÈÇ£‰πàËøôÊ†∑ÊúÄÂ∞ë‰πüÂæóÂàÜ50ÂùóÊù•Â§ÑÁêÜÔºå‰∏ãÈù¢Â∞±‰ª•64ÂùóÊù•ËøõË°åÂàÜÊûêËß£Á≠îÂêß„ÄÇ</p><p><strong>ÊÄªÁªì‰∏Ä‰∏ãËøõÈò∂ÁöÑËß£Ê≥ïÔºö</strong></p><p>1ÔºéÊ†πÊçÆ10MBÁöÑÂÜÖÂ≠òÈôêÂà∂ÔºåÁ°ÆÂÆöÁªüËÆ°Âå∫Èó¥ÁöÑÂ§ßÂ∞èÔºåÂ∞±ÊòØÁ¨¨‰∫åÊ¨°ÈÅçÂéÜÊó∂ÁöÑbitArrÂ§ßÂ∞è„ÄÇ</p><p>2ÔºéÂà©Áî®Âå∫Èó¥ËÆ°Êï∞ÁöÑÊñπÂºèÔºåÊâæÂà∞ÈÇ£‰∏™ËÆ°Êï∞‰∏çË∂≥ÁöÑÂå∫Èó¥ÔºåËøô‰∏™Âå∫Èó¥‰∏äËÇØÂÆöÊúâÊ≤°Âá∫Áé∞ÁöÑÊï∞„ÄÇ</p><p>3ÔºéÂØπËøô‰∏™Âå∫Èó¥‰∏äÁöÑÊï∞ÂÅöbit mapÊò†Â∞ÑÔºåÂÜçÈÅçÂéÜbit mapÔºåÊâæÂà∞‰∏Ä‰∏™Ê≤°Âá∫Áé∞ÁöÑÊï∞Âç≥ÂèØ„ÄÇ</p><p><strong>Ëá™Â∑±ÁöÑÊÉ≥Ê≥ï</strong></p><p>Â¶ÇÊûúÂè™ÊòØÊâæ‰∏Ä‰∏™Êï∞ÔºåÂèØ‰ª•È´ò‰ΩçÊ®°ËøêÁÆóÔºåÂÜôÂà∞64‰∏™‰∏çÂêåÁöÑÊñá‰ª∂ÔºåÁÑ∂ÂêéÂú®ÊúÄÂ∞èÁöÑÊñá‰ª∂‰∏≠ÈÄöËøábitArray‰∏ÄÊ¨°Â§ÑÁêÜÊéâ„ÄÇ</p><p><strong>40‰∫ø‰∏™Êó†Á¨¶Âè∑Êï¥Êï∞Ôºå1GBÂÜÖÂ≠òÔºåÊâæÂà∞ÊâÄÊúâÂá∫Áé∞‰∏§Ê¨°ÁöÑÊï∞</strong></p><p>‚Äã        ÂØπ‰∫éÂéüÈóÆÈ¢òÔºåÂèØ‰ª•Áî®bit mapÁöÑÊñπÂºèÊù•Ë°®Á§∫Êï∞Âá∫Áé∞ÁöÑÊÉÖÂÜµ„ÄÇÂÖ∑‰ΩìÂú∞ËØ¥ÔºåÊòØÁî≥ËØ∑‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫4294967295√ó2ÁöÑbitÁ±ªÂûãÁöÑÊï∞ÁªÑbitArrÔºåÁî®2‰∏™‰ΩçÁΩÆË°®Á§∫‰∏Ä‰∏™Êï∞Âá∫Áé∞ÁöÑËØçÈ¢ëÔºå1BÂç†Áî®8‰∏™bitÔºåÊâÄ‰ª•ÈïøÂ∫¶‰∏∫4294967295√ó2ÁöÑbitÁ±ªÂûãÁöÑÊï∞ÁªÑÂç†Áî®1GBÁ©∫Èó¥„ÄÇÊÄé‰πà‰ΩøÁî®Ëøô‰∏™bitArrÊï∞ÁªÑÂë¢ÔºüÈÅçÂéÜËøô40‰∫ø‰∏™Êó†Á¨¶Âè∑Êï∞ÔºåÂ¶ÇÊûúÂàùÊ¨°ÈÅáÂà∞numÔºåÂ∞±ÊääbitArr[num<em>2 + 1]ÂíåbitArr[num</em>2]ËÆæÁΩÆ‰∏∫01ÔºåÂ¶ÇÊûúÁ¨¨‰∫åÊ¨°ÈÅáÂà∞numÔºåÂ∞±ÊääbitArr[num<em>2+1]ÂíåbitArr[num</em>2]ËÆæÁΩÆ‰∏∫10ÔºåÂ¶ÇÊûúÁ¨¨‰∏âÊ¨°ÈÅáÂà∞numÔºåÂ∞±ÊääbitArr[num<em>2+1]ÂíåbitArr[num</em>2]ËÆæÁΩÆ‰∏∫11„ÄÇ‰ª•ÂêéÂÜçÈÅáÂà∞numÔºåÂèëÁé∞Ê≠§Êó∂bitArr[num<em>2+1]ÂíåbitArr[num</em>2]Â∑≤ÁªèË¢´ËÆæÁΩÆ‰∏∫11ÔºåÂ∞±‰∏çÂÜçÂÅö‰ªª‰ΩïËÆæÁΩÆ„ÄÇÈÅçÂéÜÂÆåÊàêÂêéÔºåÂÜç‰æùÊ¨°ÈÅçÂéÜbitArrÔºåÂ¶ÇÊûúÂèëÁé∞bitArr[i<em>2+1]ÂíåbitArr[i</em>2]ËÆæÁΩÆ‰∏∫10ÔºåÈÇ£‰πài Â∞±ÊòØÂá∫Áé∞‰∫Ü‰∏§Ê¨°ÁöÑÊï∞„ÄÇ</p><h3 id="4„ÄÅÈáçÂ§çURLÔºàÂàÜÊú∫Âô®Ôºâ"><a href="#4„ÄÅÈáçÂ§çURLÔºàÂàÜÊú∫Âô®Ôºâ" class="headerlink" title="4„ÄÅÈáçÂ§çURLÔºàÂàÜÊú∫Âô®Ôºâ"></a><strong>4„ÄÅÈáçÂ§çURL</strong>ÔºàÂàÜÊú∫Âô®Ôºâ</h3><p><strong>ÊâæÂà∞100‰∫ø‰∏™URL‰∏≠ÈáçÂ§çÁöÑURL</strong></p><p>‚Äã        ÂéüÈóÆÈ¢òÁöÑËß£Ê≥ï‰ΩøÁî®Ëß£ÂÜ≥Â§ßÊï∞ÊçÆÈóÆÈ¢òÁöÑ‰∏ÄÁßçÂ∏∏ËßÑÊñπÊ≥ïÔºöÊääÂ§ßÊñá‰ª∂ÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÂàÜÈÖçÂà∞Êú∫Âô®ÔºåÊàñËÄÖÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÊääÂ§ßÊñá‰ª∂ÊãÜÊàêÂ∞èÊñá‰ª∂„ÄÇ‰∏ÄÁõ¥ËøõË°åËøôÁßçÂàíÂàÜÔºåÁõ¥Âà∞ÂàíÂàÜÁöÑÁªìÊûúÊª°Ë∂≥ËµÑÊ∫êÈôêÂà∂ÁöÑË¶ÅÊ±Ç„ÄÇÈ¶ñÂÖàÔºå‰Ω†Ë¶ÅÂêëÈù¢ËØïÂÆòËØ¢ÈóÆÂú®ËµÑÊ∫ê‰∏äÁöÑÈôêÂà∂ÊúâÂì™‰∫õÔºåÂåÖÊã¨ÂÜÖÂ≠ò„ÄÅËÆ°ÁÆóÊó∂Èó¥Á≠âË¶ÅÊ±Ç„ÄÇÂú®ÊòéÁ°Æ‰∫ÜÈôêÂà∂Ë¶ÅÊ±Ç‰πãÂêéÔºåÂèØ‰ª•Â∞ÜÊØèÊù°URLÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÂàÜÈÖçÂà∞Ëã•Âπ≤Êú∫Âô®ÊàñËÄÖÊãÜÂàÜÊàêËã•Âπ≤Â∞èÊñá‰ª∂ÔºåËøôÈáåÁöÑ‚ÄúËã•Âπ≤‚ÄùÁî±ÂÖ∑‰ΩìÁöÑËµÑÊ∫êÈôêÂà∂Êù•ËÆ°ÁÆóÂá∫Á≤æÁ°ÆÁöÑÊï∞Èáè„ÄÇ</p><p>‚Äã        ‰æãÂ¶ÇÔºåÂ∞Ü100‰∫øÂ≠óËäÇÁöÑÂ§ßÊñá‰ª∂ÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÂàÜÈÖçÂà∞100Âè∞Êú∫Âô®‰∏äÔºåÁÑ∂ÂêéÊØè‰∏ÄÂè∞Êú∫Âô®ÂàÜÂà´ÁªüËÆ°ÂàÜÁªôËá™Â∑±ÁöÑURL‰∏≠ÊòØÂê¶ÊúâÈáçÂ§çÁöÑURLÔºå<strong>ÂêåÊó∂ÂìàÂ∏åÂáΩÊï∞ÁöÑÊÄßË¥®ÂÜ≥ÂÆö‰∫ÜÂêå‰∏ÄÊù°URL‰∏çÂèØËÉΩÂàÜÁªô‰∏çÂêåÁöÑÊú∫Âô®Ôºõ</strong>ÊàñËÄÖÂú®ÂçïÊú∫‰∏äÂ∞ÜÂ§ßÊñá‰ª∂ÈÄöËøáÂìàÂ∏åÂáΩÊï∞ÊãÜÊàê1000‰∏™Â∞èÊñá‰ª∂ÔºåÂØπÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂ÂÜçÂà©Áî®ÂìàÂ∏åË°®ÈÅçÂéÜÔºåÊâæÂá∫ÈáçÂ§çÁöÑURLÔºõÊàñËÄÖÂú®ÂàÜÁªôÊú∫Âô®ÊàñÊãÜÂÆåÊñá‰ª∂‰πãÂêéÔºåËøõË°åÊéíÂ∫èÔºåÊéíÂ∫èËøáÂêéÂÜçÁúãÊòØÂê¶ÊúâÈáçÂ§çÁöÑURLÂá∫Áé∞„ÄÇÊÄª‰πãÔºåÁâ¢ËÆ∞‰∏ÄÁÇπÔºåÂæàÂ§öÂ§ßÊï∞ÊçÆÈóÆÈ¢òÈÉΩÁ¶ª‰∏çÂºÄÂàÜÊµÅÔºåË¶Å‰πàÊòØÂìàÂ∏åÂáΩÊï∞ÊääÂ§ßÊñá‰ª∂ÁöÑÂÜÖÂÆπÂàÜÈÖçÁªô‰∏çÂêåÁöÑÊú∫Âô®ÔºåË¶Å‰πàÊòØÂìàÂ∏åÂáΩÊï∞ÊääÂ§ßÊñá‰ª∂ÊãÜÊàêÂ∞èÊñá‰ª∂ÔºåÁÑ∂ÂêéÂ§ÑÁêÜÊØè‰∏Ä‰∏™Â∞èÊï∞ÈáèÁöÑÈõÜÂêà„ÄÇ</p><h3 id="5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ"><a href="#5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ" class="headerlink" title="5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ"></a><strong>5„ÄÅTOPKÊêúÁ¥¢ÔºàÂ∞èÊ†πÂ†ÜÔºâ</strong></h3><p><strong>Êµ∑ÈáèÊêúÁ¥¢ËØçÊ±áÔºåÊâæÂà∞ÊúÄÁÉ≠TOP100ËØçÊ±áÁöÑÊñπÊ≥ï</strong></p><p>‚Äã        ÊúÄÂºÄÂßãËøòÊòØÁî®ÂìàÂ∏åÂàÜÊµÅÁöÑÊÄùË∑ØÊù•Â§ÑÁêÜÔºåÊääÂåÖÂê´Áôæ‰∫øÊï∞ÊçÆÈáèÁöÑËØçÊ±áÊñá‰ª∂ÂàÜÊµÅÂà∞‰∏çÂêåÁöÑÊú∫Âô®‰∏äÔºåÂÖ∑‰ΩìÂ§öÂ∞ëÂè∞Êú∫Âô®Áî±Èù¢ËØïÂÆòËßÑÂÆöÊàñËÄÖÁî±Êõ¥Â§öÁöÑÈôêÂà∂Êù•ÂÜ≥ÂÆö„ÄÇÂØπÊØè‰∏ÄÂè∞Êú∫Âô®Êù•ËØ¥ÔºåÂ¶ÇÊûúÂàÜÂà∞ÁöÑÊï∞ÊçÆÈáè‰æùÁÑ∂ÂæàÂ§ßÔºåÊØîÂ¶ÇÔºåÂÜÖÂ≠ò‰∏çÂ§üÊàñÂÖ∂‰ªñÈóÆÈ¢òÔºåÂèØ‰ª•ÂÜçÁî®ÂìàÂ∏åÂáΩÊï∞ÊääÊØèÂè∞Êú∫Âô®ÁöÑÂàÜÊµÅÊñá‰ª∂ÊãÜÊàêÊõ¥Â∞èÁöÑÊñá‰ª∂Â§ÑÁêÜ„ÄÇ</p><p>‚Äã        Â§ÑÁêÜÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂ÁöÑÊó∂ÂÄôÔºåÂìàÂ∏åË°®ÁªüËÆ°ÊØèÁßçËØçÂèäÂÖ∂ËØçÈ¢ëÔºåÂìàÂ∏åË°®ËÆ∞ÂΩïÂª∫Á´ãÂÆåÊàêÂêéÔºåÂÜçÈÅçÂéÜÂìàÂ∏åË°®ÔºåÈÅçÂéÜÂìàÂ∏åË°®ÁöÑËøáÁ®ã‰∏≠‰ΩøÁî®Â§ßÂ∞è‰∏∫100ÁöÑÂ∞èÊ†πÂ†ÜÊù•ÈÄâÂá∫ÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂ÁöÑtop 100ÔºàÊï¥‰ΩìÊú™ÊéíÂ∫èÁöÑtop 100Ôºâ„ÄÇÊØè‰∏Ä‰∏™Â∞èÊñá‰ª∂ÈÉΩÊúâËá™Â∑±ËØçÈ¢ëÁöÑÂ∞èÊ†πÂ†ÜÔºàÊï¥‰ΩìÊú™ÊéíÂ∫èÁöÑtop 100ÔºâÔºåÂ∞ÜÂ∞èÊ†πÂ†ÜÈáåÁöÑËØçÊåâÁÖßËØçÈ¢ëÊéíÂ∫èÔºåÂ∞±ÂæóÂà∞‰∫ÜÊØè‰∏™Â∞èÊñá‰ª∂ÁöÑÊéíÂ∫èÂêétop 100„ÄÇÁÑ∂ÂêéÊääÂêÑ‰∏™Â∞èÊñá‰ª∂ÊéíÂ∫èÂêéÁöÑtop 100ËøõË°åÂ§ñÊéíÂ∫èÊàñËÄÖÁªßÁª≠Âà©Áî®Â∞èÊ†πÂ†ÜÔºåÂ∞±ÂèØ‰ª•ÈÄâÂá∫ÊØèÂè∞Êú∫Âô®‰∏äÁöÑtop 100„ÄÇ‰∏çÂêåÊú∫Âô®‰πãÈó¥ÁöÑtop100ÂÜçËøõË°åÂ§ñÊéíÂ∫èÊàñËÄÖÁªßÁª≠Âà©Áî®Â∞èÊ†πÂ†ÜÔºåÊúÄÁªàÊ±ÇÂá∫Êï¥‰∏™Áôæ‰∫øÊï∞ÊçÆÈáè‰∏≠ÁöÑtop 100„ÄÇÂØπ‰∫étop K ÁöÑÈóÆÈ¢òÔºåÈô§ÂìàÂ∏åÂáΩÊï∞ÂàÜÊµÅÂíåÁî®ÂìàÂ∏åË°®ÂÅöËØçÈ¢ëÁªüËÆ°‰πãÂ§ñÔºåËøòÁªèÂ∏∏Áî®Â†ÜÁªìÊûÑÂíåÂ§ñÊéíÂ∫èÁöÑÊâãÊÆµËøõË°åÂ§ÑÁêÜ„ÄÇ</p><h3 id="6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ"><a href="#6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ" class="headerlink" title="6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ"></a><strong>6„ÄÅ‰∏≠‰ΩçÊï∞ÔºàÂçïÂêë‰∫åÂàÜÊü•ÊâæÔºâ</strong></h3><p><strong>10MBÂÜÖÂ≠òÔºåÊâæÂà∞100‰∫øÊï¥Êï∞ÁöÑ‰∏≠‰ΩçÊï∞</strong></p><p>‚ë†ÂÜÖÂ≠òÂ§üÔºöÂÜÖÂ≠òÂ§üËøòÊÖå‰ªÄ‰πàÂïäÔºåÁõ¥Êé•Êää100‰∫ø‰∏™ÂÖ®ÈÉ®ÊéíÂ∫è‰∫ÜÔºå‰Ω†Áî®ÂÜíÊ≥°ÈÉΩÂèØ‰ª•‚Ä¶ÁÑ∂ÂêéÊâæÂà∞‰∏≠Èó¥ÈÇ£‰∏™Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ‰ΩÜÊòØ‰Ω†‰ª•‰∏∫Èù¢ËØïÂÆò‰ºöÁªô‰Ω†ÂÜÖÂ≠òÔºüÔºü</p><p>‚ë°ÂÜÖÂ≠ò‰∏çÂ§üÔºöÈ¢òÁõÆËØ¥ÊòØÊï¥Êï∞ÔºåÊàë‰ª¨ËÆ§‰∏∫ÊòØÂ∏¶Á¨¶Âè∑ÁöÑint,ÊâÄ‰ª•4Â≠óËäÇÔºåÂç†32‰Ωç„ÄÇ</p><p>  ÂÅáËÆæ100‰∫ø‰∏™Êï∞Â≠ó‰øùÂ≠òÂú®‰∏Ä‰∏™Â§ßÊñá‰ª∂‰∏≠Ôºå‰æùÊ¨°ËØª‰∏ÄÈÉ®ÂàÜÊñá‰ª∂Âà∞ÂÜÖÂ≠ò(‰∏çË∂ÖËøáÂÜÖÂ≠òÁöÑÈôêÂà∂)ÔºåÂ∞ÜÊØè‰∏™Êï∞Â≠óÁî®‰∫åËøõÂà∂Ë°®Á§∫ÔºåÊØîËæÉ‰∫åËøõÂà∂ÁöÑÊúÄÈ´ò‰Ωç(Á¨¨32‰ΩçÔºåÁ¨¶Âè∑‰ΩçÔºå0ÊòØÊ≠£Ôºå1ÊòØË¥ü)ÔºåÂ¶ÇÊûúÊï∞Â≠óÁöÑÊúÄÈ´ò‰Ωç‰∏∫0ÔºåÂàôÂ∞ÜËøô‰∏™Êï∞Â≠óÂÜôÂÖ• file_0Êñá‰ª∂‰∏≠ÔºõÂ¶ÇÊûúÊúÄÈ´ò‰Ωç‰∏∫ 1ÔºåÂàôÂ∞ÜËØ•Êï∞Â≠óÂÜôÂÖ•file_1Êñá‰ª∂‰∏≠„ÄÇ</p><p>  ‰ªéËÄåÂ∞Ü100‰∫ø‰∏™Êï∞Â≠óÂàÜÊàê‰∫Ü‰∏§‰∏™Êñá‰ª∂ÔºåÂÅáËÆæ file_0Êñá‰ª∂‰∏≠Êúâ 60‰∫ø ‰∏™Êï∞Â≠óÔºåfile_1Êñá‰ª∂‰∏≠Êúâ 40‰∫ø ‰∏™Êï∞Â≠ó„ÄÇÈÇ£‰πà‰∏≠‰ΩçÊï∞Â∞±Âú® file_0 Êñá‰ª∂‰∏≠ÔºåÂπ∂‰∏îÊòØ file_0 Êñá‰ª∂‰∏≠ÊâÄÊúâÊï∞Â≠óÊéíÂ∫è‰πãÂêéÁöÑÁ¨¨ 10‰∫ø ‰∏™Êï∞Â≠ó„ÄÇÔºàfile_1‰∏≠ÁöÑÊï∞ÈÉΩÊòØË¥üÊï∞Ôºåfile_0‰∏≠ÁöÑÊï∞ÈÉΩÊòØÊ≠£Êï∞Ôºå‰πüÂç≥ËøôÈáå‰∏ÄÂÖ±Âè™Êúâ40‰∫ø‰∏™Ë¥üÊï∞ÔºåÈÇ£‰πàÊéíÂ∫è‰πãÂêéÁöÑÁ¨¨50‰∫ø‰∏™Êï∞‰∏ÄÂÆö‰Ωç‰∫éfile_0‰∏≠Ôºâ</p><p>  Áé∞Âú®ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂ§ÑÁêÜ file_0 Êñá‰ª∂‰∫ÜÔºà‰∏çÈúÄË¶ÅÂÜçËÄÉËôëfile_1Êñá‰ª∂Ôºâ„ÄÇÂØπ‰∫é file_0 Êñá‰ª∂ÔºåÂêåÊ†∑ÈááÂèñ‰∏äÈù¢ÁöÑÊé™ÊñΩÂ§ÑÁêÜÔºöÂ∞Üfile_0Êñá‰ª∂‰æùÊ¨°ËØª‰∏ÄÈÉ®ÂàÜÂà∞ÂÜÖÂ≠ò(‰∏çË∂ÖÂÜÖÂ≠òÈôêÂà∂)ÔºåÂ∞ÜÊØè‰∏™Êï∞Â≠óÁî®‰∫åËøõÂà∂Ë°®Á§∫ÔºåÊØîËæÉ‰∫åËøõÂà∂ÁöÑ Ê¨°È´ò‰ΩçÔºàÁ¨¨31‰ΩçÔºâÔºåÂ¶ÇÊûúÊï∞Â≠óÁöÑÊ¨°È´ò‰Ωç‰∏∫0ÔºåÂÜôÂÖ•file_0_0Êñá‰ª∂‰∏≠ÔºõÂ¶ÇÊûúÊ¨°È´ò‰Ωç‰∏∫1ÔºåÂÜôÂÖ•file_0_1Êñá‰ª∂ ‰∏≠„ÄÇ</p><p>  Áé∞ÂÅáËÆæ file_0_0Êñá‰ª∂‰∏≠Êúâ30‰∫ø‰∏™Êï∞Â≠óÔºåfile_0_1‰∏≠‰πüÊúâ30‰∫ø‰∏™Êï∞Â≠óÔºåÂàô‰∏≠‰ΩçÊï∞Â∞±ÊòØÔºöfile_0_0Êñá‰ª∂‰∏≠ÁöÑÊï∞Â≠ó‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫è‰πãÂêéÁöÑÁ¨¨10‰∫ø‰∏™Êï∞Â≠ó„ÄÇ</p><p>  ÊäõÂºÉfile_0_1Êñá‰ª∂ÔºåÁªßÁª≠ÂØπ file_0_0Êñá‰ª∂ Ê†πÊçÆ Ê¨°Ê¨°È´ò‰Ωç(Á¨¨30‰Ωç) ÂàíÂàÜÔºåÂÅáËÆæÊ≠§Ê¨°ÂàíÂàÜÁöÑ‰∏§‰∏™Êñá‰ª∂‰∏∫Ôºöfile_0_0_0‰∏≠Êúâ5‰∫ø‰∏™Êï∞Â≠óÔºåfile_0_0_1‰∏≠Êúâ25‰∫ø‰∏™Êï∞Â≠óÔºåÈÇ£‰πà‰∏≠‰ΩçÊï∞Â∞±ÊòØ file_0_0_1Êñá‰ª∂‰∏≠ÁöÑÊâÄÊúâÊï∞Â≠óÊéíÂ∫è‰πãÂêéÁöÑ Á¨¨ 5‰∫ø ‰∏™Êï∞„ÄÇ</p><p>  ÊåâÁÖß‰∏äËø∞ÊÄùË∑ØÔºåÁõ¥Âà∞ÂàíÂàÜÁöÑÊñá‰ª∂ÂèØÁõ¥Êé•Âä†ËΩΩËøõÂÜÖÂ≠òÊó∂ÔºåÂ∞±ÂèØ‰ª•Áõ¥Êé•ÂØπÊï∞Â≠óËøõË°åÂø´ÈÄüÊéíÂ∫èÔºåÊâæÂá∫‰∏≠‰ΩçÊï∞‰∫Ü„ÄÇ</p><h3 id="7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ"><a href="#7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ" class="headerlink" title="7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ"></a><strong>7„ÄÅÁü≠ÂüüÂêçÁ≥ªÁªüÔºàÁºìÂ≠òÔºâ</strong></h3><p><strong>ËÆæËÆ°Áü≠ÂüüÂêçÁ≥ªÁªüÔºåÂ∞ÜÈïøURLËΩ¨ÂåñÊàêÁü≠ÁöÑURL.</strong></p><p>Ôºà1ÔºâÂà©Áî®ÊîæÂè∑Âô®ÔºåÂàùÂßãÂÄº‰∏∫0ÔºåÂØπ‰∫éÊØè‰∏Ä‰∏™Áü≠ÈìæÊé•ÁîüÊàêËØ∑Ê±ÇÔºåÈÉΩÈÄíÂ¢ûÊîæÂè∑Âô®ÁöÑÂÄºÔºåÂÜçÂ∞ÜÊ≠§ÂÄºËΩ¨Êç¢‰∏∫62ËøõÂà∂Ôºàa-zA-Z0-9ÔºâÔºåÊØîÂ¶ÇÁ¨¨‰∏ÄÊ¨°ËØ∑Ê±ÇÊó∂ÊîæÂè∑Âô®ÁöÑÂÄº‰∏∫0ÔºåÂØπÂ∫î62ËøõÂà∂‰∏∫aÔºåÁ¨¨‰∫åÊ¨°ËØ∑Ê±ÇÊó∂ÊîæÂè∑Âô®ÁöÑÂÄº‰∏∫1ÔºåÂØπÂ∫î62ËøõÂà∂‰∏∫bÔºåÁ¨¨10001Ê¨°ËØ∑Ê±ÇÊó∂ÊîæÂè∑Âô®ÁöÑÂÄº‰∏∫10000ÔºåÂØπÂ∫î62ËøõÂà∂‰∏∫sBc„ÄÇ</p><p>Ôºà2ÔºâÂ∞ÜÁü≠ÈìæÊé•ÊúçÂä°Âô®ÂüüÂêç‰∏éÊîæÂè∑Âô®ÁöÑ62ËøõÂà∂ÂÄºËøõË°åÂ≠óÁ¨¶‰∏≤ËøûÊé•ÔºåÂç≥‰∏∫Áü≠ÈìæÊé•ÁöÑURLÔºåÊØîÂ¶ÇÔºö<a href="http://t.cn/sBc„ÄÇ" target="_blank" rel="noopener">t.cn/sBc„ÄÇ</a></p><p>Ôºà3ÔºâÈáçÂÆöÂêëËøáÁ®ãÔºöÁîüÊàêÁü≠ÈìæÊé•‰πãÂêéÔºåÈúÄË¶ÅÂ≠òÂÇ®Áü≠ÈìæÊé•Âà∞ÈïøÈìæÊé•ÁöÑÊò†Â∞ÑÂÖ≥Á≥ªÔºåÂç≥sBc -&gt; URLÔºåÊµèËßàÂô®ËÆøÈóÆÁü≠ÈìæÊé•ÊúçÂä°Âô®Êó∂ÔºåÊ†πÊçÆURL PathÂèñÂà∞ÂéüÂßãÁöÑÈìæÊé•ÔºåÁÑ∂ÂêéËøõË°å302ÈáçÂÆöÂêë„ÄÇÊò†Â∞ÑÂÖ≥Á≥ªÂèØ‰ΩøÁî®K-VÂ≠òÂÇ®ÔºåÊØîÂ¶ÇRedisÊàñMemcache„ÄÇ</p><h3 id="8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ"><a href="#8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ" class="headerlink" title="8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ"></a><strong>8„ÄÅÊµ∑ÈáèËØÑËÆ∫ÂÖ•Â∫ìÔºàÊ∂àÊÅØÈòüÂàóÔºâ</strong></h3><p><strong>ÂÅáËÆæÊúâËøô‰πà‰∏Ä‰∏™Âú∫ÊôØÔºåÊúâ‰∏ÄÊù°Êñ∞ÈóªÔºåÊñ∞ÈóªÁöÑËØÑËÆ∫ÈáèÂèØËÉΩÂæàÂ§ßÔºåÂ¶Ç‰ΩïËÆæËÆ°ËØÑËÆ∫ÁöÑËØªÂíåÂÜô</strong></p><p>ÂâçÁ´ØÈ°µÈù¢Áõ¥Êé•ÁªôÁî®Êà∑Â±ïÁ§∫„ÄÅÈÄöËøáÊ∂àÊÅØÈòüÂàóÂºÇÊ≠•ÊñπÂºèÂÖ•Â∫ì</p><p>ËØªÂèØ‰ª•ËøõË°åËØªÂÜôÂàÜÁ¶ª„ÄÅÂêåÊó∂ÁÉ≠ÁÇπËØÑËÆ∫ÂÆöÊó∂Âä†ËΩΩÂà∞ÁºìÂ≠ò</p><h3 id="9„ÄÅÂú®Á∫ø-Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ"><a href="#9„ÄÅÂú®Á∫ø-Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ" class="headerlink" title="9„ÄÅÂú®Á∫ø/Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ"></a><strong>9„ÄÅÂú®Á∫ø/Âπ∂ÂèëÁî®Êà∑Êï∞ÔºàRedisÔºâ</strong></h3><p>‚Äã    <strong>ÊòæÁ§∫ÁΩëÁ´ôÁöÑÁî®Êà∑Âú®Á∫øÊï∞ÁöÑËß£ÂÜ≥ÊÄùË∑Ø</strong></p><p>‚Äã        Áª¥Êä§Âú®Á∫øÁî®Êà∑Ë°®</p><p>‚Äã        ‰ΩøÁî®RedisÁªüËÆ°</p><p><strong>ÊòæÁ§∫ÁΩëÁ´ôÂπ∂ÂèëÁî®Êà∑Êï∞</strong></p><ol><li>ÊØèÂΩìÁî®Êà∑ËÆøÈóÆÊúçÂä°Êó∂ÔºåÊääËØ•Áî®Êà∑ÁöÑ ID ÂÜôÂÖ•ZSORTÈòüÂàóÔºåÊùÉÈáç‰∏∫ÂΩìÂâçÊó∂Èó¥</li><li>Ê†πÊçÆÊùÉÈáç(Âç≥Êó∂Èó¥)ËÆ°ÁÆó‰∏ÄÂàÜÈíüÂÜÖËØ•Êú∫ÊûÑÁöÑÁî®Êà∑Êï∞Zrange</li><li>Âà†Êéâ‰∏ÄÂàÜÈíü‰ª•‰∏äËøáÊúüÁöÑÁî®Êà∑Zrem</li></ol><h3 id="10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ"><a href="#10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ" class="headerlink" title="10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ"></a>10„ÄÅÁÉ≠Èó®Â≠óÁ¨¶‰∏≤ÔºàÂâçÁºÄÊ†ëÔºâ</h3><p>ÂÅáËÆæÁõÆÂâçÊúâ 1000w ‰∏™ËÆ∞ÂΩïÔºàËøô‰∫õÊü•ËØ¢‰∏≤ÁöÑÈáçÂ§çÂ∫¶ÊØîËæÉÈ´òÔºåËôΩÁÑ∂ÊÄªÊï∞ÊòØ 1000wÔºå‰ΩÜÂ¶ÇÊûúÈô§ÂéªÈáçÂ§çÂêéÔºåÂàô‰∏çË∂ÖËøá 300w ‰∏™Ôºâ„ÄÇËØ∑ÁªüËÆ°ÊúÄÁÉ≠Èó®ÁöÑ 10 ‰∏™Êü•ËØ¢‰∏≤ÔºåË¶ÅÊ±Ç‰ΩøÁî®ÁöÑÂÜÖÂ≠ò‰∏çËÉΩË∂ÖËøá 1G„ÄÇÔºà‰∏Ä‰∏™Êü•ËØ¢‰∏≤ÁöÑÈáçÂ§çÂ∫¶Ë∂äÈ´òÔºåËØ¥ÊòéÊü•ËØ¢ÂÆÉÁöÑÁî®Êà∑Ë∂äÂ§öÔºå‰πüÂ∞±Ë∂äÁÉ≠Èó®„ÄÇÔºâ</p><p><strong>HashMap Ê≥ï</strong></p><p>ËôΩÁÑ∂Â≠óÁ¨¶‰∏≤ÊÄªÊï∞ÊØîËæÉÂ§öÔºå‰ΩÜÂéªÈáçÂêé‰∏çË∂ÖËøá 300wÔºåÂõ†Ê≠§ÔºåÂèØ‰ª•ËÄÉËôëÊääÊâÄÊúâÂ≠óÁ¨¶‰∏≤ÂèäÂá∫Áé∞Ê¨°Êï∞‰øùÂ≠òÂú®‰∏Ä‰∏™ HashMap ‰∏≠ÔºåÊâÄÂç†Áî®ÁöÑÁ©∫Èó¥‰∏∫ 300w*(255+4)‚âà777MÔºàÂÖ∂‰∏≠Ôºå4 Ë°®Á§∫Êï¥Êï∞Âç†Áî®ÁöÑ 4 ‰∏™Â≠óËäÇÔºâ„ÄÇÁî±Ê≠§ÂèØËßÅÔºå1G ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÂÆåÂÖ®Â§üÁî®„ÄÇ</p><p><strong>ÊÄùË∑ØÂ¶Ç‰∏ã</strong>Ôºö</p><p>È¶ñÂÖàÔºåÈÅçÂéÜÂ≠óÁ¨¶‰∏≤ÔºåËã•‰∏çÂú® map ‰∏≠ÔºåÁõ¥Êé•Â≠òÂÖ• mapÔºåvalue ËÆ∞‰∏∫ 1ÔºõËã•Âú® map ‰∏≠ÔºåÂàôÊääÂØπÂ∫îÁöÑ value Âä† 1ÔºåËøô‰∏ÄÊ≠•Êó∂Èó¥Â§çÊùÇÂ∫¶ <code>O(N)</code> „ÄÇ</p><p>Êé•ÁùÄÈÅçÂéÜ mapÔºåÊûÑÂª∫‰∏Ä‰∏™ 10 ‰∏™ÂÖÉÁ¥†ÁöÑÂ∞èÈ°∂Â†ÜÔºåËã•ÈÅçÂéÜÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤ÁöÑÂá∫Áé∞Ê¨°Êï∞Â§ß‰∫éÂ†ÜÈ°∂Â≠óÁ¨¶‰∏≤ÁöÑÂá∫Áé∞Ê¨°Êï∞ÔºåÂàôËøõË°åÊõøÊç¢ÔºåÂπ∂Â∞ÜÂ†ÜË∞ÉÊï¥‰∏∫Â∞èÈ°∂Â†Ü„ÄÇ</p><p>ÈÅçÂéÜÁªìÊùüÂêéÔºåÂ†Ü‰∏≠ 10 ‰∏™Â≠óÁ¨¶‰∏≤Â∞±ÊòØÂá∫Áé∞Ê¨°Êï∞ÊúÄÂ§öÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇËøô‰∏ÄÊ≠•Êó∂Èó¥Â§çÊùÇÂ∫¶ <code>O(Nlog10)</code> „ÄÇ</p><p><strong>ÂâçÁºÄÊ†ëÊ≥ï</strong></p><p>ÂΩìËøô‰∫õÂ≠óÁ¨¶‰∏≤ÊúâÂ§ßÈáèÁõ∏ÂêåÂâçÁºÄÊó∂ÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®ÂâçÁºÄÊ†ëÊù•ÁªüËÆ°Â≠óÁ¨¶‰∏≤Âá∫Áé∞ÁöÑÊ¨°Êï∞ÔºåÊ†ëÁöÑÁªìÁÇπ‰øùÂ≠òÂ≠óÁ¨¶‰∏≤Âá∫Áé∞Ê¨°Êï∞Ôºå0 Ë°®Á§∫Ê≤°ÊúâÂá∫Áé∞„ÄÇ</p><p><strong>ÊÄùË∑ØÂ¶Ç‰∏ã</strong>Ôºö</p><p>Âú®ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤Êó∂ÔºåÂú®ÂâçÁºÄÊ†ë‰∏≠Êü•ÊâæÔºåÂ¶ÇÊûúÊâæÂà∞ÔºåÂàôÊääÁªìÁÇπ‰∏≠‰øùÂ≠òÁöÑÂ≠óÁ¨¶‰∏≤Ê¨°Êï∞Âä† 1ÔºåÂê¶Âàô‰∏∫Ëøô‰∏™Â≠óÁ¨¶‰∏≤ÊûÑÂª∫Êñ∞ÁªìÁÇπÔºåÊûÑÂª∫ÂÆåÊàêÂêéÊääÂè∂Â≠êÁªìÁÇπ‰∏≠Â≠óÁ¨¶‰∏≤ÁöÑÂá∫Áé∞Ê¨°Êï∞ÁΩÆ‰∏∫ 1„ÄÇ</p><p>ÊúÄÂêé‰æùÁÑ∂‰ΩøÁî®<strong>Â∞èÈ°∂Â†Ü</strong>Êù•ÂØπÂ≠óÁ¨¶‰∏≤ÁöÑÂá∫Áé∞Ê¨°Êï∞ËøõË°åÊéíÂ∫è„ÄÇ</p><h3 id="11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï"><a href="#11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï" class="headerlink" title="11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï"></a>11„ÄÅÁ∫¢ÂåÖÁÆóÊ≥ï</h3><p>Á∫øÊÄßÂàáÂâ≤Ê≥ïÔºå‰∏Ä‰∏™Âå∫Èó¥ÂàáN-1ÂàÄ„ÄÇË∂äÊó©Ë∂äÂ§ö</p><p>‰∫åÂÄçÂùáÂÄºÊ≥ïÔºå„Äê0 ~ Ââ©‰ΩôÈáëÈ¢ù / Ââ©‰Ωô‰∫∫Êï∞ * 2„Äë‰∏≠ÈöèÊú∫ÔºåÁõ∏ÂØπÂùáÂåÄ</p><p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goqpbvl5pvj30qu0gcgm0.jpg" alt="img"></p><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/008eGmZEly1goqpc3hz9dj31450ggq8k.jpg" alt="img" title class>                <p>img</p>            </figure><h3 id="11„ÄÅÊâãÂÜôÂø´Êéí"><a href="#11„ÄÅÊâãÂÜôÂø´Êéí" class="headerlink" title="11„ÄÅÊâãÂÜôÂø´Êéí"></a>11„ÄÅÊâãÂÜôÂø´Êéí</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">QuickSort</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = arr[i];</span><br><span class="line">arr[i] = arr[j];</span><br><span class="line">arr[j] = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Â∏∏ËßÑÂø´Êéí */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort1</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L , <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (L &gt; R)  <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">int</span> M = partition(arr, L, R);</span><br><span class="line">quickSort1(arr, L, M - <span class="number">1</span>);</span><br><span class="line">quickSort1(arr, M + <span class="number">1</span>, R);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (L &gt; R) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (L == R) <span class="keyword">return</span> L;</span><br><span class="line"><span class="keyword">int</span> lessEqual = L - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> index = L;</span><br><span class="line"><span class="keyword">while</span> (index &lt; R) &#123;</span><br><span class="line"><span class="keyword">if</span> (arr[index] &lt;= arr[R])</span><br><span class="line">swap(arr, index, ++lessEqual);</span><br><span class="line">index++;</span><br><span class="line">&#125;</span><br><span class="line">swap(arr, ++lessEqual, R);</span><br><span class="line"><span class="keyword">return</span> lessEqual;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* Ëç∑ÂÖ∞ÂõΩÊóó */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">quickSort2</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (L &gt; R)  <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">int</span>[] equalArea = netherlandsFlag(arr, L, R);</span><br><span class="line">quickSort2(arr, L, equalArea[<span class="number">0</span>] - <span class="number">1</span>);</span><br><span class="line">quickSort2(arr, equalArea[<span class="number">1</span>] + <span class="number">1</span>, R);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] netherlandsFlag(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> R) &#123;</span><br><span class="line"><span class="keyword">if</span> (L &gt; R) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; -<span class="number">1</span>, -<span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">if</span> (L == R) <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; L, R &#125;;</span><br><span class="line"><span class="keyword">int</span> less = L - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> more = R;</span><br><span class="line"><span class="keyword">int</span> index = L;</span><br><span class="line"><span class="keyword">while</span> (index &lt; more) &#123;</span><br><span class="line"><span class="keyword">if</span> (arr[index] == arr[R]) &#123;</span><br><span class="line">index++;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (arr[index] &lt; arr[R]) &#123;</span><br><span class="line">swap(arr, index++, ++less);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">swap(arr, index, --more);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">swap(arr, more, R);</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; less + <span class="number">1</span>, more &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// for test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> testTime = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> maxSize = <span class="number">10000000</span>;</span><br><span class="line"><span class="keyword">int</span> maxValue = <span class="number">100000</span>;</span><br><span class="line"><span class="keyword">boolean</span> succeed = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">long</span> T1=<span class="number">0</span>,T2=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; testTime; i++) &#123;</span><br><span class="line"><span class="keyword">int</span>[] arr1 = generateRandomArray(maxSize, maxValue);</span><br><span class="line"><span class="keyword">int</span>[] arr2 = copyArray(arr1);</span><br><span class="line"><span class="keyword">int</span>[] arr3 = copyArray(arr1);</span><br><span class="line"><span class="comment">//int[] arr1 = &#123;9,8,7,6,5,4,3,2,1&#125;;</span></span><br><span class="line"><span class="keyword">long</span> t1 = System.currentTimeMillis();</span><br><span class="line">quickSort1(arr1,<span class="number">0</span>,arr1.length-<span class="number">1</span>);</span><br><span class="line"><span class="keyword">long</span> t2 = System.currentTimeMillis();</span><br><span class="line">quickSort2(arr2,<span class="number">0</span>,arr2.length-<span class="number">1</span>);</span><br><span class="line"><span class="keyword">long</span> t3 = System.currentTimeMillis();</span><br><span class="line">T1 += (t2-t1);</span><br><span class="line">T2 += (t3-t2);</span><br><span class="line"><span class="keyword">if</span> (!isEqual(arr1, arr2) || !isEqual(arr2, arr3)) &#123;</span><br><span class="line">succeed = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(T1+<span class="string">" "</span>+T2);</span><br><span class="line"><span class="comment">//System.out.println(succeed ? "Nice!" : "Oops!");</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] generateRandomArray(<span class="keyword">int</span> maxSize, <span class="keyword">int</span> maxValue) &#123;</span><br><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[(<span class="keyword">int</span>) ((maxSize + <span class="number">1</span>) * Math.random())];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">arr[i] = (<span class="keyword">int</span>) ((maxValue + <span class="number">1</span>) * Math.random())</span><br><span class="line">                - (<span class="keyword">int</span>) (maxValue * Math.random());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[] copyArray(<span class="keyword">int</span>[] arr) &#123;</span><br><span class="line"><span class="keyword">if</span> (arr == <span class="keyword">null</span>)  <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[arr.length];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">res[i] = arr[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isEqual</span><span class="params">(<span class="keyword">int</span>[] arr1, <span class="keyword">int</span>[] arr2)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> ((arr1 == <span class="keyword">null</span> &amp;&amp; arr2 != <span class="keyword">null</span>) || (arr1 != <span class="keyword">null</span> &amp;&amp; arr2 == <span class="keyword">null</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">if</span> (arr1 == <span class="keyword">null</span> &amp;&amp; arr2 == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">if</span> (arr1.length != arr2.length)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr1.length; i++)</span><br><span class="line"><span class="keyword">if</span> (arr1[i] != arr2[i])</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printArray</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (arr == <span class="keyword">null</span>)</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++)</span><br><span class="line">System.out.print(arr[i] + <span class="string">" "</span>);</span><br><span class="line">System.out.println();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="12„ÄÅÊâãÂÜôÂΩíÂπ∂"><a href="#12„ÄÅÊâãÂÜôÂΩíÂπ∂" class="headerlink" title="12„ÄÅÊâãÂÜôÂΩíÂπ∂"></a>12„ÄÅÊâãÂÜôÂΩíÂπ∂</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> M, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] help = <span class="keyword">new</span> <span class="keyword">int</span>[R - L + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> p1 = L;</span><br><span class="line">    <span class="keyword">int</span> p2 = M + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (p1 &lt;= M &amp;&amp; p2 &lt;= R)</span><br><span class="line">        help[i++] = arr[p1] &lt;= arr[p2] ? arr[p1++] : arr[p2++];</span><br><span class="line">    <span class="keyword">while</span> (p1 &lt;= M)</span><br><span class="line">        help[i++] = arr[p1++];</span><br><span class="line">    <span class="keyword">while</span> (p2 &lt;= R)</span><br><span class="line">        help[i++] = arr[p2++];</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; help.length; i++)</span><br><span class="line">        arr[L + i] = help[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (L == R)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">int</span> mid = L + ((R - L) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    process(arr, L, mid);</span><br><span class="line">    process(arr, mid + <span class="number">1</span>, R);</span><br><span class="line">    merge(arr, L, mid, R);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arr1 = &#123;<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">    mergeSort(arr, <span class="number">0</span>, arr.length - <span class="number">1</span>);</span><br><span class="line">    printArray(arr);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="13„ÄÅÊâãÂÜôÂ†ÜÊéí"><a href="#13„ÄÅÊâãÂÜôÂ†ÜÊéí" class="headerlink" title="13„ÄÅÊâãÂÜôÂ†ÜÊéí"></a>13„ÄÅÊâãÂÜôÂ†ÜÊéí</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Â†ÜÊéíÂ∫èÈ¢ùÂ§ñÁ©∫Èó¥Â§çÊùÇÂ∫¶O(1)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapSort</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr == <span class="keyword">null</span> || arr.length &lt; <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = arr.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        heapify(arr, i, arr.length);</span><br><span class="line">    <span class="keyword">int</span> heapSize = arr.length;</span><br><span class="line">    swap(arr, <span class="number">0</span>, --heapSize);</span><br><span class="line">    <span class="comment">// O(N*logN)</span></span><br><span class="line">    <span class="keyword">while</span> (heapSize &gt; <span class="number">0</span>) &#123; <span class="comment">// O(N)</span></span><br><span class="line">        heapify(arr, <span class="number">0</span>, heapSize); <span class="comment">// O(logN)</span></span><br><span class="line">        swap(arr, <span class="number">0</span>, --heapSize); <span class="comment">// O(1)</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// arr[index]ÂàöÊù•ÁöÑÊï∞ÔºåÂæÄ‰∏ä</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapInsert</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">while</span> (arr[index] &gt; arr[(index - <span class="number">1</span>) / <span class="number">2</span>]) &#123;</span><br><span class="line">        swap(arr, index, (index - <span class="number">1</span>) / <span class="number">2</span>);</span><br><span class="line">        index = (index - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// arr[index]‰ΩçÁΩÆÁöÑÊï∞ÔºåËÉΩÂê¶ÂæÄ‰∏ãÁßªÂä®</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">heapify</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> index, <span class="keyword">int</span> heapSize)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> left = index * <span class="number">2</span> + <span class="number">1</span>; <span class="comment">// Â∑¶Â≠©Â≠êÁöÑ‰∏ãÊ†á</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt; heapSize) &#123; <span class="comment">// ‰∏ãÊñπËøòÊúâÂ≠©Â≠êÁöÑÊó∂ÂÄô</span></span><br><span class="line">        <span class="comment">// ‰∏§‰∏™Â≠©Â≠ê‰∏≠ÔºåË∞ÅÁöÑÂÄºÂ§ßÔºåÊää‰∏ãÊ†áÁªôlargest</span></span><br><span class="line">        <span class="comment">// 1ÔºâÂè™ÊúâÂ∑¶Â≠©Â≠êÔºåleft -&gt; largest</span></span><br><span class="line">        <span class="comment">// 2) ÂêåÊó∂ÊúâÂ∑¶Â≠©Â≠êÂíåÂè≥Â≠©Â≠êÔºåÂè≥Â≠©Â≠êÁöÑÂÄº&lt;= Â∑¶Â≠©Â≠êÁöÑÂÄºÔºåleft -&gt; largest</span></span><br><span class="line">        <span class="comment">// 3) ÂêåÊó∂ÊúâÂ∑¶Â≠©Â≠êÂíåÂè≥Â≠©Â≠êÂπ∂‰∏îÂè≥Â≠©Â≠êÁöÑÂÄº&gt; Â∑¶Â≠©Â≠êÁöÑÂÄºÔºå right -&gt; largest</span></span><br><span class="line">        <span class="keyword">int</span> largest = left+<span class="number">1</span> &lt; heapSize &amp;&amp; arr[left+<span class="number">1</span>]&gt; arr[left] ? left+<span class="number">1</span> : left;</span><br><span class="line">        <span class="comment">// Áà∂ÂíåËæÉÂ§ßÁöÑÂ≠©Â≠ê‰πãÈó¥ÔºåË∞ÅÁöÑÂÄºÂ§ßÔºåÊää‰∏ãÊ†áÁªôlargest</span></span><br><span class="line">        largest = arr[largest] &gt; arr[index] ? largest : index;</span><br><span class="line">        <span class="keyword">if</span> (largest == index)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        swap(arr, largest, index);</span><br><span class="line">        index = largest;</span><br><span class="line">        left = index * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tmp = arr[i];</span><br><span class="line">    arr[i] = arr[j];</span><br><span class="line">    arr[j] = tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span>[] arr1 = &#123;<span class="number">9</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;;</span><br><span class="line">    heapSort(arr1);</span><br><span class="line">    printArray(arr1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="14„ÄÅÊâãÂÜôÂçï‰æã"><a href="#14„ÄÅÊâãÂÜôÂçï‰æã" class="headerlink" title="14„ÄÅÊâãÂÜôÂçï‰æã"></a>14„ÄÅÊâãÂÜôÂçï‰æã</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton singleton;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getSingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (singleton == <span class="keyword">null</span>) &#123;</span><br><span class="line">          <span class="keyword">synchronized</span> (Singleton<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (singleton == <span class="keyword">null</span>) &#123;</span><br><span class="line">              singleton = <span class="keyword">new</span> Singleton();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> singleton;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="15„ÄÅÊâãÂÜôLRUcache"><a href="#15„ÄÅÊâãÂÜôLRUcache" class="headerlink" title="15„ÄÅÊâãÂÜôLRUcache"></a>15„ÄÅÊâãÂÜôLRUcache</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Âü∫‰∫élinkedHashMap</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> LinkedHashMap&lt;Integer,Integer&gt; cache;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> capacity;   <span class="comment">//ÂÆπÈáèÂ§ßÂ∞è</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        cache = <span class="keyword">new</span> LinkedHashMap&lt;&gt;(capacity);</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//ÁºìÂ≠ò‰∏≠‰∏çÂ≠òÂú®Ê≠§keyÔºåÁõ¥Êé•ËøîÂõû</span></span><br><span class="line">        <span class="keyword">if</span>(!cache.containsKey(key)) &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> res = cache.get(key);</span><br><span class="line">        cache.remove(key);   <span class="comment">//ÂÖà‰ªéÈìæË°®‰∏≠Âà†Èô§</span></span><br><span class="line">        cache.put(key,res);  <span class="comment">//ÂÜçÊääËØ•ËäÇÁÇπÊîæÂà∞ÈìæË°®Êú´Â∞æÂ§Ñ</span></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key,<span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(cache.containsKey(key)) &#123;</span><br><span class="line">            cache.remove(key); <span class="comment">//Â∑≤ÁªèÂ≠òÂú®ÔºåÂú®ÂΩìÂâçÈìæË°®ÁßªÈô§</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(capacity == cache.size()) &#123;</span><br><span class="line">            <span class="comment">//cacheÂ∑≤Êª°ÔºåÂà†Èô§ÈìæË°®Â§¥‰ΩçÁΩÆ</span></span><br><span class="line">            Set&lt;Integer&gt; keySet = cache.keySet();</span><br><span class="line">            Iterator&lt;Integer&gt; iterator = keySet.iterator();</span><br><span class="line">            cache.remove(iterator.next());</span><br><span class="line">        &#125;</span><br><span class="line">        cache.put(key,value);  <span class="comment">//ÊèíÂÖ•Âà∞ÈìæË°®Êú´Â∞æ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÊâãÂÜôÂèåÂêëÈìæË°®</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DNode</span> </span>&#123;</span><br><span class="line">        DNode prev;</span><br><span class="line">        DNode next;</span><br><span class="line">        <span class="keyword">int</span> val;</span><br><span class="line">        <span class="keyword">int</span> key;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;Integer, DNode&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    DNode head, tail;</span><br><span class="line">    <span class="keyword">int</span> cap;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</span><br><span class="line">        head = <span class="keyword">new</span> DNode();</span><br><span class="line">        tail = <span class="keyword">new</span> DNode();</span><br><span class="line">        head.next = tail;</span><br><span class="line">        tail.prev = head;</span><br><span class="line">        cap = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(key)) &#123;</span><br><span class="line">            DNode node = map.get(key);</span><br><span class="line">            removeNode(node);</span><br><span class="line">            addToHead(node);</span><br><span class="line">            <span class="keyword">return</span> node.val;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(key)) &#123;</span><br><span class="line">            DNode node = map.get(key);</span><br><span class="line">            node.val = value;</span><br><span class="line">            removeNode(node);</span><br><span class="line">            addToHead(node);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            DNode newNode = <span class="keyword">new</span> DNode();</span><br><span class="line">            newNode.val = value;</span><br><span class="line">            newNode.key = key;</span><br><span class="line">            addToHead(newNode);</span><br><span class="line">            map.put(key, newNode);</span><br><span class="line">            <span class="keyword">if</span> (map.size() &gt; cap) &#123;</span><br><span class="line">                map.remove(tail.prev.key);</span><br><span class="line">                removeNode(tail.prev);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">removeNode</span><span class="params">(DNode node)</span> </span>&#123;</span><br><span class="line">        DNode prevNode = node.prev;</span><br><span class="line">        DNode nextNode = node.next;</span><br><span class="line">        prevNode.next = nextNode;</span><br><span class="line">        nextNode.prev = prevNode;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addToHead</span><span class="params">(DNode node)</span> </span>&#123;</span><br><span class="line">        DNode firstNode = head.next;</span><br><span class="line">        head.next = node;</span><br><span class="line">        node.prev = head;</span><br><span class="line">        node.next = firstNode;</span><br><span class="line">        firstNode.prev = node;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†"><a href="#16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†" class="headerlink" title="16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†"></a><strong>16„ÄÅÊâãÂÜôÁ∫øÁ®ãÊ±†</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.concurrent.pool;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ArrayBlockingQueue;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.BlockingQueue;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MySelfThreadPool</span> </span>&#123;</span><br><span class="line"><span class="comment">//ÈªòËÆ§Á∫øÁ®ãÊ±†‰∏≠ÁöÑÁ∫øÁ®ãÁöÑÊï∞Èáè</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> WORK_NUM = <span class="number">5</span>;</span><br><span class="line"><span class="comment">//ÈªòËÆ§Â§ÑÁêÜ‰ªªÂä°ÁöÑÊï∞Èáè</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> TASK_NUM = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> workNum;<span class="comment">//Á∫øÁ®ãÊï∞Èáè</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> taskNum;<span class="comment">//‰ªªÂä°Êï∞Èáè</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> Set&lt;WorkThread&gt; workThreads;<span class="comment">//‰øùÂ≠òÁ∫øÁ®ãÁöÑÈõÜÂêà</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> BlockingQueue&lt;Runnable&gt; taskQueue;<span class="comment">//ÈòªÂ°ûÊúâÂ∫èÈòüÂàóÂ≠òÊîæ‰ªªÂä°</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MySelfThreadPool</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>(WORK_NUM, TASK_NUM);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MySelfThreadPool</span><span class="params">(<span class="keyword">int</span> workNum, <span class="keyword">int</span> taskNum)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (workNum &lt;= <span class="number">0</span>) workNum = WORK_NUM;</span><br><span class="line"><span class="keyword">if</span> (taskNum &lt;= <span class="number">0</span>) taskNum = TASK_NUM;</span><br><span class="line">taskQueue = <span class="keyword">new</span> ArrayBlockingQueue&lt;&gt;(taskNum);</span><br><span class="line"><span class="keyword">this</span>.workNum = workNum;</span><br><span class="line"><span class="keyword">this</span>.taskNum = taskNum;</span><br><span class="line">workThreads = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line"><span class="comment">//ÂêØÂä®‰∏ÄÂÆöÊï∞ÈáèÁöÑÁ∫øÁ®ãÊï∞Ôºå‰ªéÈòüÂàó‰∏≠Ëé∑Âèñ‰ªªÂä°Â§ÑÁêÜ</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;workNum;i++) &#123;</span><br><span class="line">WorkThread workThread = <span class="keyword">new</span> WorkThread(<span class="string">"thead_"</span>+i);</span><br><span class="line">workThread.start();</span><br><span class="line">workThreads.add(workThread);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(Runnable task)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">taskQueue.put(task);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"ready close thread pool..."</span>);</span><br><span class="line"><span class="keyword">if</span> (workThreads == <span class="keyword">null</span> || workThreads.isEmpty()) <span class="keyword">return</span> ;</span><br><span class="line"><span class="keyword">for</span> (WorkThread workThread : workThreads) &#123;</span><br><span class="line">workThread.stopWork();</span><br><span class="line">workThread = <span class="keyword">null</span>;<span class="comment">//help gc</span></span><br><span class="line">&#125;</span><br><span class="line">workThreads.clear();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="class"><span class="keyword">class</span> <span class="title">WorkThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">WorkThread</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line">setName(name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span> (!interrupted()) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Runnable runnable = taskQueue.take();<span class="comment">//Ëé∑Âèñ‰ªªÂä°</span></span><br><span class="line"><span class="keyword">if</span> (runnable !=<span class="keyword">null</span>) &#123;</span><br><span class="line">System.out.println(getName()+<span class="string">" readyexecute:"</span>+runnable.toString());</span><br><span class="line">runnable.run();<span class="comment">//ÊâßË°å‰ªªÂä°</span></span><br><span class="line">&#125;</span><br><span class="line">runnable = <span class="keyword">null</span>;<span class="comment">//help gc</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">interrupt();</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">interrupt();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> com.concurrent.pool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestMySelfThreadPool</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> TASK_NUM = <span class="number">50</span>;<span class="comment">//‰ªªÂä°ÁöÑ‰∏™Êï∞</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">MySelfThreadPool myPool = <span class="keyword">new</span> MySelfThreadPool(<span class="number">3</span>,<span class="number">50</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;TASK_NUM;i++) &#123;</span><br><span class="line">myPool.execute(<span class="keyword">new</span> MyTask(<span class="string">"task_"</span>+i));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTask</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">MyTask</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">"task :"</span>+name+<span class="string">" end..."</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="keyword">return</span> <span class="string">"name = "</span>+name;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè"><a href="#17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè" class="headerlink" title="17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè"></a><strong>17„ÄÅÊâãÂÜôÊ∂àË¥πËÄÖÁîü‰∫ßËÄÖÊ®°Âºè</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Storage</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> MAX_VALUE = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Object&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">produce</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (list) &#123;</span><br><span class="line">            <span class="keyword">while</span> (list.size() + num &gt; MAX_VALUE) &#123;</span><br><span class="line">                System.out.println(<span class="string">"ÊöÇÊó∂‰∏çËÉΩÊâßË°åÁîü‰∫ß‰ªªÂä°"</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    list.wait();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">                list.add(<span class="keyword">new</span> Object());</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"Â∑≤Áîü‰∫ß‰∫ßÂìÅÊï∞"</span>+num+<span class="string">" ‰ªìÂ∫ìÂÆπÈáè"</span>+list.size());</span><br><span class="line">            list.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">consume</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (list) &#123;</span><br><span class="line">            <span class="keyword">while</span> (list.size() &lt; num) &#123;</span><br><span class="line">                System.out.println(<span class="string">"ÊöÇÊó∂‰∏çËÉΩÊâßË°åÊ∂àË¥π‰ªªÂä°"</span>);</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    list.wait();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">                list.remove(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">"Â∑≤Ê∂àË¥π‰∫ßÂìÅÊï∞"</span>+num+<span class="string">" ‰ªìÂ∫ìÂÆπÈáè"</span> + list.size());</span><br><span class="line">            list.notifyAll();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">private</span> Storage storage;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">(Storage storage)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.storage = storage;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.num = num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        storage.produce(<span class="keyword">this</span>.num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num;</span><br><span class="line">    <span class="keyword">private</span> Storage storage;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">(Storage storage)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.storage = storage;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNum</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.num = num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        storage.consume(<span class="keyword">this</span>.num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Storage storage = <span class="keyword">new</span> Storage();</span><br><span class="line">        Producer p1 = <span class="keyword">new</span> Producer(storage);</span><br><span class="line">        Producer p2 = <span class="keyword">new</span> Producer(storage);</span><br><span class="line">        Producer p3 = <span class="keyword">new</span> Producer(storage);</span><br><span class="line">        Producer p4 = <span class="keyword">new</span> Producer(storage);</span><br><span class="line">        Customer c1 = <span class="keyword">new</span> Customer(storage);</span><br><span class="line">        Customer c2 = <span class="keyword">new</span> Customer(storage);</span><br><span class="line">        Customer c3 = <span class="keyword">new</span> Customer(storage);</span><br><span class="line">        p1.setNum(<span class="number">10</span>);</span><br><span class="line">        p2.setNum(<span class="number">20</span>);</span><br><span class="line">        p3.setNum(<span class="number">80</span>);</span><br><span class="line">        c1.setNum(<span class="number">50</span>);</span><br><span class="line">        c2.setNum(<span class="number">20</span>);</span><br><span class="line">        c3.setNum(<span class="number">20</span>);</span><br><span class="line">        c1.start();</span><br><span class="line">        c2.start();</span><br><span class="line">        c3.start();</span><br><span class="line">        p1.start();</span><br><span class="line">        p2.start();</span><br><span class="line">        p3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó"><a href="#18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó" class="headerlink" title="18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó"></a><strong>18„ÄÅÊâãÂÜôÈòªÂ°ûÈòüÂàó</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">blockQueue</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Integer&gt; container = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">int</span> size;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">int</span> capacity;</span><br><span class="line">    <span class="keyword">private</span> Lock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition isNull = lock.newCondition();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition isFull = lock.newCondition();</span><br><span class="line">    blockQueue(<span class="keyword">int</span> capacity) &#123;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> data)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (size &gt;= capacity) &#123;</span><br><span class="line">                    System.out.println(<span class="string">"ÈòªÂ°ûÈòüÂàóÊª°‰∫Ü"</span>);</span><br><span class="line">                    isFull.await();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                isFull.signal();</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            ++size;</span><br><span class="line">            container.add(data);</span><br><span class="line">            isNull.signal();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">take</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">while</span> (size == <span class="number">0</span>) &#123;</span><br><span class="line">                    System.out.println(<span class="string">"ÈòªÂ°ûÈòüÂàóÁ©∫‰∫Ü"</span>);</span><br><span class="line">                    isNull.await();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                isNull.signal();</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            --size;</span><br><span class="line">            <span class="keyword">int</span> res = container.get(<span class="number">0</span>);</span><br><span class="line">            container.remove(<span class="number">0</span>);</span><br><span class="line">            isFull.signal();</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    AxinBlockQueue queue = <span class="keyword">new</span> AxinBlockQueue(<span class="number">5</span>);</span><br><span class="line">    Thread t1 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            queue.add(i);</span><br><span class="line">            System.out.println(<span class="string">"Â°ûÂÖ•"</span> + i);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">500</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    Thread t2 = <span class="keyword">new</span> Thread(() -&gt; &#123;</span><br><span class="line">        <span class="keyword">for</span> (; ; ) &#123;</span><br><span class="line">            System.out.println(<span class="string">"Ê∂àË¥π"</span>+queue.take());</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">800</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">    t1.start();</span><br><span class="line">    t2.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC"><a href="#19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC" class="headerlink" title="19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC"></a><strong>19„ÄÅÊâãÂÜôÂ§öÁ∫øÁ®ã‰∫§ÊõøÊâìÂç∞ABC</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.test;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.Condition;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">syncPrinter</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="comment">// ÊâìÂç∞Ê¨°Êï∞</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PRINT_COUNT = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ReentrantLock reentrantLock;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition thisCondtion;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition nextCondtion;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">char</span> printChar;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">syncPrinter</span><span class="params">(ReentrantLock reentrantLock, Condition thisCondtion, Condition nextCondition, <span class="keyword">char</span> printChar)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.reentrantLock = reentrantLock;</span><br><span class="line">        <span class="keyword">this</span>.nextCondtion = nextCondition;</span><br><span class="line">        <span class="keyword">this</span>.thisCondtion = thisCondtion;</span><br><span class="line">        <span class="keyword">this</span>.printChar = printChar;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Ëé∑ÂèñÊâìÂç∞ÈîÅ ËøõÂÖ•‰∏¥ÁïåÂå∫</span></span><br><span class="line">        reentrantLock.lock();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ËøûÁª≠ÊâìÂç∞PRINT_COUNTÊ¨°</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; PRINT_COUNT; i++) &#123;</span><br><span class="line">                <span class="comment">//ÊâìÂç∞Â≠óÁ¨¶</span></span><br><span class="line">                System.out.print(printChar);</span><br><span class="line">                <span class="comment">// ‰ΩøÁî®nextConditionÂî§ÈÜí‰∏ã‰∏Ä‰∏™Á∫øÁ®ã</span></span><br><span class="line">                <span class="comment">// Âõ†‰∏∫Âè™Êúâ‰∏Ä‰∏™Á∫øÁ®ãÂú®Á≠âÂæÖÔºåÊâÄ‰ª•signalÊàñËÄÖsignalAllÈÉΩÂèØ‰ª•</span></span><br><span class="line">                nextCondtion.signal();</span><br><span class="line">                <span class="comment">// ‰∏çÊòØÊúÄÂêé‰∏ÄÊ¨°ÂàôÈÄöËøáthisCondtionÁ≠âÂæÖË¢´Âî§ÈÜí</span></span><br><span class="line">                <span class="comment">// ÂøÖÈ°ªË¶ÅÂä†Âà§Êñ≠Ôºå‰∏çÁÑ∂ËôΩÁÑ∂ËÉΩÂ§üÊâìÂç∞10Ê¨°Ôºå‰ΩÜ10Ê¨°ÂêéÂ∞±‰ºöÁõ¥Êé•Ê≠ªÈîÅ</span></span><br><span class="line">                <span class="keyword">if</span> (i &lt; PRINT_COUNT - <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        <span class="comment">// Êú¨Á∫øÁ®ãËÆ©Âá∫ÈîÅÂπ∂Á≠âÂæÖÂî§ÈÜí</span></span><br><span class="line">                        thisCondtion.await();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            reentrantLock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        ReentrantLock lock = <span class="keyword">new</span> ReentrantLock();</span><br><span class="line">        Condition conditionA = lock.newCondition();</span><br><span class="line">        Condition conditionB = lock.newCondition();</span><br><span class="line">        Condition conditionC = lock.newCondition();</span><br><span class="line">        Thread printA = <span class="keyword">new</span> Thread(<span class="keyword">new</span> syncPrinter(lock, conditionA, conditionB,<span class="string">'A'</span>));</span><br><span class="line">        Thread printB = <span class="keyword">new</span> Thread(<span class="keyword">new</span> syncPrinter(lock, conditionB, conditionC,<span class="string">'B'</span>));</span><br><span class="line">        Thread printC = <span class="keyword">new</span> Thread(<span class="keyword">new</span> syncPrinter(lock, conditionC, conditionA,<span class="string">'C'</span>));</span><br><span class="line">        printA.start();</span><br><span class="line">        Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        printB.start();</span><br><span class="line">        Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        printC.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar"><a href="#20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar" class="headerlink" title="20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar"></a>20„ÄÅ‰∫§ÊõøÊâìÂç∞FooBar</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÊâãÂ§™Èò¥ËÇ∫Áªè BLOCKING Queue</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FooBar</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">private</span> BlockingQueue&lt;Integer&gt; bar = <span class="keyword">new</span> LinkedBlockingQueue&lt;&gt;(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">private</span> BlockingQueue&lt;Integer&gt; foo = <span class="keyword">new</span> LinkedBlockingQueue&lt;&gt;(<span class="number">1</span>);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            foo.put(i);</span><br><span class="line">            printFoo.run();</span><br><span class="line">            bar.put(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            bar.take();</span><br><span class="line">            printBar.run();</span><br><span class="line">            foo.take();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÈò≥ÊòéÂ§ßËÇ†ÁªèCyclicBarrier ÊéßÂà∂ÂÖàÂêé</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar6</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar6</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    CyclicBarrier cb = <span class="keyword">new</span> CyclicBarrier(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">volatile</span> <span class="keyword">boolean</span> fin = <span class="keyword">true</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">while</span>(!fin);</span><br><span class="line">            printFoo.run();</span><br><span class="line">            fin = <span class="keyword">false</span>;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                cb.await();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (BrokenBarrierException e) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                cb.await();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (BrokenBarrierException e) &#123;&#125;</span><br><span class="line">            printBar.run();</span><br><span class="line">            fin = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÂ∞ëÈò¥ÂøÉÁªè Ëá™Êóã + ËÆ©Âá∫CPU</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar5</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar5</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">volatile</span> <span class="keyword">boolean</span> permitFoo = <span class="keyword">true</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;     </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ) &#123;</span><br><span class="line">            <span class="keyword">if</span>(permitFoo) &#123;</span><br><span class="line">            printFoo.run();</span><br><span class="line">            i++;</span><br><span class="line">            permitFoo = <span class="keyword">false</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Thread.yield();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;       </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; ) &#123;</span><br><span class="line">            <span class="keyword">if</span>(!permitFoo) &#123;</span><br><span class="line">        printBar.run();</span><br><span class="line">        i++;</span><br><span class="line">        permitFoo = <span class="keyword">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                Thread.yield();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÂ∞ëÈò≥‰∏âÁÑ¶Áªè ÂèØÈáçÂÖ•ÈîÅ + Condition</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar4</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar4</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    Lock lock = <span class="keyword">new</span> ReentrantLock(<span class="keyword">true</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Condition foo = lock.newCondition();</span><br><span class="line">    <span class="keyword">volatile</span> <span class="keyword">boolean</span> flag = <span class="keyword">true</span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span>(!flag) &#123;</span><br><span class="line">                    foo.await();</span><br><span class="line">                &#125;</span><br><span class="line">                printFoo.run();</span><br><span class="line">                flag = <span class="keyword">false</span>;</span><br><span class="line">                foo.signal();</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n;i++) &#123;</span><br><span class="line">            lock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span>(flag) &#123;</span><br><span class="line">                    foo.await();</span><br><span class="line">            &#125;</span><br><span class="line">                printBar.run();</span><br><span class="line">                flag = <span class="keyword">true</span>;</span><br><span class="line">                foo.signal();</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            lock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÂé•Èò¥ÂøÉÂåÖÁªè synchronized + Ê†áÂøó‰Ωç + Âî§ÈÜí</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar3</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line">    <span class="comment">// Ê†áÂøó‰ΩçÔºåÊéßÂà∂ÊâßË°åÈ°∫Â∫èÔºåtrueÊâßË°åprintFooÔºåfalseÊâßË°åprintBar</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">boolean</span> type = <span class="keyword">true</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Object foo=  <span class="keyword">new</span> Object(); <span class="comment">// ÈîÅÊ†áÂøó</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar3</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (foo) &#123;</span><br><span class="line">                <span class="keyword">while</span>(!type)&#123;</span><br><span class="line">                    foo.wait();</span><br><span class="line">                &#125;</span><br><span class="line">                printFoo.run();</span><br><span class="line">                type = <span class="keyword">false</span>;</span><br><span class="line">                foo.notifyAll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (foo) &#123;</span><br><span class="line">                <span class="keyword">while</span>(type)&#123;</span><br><span class="line">                    foo.wait();</span><br><span class="line">                &#125;</span><br><span class="line">                printBar.run();</span><br><span class="line">                type = <span class="keyword">true</span>;</span><br><span class="line">                foo.notifyAll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊâãÂ§™Èò≥Â∞èËÇ†Áªè ‰ø°Âè∑Èáè ÈÄÇÂêàÊéßÂà∂È°∫Â∫è</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooBar2</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n;</span><br><span class="line">    <span class="keyword">private</span> Semaphore foo = <span class="keyword">new</span> Semaphore(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">private</span> Semaphore bar = <span class="keyword">new</span> Semaphore(<span class="number">0</span>);</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FooBar2</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(Runnable printFoo)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            foo.acquire();</span><br><span class="line">        printFoo.run();</span><br><span class="line">            bar.release();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(Runnable printBar)</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            bar.acquire();</span><br><span class="line">        printBar.run();</span><br><span class="line">            foo.release();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ"><a href="#ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ" class="headerlink" title="ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ"></a><strong>ÂÖ≠„ÄÅ‰∏™‰∫∫È°πÁõÆ</strong></h1><h2 id="‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï"><a href="#‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï" class="headerlink" title="‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï"></a><strong>‰∏Ä„ÄÅ‰∏ÄÁ´ôÂà∞Â∫ï</strong></h2><p>‚Äã    ÈááÁî®SpringBootÊûÑÂª∫È°πÁõÆÔºå‰∏ªË¶ÅÈÄöËøáÂàÜÂ∏ÉÂºèÁºìÂ≠ò„ÄÅÈòüÂàó„ÄÅÈôêÊµÅ‰øùËØÅÁ≥ªÁªüÈ´òÂèØÁî®ÔºåNetty„ÄÅÁºìÂ≠ò„ÄÅÂèçÂêë‰ª£ÁêÜ‰øùËØÅÈ´òÂπ∂Âèë„ÄÇ</p><blockquote><p>Âèå‰∫∫ÂØπÊàòÁ≠îÈ¢ò„ÄÅÂÖ¨Âè∏ÂØπÊàòÊä¢Á≠î</p></blockquote><h3 id="1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú"><a href="#1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú" class="headerlink" title="1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú"></a>1„ÄÅÂ¶Ç‰ΩïËÆæËÆ°ÊéíË°åÊ¶ú</h3><ul><li>‰∏™‰∫∫ÊÄªÂæóÂàÜÂíåÊÄªÊéíÂêçÂÆûÊó∂Êõ¥Êñ∞</li><li>‰∏™‰∫∫ÊéíË°åÊ¶úÊåâÂàÜÊï∞„ÄÅÊó∂Èó¥„ÄÅÊ¨°Êï∞„ÄÅÊ≠£Á°ÆÁéáÂ±ïÁ§∫</li><li>Êó•Ê¶ú„ÄÅËøáÂéªNÊó•Ê¶úÊªöÂä®Êõ¥Êñ∞</li></ul><h4 id="ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã"><a href="#ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã" class="headerlink" title="ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã"></a>ÊÄßËÉΩ‰ºòÂåñËøáÁ®ã</h4><p>‚Äã    Á¨¨‰∏ÄÊù°ÈúÄÊ±ÇÂæàÁÆÄÂçïÔºå‰ΩøÁî®‰∫ÜRedisÁöÑ<strong>Zset</strong>ÂÆûÁé∞‰∏çËøáËøôÈáåÊÄªÂæóÂàÜÈááÁî®‰∫ÜÂü∫‰∫é<strong>ÂàÜÊï∞„ÄÅÊó∂Èó¥„ÄÅÊ¨°Êï∞ÂíåÊ≠£Á°ÆÁéá</strong>ÁöÑÊ∑∑ÂêàÂä†ÊùÉ„ÄÇËÄÉËôëÂà∞Êï∞ÊçÆÁöÑ<strong>ÊåÅ‰πÖÂåñ</strong>Ôºå‰ª•Âèä<strong>ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÂíåÁºìÂ≠òÁöÑ‰∏ÄËá¥ÊÄß</strong>ÂØºËá¥ÁöÑËÆæËÆ°ÁöÑÂ§çÊùÇÊÄßÔºå‰ΩøÁî®‰∫Ü<strong>Ë∞∑Ê≠å</strong>ÂºÄÊ∫êÁöÑ<strong>JamsRanking</strong></p><p>‚Äã    ‰ºòÁÇπ<strong>ÊòØÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®Áé∞ÊàêÁöÑsetScoresÂíågetRankingÊé•Âè£Â∞ÅË£Ö‰∫ÜRedisÂíåMysqlÂíåÊ∂àÊÅØÈòüÂàóÁöÑÂÆåÊàê</strong>‰∫ãÂä°Âíå‰∏ÄËá¥ÊÄß<strong>ÁöÑ‰ΩøÁî®ÁªÜËäÇ„ÄÇÁº∫ÁÇπÊòØ</strong>Âπ∂ÂèëÊØîËæÉ‰Ωé<strong>‰ΩøÁî®JmeterËøõË°åÂéãÊµãÔºåÂçïÊú∫Âè™Êúâ</strong>20<strong>Â∑¶Âè≥ÁöÑ</strong>TPS**</p><p>‚Äã    ÂêéÊù•Áúã‰∫Ü‰∏ãÊ∫êÁ†ÅÔºå‰∏ªË¶ÅÊòØÂÆÉÈíàÂØπÊØè‰∏ÄÊ¨°ËÆæÁΩÆÈÉΩËøõË°å‰∫ÜÂàÜÂ∏ÉÂºè‰∫ãÂä°Â§ÑÁêÜÔºåÂπ∂‰∏î‰ºöËøîÂõû‰∫ãÂä°Êèê‰∫§ÊàñÂõûÊªöÁöÑÁªìÊûú„ÄÇ‰∫ÜËß£‰∫ÜÂ∫ïÂ±ÇÂÆûÁé∞‰ª•ÂêéÂ∞±ÂéªË∞∑Ê≠åÁöÑ<strong>ÂºÄÊ∫êÁ§æÂå∫</strong>ÂéªÊü•ÈòÖ‰∫ÜÁõ∏ÂÖ≥ÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂΩìÊó∂ÂÆòÊñπÂØπËøô‰∏™ÈóÆÈ¢òÂπ∂Ê≤°ÊúâÈÄöËøá<strong>ÈÖçÁΩÆËÉΩÁõ¥Êé•Ëß£ÂÜ≥ÈóÆÈ¢ò</strong>ÁöÑÂø´Êç∑ÊñπÂºèÔºå‰∏çËøáÊé®Ëçê‰∫Ü‰ΩøÁî®ËÄÖËá™Ë∫´Â¶ÇÊûúÂØπÂìçÂ∫îÊó∂Èó¥‰∏çÈ´òÁöÑÂú∫ÊôØ‰∏ãÂèØ‰ª•ÈááÁî®<strong>ÊâπÈáèÂêàÂπ∂‰∫ãÂä°</strong>ÁöÑÊñπÂºèËøõË°å‰ºòÂåñ„ÄÇÂü∫‰∫éËøô‰∏™ÊÄùË∑ØÔºåÊàë‰ª¨ÊääÂÜôÊìç‰ΩúËøõË°å‰∫ÜÂ∞ÅË£ÖÂπ∂ÊîæÂÖ•‰∫Ü<strong>ÈòüÂàó</strong>ÔºåÁÑ∂ÂêéÂú®Ê∂àË¥πËÄÖÁ´ØÊâπÈáèÂèñÂæóÊï∞ÊçÆÂêéËøõË°å‰∫ãÂä°ÁöÑÊâπÈáèÂ§ÑÁêÜÔºåÂéãÊµãÁéØÂ¢É‰∏ãÊï¥‰ΩìÊÄßËÉΩËææÂà∞‰∫Ü<strong>500TPS</strong>„ÄÇÂ∑≤ÁªèÂü∫Êú¨Êª°Ë∂≥‰∫ÜÁ∫ø‰∏äÊõ¥Êñ∞ÁöÑÈúÄÊ±ÇÔºå‰ΩÜÊòØÂΩìÊó∂ÂéãÊµãÁöÑËøáÁ®ã‰∏≠ÔºåÈòüÂàóÂÅ∂Â∞îÁöÑÂêûÂêêÈáè‰ºö<strong>Â§ßËåÉÂõ¥Ê≥¢Âä®</strong>ÔºåÁªèÂ∏∏‰ºöÊåÅÁª≠Êï∞ÂçÅÁßíÔºåÁÑ∂Âêé‰∏öÂä°‰∏ÄÊ¨°ÊÄßÂ§ÑÁêÜÂÆåÂÜçÂìçÂ∫îÔºåÂØºËá¥<strong>Â±ÄÈÉ®ÂìçÂ∫îÊó∂Èó¥Â§ßÂπÖÂ∫¶Â¢ûÈïø</strong></p><p>‚Äã    ÂêéÊù•‰πüÊòØÂú®ÂÆòÁΩë‰∏äÊü•ËØ¢Ôºå‰∫ÜËß£Âà∞Ë∞∑Ê≠åÂºÄÊ∫êÁªÑ‰ª∂‰ΩøÁî®ÁöÑ<strong>ÈòüÂàóÊúçÂä°</strong>Â∫ïÂ±ÇÊòØ‰ΩøÁî®<strong>BigTable</strong>‰Ωú‰∏∫ÊåÅ‰πÖÂ±ÇÔºå‰ΩÜÊòØÂΩìBigTableÂàÜÁâáËøáÂ§ßÊó∂Ôºå‰ºöËß¶Âèë<strong>ÂÜçÂàÜÁâá</strong>ÁöÑËøáÁ®ãÔºåÂÜçÂàÜÁâáÁöÑËøáÁ®ã‰∏≠ÔºåÊòØ<strong>‰∏ç‰ºöËøõË°å‰ªªÂä°ÂàÜÂèë</strong>ÁöÑÔºåÊâÄ‰ª•Â∞±‰ºöÂØºËá¥ÂÖàÂâçÁöÑÈóÆÈ¢ò„ÄÇÈíàÂØπËøô‰∏™ÈóÆÈ¢òÔºåË∞∑Ê≠åÂÆòÊñπÁöÑÂª∫ËÆÆÊòØÊèêÂâç<strong>ÈÖçÁΩÆÈòüÂàóÁöÑÊï∞Èáè„ÄÅË¥üËΩΩÁ≠ñÁï•ÂíåÊúÄÂ§ßÂÆπÈáè</strong>Á≠â‰ø°ÊÅØÔºå‰øùËØÅÊâÄÊúâÈòüÂàó<strong>‰∏çÂêåÊó∂Ëß¶Âèë</strong>ÂÜçÂàÜÁâá</p><p>‚Äã    ËøõË°å‰∏§Ê¨°‰ºòÂåñÂêéÔºåÂéãÊµãÁéØÂ¢ÉÂ∑≤ÁªèÂü∫Êú¨ÂèØ‰ª•Êª°Ë∂≥È¢ÑÊúü‰∫ÜÔºåÂú®ÂÆûÈôÖÁîü‰∫ßÁéØÂ¢ÉÁöÑÈÉ®ÁΩ≤‰∏≠ÔºåÂèëÁé∞ÂØπ‰∫é‰∫ãÂä°Êõ¥Êñ∞Â§±Ë¥•Êó∂ÔºåJamsRanking‰ºöÂØπÂ§±Ë¥•ÁöÑ‰∫ãÂä°ËøõË°å<strong>ÂàáÂàÜÂíåÈáçËØï</strong>ÔºåÊï¥‰∏™ËøáÁ®ãÂØπ‰∫éÁ†îÂèë‰∫∫ÂëòÊòØ<strong>ÈÄèÊòé</strong>ÁöÑÔºå‰∏çÂà©‰∫éÁ∫ø‰∏äÈóÆÈ¢òÊéíÊü•ÔºåÊâÄ‰ª•Êàë‰ª¨ÂΩìÊó∂ÁâπÂú∞ÂÜô‰∫Ü‰∏Ä‰∏™watchdogÁöÑÂ∑•ÂÖ∑ÔºåÁõëÊéß‰∫ãÂä°ÂõûÊªöËææÂà∞ÂçÅÊ¨°‰ª•‰∏äÁöÑ‰∫ãÂä°ÔºåÊü•ÊòéÂéüÂõ†ÂêéÈÄöËøáÂêéÂè∞ÁÆ°ÁêÜÁ≥ªÁªüËøõË°åÁõ∏Â∫îË°•ÂÅøÔºå‰øùËØÅ<strong>ÊúÄÁªà‰∏ÄËá¥ÊÄß</strong></p><p><strong>ÊúÄÁªàÁªìÊûúÔºö</strong></p><ul><li>È´òÊïàÂø´ÈÄüÔºöËÉΩÂú®Êï∞ÁôæÊØ´ÁßíÂÜÖÊâæÂà∞Áé©ÂÆ∂ÊéíÂêç‰ª•ÂèäËøõË°åÊõ¥Êñ∞</li><li>Âº∫‰∏ÄËá¥ÊÄß‰ª•ÂèäÊåÅ‰πÖÂåñ„ÄÅÊéíÂêçÂáÜÁ°Æ</li><li><p>ÂèØ‰ª•Êâ©Â±ïÂà∞‰ªªÊÑèÊï∞ÈáèÁöÑÁé©ÂÆ∂</p></li><li><p>ÂêûÂêêÈáèÊúâÈôêÂà∂ÔºåÂè™ËÉΩÊîØÊåÅÁ∫¶ÊØèÁßí 500Ê¨°Êõ¥Êñ∞„ÄÇ</p></li></ul><p>ÈíàÂØπËøô‰∏™Áº∫ÁÇπË∞∑Ê≠åÂÆòÊñπ‰πüÊòØÁªôÂá∫‰∫Ü‰ΩøÁî®ÂàÜÁâáÊ†ëÂíåËøë‰ººÊéíÂêçÁöÑËß£ÂÜ≥ÊñπÊ°àÔºåÂΩìÁÑ∂Â§çÊùÇÁöÑÊñπÊ°àÊúâÊõ¥È´òÁöÑËøêÁª¥ÊàêÊú¨ÔºåÊâÄ‰ª•Êàë‰ª¨‰ºòÂåñÂ∑•‰Ωú‰πüÂ∞±Âà∞Ê≠§‰∏∫Ê≠¢</p><h4 id="ÊñπÊ°à‰ºòÂåñËøáÁ®ã"><a href="#ÊñπÊ°à‰ºòÂåñËøáÁ®ã" class="headerlink" title="ÊñπÊ°à‰ºòÂåñËøáÁ®ã"></a>ÊñπÊ°à‰ºòÂåñËøáÁ®ã</h4><h4 id="ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ"><a href="#ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ" class="headerlink" title="ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ"></a>ÊñπÊ°à1ÔºöÊØèÊó•‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂΩìÊó•Ê±áËÅöÔºàË¥πÊó∂Èó¥Ôºâ</h4><p>‚Äã    È¶ñÂÖàËÆ∞ÂΩïÊØèÂ§©ÁöÑÊéíË°åÊ¶úÂíå‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂä†ÂàÜÊó∂ÂêåÊó∂ÂÜôÂÖ•Ëøô‰∏§‰∏™Ê¶úÂçïÔºåÊØèÊó•Èõ∂ÁÇπÂêéË∑ëÂ∑•ÂÖ∑Â∞ÜÂâçÂá†Â§©Êï∞ÊçÆÁ¥ØÂä†ÂÜôÂÖ•ÂΩìÊó•ÊªöÂä®Ê¶úÔºåËØ•ÊñπÊ°àÁº∫ÁÇπÊòØÊó∂Èó¥Â§çÊùÇÂ∫¶È´òÔºå7Â§©Ê¶úËøòÂ•ΩÔºåÂè™ÈúÄË¶ÅËØªËøáÂéª6Â§©Êï∞ÊçÆÔºåÂ¶ÇÊûúÊòØ100Â§©Ê¶úÔºåËØ•ÊñπÊ°àÈúÄË¶ÅËØªËøáÂéª99Â§©Ê¶úÔºåÊòæÁÑ∂‰∏çÂèØÊé•Âèó</p><h4 id="ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ"><a href="#ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ" class="headerlink" title="ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ"></a>ÊñπÊ°à2ÔºöÂÖ®Â±ÄN‰∏™ÊªöÂä®Ê¶úÂêåÊó∂ÂÜôÔºàË¥πÁ©∫Èó¥Ôºâ</h4><p>‚Äã    Ë¶ÅÂÅöÂà∞ÊØèÊó•Èõ∂ÁÇπÂêéÊ¶úÂçïÂÆûÊó∂ÁîüÊïàÔºåËÄå‰∏çÈúÄË¶ÅÁ≠âÂæÖÁ¶ªÁ∫ø‰Ωú‰∏öÁöÑÂÆåÊàêÔºå‰∏ÄÁßçÊñπÊ°àÊòØÈ¢ÑÂÜôÊú™Êù•ÁöÑÊ¶úÂçï„ÄÇÂèØ‰ª•ÂÜôÂΩìÂ§©ÁöÑÊªöÂä®Ê¶úÁöÑÂêåÊó∂ÔºåÂÜôÂæÄÂêéN-1Â§©ÁöÑÊªöÂä®Ê¶ú‰∏ÄËµ∑ÂÜôÂÖ•ËØ•ÊñπÊ°à‰∏ç‰ªÖËÉΩËÑ±Á¶ªÁ¶ªÁ∫ø‰Ωú‰∏öÂÅöÂà∞ÂÆûÊó∂Êõ¥Êñ∞Ôºå‰∏îÂèØ‰ª•ÁúÅÁï•ÊØèÂ§©ÁöÑÊó•Ê¶ú„ÄÇ‰ΩÜÁº∫ÁÇπ‰πü‰∏çÈöæÁúãÂá∫ÔºåÂØπ‰∫é7Â§©ÊªöÂä®Ê¶úÔºåÊØèÊ¨°ÂÜôÊìç‰ΩúÈúÄË¶ÅÊõ¥Êñ∞7‰∏™Ê¶úÂçïÔºå‰ΩÜÊòØÂØπ‰∫éÁôæÊó•Ê¶úÔºåÁ©∫Èó¥Ê∂àËÄóÊó†Ê≥ïÊé•ÂèóÔºå1000‰∏áÊ¶úÂçïÂ§ßÁ∫¶Ê∂àËÄó1GÂÜÖÂ≠ò</p><h4 id="ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú"><a href="#ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú" class="headerlink" title="ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú"></a>ÊñπÊ°à3ÔºöÂÆûÊó∂Êõ¥Êñ∞ÔºåÂ∏∏Êï∞Ê¨°ÂÜôÊìç‰Ωú</h4><p>Êúâ‰∏çÊúâÂäûÊ≥ïÂÅöÂà∞Êó¢ËÉΩÂÆûÊó∂Êõ¥Êñ∞ÔºåÂÜôÊ¶úÊï∞Èáè‰πü‰∏çÈöèNÁöÑÂ¢ûÂä†ËÄåÂ¢ûÂä†Âë¢Ôºü</p><p>‚Äã    ‰ªçÁÑ∂ÊòØËÆ∞ÂΩïÊØèÂ§©ÁöÑÊéíË°åÊ¶úÂíå‰∏Ä‰∏™ÊªöÂä®Ê¶úÔºåÂä†ÂàÜÊìç‰Ωú‰πüËøòÊòØÂêåÊó∂Êìç‰ΩúÂΩìÊó•Ê¶úÂíåÂÖ®Â±ÄÊ¶úÔºå‰ΩÜÊØèÊó•Èõ∂ÁÇπÁöÑÁ¶ªÁ∫ø‰Ωú‰∏öÊîπ‰∏∫‰ªéÂÖ®Â±ÄÊ¶ú‰∏≠ÂáèÂéª‰πãÂâçËøáÊúüÁöÑÊï∞ÊçÆÔºå‰ªéËÄåÂÆûÁé∞ÂÖàÊªöÂä®Êõ¥Êñ∞„ÄÇ  Ê≠§ÊñπÊ°àÊØèÊ¨°Âè™ÈúÄËØªÂèñ‰∏Ä‰∏™Êó•Ê¶úÂÅöÂáèÊ≥ïÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)Ôºõ‰ΩÜÊòØÊó†Ê≥ïÂÅöÂà∞ÂÆûÊó∂Êõ¥Êñ∞„ÄÇ Ëøô‰∏™ÊñπÊ°àÁöÑ‰ºòÁÇπÊòØÂú®ÂçÅ‰∫åÁÇπÂâçÊèêÂâçÂáÜÂ§áÂ•ΩÂ∑ÆÂàÜÊ¶úÔºåÂà∞‰∫ÜÂçÅ‰∫åÁÇπÁõ¥Êé•Âä†‰∏äÂΩìÂ§©Êï∞ÊçÆÂ∞±ÊòØÊªöÂä®Ê¶úÂÜÖÂÆπ ÔºåËøôÊ†∑Â∞±Âú®Â∏∏Êï∞Ê¨°ÂÜôÊìç‰ΩúÁöÑÂâçÊèê‰∏ãÔºåÂÆûÁé∞‰∫ÜÊªöÂä®Ê¶úÁöÑÂÆûÊó∂Êõ¥Êñ∞</p><h3 id="2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò"><a href="#2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò" class="headerlink" title="2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò"></a>2„ÄÅ<strong>Â¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§çÁ≠îÈ¢ò</strong></h3><p>‚Äã    <strong>Âà©Áî®setnxÈò≤Ê≠¢ÈáçÂ§çÁ≠îÈ¢ò</strong><br>‚Äã    ÂàÜÂ∏ÉÂºèÈîÅÊòØÊéßÂà∂ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰πãÈó¥ÂêåÊ≠•ËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÁöÑ‰∏ÄÁßçÊñπÂºè„ÄÇ Âà©Áî®RedisÁöÑÂçïÁ∫øÁ®ãÁâπÊÄßÂØπÂÖ±‰∫´ËµÑÊ∫êËøõË°å‰∏≤Ë°åÂåñÂ§ÑÁêÜ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Ëé∑ÂèñÈîÅÊé®Ëçê‰ΩøÁî®setÁöÑÊñπÂºè</span></span><br><span class="line">String result = jedis.set(lockKey, requestId, <span class="string">"NX"</span>, <span class="string">"EX"</span>, expireTime);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Êé®Ëçê‰ΩøÁî®redis+luaËÑöÊú¨</span></span><br><span class="line">String lua = <span class="string">"if redis.call('get',KEYS[1]) == ARGV[1] then return redis.call('del',KEYS[1]) else return 0 end"</span>;</span><br><span class="line">Object result = jedis.eval(lua, Collections.singletonList(lockKey)</span><br></pre></td></tr></table></figure><h3 id="3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î"><a href="#3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î" class="headerlink" title="3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î"></a><strong>3„ÄÅ‰∏Ä‰∏™È¢òÁõÆË¢´Â§ö‰∏™‰∫∫Êä¢Á≠î</strong></h3><p>‚Äã    <strong>Âà©Áî®redisÊù•ÂÆûÁé∞‰πêËßÇÈîÅÔºàÊä¢Á≠îÔºâ</strong>ÔºåÂ•ΩÂ§ÑÊòØÁ≠îÈîôÁöÑ‰∫∫‰∏çÂΩ±ÂìçÁä∂ÊÄÅÔºåÁ¨¨‰∏Ä‰∏™ÁßíÊùÄÁ≠îÂØπÁöÑ‰∫∫ÊâçËÉΩÂæóÂàÜ„ÄÇ</p><p>1„ÄÅÂà©Áî®redisÁöÑwatchÂäüËÉΩÔºåÁõëÊéßËøô‰∏™ Corp:Activ:Qust: ÁöÑÁä∂ÊÄÅÂÄº<br>2„ÄÅËé∑ÂèñCorp:Activ:Qust: ÁöÑÂÄºÔºåÂàõÂª∫redis‰∫ãÂä°ÔºåÁªôËøô‰∏™keyÁöÑÂÄº-1<br>3„ÄÅÊâßË°åËøô‰∏™‰∫ãÂä°ÔºåÂ¶ÇÊûúkeyÁöÑÂÄºË¢´‰øÆÊîπËøáÂàôÂõûÊªöÔºåkey‰∏çÂèò</p><h3 id="4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç"><a href="#4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç" class="headerlink" title="4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç"></a><strong>4„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÊòµÁß∞ÈáçÂ§ç</strong></h3><p>‚Äã    <strong>‰ΩøÁî®Â∏ÉÈöÜËøáÊª§Âô®Ôºö</strong></p><p>‚Äã    ÂÆÉÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™ÂæàÈïøÁöÑ‰∫åËøõÂà∂Áü¢ÈáèÊï∞ÁªÑÂíå K ‰∏™ÂìàÂ∏åÂáΩÊï∞„ÄÇÂΩì‰∏Ä‰∏™ÊòµÁß∞Âä†ÂÖ•Â∏ÉÈöÜËøáÊª§Âô®‰∏≠ÁöÑÊó∂ÂÄôÔºå‰ºöËøõË°åÂ¶Ç‰∏ãÊìç‰ΩúÔºö</p><ul><li>‰ΩøÁî® K ‰∏™ÂìàÂ∏åÂáΩÊï∞ÂØπÂÖÉÁ¥†ÂÄºËøõË°å K Ê¨°ËÆ°ÁÆóÔºåÂæóÂà∞ K ‰∏™ÂìàÂ∏åÂÄº„ÄÇ</li><li>Ê†πÊçÆÂæóÂà∞ÁöÑÂìàÂ∏åÂÄºÔºåÂú®‰ΩçÊï∞ÁªÑ‰∏≠ÊääÂØπÂ∫î‰∏ãÊ†áÁöÑÂÄºÁΩÆ‰∏∫ 1„ÄÇ Na</li></ul><p>‚Äã    Áî®Êà∑Êñ∞Â¢ûÊòµÁß∞Êó∂ÈúÄË¶ÅÈ¶ñÂÖàËÆ°ÁÆóK‰∏™ÂìàÂ∏åÂÄºÔºåÂ¶ÇÊûúK‰∏™ÂìàÂ∏åÂÄºÊúâ‰∏Ä‰∏™‰∏ç‰∏∫0ÂàôÈÄöËøáÔºåÂê¶Âàô‰∏çÈÄöËøáÔºå‰∏çÈÄöËøáÊó∂ÈÄöËøáÂä†ÈöèÊú∫Â≠óÁ¨¶‰∏≤ÂÜçÊ¨°Ê£ÄÈ™åÔºåÊ£ÄÊµãÈÄöËøáÂêéËøîÂõûÁªôÂâçÁ´ØÔºåÂ∏ÆÂä©Áî®Êà∑Ëá™Âä®Â°´ÂÜô„ÄÇ</p><p>‚Äã    Â∏ÉÈöÜËøáÊª§Âô®ÁöÑÂ•ΩÂ§ÑÊòØÂÆÉ<strong>ÂèØ‰ª•Áî®Êù•Âà§Êñ≠‰∏Ä‰∏™ÂÖÉÁ¥†ÊòØÂê¶Âú®‰∏Ä‰∏™ÈõÜÂêà‰∏≠</strong>„ÄÇÂÆÉÁöÑ‰ºòÂäøÊòØÂè™ÈúÄË¶ÅÂç†Áî®ÂæàÂ∞èÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰ª•ÂèäÊúâÁùÄÈ´òÊïàÁöÑÊü•ËØ¢ÊïàÁéá„ÄÇÂØπ‰∫éÂ∏ÉÈöÜËøáÊª§Âô®ËÄåË®ÄÔºåÂÆÉÁöÑÊú¨Ë¥®ÊòØ‰∏Ä‰∏™<strong>‰ΩçÊï∞ÁªÑ</strong>Ôºö‰ΩçÊï∞ÁªÑÂ∞±ÊòØÊï∞ÁªÑÁöÑÊØè‰∏™ÂÖÉÁ¥†ÈÉΩÂè™Âç†Áî® 1 bit ÔºåÂπ∂‰∏îÊØè‰∏™ÂÖÉÁ¥†Âè™ËÉΩÊòØ 0 ÊàñËÄÖ 1„ÄÇ</p><p>BloomFilter ÁöÑ‰ºòÂäøÊòØÔºåÂÖ®ÂÜÖÂ≠òÊìç‰ΩúÔºåÊÄßËÉΩÂæàÈ´ò„ÄÇÂè¶Â§ñÁ©∫Èó¥ÊïàÁéáÈùûÂ∏∏È´òÔºå<strong>Ë¶ÅËææÂà∞ 1% ÁöÑËØØÂà§ÁéáÔºåÂπ≥ÂùáÂçïÊù°ËÆ∞ÂΩïÂç†Áî® 1.2 Â≠óËäÇÂç≥ÂèØ„ÄÇËÄå‰∏îÔºåÂπ≥ÂùáÂçïÊù°ËÆ∞ÂΩïÊØèÂ¢ûÂä† 0.6 Â≠óËäÇÔºåËøòÂèØËÆ©ËØØÂà§ÁéáÁªßÁª≠Âèò‰∏∫‰πãÂâçÁöÑ 1/10ÔºåÂç≥Âπ≥ÂùáÂçïÊù°ËÆ∞ÂΩïÂç†Áî® 1.8 Â≠óËäÇÔºåËØØÂà§ÁéáÂèØ‰ª•ËææÂà∞ 1/1000ÔºõÂπ≥ÂùáÂçïÊù°ËÆ∞ÂΩïÂç†Áî® 2.4 Â≠óËäÇÔºåËØØÂà§ÁéáÂèØ‰ª•Âà∞ 1/10000Ôºå‰ª•Ê≠§Á±ªÊé®</strong>„ÄÇËøôÈáåÁöÑËØØÂà§ÁéáÊòØÊåáÔºåBloomFilter Âà§Êñ≠Êüê‰∏™ key Â≠òÂú®Ôºå‰ΩÜÂÆÉÂÆûÈôÖ‰∏çÂ≠òÂú®ÁöÑÊ¶ÇÁéáÔºåÂõ†‰∏∫ÂÆÉÂ≠òÁöÑÊòØ key ÁöÑ Hash ÂÄºÔºåËÄåÈùû key ÁöÑÂÄºÔºåÊâÄ‰ª•ÊúâÊ¶ÇÁéáÂ≠òÂú®ËøôÊ†∑ÁöÑ keyÔºåÂÆÉ‰ª¨ÂÜÖÂÆπ‰∏çÂêåÔºå‰ΩÜÂ§öÊ¨° Hash ÂêéÁöÑ Hash ÂÄºÈÉΩÁõ∏Âêå„ÄÇÂØπ‰∫é BloomFilter Âà§Êñ≠‰∏çÂ≠òÂú®ÁöÑ key ÔºåÂàôÊòØ 100% ‰∏çÂ≠òÂú®ÁöÑÔºåÂèçËØÅÊ≥ïÔºåÂ¶ÇÊûúËøô‰∏™ key Â≠òÂú®ÔºåÈÇ£ÂÆÉÊØèÊ¨° Hash ÂêéÂØπÂ∫îÁöÑ Hash ÂÄº‰ΩçÁΩÆËÇØÂÆöÊòØ 1ÔºåËÄå‰∏ç‰ºöÊòØ 0</p><p>‚Äã        </p><h3 id="5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°"><a href="#5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°" class="headerlink" title="5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°"></a><strong>5„ÄÅÂ¶Ç‰ΩïÁÆ°ÁêÜÂá∫È¢òÂÆöÊó∂‰ªªÂä°</strong></h3><p>‚Äã    ÂéãÊµãÁéØÂ¢É‰∏≠ÊúçÂä°Âô®ÈÄöËøáNettyÁöÑ‰∏ª‰ªéReactorÂ§öË∑ØÂ§çÁî®NIO‰∫ã‰ª∂Ê®°ÂûãÔºåÂçïÊú∫ÂèØ‰ª•<strong>ËΩªÊùæÂ∫îÂØπÂçÅ‰∏áÈïøËøûÊé•</strong>Ôºå‰ΩÜÊòØÊØè‰∏™‰∏öÂä°‰∏≠ÔºåÁî±‰∫éÊØè‰∏™Áî®Êà∑ÁôªÂΩïÁ≥ªÁªüÂêéÈúÄË¶ÅÊåâÁÖßÊåáÂÆöÈ°∫Â∫èÁ≠îÈ¢òÔºå‰æãÂ¶Ç‰∏ÄÂÖ±Ë¶ÅÁ≠îÂçÅÈÅìÔºåÈÇ£‰πàÊúçÂä°Âô®ÈíàÂØπËøô‰∏Ä‰∏™Áî®Êà∑Â∞±‰ºö‰∫ßÁîüÂçÅ‰∏™ÂÆöÊó∂‰ªªÂä°ÔºåÊâÄ‰ª•ÂØπ‰∫éÁ≥ªÁªüÊù•ËØ¥ÔºåÂÆöÊó∂Âô®ÁöÑ<strong>Êï∞ÈáèÂ∞±ÊòØÁôæ‰∏áÁ∫ßÂà´ÁöÑ</strong>„ÄÇ</p><p>‚Äã    ÈÄöËøáÂéãÊµãÁªìÊûúÂèëÁé∞ÔºöJDKËá™Â∏¶ÁöÑTimerÔºåÂú®Â§ßÊ¶Ç‰∏â‰∏áÂπ∂ÂèëÊó∂ÊÄßËÉΩÂ∞±ÊÄ•Ââß‰∏ãÈôç‰∫Ü„ÄÇ‰πüÊòØÊ≠§Êó∂Ê†πÊçÆ‰∏öÂä°Âú∫ÊôØÁöÑÈúÄË¶ÅÔºåÂ∞ÜÂÆöÊó∂‰ªªÂä°ÊîπÊàê‰∫ÜNettyËá™Â∏¶ÁöÑHashedWheelTimerÊó∂Èó¥ËΩÆÊñπÊ°àÔºåÈÄöËøáÂéãÊµãÂçïÊú∫Âú®50‰∏áÁ∫ßÂà´‰∏ã‰æùÁÑ∂ËÉΩÂ§üÂπ≥ÊªëÁöÑÊâßË°å„ÄÇ</p><p>‚Äã    ‰πüÊòØËøô‰∏™Âº∫ÁÉàÁöÑÂèçÂ∑ÆÔºå‰ΩøÊàëÂú®Âº∫ÁÉàÁöÑÂ•ΩÂ•áÂøÉ‰øÉ‰Ωø‰∏ãÔºåÈòÖËØªÊ∫êÁ†Å‰∫ÜËß£Âà∞Â∏∏ËßÑÁöÑJDK ÁöÑTimer Âíå DelayedQueue Á≠âÂ∑•ÂÖ∑Á±ªÔºåÂèØÂÆûÁé∞ÁÆÄÂçïÁöÑÂÆöÊó∂‰ªªÂä°ÔºåÂçïÂ∫ïÂ±ÇÁî®ÁöÑÊòØ<strong>Â†ÜÊï∞ÊçÆÁªìÊûÑ</strong>ÔºåÂ≠òÂèñÂ§çÊùÇÂ∫¶ÈÉΩÊòØ <strong>O(NlogN)</strong>ÔºåÊó†Ê≥ïÊîØÊíëÊµ∑ÈáèÂÆöÊó∂‰ªªÂä°„ÄÇ<strong>NettyÁªèÂÖ∏ÁöÑÊó∂Èó¥ËΩÆÊñπÊ°à</strong>ÔºåÊ≠£ÊòØÈÄöËøáÂ∞Ü‰ªªÂä°Â≠òÂèñÂèäÂèñÊ∂àÊìç‰ΩúÊó∂Èó¥Â§çÊùÇÂ∫¶Èôç‰∏∫ O(1)ÔºåËÄåÂπøÊ≥õÂ∫îÁî®Âú®ÂÆöÊó∂<strong>‰ªªÂä°ÈáèÂ§ß„ÄÅÊÄßËÉΩË¶ÅÊ±ÇÈ´ò</strong>ÁöÑÂú∫ÊôØ‰∏≠„ÄÇ</p><p>‚Äã    <img src="https://tva1.sinaimg.cn/large/0081Kckwly1glvl9c3hp2j30py0d7q4i.jpg" alt="img" style="zoom:50%;"></p><p>‚Äã    Âü∫‰∫éNettyÁöÑWebsocketÂ∫ïÂ±ÇÔºåÊúçÂä°Âô®Á´ØÁª¥Êä§‰∏Ä‰∏™È´òÊïàÊâπÈáèÁÆ°ÁêÜÂÆöÊó∂‰ªªÂä°ÁöÑË∞ÉÂ∫¶Ê®°Âûã„ÄÇÊó∂Èó¥ËΩÆ‰∏ÄËà¨‰ºöÂÆûÁé∞Êàê‰∏Ä‰∏™<strong>ÁéØÂΩ¢Êï∞ÁªÑÁªìÊûÑ</strong>ÔºåÁ±ª‰ºº‰∏Ä‰∏™Êó∂ÈíüÔºåÂàÜ‰∏∫ÂæàÂ§öÊßΩÔºå‰∏Ä‰∏™ÊßΩ‰ª£Ë°®‰∏Ä‰∏™Êó∂Èó¥Èó¥ÈöîÔºåÊØè‰∏™ÊßΩ‰ΩøÁî®<strong>ÂèåÂêëÈìæË°®</strong>Â≠òÂÇ®ÂÆöÊó∂‰ªªÂä°„ÄÇÊåáÈíà<strong>Âë®ÊúüÊÄßÂú∞Ë∑≥Âä®</strong>ÔºåË∑≥Âä®Âà∞‰∏Ä‰∏™ÊßΩ‰ΩçÔºåÂ∞±ÊâßË°åËØ•ÊßΩ‰ΩçÁöÑÂÆöÊó∂‰ªªÂä°„ÄÇ</p><p>‚Äã    ÂçïÂ±ÇÊó∂Èó¥ËΩÆÁöÑÂÆπÈáèÂíåÁ≤æÂ∫¶ÈÉΩÊòØÊúâÈôêÁöÑÔºåÂØπ‰∫éÁ≤æÂ∫¶Ë¶ÅÊ±ÇÁâπÂà´È´ò„ÄÅÊó∂Èó¥Ë∑®Â∫¶ÁâπÂà´Â§ßÊàñÊòØÊµ∑ÈáèÂÆöÊó∂‰ªªÂä°ÈúÄË¶ÅË∞ÉÂ∫¶ÁöÑÂú∫ÊôØÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®Â§öÁ∫ßÊó∂Èó¥ËΩÆ‰ª•ÂèäÊåÅ‰πÖÂåñÂ≠òÂÇ®‰∏éÊó∂Èó¥ËΩÆÁªìÂêàÁöÑÊñπÊ°à„ÄÇÊó∂Èó¥ËΩÆÁöÑ<strong>ÂÆöÊó∂‰ªªÂä°Â§ÑÁêÜÈÄªËæë</strong>Â¶Ç‰∏ãÔºö</p><ol><li>Â∞ÜÁºìÂ≠òÂú® timeouts ÈòüÂàó‰∏≠ÁöÑÂÆöÊó∂‰ªªÂä°ËΩ¨ÁßªÂà∞Êó∂Èó¥ËΩÆ‰∏≠ÂØπÂ∫îÁöÑÊßΩ‰∏≠</li><li>Ê†πÊçÆÂΩìÂâçÊåáÈíàÂÆö‰ΩçÂØπÂ∫îÊßΩÔºåÂ§ÑÁêÜËØ•ÊßΩ‰ΩçÁöÑÂèåÂêëÈìæË°®‰∏≠ÁöÑÂÆöÊó∂‰ªªÂä°Ôºå‰ªéÈìæË°®Â§¥ÈÉ®ÂºÄÂßãËø≠‰ª£Ôºö<ul><li>Â±û‰∫éÂΩìÂâçÊó∂ÈíüÂë®ÊúüÂàôÂèñÂá∫ËøêË°å</li><li>‰∏çÂ±û‰∫éÂàôÂ∞ÜÂÖ∂Ââ©‰ΩôÁöÑÊó∂ÈíüÂë®ÊúüÊï∞Âáè‰∏Ä</li></ul></li><li>Ê£ÄÊµãÊó∂Èó¥ËΩÆÁöÑÁä∂ÊÄÅ„ÄÇÂ¶ÇÊûúÊó∂Èó¥ËΩÆÂ§Ñ‰∫éËøêË°åÁä∂ÊÄÅÔºåÂàôÂæ™ÁéØÊâßË°å‰∏äËø∞Ê≠•È™§Ôºå‰∏çÊñ≠ÊâßË°åÂÆöÊó∂‰ªªÂä°„ÄÇ</li></ol><h3 id="6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû"><a href="#6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû" class="headerlink" title="6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû"></a><strong>6ÔºöÂ¶Ç‰ΩïËß£ÂÜ≥ÂÆ¢Êà∑Á´ØÊñ≠Ëøû</strong></h3><p>‚Äã    ‰ΩøÁî®NettyÁöÑ<strong>ÈáçËøûÊ£ÄÊµãÁãó</strong>ConnectionWatchdog</p><p>‚Äã    ÊúçÂä°Á´ØÂÆö‰πârefreshTimeÔºåÂΩìÊàë‰ª¨‰ªéchannel‰∏≠readÂà∞‰∫ÜÊúçÂä°Á´ØÂèëÊù•ÁöÑÂøÉË∑≥ÂìçÂ∫îÊ∂àÊÅØÁöÑËØùÔºåÂ∞±Âà∑Êñ∞refreshTime‰∏∫ÂΩìÂâçÊó∂Èó¥</p><p>‚Äã    ÂÆ¢Êà∑Á´ØÂú®stateÊòØWRITER_IDLEÁöÑÊó∂ÂÄôÊØèÈöî‰∏ÄÁßíÂ∞±ÂèëÈÄÅ‰∏Ä‰∏™ÂøÉË∑≥ÂåÖÂà∞severÁ´ØÔºåÂëäËØâserverÁ´ØÊàëËøòÊ¥ªÁùÄ„ÄÇ</p><p>ÂΩìÈáçËøûÊàêÂäüÊó∂Ôºå‰ºöËß¶ÂèëchannelActiveÊñπÊ≥ïÔºåÂú®ËøôÈáåÊàë‰ª¨ÂºÄÂêØ‰∫Ü‰∏Ä‰∏™ÂÆöÊó∂‰ªªÂä°ÂéªÂà§Êñ≠refreshTimeÂíåÂΩìÂâçÊó∂Èó¥ÁöÑÊó∂Èó¥Â∑ÆÔºåË∂ÖËøá5ÁßíËØ¥ÊòéÊñ≠Á∫ø‰∫ÜÔºåË¶ÅËøõË°åÈáçËøûÔºåÊúÄÂêéËÆ°ÁÆóÈáçËøûÊ¨°Êï∞ÔºåÂ∞ùËØïËøûÊé•2Ê¨°‰ª•‰∏äËøû‰∏ç‰∏äÂ∞±‰ºö‰øÆÊîπheader‰ø°ÊÅØÂº∫Âà∂ÈáçËøûÂéªËøûÂè¶‰∏Ä‰∏™ÊúçÂä°Âô®„ÄÇ</p><h2 id="‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ"><a href="#‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ" class="headerlink" title="‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ"></a>‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ</h2><h3 id="ÊäÄÊúØÈÄâÂûã"><a href="#ÊäÄÊúØÈÄâÂûã" class="headerlink" title="ÊäÄÊúØÈÄâÂûã"></a><strong>ÊäÄÊúØÈÄâÂûã</strong></h3><p>ÁßíÊùÄÁî®Âà∞ÁöÑÂü∫Á°ÄÁªÑ‰ª∂Ôºå‰∏ªË¶ÅÊúâ<strong>Ê°ÜÊû∂„ÄÅKV Â≠òÂÇ®„ÄÅÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì„ÄÅMQ</strong>„ÄÇ</p><p>Ê°ÜÊû∂‰∏ªË¶ÅÊúâ Web Ê°ÜÊû∂Âíå RPC Ê°ÜÊû∂„ÄÇ</p><p>ÂÖ∂‰∏≠ÔºåWeb Ê°ÜÊû∂‰∏ªË¶ÅÁî®‰∫éÊèê‰æõ HTTP Êé•Âè£ÁªôÊµèËßàÂô®ËÆøÈóÆÔºåÊâÄ‰ª• Web Ê°ÜÊû∂ÁöÑÈÄâÂûãÂú®ÁßíÊùÄÊúçÂä°‰∏≠ÈùûÂ∏∏ÈáçË¶Å„ÄÇÂú®ËøôÈáåÔºåÊàë<strong>Êé®ËçêGin</strong>ÔºåÂÆÉÁöÑÊÄßËÉΩÂíåÊòìÁî®ÊÄßÈÉΩ‰∏çÈîôÔºåÂú® <strong>GitHub ‰∏äÁöÑ Star ËææÂà∞‰∫Ü 44k</strong>„ÄÇÂØπÊØîÊÄßËÉΩÊúÄÂ•ΩÁöÑ fasthttpÔºåËôΩÁÑ∂ fasthttp Âú®ËØ∑Ê±ÇÂª∂Ëøü‰Ωé‰∫é 10ms Êó∂ÊÄßËÉΩ‰ºòÂäøÊòéÊòæÔºå‰ΩÜÂÖ∂Â∫ïÂ±Ç‰ΩøÁî®ÁöÑÂØπË±°Ê±†ÂÆπÊòìËÆ©‰∫∫Ë∏©ÂùëÔºåÂØºËá¥ÂÖ∂ÊòìÁî®ÊÄßËæÉÂ∑ÆÔºåÊâÄ‰ª•Ê≤°ÂøÖË¶ÅËøá‰∫éËøΩÊ±ÇÊÄßËÉΩËÄåÂøΩÁï•‰∫ÜÁ®≥ÂÆöÊÄß</p><p>Ëá≥‰∫é RPC Ê°ÜÊû∂ÔºåÊàëÊé®ËçêÈÄâÁî® <strong>gRPC</strong>ÔºåÂõ†‰∏∫ÂÆÉÁöÑÊâ©Â±ïÊÄßÂíåÊÄßËÉΩÈÉΩÈùûÂ∏∏‰∏çÈîô„ÄÇÂú®ÁßíÊùÄÁ≥ªÁªü‰∏≠ÔºåRedis ‰∏≠ÁöÑÊï∞ÊçÆ‰∏ªË¶ÅÊòØÁªôÁßíÊùÄÊé•Âè£ÊúçÂä°‰ΩøÁî®Ôºå‰ª•‰æøÂ∞ÜÈÖçÁΩÆ‰ªéÁÆ°ÁêÜÂêéÂè∞ÂêåÊ≠•Âà∞ Redis ÁºìÂ≠ò‰∏≠„ÄÇ</p><p>KV Â≠òÂÇ®ÊñπÈù¢ÔºåÁßíÊùÄÁ≥ªÁªü‰∏≠‰∏ªË¶ÅÊòØÁî® <strong>Redis ÁºìÂ≠òÊ¥ªÂä®ÈÖçÁΩÆ</strong>ÔºåÁî® <strong>etcd Â≠òÂÇ®ÈõÜÁæ§‰ø°ÊÅØ</strong>„ÄÇ</p><p>ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏≠Ôºå<strong>MySQL</strong> ÊäÄÊúØÊàêÁÜü‰∏îÁ®≥ÂÆöÂèØÈù†ÔºåÁßíÊùÄÁ≥ªÁªüÁî®ÂÆÉÂ≠òÂÇ®Ê¥ªÂä®ÈÖçÁΩÆÊï∞ÊçÆÂæàÂêàÈÄÇ„ÄÇ‰∏ªË¶Å ÂéüÂõ†ËøòÊòØÁßíÊùÄÊ¥ªÂä®‰ø°ÊÅØÂíåÂ∫ìÂ≠òÊï∞ÊçÆÈÉΩÁºìÂ≠òÂú® Redis ‰∏≠ÔºåÊ¥ªÂä®ËøáÁ®ã‰∏≠ÁßíÊùÄÊúçÂä°‰∏çÊìç‰ΩúÊï∞ÊçÆÂ∫ìÔºå ‰ΩøÁî® MySQL ÂÆåÂÖ®ËÉΩÂ§üÊª°Ë∂≥ÈúÄÊ±Ç„ÄÇ</p><p>MQ ÊúâÂæàÂ§öÁßçÔºåÂÖ∂‰∏≠ <strong>Kafka</strong> Âú®‰∏öÁïåËÆ§ÂèØÂ∫¶ÊúÄÈ´òÔºåÊäÄÊúØ‰πüÈùûÂ∏∏ÊàêÁÜüÔºåÊÄßËÉΩÂæà‰∏çÈîôÔºåÈùûÂ∏∏ÈÄÇÂêàÁî®Âú®ÁßíÊùÄÁ≥ªÁªü‰∏≠„ÄÇKafka ÊîØÊåÅËá™Âä®ÂàõÂª∫ÈòüÂàóÔºåÁßíÊùÄÊúçÂä°ÂêÑ‰∏™ËäÇÁÇπÂèØ‰ª•Áî®ÂÆÉËá™Âä®ÂàõÂª∫Â±û‰∫éËá™Â∑±ÁöÑÈòüÂàó</p><h3 id="ÊñπÊ°àËÆæËÆ°"><a href="#ÊñπÊ°àËÆæËÆ°" class="headerlink" title="ÊñπÊ°àËÆæËÆ°"></a>ÊñπÊ°àËÆæËÆ°</h3><p><strong>ËÉåÊôØ</strong></p><ul><li>ÁßíÊùÄ‰∏öÂä°ÁÆÄÂçïÔºåÊØè‰∏™ÁßíÊùÄÊ¥ªÂä®ÁöÑÂïÜÂìÅÊòØ‰∫ãÂÖàÂÆö‰πâÂ•ΩÁöÑÔºåÂïÜÂìÅÊúâÊòéÁ°ÆÁöÑÁ±ªÂûãÂíåÊï∞ÈáèÔºåÂçñÂÆåÂç≥Ê≠¢<br>-<br>ÁßíÊùÄÊ¥ªÂä®ÂÆöÊó∂‰∏äÊû∂ÔºåÊ∂àË¥πËÄÖÂèØ‰ª•Âú®Ê¥ªÂä®ÂºÄÂßãÂêéÔºåÈÄöËøáÁßíÊùÄÂÖ•Âè£ËøõË°åÊä¢Ë¥≠ÁßíÊùÄÊ¥ªÂä®</li></ul><p>-<br>  ÁßíÊùÄÊ¥ªÂä®Áî±‰∫éÂïÜÂìÅÁâ©Áæé‰ª∑ÂªâÔºåÂºÄÂßãÂîÆÂçñÂêéÔºå‰ºöË¢´Âø´ÈÄüÊä¢Ë¥≠‰∏ÄÁ©∫„ÄÇ</p><p><strong>Áé∞Ë±°</strong></p><p>-<br>  ÁßíÊùÄÊ¥ªÂä®ÊåÅÁª≠Êó∂Èó¥Áü≠ÔºåËÆøÈóÆÂÜ≤ÂáªÈáèÂ§ßÔºåÁßíÊùÄÁ≥ªÁªüÈúÄË¶ÅÂ∫îÂØπËøôÁßçÁàÜÂèëÊÄßÁöÑËÆøÈóÆÊ®°Âûã</p><p>-<br>  ‰∏öÂä°ÁöÑËØ∑Ê±ÇÈáèËøúËøúÂ§ß‰∫éÂîÆÂçñÈáèÔºåÂ§ßÈÉ®ÂàÜÊòØÈô™Ë∑ëÁöÑËØ∑Ê±ÇÔºåÁßíÊùÄÁ≥ªÁªüÈúÄË¶ÅÊèêÂâçËßÑÂàíÂ•ΩÂ§ÑÁêÜÁ≠ñÁï•</p><p>-<br>  ÂâçÁ´ØËÆøÈóÆÈáèÂ∑®Â§ßÔºåÁ≥ªÁªüÂØπÂêéÁ´ØÊï∞ÊçÆÁöÑËÆøÈóÆÈáè‰πü‰ºöÁü≠Êó∂Èó¥ÁàÜÂ¢ûÔºåÂØπÊï∞ÊçÆÂ≠òÂÇ®ËµÑÊ∫êËøõË°åËâØÂ•ΩËÆæËÆ°</p><p>-<br>  Ê¥ªÂä®ÊúüÈó¥‰ºöÁªôÊï¥‰∏™‰∏öÂä°Á≥ªÁªüÂ∏¶Êù•Ë∂ÖÂ§ßË¥üËç∑ÔºåÈúÄË¶ÅÂà∂ÂÆöÂêÑÁßçÁ≠ñÁï•ÔºåÈÅøÂÖçÁ≥ªÁªüËøáËΩΩËÄåÂÆïÊú∫</p><p>-<br>  ÂîÆÂçñÊ¥ªÂä®ÂïÜÂìÅ‰ª∑Ê†º‰ΩéÂªâÔºåÂ≠òÂú®Â•óÂà©Á©∫Èó¥ÔºåÂêÑÁßçÈùûÊ≥ï‰ΩúÂºäÊâãÊÆµÂ±ÇÂá∫ÔºåÈúÄË¶ÅÊèêÂâçËßÑÂàíÈ¢ÑÈò≤Á≠ñÁï•</p><p><strong>ÁßíÊùÄÁ≥ªÁªüËÆæËÆ°</strong></p><p>‚Äã    È¶ñÂÖàÔºåË¶Å<strong>Â∞ΩÂäõÂ∞ÜËØ∑Ê±ÇÊã¶Êà™Âú®Á≥ªÁªü‰∏äÊ∏∏</strong>ÔºåÂ±ÇÂ±ÇËÆæÈòªÊã¶Êà™ÔºåËøáÊª§ÊéâÊó†ÊïàÊàñË∂ÖÈáèÁöÑËØ∑Ê±Ç„ÄÇÂõ†‰∏∫ËÆøÈóÆÈáèËøúËøúÂ§ß‰∫éÂïÜÂìÅÊï∞ÈáèÔºåÊâÄÊúâÁöÑËØ∑Ê±ÇÊâìÂà∞ÂêéÁ´ØÊúçÂä°ÁöÑÊúÄÂêé‰∏ÄÊ≠•ÔºåÂÖ∂ÂÆûÂπ∂Ê≤°ÊúâÂøÖË¶ÅÔºåÂèçËÄå‰ºö‰∏•ÈáçÊãñÊÖ¢ÁúüÊ≠£ËÉΩÊàê‰∫§ÁöÑËØ∑Ê±ÇÔºåÈôç‰ΩéÁî®Êà∑‰ΩìÈ™å„ÄÇ</p><p>‚Äã    ÁßíÊùÄÁ≥ªÁªü‰∏ì‰∏∫ÁßíÊùÄÊ¥ªÂä®ÊúçÂä°ÔºåÂîÆÂçñÂïÜÂìÅÁ°ÆÂÆöÔºåÂõ†Ê≠§ÂèØ‰ª•Âú®ËÆæËÆ°ÁßíÊùÄÂïÜÂìÅÈ°µÈù¢Êó∂ÔºåÂ∞ÜÂïÜÂìÅ‰ø°ÊÅØÊèêÂâçËÆæËÆ°‰∏∫ÈùôÊÄÅ‰ø°ÊÅØÔºåÂ∞ÜÈùôÊÄÅÁöÑÂïÜÂìÅ‰ø°ÊÅØ‰ª•ÂèäÂ∏∏ËßÑÁöÑ CSS„ÄÅJS„ÄÅÂÆ£‰º†ÂõæÁâáÁ≠âÈùôÊÄÅËµÑÊ∫êÔºå‰∏ÄËµ∑<strong>Áã¨Á´ãÂ≠òÊîæÂà∞ CDN ËäÇÁÇπ</strong>ÔºåÂä†ÈÄüËÆøÈóÆÔºå‰∏îÈôç‰ΩéÁ≥ªÁªüËÆøÈóÆÂéãÂäõÔºåÂú®ËÆøÈóÆÂâçÁ´Ø‰πüÂèØ‰ª•<strong>Âà∂ÂÆöÁßçÁßçÈôêÂà∂Á≠ñÁï•Ôºå</strong>ÊØîÂ¶ÇÊ¥ªÂä®Ê≤°ÂºÄÂßãÊó∂ÔºåÊä¢Ë¥≠ÊåâÈíÆÁΩÆÁÅ∞ÔºåÈÅøÂÖçÊä¢ÂÖàËÆøÈóÆÔºåÁî®Êà∑Êä¢Ë¥≠‰∏ÄÊ¨°ÂêéÔºå‰πüÂ∞ÜÊåâÈíÆÁΩÆÁÅ∞ÔºåËÆ©Áî®Êà∑ÊéíÈòüÁ≠âÂæÖÔºåÈÅøÂÖçÂèçÂ§çÂà∑Êñ∞„ÄÇ</p><p>‚Äã    ÂÖ∂Ê¨°ÔºåË¶Å<strong>ÂÖÖÂàÜÂà©Áî®ÁºìÂ≠ò</strong>ÔºåÊèêÂçáÁ≥ªÁªüÁöÑÊÄßËÉΩÂíåÂèØÁî®ÊÄß„ÄÇ</p><p>‚Äã    Áî®Êà∑ÊâÄÊúâÁöÑËØ∑Ê±ÇËøõÂÖ•ÁßíÊùÄÁ≥ªÁªüÂâçÔºåÈÄöËøá<strong>Ë¥üËΩΩÂùáË°°Á≠ñÁï•</strong>ÂùáÂåÄÂàÜÂèëÂà∞‰∏çÂêå Web ÊúçÂä°Âô®ÔºåÈÅøÂÖçËäÇÁÇπËøáËΩΩ„ÄÇÂú® Web ÊúçÂä°Âô®‰∏≠ÔºåÈ¶ñÂÖàÊ£ÄÊü•Áî®Êà∑ÁöÑËÆøÈóÆÊùÉÈôêÔºåËØÜÂà´Âπ∂ÂèëÂà∑ËÆ¢ÂçïÁöÑË°å‰∏∫„ÄÇÂ¶ÇÊûúÂèëÁé∞ÂîÆÂá∫Êï∞ÈáèÂ∑≤ÁªèËææÂà∞ÁßíÊùÄÊï∞ÈáèÔºåÂàôÁõ¥Êé•ËøîÂõûÁªìÊùüÔºåË¶ÅÂ∞ÜÁßíÊùÄ‰∏öÂä°Á≥ªÁªüÂíåÂÖ∂‰ªñ‰∏öÂä°Á≥ªÁªüËøõË°åÂäüËÉΩÂàÜÊãÜÔºåÂ∞ΩÈáèÂ∞ÜÁßíÊùÄÁ≥ªÁªüÂèä‰æùËµñÊúçÂä°<strong>Áã¨Á´ãÂàÜÊãÜÈÉ®ÁΩ≤</strong>ÔºåÈÅøÂÖçÂΩ±ÂìçÂÖ∂‰ªñÊ†∏ÂøÉ‰∏öÂä°Á≥ªÁªü„ÄÇ</p><p>‚Äã    ÁßíÊùÄÁ≥ªÁªüÈúÄË¶ÅÊûÑÂª∫ËÆøÈóÆËÆ∞ÂΩïÁºìÂ≠òÔºåËÆ∞ÂΩïËÆøÈóÆ IP„ÄÅÁî®Êà∑ÁöÑËÆøÈóÆË°å‰∏∫ÔºåÂèëÁé∞ÂºÇÂ∏∏ËÆøÈóÆÔºåÊèêÂâçËøõË°åÈòªÊñ≠ÂèäËøîÂõû„ÄÇÂêåÊó∂ËøòÈúÄË¶Å<strong>ÊûÑÂª∫Áî®Êà∑ÁºìÂ≠ò</strong>ÔºåÂπ∂ÈíàÂØπÂéÜÂè≤Êï∞ÊçÆÂàÜÊûêÔºåÊèêÂâçÁºìÂ≠òÂÉµÂ∞∏Âº∫Âà∑‰∏ì‰∏öÊà∑ÔºåÊñπ‰æøÂú®ÁßíÊùÄÊúüÈó¥ÂØπÂÖ∂ËøõË°åÁ≠ñÁï•ÈôêÂà∂„ÄÇËøô‰∫õËÆøÈóÆËÆ∞ÂΩï„ÄÅÁî®Êà∑Êï∞ÊçÆÔºåÈÄöËøáÁºìÂ≠òËøõË°åÂ≠òÂÇ®ÔºåÂèØ‰ª•Âä†ÈÄüËÆøÈóÆÔºåÂè¶Â§ñÔºåÂØπÁî®Êà∑Êï∞ÊçÆËøòËøõË°åÁºìÂ≠òÈ¢ÑÁÉ≠ÔºåÈÅøÂÖçÊ¥ªÂä®ÊúüÈó¥Â§ßÈáèÁ©øÈÄè„ÄÇ</p><h3 id="1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü"><a href="#1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü" class="headerlink" title="1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü"></a><strong>1„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥Ë∂ÖÂçñÔºü</strong></h3><p>mysql‰πêËßÇÈîÅ+redisÈ¢ÑÂáèÂ∫ìÂ≠ò+redisÁºìÂ≠òÂçñÂÆåÊ†áËÆ∞</p><p>Á¨¨‰∏ÄÊòØÂü∫‰∫é<strong>Êï∞ÊçÆÂ∫ì‰πêËßÇÈîÅ</strong>ÁöÑÊñπÂºè‰øùËØÅÊï∞ÊçÆÂπ∂ÂèëÊâ£ÂáèÁöÑÂº∫‰∏ÄËá¥ÊÄßÔºõ</p><p>Á¨¨‰∫åÊòØÂü∫‰∫é<strong>Êï∞ÊçÆÂ∫ìÁöÑ‰∫ãÂä°</strong>ÂÆûÁé∞ÊâπÈáèÊâ£ÂáèÈÉ®ÂàÜÂ§±Ë¥•Êó∂ÁöÑÊï∞ÊçÆÂõûÊªö„ÄÇ</p><p>‚Äã    Âú®Êâ£ÂáèÊåáÂÆöÊï∞ÈáèÂâçÂ∫îÂÖàÂÅö‰∏ÄÊ¨°ÂâçÁΩÆÊï∞ÈáèÊ†°È™åÁöÑËØªËØ∑Ê±ÇÔºàÂèÇËÄÉ<strong>ËØªÂÜôÂàÜÁ¶ª</strong> + <strong>ÂÖ®ÁºìÂ≠òÊñπÊ°à</strong>Ôºâ</p><blockquote><p>Á∫ØÊï∞ÊçÆÂ∫ì‰πêËßÇÈîÅ+‰∫ãÂä°ÁöÑÊñπÂºèÊÄßËÉΩÊØîËæÉÂ∑ÆÔºå‰ΩÜÊòØÂ¶ÇÊûú‰∏çËÆ°ÊàêÊú¨ÂíåËÄÉËôëÂú∫ÊôØÁöÑËØù‰πüÂÆåÂÖ®Â§üÁî®ÔºåÂõ†‰∏∫‰ªª‰ΩïÊ≤°ÊúâÊú∫Âô®ÈÖçÁΩÆÁöÑÊåáÊ†áÔºåÈÉΩÊòØËÄçÊµÅÊ∞ì„ÄÇÂ¶ÇÊûúÊàëÈááÁî® Oracle ÁöÑÊï∞ÊçÆÂ∫ì„ÄÅ100 Â§öÊ†∏ÁöÑÂàÄÈîãÊúçÂä°Âô®„ÄÅSSD ÁöÑÁ°¨ÁõòÔºåÂç≥‰ΩøÊòØÁ∫ØÊï∞ÊçÆÂ∫ìÁöÑÊâ£ÂáèÊñπÊ°àÔºå‰πüÊòØÂèØ‰ª•ËææÂà∞ÂçïÊú∫‰∏ä‰∏áÁöÑ TPS ÁöÑ„ÄÇ</p></blockquote><p><strong>ÂçïÁ∫øÁ®ãRedis ÁöÑ lua ËÑöÊú¨ÂÆûÁé∞ÊâπÈáèÊâ£Âáè</strong></p><p>ÂΩìÁî®Êà∑Ë∞ÉÁî®Êâ£ÂáèÊé•Âè£Êó∂ÔºåÂ∞ÜÊâ£ÂáèÁöÑ ÂØπÂ∫îÊï∞Èáè + ËÑöÊú¨Ê†áÁ§∫‰º†ÈÄíËá≥ Redis Âç≥ÂèØÔºåÊâÄÊúâÁöÑÊâ£ÂáèÂà§Êñ≠ÈÄªËæëÂùáÂú® Redis ‰∏≠ÁöÑ lua ËÑöÊú¨‰∏≠ÊâßË°åÔºålua ËÑöÊú¨ÊâßË°åÂÆåÊàê‰πãÂêéËøîËøòÊòØÂê¶ÊàêÂäüÁªôÂÆ¢Êà∑Á´Ø„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6j9dkq6vj30w20kowku.jpg" alt="image-20210504174103769" style="zoom:50%;"></p><p>Redis ‰∏≠ÁöÑ lua ËÑöÊú¨ÊâßË°åÊó∂ÔºåÈ¶ñÂÖà‰ºö‰ΩøÁî® get ÂëΩ‰ª§Êü•ËØ¢ uuid ËøõË°åÊü•Èáç„ÄÇÂΩìÈò≤ÈáçÈÄöËøáÂêéÔºå‰ºö<strong>ÊâπÈáèËé∑ÂèñÂØπÂ∫îÁöÑÂâ©‰ΩôÂ∫ìÂ≠òÁä∂ÊÄÅÂπ∂ËøõË°åÂà§Êñ≠</strong>ÔºåÂ¶ÇÊûú‰∏Ä‰∏™Êâ£ÂáèÁöÑÊï∞ÈáèÂ§ß‰∫éÂâ©‰ΩôÊï∞ÈáèÔºåÂàôËøîÂõûÈîôËØØÂπ∂ÊèêÁ§∫Êï∞Èáè‰∏çË∂≥„ÄÇ</p><p>Redis ÁöÑÂçïÁ∫øÁ®ãÊ®°ÂûãÔºåÁ°Æ‰øù<strong>‰∏ç‰ºöÂá∫Áé∞ÂΩìÊâÄÊúâÊâ£ÂáèÊï∞ÈáèÂú®Âà§Êñ≠ÂùáÊª°Ë∂≥ÂêéÔºåÂú®ÂÆûÈôÖÊâ£ÂáèÊó∂Âç¥Êï∞Èáè‰∏çÂ§ü</strong>„ÄÇÂêåÊó∂ÔºåÂçïÁ∫øÁ®ã‰øùËØÅÂà§Êñ≠Êï∞ÈáèÁöÑÊ≠•È™§ÂíåÂêéÁª≠Êâ£ÂáèÊ≠•È™§‰πãÈó¥ÔºåÊ≤°ÊúâÂÖ∂‰ªñ‰ªª‰ΩïÁ∫øÁ®ãÂá∫Áé∞Âπ∂ÂèëÁöÑÊâßË°å„ÄÇ</p><p>ÂΩì Redis Êâ£ÂáèÊàêÂäüÂêéÔºåÊâ£ÂáèÊé•Âè£‰ºö<strong>ÂºÇÊ≠•ÁöÑÂ∞ÜÊ≠§Ê¨°Êâ£ÂáèÂÜÖÂÆπ‰øùÂ≠òËá≥Êï∞ÊçÆÂ∫ì</strong>„ÄÇÂºÇÊ≠•‰øùÂ≠òÊï∞ÊçÆÂ∫ìÁöÑÁõÆÁöÑÊòØÈò≤Ê≠¢Âá∫Áé∞ÊûÅÁ´ØÊÉÖÂÜµ‚Äî‚Äî Redis ÂÆïÊú∫ÂêéÊï∞ÊçÆÊú™ÊåÅ‰πÖÂåñÂà∞Á£ÅÁõòÔºåÊ≠§Êó∂Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®Êï∞ÊçÆÂ∫ìÊÅ¢Â§çÊàñËÄÖÊ†°ÂáÜÊï∞ÊçÆ</p><p>ÊúÄÂêéÔºåËøêËê•ÂêéÂè∞Áõ¥ËøûÊï∞ÊçÆÂ∫ìÔºåÊòØËøêËê•ÂíåÂïÜÂÆ∂‰øÆÊîπÂ∫ìÂ≠òÁöÑÂÖ•Âè£„ÄÇÂïÜÂÆ∂Âú®ËøêËê•ÂêéÂè∞ËøõË¥ßÁâ©ËøõË°åË°•ÂÖÖ„ÄÇÂêåÊó∂ÔºåËøêËê•ÂêéÂè∞ÁöÑÂÆûÁé∞ÈúÄË¶ÅÂ∞ÜÊ≠§Êï∞Èáè<strong>ÂêåÊ≠•ÁöÑÂ¢ûÂä†Ëá≥ Redis</strong>ÔºåÂõ†‰∏∫ÂΩìÂâçÊñπÊ°àÁöÑÊâÄÊúâÂÆûÈôÖÊâ£ÂáèÈÉΩÂú® Redis ‰∏≠</p><blockquote><p>Á∫ØÁºìÂ≠òÊñπÊ°àËôΩ<strong>‰∏ç‰ºöÂØºËá¥Ë∂ÖÂçñ</strong>Ôºå‰ΩÜÂõ†<strong>ÁºìÂ≠ò‰∏çÂÖ∑Â§á‰∫ãÂä°ÁâπÊÄß</strong>ÔºåÊûÅÁ´ØÊÉÖÂÜµ‰∏ã‰ºöÂ≠òÂú®ÁºìÂ≠òÈáåÁöÑÊï∞ÊçÆ<strong>Êó†Ê≥ïÂõûÊªö</strong>ÔºåÂØºËá¥Âá∫Áé∞<strong>Â∞ëÂçñ</strong>ÁöÑÊÉÖÂÜµ„ÄÇ‰∏îÊû∂ÊûÑ‰∏≠ÁöÑÂºÇÊ≠•ÂÜôÂ∫ìÔºå‰πüÂèØËÉΩÂèëÁîüÂ§±Ë¥•ÔºåÂØºËá¥Â§öÊâ£ÁöÑÊï∞ÊçÆ‰∏¢Â§±</p></blockquote><p>ÂèØ‰ª•ÂÄüÂä©<strong>È°∫Â∫èÂÜô</strong>ÁöÑÁâπÊÄßÔºåÂ∞ÜÊâ£Âáè‰ªªÂä°ÂêåÊ≠•<strong>ÊèíÂÖ•</strong>‰ªªÂä°Ë°®ÔºåÂèëÁé∞ÂºÇÂ∏∏Êó∂ÔºåÂ∞Ü‰ªªÂä°Ë°®‰Ωú‰∏∫<strong>undolog</strong>ËøõË°åÂõûÊªö</p><p>ÂèØ‰ª•Ëß£ÂÜ≥Áî±‰∫é<strong>ÁΩëÁªú‰∏çÈÄö</strong>„ÄÅË∞ÉÁî®ÁºìÂ≠ò<strong>Êâ£ÂáèË∂ÖÊó∂</strong>„ÄÅÂú®Êâ£ÂáèÂà∞‰∏ÄÂçäÊó∂ÁºìÂ≠ò<strong>Á™ÅÁÑ∂ÂÆïÊú∫</strong>ÔºàÊïÖÈöú failoverÔºâ‰∫Ü„ÄÇÈíàÂØπ‰∏äËø∞ËØ∑Ê±ÇÔºåÈÉΩÊúâÁõ∏Â∫îÁöÑÂºÇÂ∏∏ÊäõÂá∫ÔºåÊ†πÊçÆÂºÇÂ∏∏ËøõË°å<strong>Êï∞ÊçÆÂ∫ìÂõûÊªö</strong>Âç≥ÂèØÔºåÊúÄÁªà‰ªªÂä°Â∫ìÈáåÁöÑÊï∞ÊçÆÈÉΩÊòØÂáÜÁöÑ</p><p>Êõ¥Ëøõ‰∏ÄÊ≠•ÔºöÁî±‰∫é‰ªªÂä°Â∫ìÊòØÊó†Áä∂ÊÄÅÁöÑÔºåÂèØ‰ª•ËøõË°åÊ∞¥Âπ≥ÂàÜÂ∫ìÔºåÊèêÂçáÊï¥‰ΩìÊÄßËÉΩ</p><h3 id="2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü"><a href="#2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü" class="headerlink" title="2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü"></a><strong>2„ÄÅÂ¶Ç‰ΩïËß£ÂÜ≥ÈáçÂ§ç‰∏ãÂçïÔºü</strong></h3><p>mysqlÂîØ‰∏ÄÁ¥¢Âºï+ÂàÜÂ∏ÉÂºèÈîÅ</p><h3 id="3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü"><a href="#3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü" class="headerlink" title="3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü"></a><strong>3„ÄÅÂ¶Ç‰ΩïÈò≤Âà∑Ôºü</strong></h3><p>IPÈôêÊµÅ | È™åËØÅÁ†Å | ÂçïÁî®Êà∑ | ÂçïËÆæÂ§á | IMEI | Ê∫êIP |ÂùáËÆæÁΩÆËßÑÂàô</p><h3 id="4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü"><a href="#4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü" class="headerlink" title="4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü"></a><strong>4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü</strong></h3><p>redisÈõÜÁæ§+Êú¨Âú∞ÁºìÂ≠ò+ÈôêÊµÅ+keyÂä†ÈöèÊú∫ÂÄºÂàÜÂ∏ÉÂú®Â§ö‰∏™ÂÆû‰æã‰∏≠</p><p>1„ÄÅ<strong>ÁºìÂ≠òÈõÜÁæ§</strong>ÂèØ‰ª•ÂçïËäÇÁÇπËøõË°å<strong>‰∏ª‰ªéÂ§çÂà∂ÂíåÂûÇÁõ¥Êâ©ÂÆπ</strong></p><p>2„ÄÅÂà©Áî®Â∫îÁî®ÂÜÖÁöÑ<strong>ÂâçÁΩÆÁºìÂ≠ò</strong>Ôºå‰ΩÜÊòØÈúÄÊ≥®ÊÑèÈúÄË¶ÅËÆæÁΩÆ‰∏äÈôê</p><p>3„ÄÅÂª∂Ëøü‰∏çÊïèÊÑüÔºå<strong>ÂÆöÊó∂Âà∑Êñ∞</strong>ÔºåÂÆûÊó∂ÊÑüÁü•Áî®‰∏ªÂä®Âà∑Êñ∞</p><p>4„ÄÅÂíåÁºìÂ≠òÁ©øÈÄè‰∏ÄÊ†∑ÔºåÈôêÂà∂ÈÄÉÈÄ∏ÊµÅÈáèÔºåÂçïËØ∑Ê±ÇËøõË°åÊï∞ÊçÆ<strong>ÂõûÊ∫êÂπ∂Âà∑Êñ∞ÂâçÁΩÆ</strong></p><p>5„ÄÅÊó†ËÆ∫Â¶Ç‰ΩïËÆæËÆ°ÔºåÊúÄÂêéÈÉΩË¶ÅÂÜô‰∏Ä‰∏™<strong>ÂÖúÂ∫ïÈÄªËæë</strong>ÔºåÂçÉ‰∏áÁ∫ßÊµÅÈáèËØ¥Êù•Â∞±Êù•</p><h3 id="5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç"><a href="#5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç" class="headerlink" title="5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç"></a><strong>5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç</strong></h3><p>‰ΩøÁî®ÁºìÂ≠òÁ≠ñÁï•Â∞ÜËØ∑Ê±ÇÊå°Âú®‰∏äÂ±Ç‰∏≠ÁöÑÁºìÂ≠ò‰∏≠</p><p>‰ΩøÁî®CDNÔºåËÉΩÈùôÊÄÅÂåñÁöÑÊï∞ÊçÆÂ∞ΩÈáèÂÅöÂà∞ÈùôÊÄÅÂåñÔºå</p><p>Âä†ÂÖ•ÈôêÊµÅÔºàÊØîÂ¶ÇÂØπÁü≠Êó∂Èó¥‰πãÂÜÖÊù•Ëá™Êüê‰∏Ä‰∏™Áî®Êà∑ÔºåÊüê‰∏Ä‰∏™IP„ÄÅÊüê‰∏™ËÆæÂ§áÁöÑÈáçÂ§çËØ∑Ê±ÇÂÅö‰∏¢ÂºÉÂ§ÑÁêÜÔºâ</p><p><strong>ËµÑÊ∫êÈöîÁ¶ªÈôêÊµÅ</strong>‰ºöÂ∞ÜÂØπÂ∫îÁöÑËµÑÊ∫êÊåâÁÖßÊåáÂÆöÁöÑÁ±ªÂûãËøõË°åÈöîÁ¶ªÔºåÊØîÂ¶Ç<strong>Á∫øÁ®ãÊ±†</strong>Âíå<strong>‰ø°Âè∑Èáè</strong>„ÄÇ</p><ul><li><p>ËÆ°Êï∞Âô®ÈôêÊµÅÔºå‰æãÂ¶Ç5ÁßíÂÜÖÊäÄÊúØ1000ËØ∑Ê±ÇÔºåË∂ÖÊï∞ÂêéÈôêÊµÅÔºåÊú™Ë∂ÖÊï∞ÈáçÊñ∞ËÆ°Êï∞</p></li><li><p>ÊªëÂä®Á™óÂè£ÈôêÊµÅÔºåËß£ÂÜ≥ËÆ°Êï∞Âô®‰∏çÂ§üÁ≤æÁ°ÆÁöÑÈóÆÈ¢òÔºåÊää‰∏Ä‰∏™Á™óÂè£ÊãÜÂàÜÂ§öÊªöÂä®Á™óÂè£</p></li><li><p>‰ª§ÁâåÊ°∂ÈôêÊµÅÔºåÁ±ª‰ººÊôØÂå∫ÂîÆÁ•®ÔºåÂîÆÁ•®ÁöÑÈÄüÂ∫¶ÊòØÂõ∫ÂÆöÁöÑÔºåÊãøÂà∞‰ª§ÁâåÊâçËÉΩÂéªÂ§ÑÁêÜËØ∑Ê±Ç</p></li><li><p>ÊºèÊ°∂ÈôêÊµÅÔºåÁîü‰∫ßËÄÖÊ∂àË¥πËÄÖÊ®°ÂûãÔºåÂÆûÁé∞‰∫ÜÊÅíÂÆöÈÄüÂ∫¶Â§ÑÁêÜËØ∑Ê±ÇÔºåËÉΩÂ§üÁªùÂØπÈò≤Ê≠¢Á™ÅÂèëÊµÅÈáè</p><p>ÊµÅÈáèÊéßÂà∂ÊïàÊûú‰ªéÂ•ΩÂà∞Â∑Æ‰æùÊ¨°ÊòØÔºö<strong>ÊºèÊ°∂ÈôêÊµÅ &gt; ‰ª§ÁâåÊ°∂ÈôêÊµÅ &gt; ÊªëÂä®Á™óÂè£ÈôêÊµÅ &gt; ËÆ°Êï∞Âô®ÈôêÊµÅ</strong></p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6ja736ekj316o06640u.jpg" alt="image-20210504174148831" style="zoom:50%;"></p><p>ÂÖ∂‰∏≠ÔºåÂè™ÊúâÊºèÊ°∂ÁÆóÊ≥ï<strong>ÁúüÊ≠£ÂÆûÁé∞‰∫ÜÊÅíÂÆöÈÄüÂ∫¶Â§ÑÁêÜËØ∑Ê±Ç</strong>ÔºåËÉΩÂ§üÁªùÂØπ<strong>Èò≤Ê≠¢Á™ÅÂèëÊµÅÈáèË∂ÖËøá‰∏ãÊ∏∏Á≥ªÁªüÊâøËΩΩËÉΩÂäõ</strong>„ÄÇ<br>‰∏çËøáÔºåÊºèÊ°∂ÈôêÊµÅ‰πüÊúâ‰∏™‰∏çË∂≥ÔºåÂ∞±ÊòØÈúÄË¶ÅÂàÜ<strong>ÈÖçÂÜÖÂ≠òËµÑÊ∫êÁºìÂ≠òËØ∑Ê±Ç</strong>ÔºåËøô‰ºöÂ¢ûÂä†ÂÜÖÂ≠òÁöÑ‰ΩøÁî®Áéá„ÄÇËÄå<strong>‰ª§ÁâåÊ°∂ÈôêÊµÅ</strong>ÁÆóÊ≥ï‰∏≠ÁöÑ‚ÄúÊ°∂‚ÄùÂèØ‰ª•Áî®‰∏Ä‰∏™Êï¥Êï∞Ë°®Á§∫Ôºå<strong>ËµÑÊ∫êÂç†Áî®Áõ∏ÂØπËæÉÂ∞è</strong>ÔºåËøô‰πüËÆ©ÂÆÉÊàê‰∏∫ÊúÄÂ∏∏Áî®ÁöÑÈôêÊµÅÁÆóÊ≥ï„ÄÇÊ≠£ÊòØÂõ†‰∏∫Ëøô‰∫õÁâπÁÇπÔºå<strong>ÊºèÊ°∂ÈôêÊµÅÂíå‰ª§ÁâåÊ°∂ÈôêÊµÅ</strong>ÁªèÂ∏∏Âú®‰∏Ä‰∫õÂ§ßÊµÅÈáèÁ≥ªÁªü‰∏≠ÁªìÂêà‰ΩøÁî®„ÄÇ</p></li></ul><h3 id="6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç"><a href="#6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç" class="headerlink" title="6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç"></a><strong>6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç</strong></h3><ul><li><p><strong>ÂâäÂ≥∞</strong>ÔºöÊÅ∂ÊÑèÁî®Êà∑Êã¶Êà™</p><p>ÂØπ‰∫éÂçïÁî®Êà∑Â§öÊ¨°ÁÇπÂáª„ÄÅÂçïËÆæÂ§á„ÄÅIMEI„ÄÅÊ∫êIPÂùáËÆæÁΩÆËßÑÂàô</p></li><li><p>ÈááÁî®ÊØîËæÉÊàêÁÜüÁöÑ<strong>ÊºèÊ°∂ÁÆóÊ≥ï„ÄÅ‰ª§ÁâåÊ°∂</strong>ÁÆóÊ≥ïÔºå‰πüÂèØ‰ª•‰ΩøÁî®<strong>guava</strong>ÂºÄÁÆ±Âç≥Áî®ÁöÑÈôêÊµÅÁÆóÊ≥ï</p><p>ÂèØ‰ª•ÈõÜÁæ§ÈôêÊµÅÔºå‰ΩÜÂçïÊú∫ÈôêÊµÅÊõ¥Âä†ÁÆÄÊ¥ÅÂíåÁ®≥ÂÆö</p></li><li><p>ÂΩìÂâçÂ±Ç<strong>Áõ¥Êé•ËøáÊª§</strong>‰∏ÄÂÆöÊØî‰æãÁöÑËØ∑Ê±ÇÔºåÊúÄÂ§ßÊâøËΩΩÂÄºÂâçÈúÄË¶ÅÂä†‰∏ä<strong>ÂÖúÂ∫ïÈÄªËæë</strong></p></li><li><p>ÂØπ‰∫éÂ∑≤ÁªèÊó†Ë¥ßÁöÑ‰∫ßÂìÅÔºå<strong>Êú¨Âú∞ÁºìÂ≠ò</strong>Áõ¥Êé•ËøîÂõû</p></li><li><p><strong>ÂçïÁã¨ÈÉ®ÁΩ≤ÔºåÂáèÂ∞ëÂØπÁ≥ªÁªüÊ≠£Â∏∏ÊúçÂä°ÁöÑÂΩ±ÂìçÔºåÊñπ‰æøÊâ©Áº©ÂÆπ</strong></p></li></ul><p>ÂØπ‰∫é<strong>‰∏ÄÊÆµÊó∂Èó¥ÂÜÖÁöÑÁßíÊùÄÊ¥ªÂä®ÔºåÈúÄË¶Å‰øùËØÅÂÜôÊàêÂäü</strong>ÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® <strong>Ê∂àÊÅØÈòüÂàó</strong>„ÄÇ</p><ul><li>ÂâäÂéªÁßíÊùÄÂú∫ÊôØ‰∏ãÁöÑÂ≥∞ÂÄºÂÜôÊµÅÈáè‚Äî‚Äî<strong>ÊµÅÈáèÂâäÂ≥∞</strong></li><li>ÈÄöËøáÂºÇÊ≠•Â§ÑÁêÜÁÆÄÂåñÁßíÊùÄËØ∑Ê±Ç‰∏≠ÁöÑ‰∏öÂä°ÊµÅÁ®ã‚Äî‚Äî<strong>ÂºÇÊ≠•Â§ÑÁêÜ</strong></li><li>Ëß£ËÄ¶ÔºåÂÆûÁé∞ÁßíÊùÄÁ≥ªÁªüÊ®°Âùó‰πãÈó¥ÊùæËÄ¶Âêà‚Äî‚Äî<strong>Ëß£ËÄ¶</strong></li></ul><p><strong>ÂâäÂéªÁßíÊùÄÂú∫ÊôØ‰∏ãÁöÑÂ≥∞ÂÄºÂÜôÊµÅÈáè</strong></p><ul><li><strong>Â∞ÜÁßíÊùÄËØ∑Ê±ÇÊöÇÂ≠ò‰∫éÊ∂àÊÅØÈòüÂàó</strong>Ôºå‰∏öÂä°ÊúçÂä°Âô®ÂìçÂ∫îÁî®Êà∑‚ÄúÁßíÊùÄÁªìÊûúÊ≠£Âú®Â§ÑÁêÜ‰∏≠„ÄÇ„ÄÇ„ÄÇ‚ÄùÔºåÈáäÊîæÁ≥ªÁªüËµÑÊ∫êÂéªÂ§ÑÁêÜÂÖ∂ÂÆÉÁî®Êà∑ÁöÑËØ∑Ê±Ç„ÄÇ</li><li><strong>ÂâäÂ≥∞Â°´Ë∞∑</strong>ÔºåÂâäÂπ≥Áü≠ÊöÇÁöÑÊµÅÈáèÈ´òÂ≥∞ÔºåÊ∂àÊÅØÂ†ÜÁßØ‰ºöÈÄ†ÊàêËØ∑Ê±ÇÂª∂ËøüÂ§ÑÁêÜÔºå‰ΩÜÁßíÊùÄÁî®Êà∑ÂØπ‰∫éÁü≠ÊöÇÂª∂ËøüÊúâ‰∏ÄÂÆöÂÆπÂøçÂ∫¶„ÄÇÁßíÊùÄÂïÜÂìÅÊúâ 1000 ‰ª∂ÔºåÂ§ÑÁêÜ‰∏ÄÊ¨°Ë¥≠‰π∞ËØ∑Ê±ÇÁöÑÊó∂Èó¥ÊòØ 500msÔºåÈÇ£‰πàÊÄªÂÖ±Â∞±ÈúÄË¶Å 500s ÁöÑÊó∂Èó¥„ÄÇËøôÊó∂‰Ω†ÈÉ®ÁΩ≤ 10 ‰∏™ÈòüÂàóÂ§ÑÁêÜÁ®ãÂ∫èÔºåÈÇ£‰πàÁßíÊùÄËØ∑Ê±ÇÁöÑÂ§ÑÁêÜÊó∂Èó¥Â∞±ÊòØ 50sÔºå‰πüÂ∞±ÊòØËØ¥Áî®Êà∑ÈúÄË¶ÅÁ≠âÂæÖ 50s ÊâçÂèØ‰ª•ÁúãÂà∞ÁßíÊùÄÁöÑÁªìÊûúÔºåËøôÊòØÂèØ‰ª•Êé•ÂèóÁöÑ„ÄÇËøôÊó∂‰ºö<strong>Âπ∂Âèë 10 ‰∏™</strong>ËØ∑Ê±ÇÂà∞ËææÊï∞ÊçÆÂ∫ìÔºåÂπ∂‰∏ç‰ºöÂØπÊï∞ÊçÆÂ∫ìÈÄ†ÊàêÂæàÂ§ßÁöÑÂéãÂäõ„ÄÇ</li></ul><p><strong>ÈÄöËøáÂºÇÊ≠•Â§ÑÁêÜÁÆÄÂåñÁßíÊùÄËØ∑Ê±Ç‰∏≠ÁöÑ‰∏öÂä°ÊµÅÁ®ã</strong></p><p>‚Äã    ÂÖàÂ§ÑÁêÜ‰∏ªË¶ÅÁöÑ‰∏öÂä°ÔºåÂºÇÊ≠•Â§ÑÁêÜÊ¨°Ë¶ÅÁöÑ‰∏öÂä°„ÄÇ</p><ul><li>Â¶Ç‰∏ªË¶ÅÊµÅÁ®ãÊòØ<strong>ÁîüÊàêËÆ¢Âçï</strong>„ÄÅ<strong>Êâ£ÂáèÂ∫ìÂ≠ò</strong>Ôºõ</li><li>Ê¨°Ë¶ÅÊµÅÁ®ãÊØîÂ¶ÇË¥≠‰π∞ÊàêÂäü‰πãÂêé‰ºöÁªôÁî®Êà∑<strong>Âèë‰ºòÊÉ†Âà∏</strong>Ôºå<strong>Â¢ûÂä†Áî®Êà∑ÁöÑÁßØ**</strong>ÂàÜ**„ÄÇ</li><li>Ê≠§Êó∂ÁßíÊùÄÂè™Ë¶ÅÂ§ÑÁêÜÁîüÊàêËÆ¢ÂçïÔºåÊâ£ÂáèÂ∫ìÂ≠òÁöÑËÄóÊó∂ÔºåÂèëÊîæ‰ºòÊÉ†Âà∏„ÄÅÂ¢ûÂä†Áî®Êà∑ÁßØÂàÜÂºÇÊ≠•ÂéªÂ§ÑÁêÜ‰∫Ü„ÄÇ</li></ul><p><strong>Ëß£ËÄ¶</strong></p><p>‚Äã    ÂÆûÁé∞ÁßíÊùÄÁ≥ªÁªüÊ®°Âùó‰πãÈó¥ÊùæËÄ¶ÂêàÂ∞ÜÁßíÊùÄÊï∞ÊçÆÂêåÊ≠•ÁªôÊï∞ÊçÆÂõ¢ÈòüÔºåÊúâ‰∏§ÁßçÊÄùË∑ØÔºö</p><ul><li>‰ΩøÁî® HTTP ÊàñËÄÖ RPC ÂêåÊ≠•Ë∞ÉÁî®ÔºåÂç≥Êèê‰æõ‰∏Ä‰∏™Êé•Âè£ÔºåÂÆûÊó∂Â∞ÜÊï∞ÊçÆÊé®ÈÄÅÁªôÊï∞ÊçÆÊúçÂä°„ÄÇ<strong>Á≥ªÁªüÁöÑËÄ¶ÂêàÂ∫¶È´ò</strong>ÔºåÂ¶ÇÊûúÂÖ∂‰∏≠‰∏Ä‰∏™ÊúçÂä°ÊúâÈóÆÈ¢òÔºåÂèØËÉΩ‰ºöÂØºËá¥Âè¶‰∏Ä‰∏™ÊúçÂä°‰∏çÂèØÁî®„ÄÇ</li><li>‰ΩøÁî®Ê∂àÊÅØÈòüÂàó<strong>Â∞ÜÊï∞ÊçÆÂÖ®ÈÉ®ÂèëÈÄÅÁªôÊ∂àÊÅØÈòüÂàó</strong>ÔºåÁÑ∂Âêé<strong>Êï∞ÊçÆÊúçÂä°ËÆ¢ÈòÖËøô‰∏™Ê∂àÊÅØÈòüÂàó</strong>ÔºåÊé•Êî∂Êï∞ÊçÆËøõË°åÂ§ÑÁêÜ„ÄÇ</li></ul><h3 id="7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß"><a href="#7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß" class="headerlink" title="7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß"></a><strong>7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß</strong></h3><p><strong>CacheAsideÊóÅË∑ØÁºìÂ≠ò</strong>ËØªËØ∑Ê±Ç‰∏çÂëΩ‰∏≠Êü•ËØ¢Êï∞ÊçÆÂ∫ìÔºåÊü•ËØ¢ÂÆåÊàêÂÜôÂÖ•ÁºìÂ≠òÔºåÂÜôËØ∑Ê±ÇÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂêéÂà†Èô§ÁºìÂ≠òÊï∞ÊçÆ„ÄÇ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Âª∂ËøüÂèåÂà†ÔºåÁî®‰ª•‰øùËØÅÊúÄÁªà‰∏ÄËá¥ÊÄß,Èò≤Ê≠¢Â∞èÊ¶ÇÁéáÊóßÊï∞ÊçÆËØªËØ∑Ê±ÇÂú®Á¨¨‰∏ÄÊ¨°Âà†Èô§ÂêéÊõ¥Êñ∞Êï∞ÊçÆÂ∫ì</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(String key,Object data)</span></span>&#123;</span><br><span class="line">redis.delKey(key);</span><br><span class="line">db.updateData(data);</span><br><span class="line">Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">redis.delKey(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>‰∏∫Èò≤ÁºìÂ≠òÂ§±ÊïàËøô‰∏Ä‰ø°ÊÅØ‰∏¢Â§±ÔºåÂèØÁî®Ê∂àÊÅØÈòüÂàóÁ°Æ‰øù„ÄÇ</p><ul><li>Êõ¥Êñ∞Êï∞ÊçÆÂ∫ìÊï∞ÊçÆÔºõ</li><li>Êï∞ÊçÆÂ∫ì‰ºöÂ∞ÜÊìç‰Ωú‰ø°ÊÅØÂÜôÂÖ•binlogÊó•ÂøóÂΩì‰∏≠Ôºõ</li><li>Âè¶Ëµ∑‰∏ÄÊÆµÈùû‰∏öÂä°‰ª£Á†ÅÔºåÁ®ãÂ∫èËÆ¢ÈòÖÊèêÂèñÂá∫ÊâÄÈúÄË¶ÅÁöÑÊï∞ÊçÆ‰ª•ÂèäkeyÔºõ</li><li>Â∞ùËØïÂà†Èô§ÁºìÂ≠òÊìç‰ΩúÔºåËã•Âà†Èô§Â§±Ë¥•ÔºåÂ∞ÜËøô‰∫õ‰ø°ÊÅØÂèëÈÄÅËá≥Ê∂àÊÅØÈòüÂàóÔºõ</li><li>ÈáçÊñ∞‰ªéÊ∂àÊÅØÈòüÂàó‰∏≠Ëé∑ÂæóËØ•Êï∞ÊçÆÔºåÈáçËØïÊìç‰ΩúÔºõ</li></ul><p>ËÆ¢ÈòÖ<strong>binlogÁ®ãÂ∫èÂú®mysql‰∏≠ÊúâÁé∞ÊàêÁöÑ‰∏≠Èó¥</strong>‰ª∂Âè´canalÔºåÈáçËØïÊú∫Âà∂Ôºå‰∏ªË¶ÅÈááÁî®ÁöÑÊòØÊ∂àÊÅØÈòüÂàóÁöÑÊñπÂºè„ÄÇ</p><p><strong>ÁªàÊûÅÊñπÊ°àÔºöËØ∑Ê±Ç‰∏≤Ë°åÂåñ</strong></p><p>ÁúüÊ≠£Èù†Ë∞±ÈùûÁßíÊùÄÁöÑÊñπÊ°àÔºöÂ∞ÜËÆøÈóÆÊìç‰Ωú‰∏≤Ë°åÂåñ</p><ol><li>ÂÖàÂà†ÁºìÂ≠òÔºåÂ∞ÜÊõ¥Êñ∞Êï∞ÊçÆÂ∫ìÁöÑ<strong>ÂÜôÊìç‰ΩúÊîæËøõÊúâÂ∫èÈòüÂàó‰∏≠</strong></li><li>‰ªéÁºìÂ≠òÊü•‰∏çÂà∞ÁöÑ<strong>ËØªÊìç‰Ωú‰πüËøõÂÖ•ÊúâÂ∫èÈòüÂàó</strong></li></ol><p>ÈúÄË¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢òÔºö</p><ol><li>ËØªËØ∑Ê±ÇÁßØÂéãÔºåÂ§ßÈáèË∂ÖÊó∂ÔºåÂØºËá¥Êï∞ÊçÆÂ∫ìÁöÑÂéãÂäõÔºöÈôêÊµÅ„ÄÅÁÜîÊñ≠</li><li>Â¶Ç‰ΩïÈÅøÂÖçÂ§ßÈáèËØ∑Ê±ÇÁßØÂéãÔºöÂ∞ÜÈòüÂàóÊ∞¥Âπ≥ÊãÜÂàÜÔºåÊèêÈ´òÂπ∂Ë°åÂ∫¶„ÄÇ</li></ol><h3 id="8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú"><a href="#8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú" class="headerlink" title="8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú**"></a>8„ÄÅÂèØÈù†ÊÄßÂ¶Ç‰Ωï‰øùÈöú**</h3><p>‚Äã    Áî±‰∏Ä‰∏™ÊàñÂ§ö‰∏™sentinelÂÆû‰æãÁªÑÊàêsentinelÈõÜÁæ§ÂèØ‰ª•ÁõëËßÜ‰∏Ä‰∏™ÊàñÂ§ö‰∏™‰∏ªÊúçÂä°Âô®ÂíåÂ§ö‰∏™‰ªéÊúçÂä°Âô®„ÄÇ<strong>Âì®ÂÖµÊ®°ÂºèÈÄÇÂêàËØªËØ∑Ê±ÇËøúÂ§ö‰∫éÂÜôËØ∑Ê±ÇÁöÑ‰∏öÂä°Âú∫ÊôØÔºåÊØîÂ¶ÇÂú®ÁßíÊùÄÁ≥ªÁªü</strong>‰∏≠Áî®Êù•ÁºìÂ≠òÊ¥ªÂä®‰ø°ÊÅØ„ÄÇ Â¶ÇÊûúÂÜôËØ∑Ê±ÇËæÉÂ§öÔºåÂΩìÈõÜÁæ§ Slave ËäÇÁÇπÊï∞ÈáèÂ§ö‰∫ÜÂêéÔºåMaster ËäÇÁÇπÂêåÊ≠•Êï∞ÊçÆÁöÑÂéãÂäõ‰ºöÈùûÂ∏∏Â§ß„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gluq6vlvglj30nw0e076f.jpg" alt="image-20201220231241725" style="zoom:50%;"></p><p>‚Äã    ÂΩì‰∏ªÊúçÂä°Âô®ËøõÂÖ•‰∏ãÁ∫øÁä∂ÊÄÅÊó∂ÔºåsentinelÂèØ‰ª•Â∞ÜËØ•‰∏ªÊúçÂä°Âô®‰∏ãÁöÑÊüê‰∏Ä‰ªéÊúçÂä°Âô®ÂçáÁ∫ß‰∏∫‰∏ªÊúçÂä°Âô®ÁªßÁª≠Êèê‰æõÊúçÂä°Ôºå‰ªéËÄå‰øùËØÅredisÁöÑÈ´òÂèØÁî®ÊÄß„ÄÇ</p><h3 id="9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó"><a href="#9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó" class="headerlink" title="9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó"></a>9„ÄÅÁßíÊùÄÁ≥ªÁªüÁì∂È¢à-Êó•Âøó</h3><blockquote><p>ÁßíÊùÄÊúçÂä°ÂçïËäÇÁÇπÈúÄË¶ÅÂ§ÑÁêÜÁöÑËØ∑Ê±Ç QPS ÂèØËÉΩËææÂà∞ 10 ‰∏á‰ª•‰∏ä„ÄÇ‰∏Ä‰∏™ËØ∑Ê±Ç‰ªéËøõÂÖ•ÁßíÊùÄÊúçÂä°Âà∞Â§ÑÁêÜÂ§±Ë¥•ÊàñËÄÖÊàêÂäüÔºåËá≥Â∞ë‰ºö‰∫ßÁîü‰∏§Êù°Êó•Âøó„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÈ´òÂ≥∞ÊúüÈó¥Ôºå‰∏Ä‰∏™ÁßíÊùÄËäÇÁÇπÊØèÁßí‰∫ßÁîüÁöÑÊó•ÂøóÂèØËÉΩËææÂà∞ <strong>30 ‰∏áÊù°</strong>‰ª•‰∏ä</p></blockquote><p>‚Äã    ‰∏ÄÂùóÊÄßËÉΩÊØîËæÉÂ•ΩÁöÑÂõ∫ÊÄÅÁ°¨ÁõòÔºåÊØèÁßíÂÜôÁöÑIOPS Â§ßÊ¶ÇÂú® 3 ‰∏áÂ∑¶Âè≥„ÄÇ‰πüÂ∞±ÊòØËØ¥Ôºå‰∏Ä‰∏™ÁßíÊùÄËäÇÁÇπÁöÑÊØèÁßíÊó•ÂøóÊù°Êï∞ÊòØÂõ∫ÊÄÅÁ°¨Áõò IOPS ÁöÑ 10 ÂÄçÔºåÁ£ÅÁõòÈÉΩÊâõ‰∏ç‰ΩèÔºåÊõ¥Âà´ËØ¥ÈÄöËøáÁΩëÁªúÂÜôÂÖ•Âà∞ÁõëÊéßÁ≥ªÁªü‰∏≠„ÄÇ</p><ul><li><strong>ÊØèÁßíÊó•ÂøóÈáèËøúÈ´ò‰∫éÁ£ÅÁõò IOPS</strong>ÔºåÁõ¥Êé•ÂÜôÁ£ÅÁõò‰ºöÂΩ±ÂìçÊúçÂä°ÊÄßËÉΩÂíåÁ®≥ÂÆöÊÄß</li><li>Â§ßÈáèÊó•ÂøóÂØºËá¥ÊúçÂä°È¢ëÁπÅÂàÜÈÖçÔºå<strong>È¢ëÁπÅÈáäÊîæÂÜÖÂ≠òÔºåÂΩ±ÂìçÊúçÂä°ÊÄßËÉΩ</strong>„ÄÇ</li><li>ÊúçÂä°ÂºÇÂ∏∏ÈÄÄÂá∫<strong>‰∏¢Â§±Â§ßÈáèÊó•Âøó</strong>ÁöÑÈóÆÈ¢ò</li></ul><p><strong>Ëß£ÂÜ≥ÊñπÊ°à</strong></p><ul><li><strong>Tmpfs</strong>ÔºåÂç≥‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªüÔºåÂÆÉÊòØ‰∏ÄÁßçÂü∫‰∫éÂÜÖÂ≠òÁöÑÊñá‰ª∂Á≥ªÁªü„ÄÇÊàë‰ª¨ÂèØ‰ª•Â∞ÜÁßíÊùÄÊúçÂä°ÂÜôÊó•ÂøóÁöÑÊñá‰ª∂ÊîæÂú®‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªü‰∏≠„ÄÇÁõ∏ÊØîÁõ¥Êé•ÂÜôÁ£ÅÁõòÔºåÂú®‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªü‰∏≠ÂÜôÊó•ÂøóÁöÑÊÄßËÉΩËá≥Â∞ë<strong>ËÉΩÊèêÂçá 100 ÂÄç</strong>ÔºåÊØèÂΩìÊó•ÂøóÊñá‰ª∂ËææÂà∞ 20MB ÁöÑÊó∂ÂÄôÔºåÂ∞±Â∞Ü<strong>Êó•ÂøóÊñá‰ª∂ËΩ¨ÁßªÂà∞Á£ÅÁõò‰∏ä</strong>ÔºåÂπ∂Â∞Ü‰∏¥Êó∂Êñá‰ª∂Á≥ªÁªü‰∏≠ÁöÑÊó•ÂøóÊñá‰ª∂Ê∏ÖÁ©∫„ÄÇ</li><li>ÂèØ‰ª•ÂèÇËÄÉÂÜÖÂ≠òÊ±†ËÆæËÆ°ÔºåÂ∞ÜÁªôloggerÂàÜÈÖçÁºìÂÜ≤Âå∫ÔºåÊØè‰∏ÄÊ¨°ÁöÑÊñ∞ÂÜôÂèØ‰ª•Â§çÁî®LoggerÂØπË±°</li><li>ÂèÇËÄÉkafkaÁöÑÁºìÂÜ≤Ê±†ËÆæËÆ°ÔºåÂΩìÁºìÂÜ≤Âå∫ËææÂà∞Â§ßÂ∞èÂíåÈó¥ÈöîÊó∂Èïø‰∏¥ÁïåÂÄºÊó∂ÔºåË∞ÉÁî®FlushÂáΩÊï∞ÔºåÂáèÂ∞ë‰∏¢Â§±ÁöÑÈ£éÈô©</li></ul><p><strong>10„ÄÅÊ±†ÂåñÊäÄÊúØ</strong></p><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6japwof2j31520na4mh.jpg" alt="image-20210504174220668" title class>                <p>image-20210504174220668</p>            </figure><p>‚Äã    ÈÄöÂ∏∏ÂèØ‰ª•ÈááÁî®<strong>Âæ™ÁéØÈòüÂàó</strong>Êù•‰øùÂ≠òÁ©∫Èó≤ËøûÊé•„ÄÇ‰ΩøÁî®ÁöÑÊó∂ÂÄôÔºåÂèØ‰ª•‰ªéÈòüÂàóÂ§¥ÈÉ®ÂèñÂá∫ËøûÊé•ÔºåÁî®ÂÆåÂêéÂ∞ÜÁ©∫Èó≤ËøûÊé•ÊîæÂà∞ÈòüÂàóÂ∞æÈÉ®„ÄÇNetty‰∏≠Âà©Áî®Â∏¶ÁºìÂÜ≤Âå∫ÁöÑ channel Êù•ÂÖÖÂΩìÈòüÂàó„ÄÇ</p><h2 id="‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°"><a href="#‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°" class="headerlink" title="‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°"></a>‰∏â„ÄÅÂç≥Êó∂ÈÄö‰ø°</h2><h3 id="1„ÄÅÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì"><a href="#1„ÄÅÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì" class="headerlink" title="1„ÄÅÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì"></a>1„ÄÅ<strong>ÂçïËÅäÊ∂àÊÅØÂèØÈù†‰º†Ëæì</strong></h3><p>TCP‰øùËØÅÊ∂àÊÅØÂèØÈù†‰º†Ëæì‰∏âÊùøÊñßÔºöË∂ÖÊó∂„ÄÅÈáç‰º†„ÄÅÁ°ÆËÆ§„ÄÇÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÈÄö‰ø°MSGÂíåACKÁöÑÂÖ±ËÆ°6‰∏™Êä•Êñá</p><ul><li>ËØ∑Ê±ÇÊä•ÊñáÔºàrequestÔºåÂêéÁÆÄÁß∞‰∏∫‰∏∫RÔºâÔºåÂÆ¢Êà∑Á´Ø‰∏ªÂä®ÂèëÈÄÅÁªôÊúçÂä°Á´Ø„ÄÇ</li><li>Â∫îÁ≠îÊä•ÊñáÔºàacknowledgeÔºåÂêéÁÆÄÁß∞‰∏∫AÔºâÔºåÊúçÂä°Âô®Ë¢´Âä®Â∫îÁ≠îÂÆ¢Êà∑Á´ØÁöÑÊä•Êñá„ÄÇ</li><li>ÈÄöÁü•Êä•ÊñáÔºànotifyÔºåÂêéÁÆÄÁß∞‰∏∫NÔºâÔºåÊúçÂä°Âô®‰∏ªÂä®ÂèëÈÄÅÁªôÂÆ¢Êà∑Á´ØÁöÑÊä•Êñá</li></ul><p><strong>Âú®Á∫øÊ∂àÊÅØÊµÅÁ®ãÔºö</strong></p><p>‚Äã        A Ê∂àÊÅØËØ∑Ê±Ç  <strong>MSG:R</strong>  =&gt; S Ê∂àÊÅØÂ∫îÁ≠î  <strong>MSG:A</strong>  =&gt; S Ê∂àÊÅØÈÄöÁü•B  <strong>MSG:N</strong></p><p>‚Äã        S Á°ÆËÆ§ÈÄöÁü•  <strong>ACK:N</strong>  &lt;=  S Á°ÆËÆ§Â∫îÁ≠î  <strong>ACK:A</strong>  &lt;=  BÁ°ÆËÆ§ËØ∑Ê±ÇS  <strong>ACK:R</strong></p><p><strong>Ë∂ÖÊó∂‰∏éÈáç‰º†„ÄÅÁ°ÆËÆ§ÂíåÂéªÈáçÔºö</strong></p><p>‚Äã    AÂèëÂá∫‰∫Ü <strong>MSG:R</strong> ÔºåÊî∂Âà∞‰∫Ü<strong>MSG:A</strong>‰πãÂêéÔºåÂú®‰∏Ä‰∏™ÊúüÂæÖÁöÑÊó∂Èó¥ÂÜÖÔºåÂ¶ÇÊûúÊ≤°ÊúâÊî∂Âà∞<strong>ACK:N</strong>ÔºåA‰ºöÂ∞ùËØïÂ∞Ü <strong>MSG:R</strong>  ÈáçÂèë„ÄÇÂèØËÉΩAÂêåÊó∂ÂèëÂá∫‰∫ÜÂæàÂ§öÊ∂àÊÅØÔºåÊâÄ‰ª•AÈúÄË¶ÅÂú®Êú¨Âú∞Áª¥Êä§‰∏Ä‰∏™Á≠âÂæÖackÈòüÂàóÔºåÂπ∂ÈÖçÂêàtimerË∂ÖÊó∂Êú∫Âà∂ÔºåÊù•ËÆ∞ÂΩïÂì™‰∫õÊ∂àÊÅØÊ≤°ÊúâÊî∂Âà∞<strong>ACK:N</strong>ÔºåÂÆöÊó∂ÈáçÂèë„ÄÇÁ°ÆËÆ§ACK<strong>‰øùËØÅÂøÖËææ</strong>ÔºåÂéªÈáç‰øùËØÅ<strong>ÂîØ‰∏Ä</strong></p><p><strong>Á¶ªÁ∫øÊ∂àÊÅØÊµÅÁ®ã</strong></p><p>‚Äã    ÂéüÊñπÊ°àÔºöÊ†πÊçÆÁ¶ªÁ∫øÂ•ΩÂèãÁöÑÊ†áËØÜÔºå‰∫§‰∫íÊãâÂèñÊåáÂÆöÁöÑÊ∂àÊÅØ</p><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm8kxci29zj30b305974z.jpg" alt="IMÊ∂àÊÅØÈÄÅËææ‰øùËØÅÊú∫Âà∂ÂÆûÁé∞(‰∫å)Ôºö‰øùËØÅÁ¶ªÁ∫øÊ∂àÊÅØÁöÑÂèØÈù†ÊäïÈÄí_2.png" title class>                <p>IMÊ∂àÊÅØÈÄÅËææ‰øùËØÅÊú∫Âà∂ÂÆûÁé∞(‰∫å)Ôºö‰øùËØÅÁ¶ªÁ∫øÊ∂àÊÅØÁöÑÂèØÈù†ÊäïÈÄí_2.png</p>            </figure><p>‰ºòÂåñÁöÑÊñπÊ°àÔºö</p><ul><li>Â¶ÇÁî®Êà∑<strong>ÂãæÈÄâÂÖ®Èáè</strong>ÂàôËøîÂõûËÆ°Êï∞ÔºåÂú®Áî®Êà∑ÁÇπÂáªÊó∂ÊãâÂèñ„ÄÇ</li><li>Â¶ÇÁî®Êà∑Êú™ÂãæÈÄâÂÖ®ÈáèÂàôËøîÂõû<strong>ÊúÄËøëÂÖ®ÈÉ®Á¶ªÁ∫øÊ∂àÊÅØ</strong>ÔºåÂÆ¢Êà∑Á´ØÈíàÂØπ<strong>Áî®Êà∑idËøõË°åËÆ°ÁÆó</strong>„ÄÇ</li><li>ÂÖ®ÈáèÁ¶ªÁ∫ø‰ø°ÊÅØÂèØ‰ª•ÈÄöËøáÂÆ¢Êà∑Á´ØÂºÇÊ≠•Á∫øÁ®ãÂàÜÈ°µÊãâÂèñÔºåÂáèÂ∞ëÂç°È°ø</li><li>Â∞ÜACKÂíåÂàÜÈ°µÁ¨¨‰∫åÊ¨°ÊãâÂèñÁöÑÊä•ÊñáÈáçÂêàÔºåÂèØ‰ª•ËæÉÂ∞ëÁ¶ªÁ∫øÊ∂àÊÅØÊãâÂèñ‰∫§‰∫íÁöÑÊ¨°Êï∞</li></ul><h3 id="2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç"><a href="#2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç" class="headerlink" title="2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç"></a><strong>2„ÄÅÁæ§ËÅäÊ∂àÊÅØÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáç</strong></h3><blockquote><p>Âú®Á∫øÁöÑÁæ§ÂèãËÉΩÁ¨¨‰∏ÄÊó∂Èó¥Êî∂Âà∞Ê∂àÊÅØÔºõ<br>Á¶ªÁ∫øÁöÑÁæ§ÂèãËÉΩÂú®ÁôªÈôÜÂêéÊî∂Âà∞Ê∂àÊÅØ„ÄÇ</p></blockquote><p><img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm8jswr3poj30hh078dg2.jpg" alt="IMÁæ§ËÅäÊ∂àÊÅØÂ¶ÇÊ≠§Â§çÊùÇÔºåÂ¶Ç‰Ωï‰øùËØÅ‰∏ç‰∏¢‰∏çÈáçÔºü_1.jpg"></p><ul><li>Áæ§Ê∂àÊÅØÂèëÈÄÅËÄÖxÂêëserverÂèëÂá∫Áæ§Ê∂àÊÅØÔºõ</li><li>serverÂéªdb‰∏≠Êü•ËØ¢Áæ§‰∏≠ÊúâÂ§öÂ∞ëÁî®Êà∑(x,A,B,C,D)Ôºõ</li><li>serverÂéªcache‰∏≠Êü•ËØ¢Ëøô‰∫õÁî®Êà∑ÁöÑÂú®Á∫øÁä∂ÊÄÅÔºõ</li><li>ÂØπ‰∫éÁæ§‰∏≠Âú®Á∫øÁöÑÁî®Êà∑A‰∏éBÔºåÁæ§Ê∂àÊÅØserverËøõË°åÂÆûÊó∂Êé®ÈÄÅÔºõ</li><li>ÂØπ‰∫éÁæ§‰∏≠Á¶ªÁ∫øÁöÑÁî®Êà∑C‰∏éDÔºåÁæ§Ê∂àÊÅØserverËøõË°åÁ¶ªÁ∫øÂ≠òÂÇ®„ÄÇ</li></ul><p>‚Äã    ÂØπ‰∫éÂêå‰∏Ä‰ªΩÁæ§Ê∂àÊÅØÁöÑÂÜÖÂÆπÔºåÂ§ö‰∏™Á¶ªÁ∫øÁî®Êà∑Â≠òÂÇ®‰∫ÜÂæàÂ§ö‰ªΩ„ÄÇÂÅáËÆæÁæ§‰∏≠Êúâ200‰∏™Áî®Êà∑Á¶ªÁ∫øÔºåÁ¶ªÁ∫øÊ∂àÊÅØÂàôÂÜó‰Ωô‰∫Ü200‰ªΩÔºåËøôÊûÅÂ§ßÁöÑÂ¢ûÂä†‰∫ÜÊï∞ÊçÆÂ∫ìÁöÑÂ≠òÂÇ®ÂéãÂäõ</p><ul><li>Á¶ªÁ∫øÊ∂àÊÅØË°®Âè™Â≠òÂÇ®Áî®Êà∑ÁöÑÁæ§Á¶ªÁ∫øÊ∂àÊÅØmsg_idÔºåÈôç‰ΩéÊï∞ÊçÆÂ∫ìÁöÑÂÜó‰ΩôÂ≠òÂÇ®Èáè</li><li>Âä†ÂÖ•Â∫îÁî®Â±ÇÁöÑACKÔºåÊâçËÉΩ‰øùËØÅÁæ§Ê∂àÊÅØ‰∏ÄÂÆöÂà∞ËææÔºåÊúçÂä°Á´ØÂπÇÁ≠âÊÄßÊ†°È™åÂèäÂÆ¢Êà∑Á´ØÂéªÈáçÔºå‰øùËØÅ‰∏çÈáçÂ§ç</li><li><p>ÊØèÊù°Áæ§Ê∂àÊÅØÈÉΩACKÔºå‰ºöÁªôÊúçÂä°Âô®ÈÄ†ÊàêÂ∑®Â§ßÁöÑÂÜ≤ÂáªÔºåÈÄöËøáÊâπÈáèACKÂáèÂ∞ëÊ∂àÊÅØÈ£éÊö¥Êâ©Êï£Á≥ªÊï∞ÁöÑÂΩ±Âìç</p></li><li><p>Áæ§Á¶ªÁ∫øÊ∂àÊÅØËøáÂ§öÔºöÊãâÂèñËøáÊÖ¢ÔºåÂèØ‰ª•ÈÄöËøáÂàÜÈ°µÊáíÊãâÂèñÊîπÂñÑ„ÄÇ</p></li></ul><h3 id="3„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß"><a href="#3„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß" class="headerlink" title="3„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß"></a>3„ÄÅ<strong>Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÊó∂Â∫èÊÄß</strong></h3><p>ÊñπÊ°àÔºö</p><ul><li>IdÈÄöËøáÂÄüÈâ¥ÂæÆ‰ø°Âè∑ÊÆµ+Ë∑≥Ë∑ÉÁöÑÊñπÂºè‰øùËØÅË∂ãÂäøÈÄíÂ¢û</li><li>ÂçïËÅäÂÄüÈâ¥Êï∞ÊçÆÂ∫ìËÆæËÆ°ÔºåÂçïÁÇπÂ∫èÂàóÂåñÂêåÊ≠•Âà∞ÂÖ∂‰ªñËäÇÁÇπ‰øùËØÅÂ§öÊú∫Êó∂Â∫è</li><li>Áæ§ËÅäÊ∂àÊÅØ‰ΩøÁî®ÂçïÁÇπÂ∫èÂàóÂåñ‰øùËØÅÂêÑ‰∏™ÂèëÈÄÅËÄÖÁöÑÊ∂àÊÅØÁõ∏ÂØπÊó∂Â∫è</li></ul><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/0081Kckwly1gm8m1ge2ksj30j707gt96.jpg" alt="Â¶Ç‰Ωï‰øùËØÅIMÂÆûÊó∂Ê∂àÊÅØÁöÑ‚ÄúÊó∂Â∫èÊÄß‚Äù‰∏é‚Äú‰∏ÄËá¥ÊÄß‚ÄùÔºü_10.jpg" title class>                <p>Â¶Ç‰Ωï‰øùËØÅIMÂÆûÊó∂Ê∂àÊÅØÁöÑ‚ÄúÊó∂Â∫èÊÄß‚Äù‰∏é‚Äú‰∏ÄËá¥ÊÄß‚ÄùÔºü_10.jpg</p>            </figure><p>‰ºòÂåñÔºö</p><ul><li>Âà©Áî®ÊúçÂä°Âô®ÂçïÁÇπÂ∫èÂàóÂåñÊó∂Â∫èÔºåÂèØËÉΩÂá∫Áé∞ÊúçÂä°Á´ØÊî∂Âà∞Ê∂àÊÅØÁöÑÊó∂Â∫èÔºå‰∏éÂèëÂá∫Â∫èÂàó‰∏ç‰∏ÄËá¥</li><li>Âú®AÂæÄBÂèëÂá∫ÁöÑÊ∂àÊÅØ‰∏≠ÔºåÂä†‰∏äÂèëÈÄÅÊñπAÊú¨Âú∞ÁöÑ‰∏Ä‰∏™ÁªùÂØπÊó∂Â∫èÔºåÊù•Ë°®Á§∫Êé•Êî∂ÊñπBÁöÑÂ±ïÁé∞Êó∂Â∫è„ÄÇ</li><li>Áæ§ËÅäÊ∂àÊÅØ‰øùËØÅ‰∏Ä‰∏™Áæ§ËÅäËêΩÂú®‰∏Ä‰∏™service‰∏äÁÑ∂ÂêéÈÄöËøáÊú¨Âú∞ÈÄíÂ¢ûËß£ÂÜ≥ÂÖ®Â±ÄÈÄíÂ¢ûÁöÑÁì∂È¢àÈóÆÈ¢ò</li></ul><h3 id="4ÔºöÊé®ÊãâÁªìÂêà"><a href="#4ÔºöÊé®ÊãâÁªìÂêà" class="headerlink" title="4ÔºöÊé®ÊãâÁªìÂêà"></a><strong>4ÔºöÊé®ÊãâÁªìÂêà</strong></h3><p>ÂéÜÂè≤ÊñπÊ°àÔºö</p><ul><li>ÊúçÂä°Âô®Âú®ÁºìÂ≠òÈõÜÁæ§ÈáåÂ≠òÂÇ®ÊâÄÊúâÁî®Êà∑ÁöÑÂú®Á∫øÁä∂ÊÄÅ -&gt; ‰øùËØÅÁä∂ÊÄÅÂèØÊü•</li><li>Áî®Êà∑Áä∂ÊÄÅÂÆûÊó∂ÂèòÊõ¥Ôºå‰ªª‰ΩïÁî®Êà∑ÁôªÂΩï/ÁôªÂá∫Êó∂ÔºåÈúÄË¶ÅÊé®ÈÄÅÊâÄÊúâÂ•ΩÂèãÊõ¥Êñ∞Áä∂ÊÄÅ</li><li>AÁôªÂΩïÊó∂ÔºåÂÖàÂéªÊï∞ÊçÆÂ∫ìÊãâÂèñËá™Â∑±ÁöÑÂ•ΩÂèãÂàóË°®ÔºåÂÜçÂéªÁºìÂ≠òËé∑ÂèñÊâÄÊúâÂ•ΩÂèãÁöÑÂú®Á∫øÁä∂ÊÄÅ</li></ul><p><strong>‚ÄúÊ∂àÊÅØÈ£éÊö¥Êâ©Êï£Á≥ªÊï∞‚Äù</strong>ÊòØÊåá‰∏Ä‰∏™Ê∂àÊÅØÂèëÂá∫Êó∂ÔºåÂèòÊàêN‰∏™Ê∂àÊÅØÁöÑÊâ©Êï£Á≥ªÊï∞ÔºåËøô‰∏™Á≥ªÊï∞‰∏é‰∏öÂä°ÂèäÊï∞ÊçÆÁõ∏ÂÖ≥Ôºå‰∏ÄÂÆöÁ®ãÂ∫¶‰∏äÂÆÉÁöÑÂ§ßÂ∞èÂÜ≥ÂÆö‰∫ÜÊäÄÊúØÈááÁî®Êé®ÈÄÅËøòÊòØÊãâÂèñ„ÄÇ</p><p>‰ºòÂåñÊñπÊ°àÔºö</p><ul><li><strong>Â•ΩÂèãÁä∂ÊÄÅÊé®ÊãâÁªìÂêà</strong>ÔºåÈ¶ñÈ°µÁΩÆÈ°∂‰∫≤ÂØÜ„ÄÅÂΩìÂâçÁæ§ËÅäÔºåÈááÁî®Êé®ÈÄÅÔºåÂê¶ÂàôÂèØ‰ª•ÈááÁî®ËΩÆËØ¢ÊãâÂèñÁöÑÊñπÂºèÂêåÊ≠•Ôºõ</li><li><strong>Áæ§ÂèãÁöÑÁä∂ÊÄÅ</strong>ÔºåÁî±‰∫éÊ∂àÊÅØÈ£éÊö¥Êâ©Êï£Á≥ªÊï∞ËøáÂ§ßÔºåÂèØ‰ª•ÈááÁî®ÊåâÈúÄÊãâÂèñÔºåÂª∂Êó∂ÊãâÂèñÁöÑÊñπÂºèÂêåÊ≠•Ôºõ</li><li><strong>Á≥ªÁªüÊ∂àÊÅØ/ÂºÄÂ±èÂπøÂëäÁ≠â</strong>ËøôÁßçÂÆûÊó∂‰∫ßÁîüÁöÑÊ∂àÊÅØÔºåÂèØ‰ª•ÈááÁî®Êé®ÈÄÅÁöÑÊñπÂºèËé∑ÂèñÊ∂àÊÅØÔºõ</li></ul><h3 id="5„ÄÅÂ•ΩÂèãÊé®Ëçê"><a href="#5„ÄÅÂ•ΩÂèãÊé®Ëçê" class="headerlink" title="5„ÄÅÂ•ΩÂèãÊé®Ëçê"></a>5„ÄÅÂ•ΩÂèãÊé®Ëçê</h3><p>Neo4j ÂõæË∞±Êï∞ÊçÆÂ∫ì</p><h2 id="Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫"><a href="#Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫" class="headerlink" title="Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫"></a>Âõõ„ÄÅÊô∫ÊÖßÁ§æÂå∫</h2><p>‚Äã    18Âπ¥ÂàùÔºåÈíàÂØπÊàë‰ª¨DubboÊ°ÜÊû∂ÁöÑÊô∫ÊÖßÊ•ºÂÆáÈ°πÁõÆÁöÑÂçï‰ΩìÊúçÂä°ÊòæÂæóÂçÅÂàÜÁ¨®ÈáçÔºåÈúÄË¶ÅÈááÁî®ÂæÆÊúçÂä°ÁöÑÂΩ¢ÂºèËøõË°åÊû∂ÊûÑÁöÑÈáçÊñ∞ËÆæËÆ°ÔºåÂΩìÊó∂ÔºåÊàëÈòÖËØª‰∫Ü<em>Eric Evans</em> ÂÜôÁöÑ„ÄäÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÔºöËΩØ‰ª∂Ê†∏ÂøÉÂ§çÊùÇÊÄßÂ∫îÂØπ‰πãÈÅì„ÄãÂíå<em>Martin</em> <em>fowler</em>ÁöÑ„ÄäÂæÆÊúçÂä°Êû∂ÊûÑÔºö<em>Microservice</em>„Äã‰∏§Êú¨ÈáçÈáèÁ∫ß‰π¶Á±çÔºå‰π¶‰∏≠‰∫ÜËß£Âà∞ËΩ¨ÂûãÂæÆÊúçÂä°ÁöÑÈáçË¶ÅÂéüÂõ†‰πã‰∏ÄÂ∞±ÊòØÂà©Áî®<strong>ÂàÜÊ≤ªÁöÑÊÄùÊÉ≥</strong>ÂáèÂ∞ëÁ≥ªÁªüÁöÑÂ§çÊùÇÊÄßÔºåÊòØ‰∏ÄÁßçÈíàÂØπ<strong>Â§çÊùÇÈóÆÈ¢òÁöÑÂÆèËßÇËÆæËÆ°</strong>ÔºåÊù•Â∫îÂØπÁ≥ªÁªüÂêéÊù•ËßÑÊ®°Ë∂äÊù•Ë∂äÂ§ßÔºåÁª¥Êä§Ë∂äÊù•Ë∂äÂõ∞ÈöæÁöÑÈóÆÈ¢ò„ÄÇÁÑ∂ËÄåÔºåÊãÜÂàÜÊàêÂæÆÊúçÂä°‰ª•ÂêéÔºåÂπ∂<strong>‰∏çÊÑèÂë≥ÁùÄÊØè‰∏™ÂæÆÊúçÂä°ÈÉΩÊòØÂêÑËá™Áã¨Á´ãÂú∞ËøêË°å</strong>ÔºåËÄåÊòØÂΩºÊ≠§Âçè‰ΩúÂú∞ÁªÑÁªáÂú®‰∏ÄËµ∑„ÄÇËøôÂ∞±Â•ΩÂÉè‰∏Ä‰∏™Âõ¢ÈòüÔºå<strong>ËßÑÊ®°Ë∂äÂ§ßË∂äÈúÄË¶Å‰∏Ä‰∫õÊñπÊ≥ïÊù•ÁªÑÁªá</strong>ÔºåËøôÊ≠£ÊòØÊàë‰ª¨ÈúÄË¶ÅDDDÊ®°Âûã‰∏∫Êàë‰ª¨ÁöÑÊû∂ÊûÑËÆæËÆ°Êèê‰æõÁêÜËÆ∫Âπ∂ÂÆûË∑µÁöÑÊñπÊ≥ï„ÄÇ</p><p>‚Äã    ÂΩìÊó∂ÊØèÊ¨°ÁâàÊú¨Êõ¥Êñ∞Ëø≠‰ª£Âä®ËæÑÂçÅÂá†‰∏™ÂæÆÊúçÂä°ÂêåÊó∂‰øÆÊîπÔºåÊúâÊó∂‰∏Ä‰∏™ÁÆÄÂçïÁöÑÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÂèòÊõ¥Ôºå‰πüÈúÄË¶ÅÂêåÊó∂ÂèòÊõ¥Â§ö‰∏™ÂæÆÊúçÂä°ÔºåÂºïËµ∑‰∫ÜÂõ¢ÈòüÁöÑÂèçÊÄùÔºöÂæÆÊúçÂä°ÂåñÁúã‰∏äÂéªÂπ∂Ê≤°ÊúâÂáèÂ∞ëÊàë‰ª¨ÁöÑÂ∑•‰ΩúÈáè„ÄÇ„Ää‰ºÅ‰∏öÊû∂ÊûÑËÆæËÆ°„Äã‰∏≠ÂØπ‰∫éÂæÆÊúçÂä°ÁöÑÂÆö‰πâÊòØ<strong>Â∞èËÄå‰∏ì</strong>Ôºå‰ΩÜÂú®Ëµ∑ÂàùÁöÑËÆæËÆ°Êó∂ÔºåÊàë‰ª¨Âè™ÁâáÈù¢ÁöÑ<strong>ÁêÜËß£‰∫ÜÂ∞èÂç¥ÂøΩËßÜ‰∫Ü‰∏ì</strong>ÔºåÊ≠§Êó∂Êàë‰ª¨ÊâçÊÑèËØÜÂà∞ÊãÜÂàÜÁöÑÂÖ≥ÈîÆÊòØË¶Å‰øùËØÅÂæÆÊúçÂä°ÂÜÖÈ´òÂÜÖËÅöÔºåÂæÆÊúçÂä°Èó¥‰ΩéËÄ¶Âêà„ÄÇ</p><h3 id="Áâ©ËÅîÁΩëÊû∂ÊûÑ"><a href="#Áâ©ËÅîÁΩëÊû∂ÊûÑ" class="headerlink" title="Áâ©ËÅîÁΩëÊû∂ÊûÑ"></a><strong>Áâ©ËÅîÁΩëÊû∂ÊûÑ</strong></h3><blockquote><p>Áâ©ËÅîÁΩëÊòØ‰∫íËÅîÁΩëÁöÑ<strong>Â§ñÂª∂</strong>„ÄÇÂ∞ÜÁî®Êà∑Á´Ø<strong>Âª∂‰º∏</strong>ÂíåÊâ©Â±ïÂà∞Áâ©‰∏é‰∫∫ÁöÑËøûÊé•„ÄÇÁâ©ËÅîÁΩëÊ®°Âºè‰∏≠ÔºåÊâÄÊúâ<strong>Áâ©ÂìÅ‰∏éÁΩëÁªúËøûÊé•</strong>ÔºåÂπ∂ËøõË°åÈÄö‰ø°ÂíåÂú∫ÊôØËÅîÂä®„ÄÇ‰∫íËÅîÁΩëÈÄöËøá<strong>ÁîµËÑë„ÄÅÁßªÂä®ÁªàÁ´Ø</strong>Á≠âËÆæÂ§áÂ∞ÜÂèÇ‰∏éËÄÖËÅîÁ≥ªËµ∑Êù•ÔºåÂΩ¢ÊàêÁöÑ‰∏ÄÁßçÂÖ®Êñ∞ÁöÑ<strong>‰ø°ÊÅØ‰∫íÊç¢ÊñπÂºè</strong></p></blockquote><h4 id="DCMÁ≥ªÁªüÊû∂ÊûÑ"><a href="#DCMÁ≥ªÁªüÊû∂ÊûÑ" class="headerlink" title="DCMÁ≥ªÁªüÊû∂ÊûÑ"></a>DCMÁ≥ªÁªüÊû∂ÊûÑ</h4><ul><li><strong>ËÆæÂ§áÊÑüÁü•Â±Ç</strong>ÔºàDeviceÔºâÔºöÂà©Áî®Â∞ÑÈ¢ëËØÜÂà´„ÄÅ‰∫åÁª¥Á†Å„ÄÅ‰º†ÊÑüÂô®Á≠âÊäÄÊúØËøõË°åÊï∞ÊçÆÈááÈõÜ</li><li><strong>ÁΩëÁªú‰º†ËæìÂ±Ç</strong>ÔºàConnectÔºâÔºö‰æùÊâòÈÄö‰ø°ÁΩëÁªúÂíåÂçèËÆÆÔºåÂÆûÁé∞ÂèØ‰ø°ÁöÑ‰ø°ÊÅØ‰∫§‰∫íÂíåÂÖ±‰∫´</li><li><strong>Â∫îÁî®ÊéßÂà∂Â±Ç</strong>ÔºàManageÔºâÔºöÂàÜÊûêÂíåÂ§ÑÁêÜÊµ∑ÈáèÊï∞ÊçÆÂíå‰ø°ÊÅØÔºåÂÆûÁé∞Êô∫ËÉΩÂåñÁöÑÂÜ≥Á≠ñÂíåÊéßÂà∂</li></ul><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jc1stt3j31380lswso.jpg" alt="image-20210504174337327" style="zoom:50%;"></p><h4 id="‰∏âË¶ÅÁ¥†"><a href="#‰∏âË¶ÅÁ¥†" class="headerlink" title="‰∏âË¶ÅÁ¥†"></a><strong>‰∏âË¶ÅÁ¥†</strong></h4><ul><li><strong>ËÆæÂ§áËÅîÁΩë</strong>ÔºöÈÄöËøá‰∏çÂêåÁöÑÁΩëÁªúÂçèËÆÆÂíåÈÄö‰ø°Ê†áÂáÜÔºåÂÆûÁé∞ËÆæÂ§á‰∏éÊéßÂà∂Á´ØÁöÑËøûÊé•</li><li><strong>‰∫ëÁ´ØÂàÜÊûê</strong>ÔºöÊèê‰æõÁõëÊéß„ÄÅÂ≠òÂÇ®„ÄÅÂàÜÊûêÁ≠âÊï∞ÊçÆÊúçÂä°Ôºå‰ª•Âèä‰øùÈöúÂÆ¢Êà∑ÁöÑ‰∏öÂä°Êï∞ÊçÆÂÆâÂÖ®</li><li><strong>‰∫ëËæπÂçèÂêå</strong>Ôºö‰∫ëÁ´ØÊé•ÂèóËÆæÂ§á‰∏äÊä•Êï∞ÊçÆÔºå‰∏ãÂèëËÆæÂ§áÁÆ°ÊéßÊåá‰ª§</li></ul><h4 id="‰∫ë-Ëæπ-Á´ØÂçèÂêå"><a href="#‰∫ë-Ëæπ-Á´ØÂçèÂêå" class="headerlink" title="‰∫ë / Ëæπ / Á´ØÂçèÂêå"></a>‰∫ë / Ëæπ / Á´ØÂçèÂêå</h4><p><strong>‰∫ëÁ´ØËÆ°ÁÆó</strong>„ÄÅ<strong>ÁªàÁ´ØËÆ°ÁÆó</strong>Âíå<strong>ËæπÁºòËÆ°ÁÆó</strong>ÊòØ‰∏Ä‰∏™ÂçèÂêåÁöÑÁ≥ªÁªüÔºåÊ†πÊçÆÁî®Êà∑Âú∫ÊôØ„ÄÅËµÑÊ∫êÁ∫¶ÊùüÁ®ãÂ∫¶„ÄÅ‰∏öÂä°ÂÆûÊó∂ÊÄßÁ≠âËøõË°åÂä®ÊÄÅË∞É ÈÖçÔºåÂΩ¢ÊàêÂèØÈù†„ÄÅ‰ΩéÊàêÊú¨ÁöÑÂ∫îÁî®ÊñπÊ°à„ÄÇ‰ªéËøáÂéªÂá†Âπ¥ÁöÑÂèëÂ±ïÁßØÁ¥ØÊù•ÁúãÔºåAI Â∑≤Âú®Áâ©ËÅîÁΩëÂ§ö‰∏™Â±ÇÈù¢ËøõË°åËûçÂêàÔºåÊØîÊàë‰ª¨Âêà‰ΩúÁöÑÊµ∑Â∫∑Â®ÅËßÜ„ÄÅÊó∑ËßÜÂÆáËßÜ„ÄÅÂïÜÊ±§ÁßëÊäÄÁ≠âÁ∫∑Á∫∑ÂèëÂ∏É‰∫ÜÁâ©ËÅîÁΩëAIÁõ∏ÂÖ≥Âπ≥Âè∞Âíå‰∫ßÂìÅÔºåÂíåÁßªÂä®ÂíåÂ∞èÂå∫ËøõË°å‰∫ÜÁ¥ßÂØÜÁöÑËûçÂêà„ÄÇ</p><p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gn9kwux9vjj312w0li138.jpg" alt="image-20210202225351673" style="zoom:50%;"></p><h4 id="Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•"><a href="#Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•" class="headerlink" title="Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•"></a>Áâ©ËÅîÁΩëÂπ≥Âè∞Êé•ÂÖ•</h4><p><img src="https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3199158061/p132750.png" alt="‰ºÅ‰∏öÂü∫‰∫éÁâ©ËÅîÁΩëÂπ≥Âè∞ÁöÑ‰∏öÂä°ÈìæË∑Ø" style="zoom:50%;"></p><p>Âêë‰∏ãËøûÊé•Êµ∑ÈáèËÆæÂ§áÔºåÊîØÊíëËÆæÂ§á<strong>Êï∞ÊçÆÈááÈõÜ‰∏ä‰∫ë</strong>Ôºõ</p><p>Âêë‰∏äÈÄöËøáË∞ÉÁî®<strong>‰∫ëÁ´ØAPI</strong>Â∞ÜÊåá‰ª§‰∏ãÂèëËá≥ËÆæÂ§áÁ´ØÔºåÂÆûÁé∞<strong>ËøúÁ®ãÊéßÂà∂</strong>„ÄÇ</p><p><strong>‰∏äË°åÊï∞ÊçÆÈìæË∑Ø</strong></p><ul><li>ËÆæÂ§áÂª∫Á´ã<strong>MQTT</strong>ÈïøËøûÊé•Ôºå‰∏äÊä•Êï∞ÊçÆÔºàÂèëÂ∏ÉTopicÂíåPayloadÔºâÂà∞Áâ©ËÅîÁΩëÂπ≥Âè∞</li><li>Áâ©ËÅîÁΩëÂπ≥Âè∞ÈÄöËøá<strong>ÈÖçÁΩÆ</strong>ËßÑÂàôÔºåÈÄöËøá<strong>RocketMQ</strong>„ÄÅ<strong>AMQP</strong>Á≠âÈòüÂàóËΩ¨ÂèëÂà∞‰∏öÂä°Âπ≥Âè∞</li></ul><p><strong>‰∏ãË°åÊåá‰ª§ÈìæË∑Ø</strong></p><ul><li>‰∏öÂä°ÊúçÂä°Âô®Âü∫‰∫é<strong>HTTPS</strong>ÂçèËÆÆË∞ÉÁî®ÁöÑAPIÊé•Âè£ÔºåÂèëÂ∏ÉTopicÊåá‰ª§Âà∞Áâ©ËÅîÁΩëÂπ≥Âè∞„ÄÇ</li><li>Áâ©ËÅîÁΩëÂπ≥Âè∞ÈÄöËøá<strong>MQTT</strong>ÂçèËÆÆÔºå‰ΩøÁî®ÂèëÂ∏ÉÔºàÊåáÂÆöTopicÂíåPayloadÔºâÂà∞<strong>ËÆæÂ§áÁ´Ø</strong>„ÄÇ</li></ul><h4 id="Èó®ÈîÅÊé•ÂÖ•"><a href="#Èó®ÈîÅÊé•ÂÖ•" class="headerlink" title="Èó®ÈîÅÊé•ÂÖ•"></a>Èó®ÈîÅÊé•ÂÖ•</h4><p><strong>WIFIÈó®ÈîÅ</strong>Ôºö<strong>Èùû‰øùÊ¥ª</strong> Âπ≥Â∏∏Â§Ñ‰∫éÊñ≠Áîµ‰ºëÁú†Áä∂ÊÄÅÔºåÈúÄË¶Å<strong>MCU</strong> <strong>Âî§ÈÜí</strong>ÊâçËÉΩ‰º†ËæìÂíåÂèëÈÄÅÊï∞ÊçÆ</p><p><strong>ËìùÁâôÈó®ÈîÅ</strong>Ôºö<strong>MCU‰∏≤Âè£ÂØπÊé•</strong>Âíå<strong>SDKÂØπÊé•</strong>ÔºåËøëË∑ùÁ¶ª<strong>ÂçïÁÇπÁôªÂΩï</strong>ÂíåËøúË∑ùÁ¶ª<strong>ÁΩëÂÖ≥ÁôªÂΩï</strong></p><p><strong>ZigbeeÈó®ÈîÅ</strong>Ôºö<strong>Èùû‰øùÊ¥ª</strong> ‰ΩÜÊòØ‰øùÊåÅÂøÉË∑≥Ôºå<strong>MCU</strong>ÂØπÊé•Ôºå<strong>ZigbeeÂçèËÆÆ</strong>ÊéßÂà∂„ÄÇ</p><p><strong>NB-IotÈó®ÈîÅ</strong>ÔºöÂèØ‰ª•ÈÄöËøá<strong>ÂÖ¨ÁΩë</strong>ËøûÊé•ÔºåÊääÈó®Á¶ÅÂèòÊàê<strong>SAAS</strong>ÊúçÂä°Ôºå<strong>MCU</strong></p><table><thead><tr><th>ÂêçËØç</th><th>Ëß£Èáä</th></tr></thead><tbody><tr><td><strong>SaaS</strong></td><td><strong>Software-as-a-Service</strong> ÔºåÊèê‰æõÁªôÂÆ¢Êà∑ÁöÑÊúçÂä°ÊòØËøêËê•ÂïÜËøêË°åÂú®‰∫ëËÆ°ÁÆóÂü∫Á°ÄËÆæÊñΩ‰∏äÁöÑÂ∫îÁî®Á®ãÂ∫è„ÄÇ<strong>Áî®Êà∑ÂèØ‰ª•Âú®ÂêÑÁßçËÆæÂ§á‰∏äÈÄöËøáÂÆ¢Êà∑Á´ØÁïåÈù¢ËÆøÈóÆÂ∫îÁî®</strong>Ôºå‰æãÂ¶ÇËÆ°ÁÆóÊú∫ÊµèËßàÂô®„ÄÇÁî®Êà∑‰∏çÈúÄË¶ÅÁÆ°ÁêÜÊàñÊéßÂà∂‰ªª‰Ωï‰∫ëËÆ°ÁÆóÂü∫Á°ÄËÆæÊñΩÔºåÂåÖÊã¨ÁΩëÁªú„ÄÅÊúçÂä°Âô®„ÄÅÊìç‰ΩúÁ≥ªÁªü„ÄÅÂ≠òÂÇ®Á≠âËµÑÊ∫êÔºå‰∏ÄÂàáÁî± SaaS Êèê‰æõÂïÜÁÆ°ÁêÜÂíåËøêÁª¥„ÄÇ</td></tr><tr><td><strong>PaaS</strong></td><td><strong>Platform-as-a-Service</strong>ÔºåË°®Á§∫Âπ≥Âè∞Âç≥ÊúçÂä°ÁêÜÂøµÔºåÂÆ¢Êà∑‰∏çÈúÄË¶ÅÁÆ°ÁêÜÊàñÊéßÂà∂Â∫ïÂ±ÇÁöÑ‰∫ëÂü∫Á°ÄËÆæÊñΩÔºåÂåÖÊã¨ÁΩëÁªú„ÄÅÊúçÂä°Âô®„ÄÅÊìç‰ΩúÁ≥ªÁªü„ÄÅÂ≠òÂÇ®Á≠âÔºå‰ΩÜ<strong>ÂÆ¢Êà∑ËÉΩÊéßÂà∂ÈÉ®ÁΩ≤ÁöÑÂ∫îÁî®Á®ãÂ∫è</strong>Ôºå‰πüÂèØËÉΩÊéßÂà∂ËøêË°åÂ∫îÁî®Á®ãÂ∫èÁöÑÊâòÁÆ°ÁéØÂ¢ÉÈÖçÁΩÆ„ÄÇ</td></tr><tr><td><strong>IaaS</strong></td><td>I<strong>nfrastructure-as-a-Service</strong> ÔºåË°®Á§∫Âü∫Á°ÄËÆæÊñΩÂç≥ÊúçÂä°ÁêÜÂøµÔºåÊèê‰æõÁöÑÊúçÂä°ÊòØÂØπÊâÄÊúâËÆ°ÁÆóÂü∫Á°ÄËÆæÊñΩÁöÑÂà©Áî®ÔºåÂåÖÊã¨ CPU„ÄÅÂÜÖÂ≠ò„ÄÅÂ≠òÂÇ®„ÄÅÁΩëÁªúÁ≠âÂÖ∂ÂÆÉËÆ°ÁÆóËµÑÊ∫ê„ÄÇ<strong>Áî®Êà∑ËÉΩÂ§üÈÉ®ÁΩ≤ÂíåËøêË°å‰ªªÊÑèËΩØ‰ª∂ÔºåÂåÖÊã¨Êìç‰ΩúÁ≥ªÁªüÂíåÂ∫îÁî®Á®ãÂ∫è„ÄÇ</strong></td></tr></tbody></table><h4 id="ÂêÑÁßçÂçèËÆÆ"><a href="#ÂêÑÁßçÂçèËÆÆ" class="headerlink" title="ÂêÑÁßçÂçèËÆÆ"></a>ÂêÑÁßçÂçèËÆÆ</h4><p><strong>HTTPÂçèËÆÆÔºàCSÁî®Êà∑‰∏äÁΩëÔºâ</strong></p><p>HTTPÂçèËÆÆÊòØÂÖ∏ÂûãÁöÑCSÈÄöËÆØÊ®°ÂºèÔºåÁî±<strong>ÂÆ¢Êà∑Á´Ø‰∏ªÂä®</strong>ÂèëËµ∑ËøûÊé•ÔºåÂêëÊúçÂä°Âô®ËØ∑Ê±Ç<strong>XMLÊàñJSONÊï∞ÊçÆ</strong>„ÄÇËØ•ÂçèËÆÆÊúÄÊó©ÊòØ‰∏∫‰∫ÜÈÄÇÁî®webÊµèËßàÂô®ÁöÑ<strong>‰∏äÁΩëÊµèËßàÂú∫ÊôØ</strong>ÂíåËÆæËÆ°ÁöÑÔºåÁõÆÂâçÂú®<strong>PC„ÄÅÊâãÊú∫„ÄÅpad</strong>Á≠âÁªàÁ´Ø‰∏äÈÉΩÂ∫îÁî®ÂπøÊ≥õÔºå‰ΩÜÂπ∂<strong>‰∏çÈÄÇÁî®‰∫éÁâ©ËÅîÁΩëÂú∫ÊôØ</strong></p><ul><li>Áî±‰∫éÂøÖÈ°ªÁî±ËÆæÂ§á‰∏ªÂä®ÂêëÊúçÂä°Âô®ÂèëÈÄÅÊï∞ÊçÆÔºåÈöæ‰ª•‰∏ªÂä®ÂêëËÆæÂ§áÊé®ÈÄÅÊï∞ÊçÆ„ÄÇ</li><li>Áâ©ËÅîÁΩëÂú∫ÊôØ‰∏≠ÁöÑ<strong>ËÆæÂ§áÂ§öÊ†∑</strong>ÔºåËøêÁÆó<strong>ÂèóÈôêÁöÑËÆæÂ§á</strong>ÔºåÈöæ‰ª•ÂÆûÁé∞JSONÊï∞ÊçÆÊ†ºÂºèÁöÑËß£Êûê</li></ul><p><strong>RESTAPIÔºàÊùæËÄ¶ÂêàË∞ÉÁî®Ôºâ</strong></p><p>REST/HTTP‰∏ªË¶Å‰∏∫‰∫Ü<strong>ÁÆÄÂåñ</strong>‰∫íËÅîÁΩë‰∏≠ÁöÑÁ≥ªÁªüÊû∂ÊûÑÔºå<strong>Âø´ÈÄüÂÆûÁé∞</strong>ÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥‰∫§‰∫íÁöÑ<strong>ÊùæËÄ¶Âêà</strong>ÔºåÈôç‰Ωé‰∫ÜÂÆ¢Êà∑Á´ØÂíåÊúçÂä°Âô®‰πãÈó¥ÁöÑ<strong>‰∫§‰∫íÂª∂Ëøü</strong>„ÄÇÂõ†Ê≠§ÈÄÇÂêàÂú®Áâ©ËÅîÁΩëÁöÑÂ∫îÁî®Â±ÇÈù¢ÔºåÈÄöËøáREST<strong>ÂºÄÊîæ</strong>Áâ©ËÅîÁΩë‰∏≠ËµÑÊ∫êÔºåÂÆûÁé∞ÊúçÂä°Ë¢´ÂÖ∂‰ªñÂ∫îÁî®ÊâÄË∞ÉÁî®„ÄÇ</p><p><strong>CoAPÂçèËÆÆÔºàÊó†Á∫ø‰º†ÊÑüÔºâ</strong></p><blockquote><p>ÁÆÄÂåñ‰∫ÜHTTPÂçèËÆÆÁöÑ<strong>RESTful API</strong>ÔºåÂÆÉÈÄÇÁî®‰∫éÂú®<strong>ËµÑÊ∫êÂèóÈôê</strong>ÁöÑÈÄö‰ø°ÁöÑIPÁΩëÁªú„ÄÇ</p></blockquote><p><strong>MQTTÂçèËÆÆÔºà‰ΩéÂ∏¶ÂÆΩÔºâ</strong></p><blockquote><p>MQTTÂçèËÆÆÈááÁî®<strong>ÂèëÂ∏É/ËÆ¢ÈòÖ</strong>Ê®°ÂºèÔºåÁâ©ËÅîÁΩëÁªàÁ´ØÈÉΩÈÄöËøáTCPËøûÊé•Âà∞‰∫ëÁ´ØÔºå‰∫ëÁ´ØÈÄöËøá‰∏ªÈ¢òÁöÑÊñπÂºèÁÆ°ÁêÜÂêÑ‰∏™ËÆæÂ§áÂÖ≥Ê≥®ÁöÑÈÄöËÆØÂÜÖÂÆπÔºå<strong>Ë¥üË¥£</strong>Â∞ÜËÆæÂ§á‰∏éËÆæÂ§á‰πãÈó¥<strong>Ê∂àÊÅØÁöÑËΩ¨Âèë</strong></p></blockquote><p>ÈÄÇÁî®ËåÉÂõ¥ÔºöÂú®‰ΩéÂ∏¶ÂÆΩ„ÄÅ‰∏çÂèØÈù†ÁöÑÈõÜ‰∏≠<strong>ÊòüÂûãÁΩëÁªúÊû∂ÊûÑ</strong>Ôºàhub-and-spokeÔºâÔºå‰∏çÈÄÇÁî®ËÆæÂ§á‰∏éËÆæÂ§á‰πãÈó¥ÈÄö‰ø°ÔºåËÆæÂ§á<strong>ÊéßÂà∂ËÉΩÂäõÂº±</strong>ÔºåÂè¶Â§ñ<strong>ÂÆûÊó∂ÊÄßËæÉÂ∑Æ</strong>Ôºå‰∏ÄËà¨ÈÉΩÂú®<strong>ÁßíÁ∫ß</strong>„ÄÇÂçèËÆÆË¶Å<strong>Ë∂≥Â§üËΩªÈáè</strong>ÔºåÊñπ‰æøÂµåÂÖ•ÂºèËÆæÂ§áÂéªÂø´ÈÄüÂú∞Ëß£ÊûêÂíåÂìçÂ∫î„ÄÇÂÖ∑Â§á<strong>Ë∂≥Â§üÁöÑÁÅµÊ¥ªÊÄß</strong>Ôºå‰ΩøÂÖ∂Ë∂≥‰ª•‰∏∫ IoT ËÆæÂ§áÂíåÊúçÂä°ÁöÑÂ§öÊ†∑ÂåñÊèê‰æõÊîØÊåÅ„ÄÇÂ∫îËØ•ËÆæËÆ°‰∏∫<strong>ÂºÇÊ≠•Ê∂àÊÅØÂçèËÆÆ</strong>ÔºåËøô‰πàÂÅöÊòØÂõ†‰∏∫Â§ßÂ§öÊï∞ IoT ËÆæÂ§áÁöÑÁΩëÁªúÂª∂ËøüÂæàÂèØËÉΩÈùûÂ∏∏‰∏çÁ®≥ÂÆöÔºåËã•‰ΩøÁî®ÂêåÊ≠•Ê∂àÊÅØÂçèËÆÆÔºåIoT ËÆæÂ§áÈúÄË¶ÅÁ≠âÂæÖÊúçÂä°Âô®ÁöÑÂìçÂ∫îÔºåÂøÖÈ°ªÊòØ<strong>ÂèåÂêëÈÄö‰ø°</strong>ÔºåÊúçÂä°Âô®ÂíåÂÆ¢Êà∑Á´ØÂ∫îËØ•ÂèØ‰ª•‰∫íÁõ∏ÂèëÈÄÅÊ∂àÊÅØ„ÄÇ</p><p><strong>AMQPÂçèËÆÆÔºà‰∫íÊìç‰ΩúÊÄßÔºâ</strong></p><blockquote><p>Áî®‰∫é‰∏öÂä°Á≥ªÁªü‰æãÂ¶ÇPLMÔºåERPÔºåMESÁ≠âËøõË°åÊï∞ÊçÆ‰∫§Êç¢„ÄÇ</p></blockquote><p>„ÄÄ„ÄÄÈÄÇÁî®ËåÉÂõ¥ÔºöÊúÄÊó©Â∫îÁî®‰∫éÈáëËûçÁ≥ªÁªü‰πãÈó¥ÁöÑ‰∫§ÊòìÊ∂àÊÅØ‰º†ÈÄíÔºåÂú®Áâ©ËÅîÁΩëÂ∫îÁî®‰∏≠Ôºå‰∏ªË¶ÅÈÄÇÁî®‰∫éÁßªÂä®ÊâãÊåÅËÆæÂ§á‰∏éÂêéÂè∞Êï∞ÊçÆ‰∏≠ÂøÉÁöÑÈÄö‰ø°ÂíåÂàÜÊûê„ÄÇ</p><p><strong>XMPPÂçèËÆÆÔºàÂç≥Êó∂ÈÄö‰ø°Ôºâ</strong></p><blockquote><p>ÂºÄÊ∫êÂΩ¢ÂºèÁªÑÁªá‰∫ßÁîüÁöÑÁΩëÁªúÂç≥Êó∂ÈÄö‰ø°ÂçèËÆÆ„ÄÇË¢´IETFÂõΩÈôÖÊ†áÂáÜÁªÑÁªáÂÆåÊàê‰∫ÜÊ†áÂáÜÂåñÂ∑•‰Ωú</p></blockquote><p>„ÄÄ„ÄÄÈÄÇÁî®ËåÉÂõ¥Ôºö<strong>Âç≥Êó∂ÈÄö‰ø°</strong>ÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåËøòËÉΩÁî®Âú®<strong>ÂçèÂêåÂ∑•ÂÖ∑</strong>„ÄÅÊ∏∏ÊàèÁ≠â„ÄÇ</p><p>‚Äã    XMPPÂú®ÈÄöËÆØÁöÑ‰∏öÂä°ÊµÅÁ®ã‰∏äÊòØÊõ¥ÈÄÇÂêàÁâ©ËÅîÁΩëÁ≥ªÁªüÁöÑÔºåÂºÄÂèëËÄÖ‰∏çÁî®Ëä±Â§™Â§öÂøÉÊÄùÂéªËß£ÂÜ≥ËÆæÂ§áÈÄöËÆØÊó∂ÁöÑ‰∏öÂä°ÈÄöËÆØÊµÅÁ®ãÔºåÁõ∏ÂØπÂºÄÂèëÊàêÊú¨‰ºöÊõ¥‰Ωé„ÄÇ‰ΩÜÊòØHTTPÂçèËÆÆ‰∏≠ÁöÑÂÆâÂÖ®ÊÄß‰ª•ÂèäËÆ°ÁÆóËµÑÊ∫êÊ∂àËÄóÁöÑÁ°¨‰º§Âπ∂Ê≤°ÊúâÂæóÂà∞Êú¨Ë¥®ÁöÑËß£ÂÜ≥„ÄÇ</p><p><strong>JMS ÔºàJavaÊ∂àÊÅØÊúçÂä°Ôºâ</strong></p><p>‚Äã    JavaÊ∂àÊÅØÊúçÂä°ÔºàJava Message ServiceÔºâÂ∫îÁî®Á®ãÂ∫èÊé•Âè£ÔºåÊòØ‰∏Ä‰∏™JavaÂπ≥Âè∞‰∏≠ÂÖ≥‰∫éÈù¢ÂêëÊ∂àÊÅØ‰∏≠Èó¥‰ª∂ÔºàMOMÔºâÁöÑAPIÔºåÁî®‰∫éÂú®‰∏§‰∏™Â∫îÁî®Á®ãÂ∫è‰πãÈó¥ÔºåÊàñÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÂèëÈÄÅÊ∂àÊÅØÔºåËøõË°åÂºÇÊ≠•ÈÄö‰ø°„ÄÇ</p><p><strong>ZigbeeÂçèËÆÆ</strong></p><p>‚Äã    ‰ΩéÂäüËÄóÔºåÂÆÉ‰øùÊåÅIEEE 802.15.4Ôºà2003ÔºâÊ†áÂáÜ</p><h3 id="IOTÊµÅÈáèÊ¥™Â≥∞"><a href="#IOTÊµÅÈáèÊ¥™Â≥∞" class="headerlink" title="IOTÊµÅÈáèÊ¥™Â≥∞"></a>IOTÊµÅÈáèÊ¥™Â≥∞</h3><p>Êô∫ÊÖßÁ§æÂå∫IOTÈ¢ÜÂüüÔºå‰∏çÁÆ°ÊòØÂµåÂÖ•ÂºèËäØÁâáËøòÊòØÂ∫îÁî®ÊúçÂä°Âô®ÈÉΩÈúÄË¶Å‰º†ÈÄíÊ∂àÊÅØÔºåÂ∏∏ËßÅ‰∏äË°åÁöÑÊ∂àÊÅØÊúâÔºö<strong>‰∫∫ËÑ∏ËØÜÂà´ÂºÄÈó®„ÄÅÁÉüÊÑüÈõæÊÑüÂëäË≠¶</strong>„ÄÅÂÖ±‰∫´ÂÖÖÁîµÊ°©ÂÖÖÁîµÔºå‰∏ãË°åÁöÑ<strong>ÂπøÂëä‰∏ãÂèë„ÄÅNBÈó®Á¶ÅÂºÄÈó®Êåá‰ª§„ÄÅ</strong>Ë∂ÖÁ∫ßÈó®ÊùøÊòæÁ§∫Á≠âÔºåÁî±‰∫éÁâ©ËÅîÁΩëËÆæÂ§áÊó∂‰∏çÊó∂‰ºö<strong>ÊïÖÈöúÂíåÊñ≠ÁΩëÂØºËá¥Â§ßÈáèÁöÑÊµÅÈáèÊ¥™Â≥∞</strong>Ôºå‰º†ÁªüÊ∂àÊÅØÈòüÂàóÈúÄË¶ÅÈíàÂØπÊÄß‰ºòÂåñ„ÄÇ</p><ul><li><p><strong>‰∏ä‰∏ãË°åÊãÜÂàÜ</strong></p><p>‰∏äË°åÊ∂àÊÅØÁâπÂæÅÔºöÂπ∂ÂèëÈáè<strong>È´ò</strong>„ÄÅÂèØÈù†ÊÄßÂíå<strong>Êó∂Âª∂ÊÄßË¶ÅÊ±Ç‰Ωé</strong></p><p>‰∏ãË°åÊ∂àÊÅØÁâπÂæÅÔºöÂπ∂ÂèëÈáè<strong>‰Ωé</strong>„ÄÅÊéßÂà∂Êåá‰ª§ÁöÑ<strong>ÊàêÂäüÁéáË¶ÅÊ±ÇÈ´ò</strong></p></li><li><p><strong>Êµ∑ÈáèTopic‰∏ãÊÄßËÉΩ</strong></p><p><strong>Kafka</strong>Êµ∑ÈáèTopicÊÄßËÉΩ‰ºö<strong>ÊÄ•Ââß‰∏ãÈôç</strong>ÔºåZookeeperÂçèË∞É‰πüÊúâÁì∂È¢à</p><p><strong>Â§öÊ≥≥ÈÅìÊ∂àÊÅØÈòüÂàó</strong>ÂèØ‰ª•ÂÆûÁé∞IoTÊ∂àÊÅØÈòüÂàóÁöÑÊïÖÈöú<strong>ÈöîÁ¶ª</strong></p></li><li><p><strong>ÂÆûÊó∂Ê∂àÊÅØ‰ºòÂÖàÂ§ÑÁêÜ</strong></p><p>NBÈó®Á¶ÅÂÆûÊó∂‰∫ßÁîüÁöÑÂºÄÈó®Êåá‰ª§ÂøÖÈ°ª<strong>Á¨¨‰∏Ä‰ºòÂÖàÁ∫ßÂ§ÑÁêÜ</strong>ÔºåÂ†ÜÁßØÁöÑÊ∂àÊÅØÈôçÁ∫ß</p><p>ËÆæËÆ°Êàê<strong>Êó†Â∫è„ÄÅ‰∏çÊåÅ‰πÖÂåñ</strong>ÁöÑÔºåÂπ∂‰∏é‰º†ÁªüÁöÑFIFOÈòüÂàóÈöîÁ¶ª</p></li><li><p><strong>ËøûÊé•„ÄÅËÆ°ÁÆó„ÄÅÂ≠òÂÇ®ÂàÜÁ¶ª</strong></p><p>BrokerÂè™ÂÅö<strong>ÊµÅËΩ¨ÂàÜÂèë</strong>ÔºåÂÆûÁé∞<strong>Êó†Áä∂ÊÄÅ</strong>Âíå<strong>Ê∞¥Âπ≥Êâ©Â±ï</strong></p><p>ËÆ°ÁÆó‰∫§Áªô<strong>Flink</strong>ÔºåÂ≠òÂÇ®‰∫§ÁªônosqlDBÔºåÂÆûÁé∞<strong>È´òÂêûÂêêÂÜô</strong></p></li><li><p><strong>Ê∂àÊÅØÁ≠ñÁï•-Êé®ÊãâÁªìÂêà</strong></p><p>MQTTÈíàÂØπÁîµÊ±†Á±ªÁâ©ËÅîÁΩëËÆæÂ§áÔºåAMQPÈíàÂØπÂÆâÂÖ®ÊÄßËæÉÈ´òÁöÑÈó®Á¶ÅËÆæÂ§á</p><p>Ê∂àË¥πÁ´ØÁ¶ªÁ∫øÊó∂Â≠òÂà∞queueÔºåÂú®Á∫øÊó∂Â∞Ü<strong>ÂÆûÊó∂Ê∂àÊÅØÂíå‰ªéqueue‰∏≠ÊãâÂèñÁöÑÊ∂àÊÅØ</strong>‰∏ÄËµ∑Êé®ÈÄÅ</p></li></ul><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/008eGmZEly1goboitd4h2j30u00ciq3i.jpg" alt="img" title class>                <p>img</p>            </figure><p><strong>Â¶ÇÊûúËß£ÂÜ≥Êµ∑ÈáèTopic</strong></p><p>‚Äã    È¶ñÂÖàË¶ÅÂÅöÁöÑÂ∞±ÊòØÂàÜÂå∫„ÄÅÂàÜÁªÑÁ≠âÊ∞¥Âπ≥ÊãÜÂàÜÁöÑÊñπÂºèÔºåÊé•‰∏ãÊù•ËÄÉËôëÂçïÂÆû‰æãÂ¶Ç‰ΩïÂ§ÑÁêÜÊõ¥Â§öTopicÔºå‰º†ÁªüÊ∂àÊÅØÈòüÂàóÂú®Êµ∑ÈáèTopic‰∏ãÈ°∫Â∫èÂÜô‰ºöÈÄÄÂåñÊàêÈöèÊú∫ÂÜôÔºåÊÄßËÉΩÂ§ßÂπÖ‰∏ãÈôç</p><ul><li><p><strong>‰∫∫Â∑•Sharding</strong>ÔºöÈÉ®ÁΩ≤Â§ö‰∏™KafkaÈõÜÁæ§ÔºåÈÄöËøá‰∏çÂêåmqËøûÊé•Êù•ÈöîÁ¶ª</p></li><li><p><strong>ÂêàÂπ∂Topic</strong>ÔºåÂÆ¢Êà∑Á´ØÂ∞ÅË£ÖsubTopic„ÄÇÊØîÂ¶Ç‰∏Ä‰∏™ÊúçÂä°ÁöÑN‰∏™ÁªüËÆ°È°πÔºå‰ºöÊ∂àË¥πÂà∞Êó†ÂÖ≥Ê∂àÊÅØ</p><p>‚Äã    Âü∫‰∫éËøô‰∏™ÊÄùË∑ØÔºå‰ΩøÁî®<strong>Kafka Streams</strong>ÊàñËÄÖ<strong>HbaseÂàó</strong>Â≠òÂÇ®Êù•ËÅöÂêà</p></li></ul><p>ÈíàÂØπÂçï‰∏™TopicÊµ∑ÈáèËÆ¢ÈòÖÁöÑÈóÆÈ¢òÔºå<strong>ÂèØ‰ª•Âú®‰∏äÂ±ÇÂ∞ÅË£ÖÂπøÊí≠ÁªÑ‰ª∂Êù•ÂçèË∞ÉÊâπÈáèÂèëÈÄÅ</strong></p><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gobohzda8fj30u00cgaax.jpg" alt="img" title class>                <p>img</p>            </figure><h3 id="Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß"><a href="#Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß" class="headerlink" title="Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß"></a>Á§æÂå∫Áõ¥Êí≠Â∏¶Ë¥ß</h3><blockquote><p>‰ΩøÁî®<strong>Á´Ø / Ëæπ / ‰∫ë</strong>‰∏âÁ∫ßÊû∂ÊûÑÔºåÂÆ¢Êà∑Á´ØÂä†ÂØÜ‰º†ËæìÔºåËæπÁºòËäÇÁÇπËΩ¨Âèë„ÄÅ‰∫ë‰æßËΩ¨Á†ÅÂπ∂ÊåÅ‰πÖÂåñ</p></blockquote><h4 id="‰∫ßÂìÅÁöÑËÉåÊôØ"><a href="#‰∫ßÂìÅÁöÑËÉåÊôØ" class="headerlink" title="‰∫ßÂìÅÁöÑËÉåÊôØ"></a><strong>‰∫ßÂìÅÁöÑËÉåÊôØ</strong></h4><blockquote><p>‰∏äÁ∫øÊó∂Èó¥Ôºå‰ªéË∞ÉÁ†îÂà∞Ê≠£Âºè‰∏äÁ∫øÁî®‰∫Ü 3‰∏™ÊúàÊó∂Èó¥Ôºå‰∏äÁ∫øÂêé‰∏Ä‰∏™ÊúàÂÜÖÂ∞±Ë¶ÅÁªèÂéÜÂèåÂçÅ‰∫åÊåëÊàò„ÄÇÂú®Ëøô‰πàÁ¥ßÁöÑ‰∏äÁ∫øÊó∂Èó¥Ë¶ÅÊ±Ç‰∏ãÔºåÈúÄË¶ÅÁî®Âà∞ÂÖ¨Âè∏Êèê‰æõÁöÑÊâÄÊúâ‰ºòÂäøÔºåÂåÖÊã¨<strong>cdnÁΩëÁªúÔºåÁõ¥Êí≠ÁâåÁÖß</strong>Á≠â</p></blockquote><h4 id="Èù¢‰∏¥ÁöÑÊåëÊàò"><a href="#Èù¢‰∏¥ÁöÑÊåëÊàò" class="headerlink" title="Èù¢‰∏¥ÁöÑÊåëÊàò"></a>Èù¢‰∏¥ÁöÑÊåëÊàò</h4><ul><li>Áõ¥Êí≠Êï∞ÊçÆÊòØ<strong>ÂÆûÊó∂</strong>ÁîüÊàêÁöÑÔºåÊâÄÊúâ‰∏çËÉΩÂ§üËøõË°å<strong>È¢ÑÁºìÂ≠ò</strong></li><li>Áõ¥Êí≠ÈöèÊó∂‰ºöÂèëÁîüÔºå‰∏æÂäûÁÉ≠ÁÇπÊ¥ªÂä®ÔºåÁõ∏ÂÖ≥ÊúçÂä°Âô®ËµÑÊ∫êÈúÄË¶Å<strong>Âä®ÊÄÅÂàÜÈÖç</strong></li><li><p>Áõ¥Êí≠ÁöÑÂª∂ËøüÂØπ‰∫éÁî®Êà∑‰ΩìÈ™åÂΩ±ÂìçÂæàÂ§ßÔºåÈúÄË¶ÅÊéßÂà∂Âú®<strong>ÁßíÁ∫ß</strong></p></li><li><p>Áõ¥Êí≠sdkÊòØÂÜÖÂµåÂú®Á§æÂå∫Â∫îÁî®ÈáåÁöÑÔºåÊï¥‰ΩìË¶ÅÊ±Ç‰∏çËÉΩË∂ÖËøá5M</p></li></ul><h4 id="ÂçèËÆÆÁöÑÊØîËæÉ"><a href="#ÂçèËÆÆÁöÑÊØîËæÉ" class="headerlink" title="ÂçèËÆÆÁöÑÊØîËæÉ"></a>ÂçèËÆÆÁöÑÊØîËæÉ</h4><table><thead><tr><th>ÂçèËÆÆ</th><th>‰∏äÁ∫øÊó∂Èó¥</th><th>ÁΩëÁªúÂÖºÂÆπ</th><th>Á´ØÂØπÁ´ØÂª∂Ëøü</th><th>Â∫îÁî®Â§ßÂ∞è</th><th>ÈóÆÈ¢ò</th></tr></thead><tbody><tr><td>WebRTC</td><td></td><td>‚úó</td><td></td><td></td><td>Webrtc Âü∫‰∫é UDPÔºåÂíåÁ§æÂå∫Â∫îÁî®ÁöÑÁΩëÁªúÊû∂ÊûÑ‰∏çÂÖºÂÆπ</td></tr><tr><td>HTTP Upload</td><td></td><td></td><td>‚úó</td><td></td><td>‰ºöÂØºËá¥ÁΩëÁªúÈ´òÂª∂Ëøü</td></tr><tr><td>Custom Protocol</td><td>‚úó</td><td></td><td></td><td></td><td>Â∑•Á®ãÂ∏àÈúÄË¶ÅÂÆûÁé∞Ëá™Â∑±ÁöÑÂÆ¢Êà∑Á´Ø‰∏éÊúçÂä°Á´ØÁöÑÂ∫ìÔºåÊó†Ê≥ïÊåâÊó∂‰∏äÁ∫ø</td></tr><tr><td>Proprietary</td><td></td><td></td><td></td><td>‚úó</td><td>ÂçèËÆÆÂ∞±ÈúÄË¶ÅÂá†ÂÖÜÁöÑÁ©∫Èó¥ÔºåË∂ÖÂá∫È¢ùÂ∫¶</td></tr><tr><td>RTMPS</td><td>‚úî</td><td>‚úî</td><td>‚úî</td><td>‚úî</td><td>TCPÂÆûÊó∂‰º†ËæìÊ∂àÊÅØÂçèËÆÆÔºåÊõ¥ÂÆâÂÖ®Êõ¥ÂèØÈù†</td></tr></tbody></table><h4 id="Êï¥‰ΩìÊµÅÁ®ã"><a href="#Êï¥‰ΩìÊµÅÁ®ã" class="headerlink" title="Êï¥‰ΩìÊµÅÁ®ã"></a>Êï¥‰ΩìÊµÅÁ®ã</h4><p><strong>RTMPS</strong>ÔºöÂü∫‰∫éTCPÂÆûÊó∂‰º†ËæìÊ∂àÊÅØÂçèËÆÆÔºåÊõ¥ÂÆâÂÖ®Êõ¥ÂèØÈù†</p><p><strong>MPEG-DASH</strong>ÔºöÊòØ‰∏ÄÁßçÂü∫‰∫éHTTPÂçèËÆÆËá™ÈÄÇÂ∫îÊØîÁâπÁéáÊµÅÂ™í‰ΩìÊäÄÊúØÔºåÂ∫îÂØπÂ§çÊùÇÁöÑÁéØÂ¢É</p><figure class="image-box">                <img src="https://i.loli.net/2021/01/25/zjwC7B8fdcpDytA.png" alt="image-20210125145103417" title class>                <p>image-20210125145103417</p>            </figure><ol><li><p>Áõ¥Êí≠Á´Ø‰ΩøÁî® <strong>RTMPS</strong> ÂçèËÆÆÂèëÈÄÅÁõ¥Êí≠Êï∞ÊçÆÂà∞<strong>ËæπÁºòËäÇÁÇπ</strong>ÔºàPOPÔºâ</p></li><li><p>POP ‰ΩøÁî®<strong>RTMP</strong>ÂèëÈÄÅÊï∞ÊçÆÂà∞Êï∞ÊçÆ‰∏≠ÂøÉÔºàDCÔºâ</p></li><li><p>DC Â∞ÜÊï∞ÊçÆÁºñÁ†ÅÊàê<strong>‰∏çÂêåÁöÑÊ∏ÖÊô∞Â∫¶</strong>Âπ∂ËøõË°åÊåÅ‰πÖÂåñÂ≠òÂÇ®</p><p><strong>‰∫ëÁ´ØËΩ¨Á†Å</strong>‰∏ªË¶ÅÊúâ<strong>‰∏§ÁßçÂàÜËæ®Áéá</strong>400x400 Âíå 720x720.</p></li><li><p>Êí≠ÊîæÁ´ØÈÄöËøá <strong>MPEG-DASH</strong> / RTMPS ÂçèËÆÆÊé•Êî∂Áõ¥Êí≠Êï∞ÊçÆ</p><p>Â¶ÇÊûúÁî®Êà∑ÁΩëÁªú‰∏çÂ•Ω<strong><a href="https://www.cloudflare.com/zh-cn/learning/video/what-is-mpeg-dash/" target="_blank" rel="noopener">MPEG-DASH</a></strong>‰ºöËá™Âä®ËΩ¨Êç¢Êàê‰ΩéÂàÜËæ®Áéá</p></li></ol><h4 id="Áõ¥Êí≠ÊµÅÁ®ã"><a href="#Áõ¥Êí≠ÊµÅÁ®ã" class="headerlink" title="Áõ¥Êí≠ÊµÅÁ®ã"></a><strong>Áõ¥Êí≠ÊµÅÁ®ã</strong></h4><p><img src="https://i.loli.net/2021/01/25/GITnbhDqPdtZY2k.png" alt="image-20210125153606264" style="zoom:50%;"></p><ol><li><p>Áõ¥Êí≠Á´Ø‰ΩøÁî® <strong>RTMPS</strong> ÂçèËÆÆÂèëÈÄÅÁõ¥Êí≠ÊµÅÊï∞ÊçÆÂà∞ POP ÂÜÖÁöÑÂ∞±ËøëÁöÑ‰ª£ÁêÜÊúçÂä°Âô®</p></li><li><p>‰ª£ÁêÜÊúçÂä°Âô®<strong>ËΩ¨Âèë</strong>Áõ¥Êí≠ÊµÅÊï∞ÊçÆÂà∞Êï∞ÊçÆ‰∏≠ÂøÉÁöÑÁΩëÂÖ≥ÊúçÂä°Âô®Ôºà<strong>443ËΩ¨80</strong>Ôºâ</p></li><li><p>ÁΩëÂÖ≥ÊúçÂä°Âô®‰ΩøÁî®<strong>Áõ¥Êí≠ id ÁöÑ‰∏ÄËá¥ÊÄßÂìàÂ∏åÁÆóÊ≥ï</strong>ÂèëÈÄÅÁõ¥Êí≠Êï∞ÊçÆÂà∞ÊåáÂÆöÁöÑÁºñÁ†ÅÊúçÂä°Âô®</p></li><li><p>ÁºñÁ†ÅÊúçÂä°Âô®ÊúâÂá†È°πËÅåË¥£Ôºö</p><ul><li><p>4.1 <strong>È™åËØÅÁõ¥Êí≠Êï∞ÊçÆ</strong>ÁöÑÊ†ºÂºèÊòØÂê¶Ê≠£Á°Æ„ÄÇ</p></li><li><p>4.2 <strong>ÂÖ≥ËÅî</strong>Áõ¥Êí≠ id ‰ª•ÂèäÁºñÁ†ÅÊúçÂä°Âô®Á¨¨‰∏ÄÊò†Â∞ÑÔºå‰øùËØÅÂÆ¢Êà∑Á´ØÂç≥‰ΩøËøûÊé•‰∏≠Êñ≠ÊàñËÄÖÊúçÂä°Âô®Êâ©ÂÆπÊó∂ÔºåÂú®<strong>ÈáçÊñ∞ËøûÊé•</strong>ÁöÑÊó∂ÂÄô‰æùÁÑ∂ËÉΩÂ§üËøûÊé•Âà∞Áõ∏ÂêåÁöÑÁºñÁ†ÅÊúçÂä°Âô®</p></li><li><p>4.3 ‰ΩøÁî®Áõ¥Êí≠Êï∞ÊçÆ<strong>ÁºñÁ†ÅÊàê‰∏çÂêåËß£ÊûêÂ∫¶</strong>ÁöÑËæìÂá∫Êï∞ÊçÆ</p></li><li><p>4.4 ‰ΩøÁî® <strong>DASH</strong> ÂçèËÆÆËæìÂá∫Êï∞ÊçÆÂπ∂<strong>ÊåÅ‰πÖÂåñ</strong>Â≠òÂÇ®</p></li></ul></li></ol><h4 id="Êí≠ÊîæÊµÅÁ®ã"><a href="#Êí≠ÊîæÊµÅÁ®ã" class="headerlink" title="Êí≠ÊîæÊµÅÁ®ã"></a>Êí≠ÊîæÊµÅÁ®ã</h4><p><img src="https://i.loli.net/2021/01/25/Lo5N8QYlI2DPjyO.png" alt="image-20210125154758184" style="zoom:50%;"></p><ol><li>Êí≠ÊîæÁ´Ø‰ΩøÁî® HTTP <strong>DASH</strong> ÂçèËÆÆÂêë POP ÊãâÂèñÁõ¥Êí≠Êï∞ÊçÆ</li><li>POP ÈáåÈù¢ÁöÑ‰ª£ÁêÜÊúçÂä°Âô®‰ºöÊ£ÄÊü•Êï∞ÊçÆÊòØÂê¶Â∑≤ÁªèÂú® POP ÁöÑ<strong>ÁºìÂ≠ò</strong>ÂÜÖ„ÄÇÂ¶ÇÊûúÊòØÁöÑËØùÔºåÁºìÂ≠ò‰ºöËøîÂõûÊï∞ÊçÆÁªôÊí≠ÊîæÁ´ØÔºåÂê¶ÂàôÔºå‰ª£ÁêÜÊúçÂä°Âô®‰ºöÂêë DC ÊãâÂèñÁõ¥Êí≠Êï∞ÊçÆ</li><li>DC ÂÜÖÁöÑ‰ª£ÁêÜÊúçÂä°Âô®‰ºöÊ£ÄÊü•Êï∞ÊçÆÊòØÂê¶Âú® DC ÁöÑÁºìÂ≠òÂÜÖÔºåÂ¶ÇÊûúÊòØÁöÑËØùÔºåÁºìÂ≠ò‰ºöËøîÂõûÊï∞ÊçÆÁªô POPÔºåÂπ∂Êõ¥Êñ∞ POP ÁöÑÁºìÂ≠òÔºåÂÜçËøîÂõûÁªôÊí≠ÊîæÁ´Ø„ÄÇ‰∏çÊòØÁöÑËØùÔºå‰ª£ÁêÜÊúçÂä°Âô®‰ºö‰ΩøÁî®‰∏ÄËá¥ÊÄßÂìàÂ∏åÁÆóÊ≥ïÂêëÂØπÂ∫îÁöÑÁºñÁ†ÅÊúçÂä°Âô®ËØ∑Ê±ÇÊï∞ÊçÆÔºåÂπ∂Êõ¥Êñ∞ DC ÁöÑÁºìÂ≠òÔºåËøîÂõûÂà∞ POPÔºåÂÜçËøîÂõûÂà∞Êí≠ÊîæÁ´Ø„ÄÇ</li></ol><p><strong>Êî∂Ëé∑</strong></p><ol><li>È°πÁõÆÁöÑÊàêÂäü‰∏çÔºå‰ª£Á†ÅÂè™ÊòØÂÜÖÂäüÔºåËÄÉËôëÈÄÇÈÖç‰∏çÂêåÁöÑÁΩëÁªú„ÄÅÂà©Áî®ÂèØÂà©Áî®ÁöÑËµÑÊ∫ê</li><li>ÊÉäÁæ§ÊïàÂ∫îÂú®ÁÉ≠ÁÇπÊúçÂä°Âô®‰ª•ÂèäËÆ∏Â§öÁªÑ‰ª∂‰∏≠ÈÉΩÂèØËÉΩÂèëÁîü</li><li>ÂºÄÂèëÂ§ßÂûãÈ°πÁõÆÈúÄË¶ÅÂØπ<strong>ÂêûÂêêÈáèÂíåÊó∂Âª∂</strong>„ÄÅ<strong>ÂÆâÂÖ®ÂíåÊÄßËÉΩ</strong>ÂÅöÂá∫Â¶•Âçè</li><li>‰øùËØÅÊû∂ÊûÑÁöÑÁÅµÊ¥ªÂ∫¶ÂíåÂèØÊâ©Â±ïÊÄßÔºå‰∏∫ÂÜÖÂ≠ò„ÄÅÊúçÂä°Âô®„ÄÅÂ∏¶ÂÆΩËÄóÂ∞ΩÂÅöÂ•ΩËßÑÂàí</li></ol><h3 id="Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à"><a href="#Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à" class="headerlink" title="Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à"></a><strong>Áõ¥Êí≠È´òÂèØÁî®ÊñπÊ°à</strong></h3><p><strong>ÁΩëÁªúÂèØÈù†ÊÄß</strong>Ôºö</p><ul><li>Ê†πÊçÆ<strong>ÁΩëÁªúËøûÊé•ÈÄüÂ∫¶</strong>Êù•Ëá™Âä®Ë∞ÉÊï¥ËßÜÈ¢ëË¥®Èáè</li><li>‰ΩøÁî®<strong>Áü≠Êó∂Èó¥ÁöÑÊï∞ÊçÆÁºìÂ≠ò</strong>Êù•Ëß£ÂÜ≥Áõ¥Êí≠Á´Ø‰∏çÁ®≥ÂÆöÔºåÁû¨Èó¥Êñ≠Á∫øÁöÑÈóÆÈ¢ò</li><li>Ê†πÊçÆ<strong>ÁΩëÁªúË¥®ÈáèËá™Âä®ÈôçÁ∫ß</strong>‰∏∫Èü≥È¢ëÁõ¥Êí≠‰ª•ÂèäÊí≠Êîæ</li></ul><p><strong>ÊÉäÁæ§ÊïàÂ∫îÔºö</strong></p><ul><li>ÂΩìÂ§ö‰∏™Êí≠ÊîæÁ´ØÂêëÂêå‰∏Ä‰∏™ POP ËØ∑Ê±ÇÁõ¥Êí≠Êï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûúÊï∞ÊçÆ‰∏çÂú®ÁºìÂ≠ò‰∏≠</li><li>ËøôÊó∂ÂÄôÂè™Êúâ‰∏Ä‰∏™ËØ∑Ê±Ç A ‰ºöÂà∞ DC ‰∏≠ËØ∑Ê±ÇÊï∞ÊçÆÔºåÂÖ∂‰ªñËØ∑Ê±Ç‰ºöÁ≠âÂæÖÁªìÊûú</li><li>‰ΩÜÊòØÂ¶ÇÊûúËØ∑Ê±Ç A Ë∂ÖÊó∂Ê≤°ÊúâËøîÂõûÊï∞ÊçÆÁöÑËØùÔºåÊâÄÊúâËØ∑Ê±Ç‰ºö‰∏ÄËµ∑Âêë DC ËÆøÈóÆÊï∞ÊçÆ</li><li>ËøôÊó∂ÂÄôÂ∞±‰ºöÂä†Â§ß DC ÁöÑÂéãÂäõÔºåËß¶ÂèëÊÉäÁæ§ÊïàÂ∫î</li><li>Ëß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÁöÑÊñπÊ≥ïÂ∞±ÊòØÈÄöËøá<strong>ÂÆûÈôÖÁöÑÊÉÖÂÜµ</strong>Êù•Ë∞ÉÊï¥ËØ∑Ê±ÇË∂ÖÊó∂ÁöÑÊó∂Èó¥„ÄÇËøô‰∏™Êó∂Èó¥Â¶ÇÊûúÂ§™ÈïøÁöÑËØù‰ºöÂ∏¶Êù•Áõ¥Êí≠ÁöÑÂª∂ËøüÔºåÂ§™Áü≠ÁöÑËØù‰ºöÁªèÂ∏∏Ëß¶ÂèëÊÉäÁæ§ÊïàÂ∫îÔºà<strong>ÊØè‰∏™Êó∂Èó¥Á™óÂè£Âè™ÂÖÅËÆ∏Ëß¶Âèë‰∏ÄÊ¨°</strong>ÔºåËÆæÁΩÆÂÖÅËÆ∏ÊúÄÂ§ßÂõûÊ∫êÊï∞ÈáèÔºâ</li></ul><h3 id="ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à"><a href="#ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à" class="headerlink" title="ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à"></a><strong>ÊÄßËÉΩ‰ºòÂåñÊñπÊ°à</strong></h3><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/008eGmZEly1gobogaxxjkj304v0e7t93.jpg" alt="img" title class>                <p>img</p>            </figure><p><strong>Êï∞ÊçÆÂ∫ì‰ºòÂåñÔºö</strong> Êï∞ÊçÆÂ∫ìÊòØÊúÄÂÆπÊòìÊàê‰∏∫Áì∂È¢àÁöÑÁªÑ‰ª∂ÔºåËÄÉËôë‰ªé SQL ‰ºòÂåñÊàñËÄÖÊï∞ÊçÆÂ∫ìÊú¨Ë∫´ÂéªÊèêÈ´òÂÆÉÁöÑÊÄßËÉΩ„ÄÇÂ¶ÇÊûúÁì∂È¢à‰æùÁÑ∂Â≠òÂú®ÔºåÂàô‰ºöËÄÉËôëÂàÜÂ∫ìÂàÜË°®Â∞ÜÊï∞ÊçÆÊâìÊï£ÔºåÂ¶ÇÊûúËøôÊ†∑‰πüÊ≤°ËÉΩËß£ÂÜ≥ÈóÆÈ¢òÔºåÂàôÂèØËÉΩ‰ºöÈÄâÊã©ÁºìÂ≠òÁªÑ‰ª∂ËøõË°å‰ºòÂåñ</p><p><strong>ÈõÜÁæ§ÊúÄ‰ºòÔºö</strong>Â≠òÂÇ®ËäÇÁÇπÁöÑÈóÆÈ¢òËß£ÂÜ≥ÂêéÔºåËÆ°ÁÆóËäÇÁÇπ‰πüÊúâÂèØËÉΩÂèëÁîüÈóÆÈ¢ò„ÄÇ‰∏Ä‰∏™ÈõÜÁæ§Á≥ªÁªüÂ¶ÇÊûúËé∑Âæó‰∫ÜÊ∞¥Âπ≥Êâ©ÂÆπÁöÑËÉΩÂäõÔºåÂ∞±‰ºöÁªô‰∏ãÂ±ÇÁöÑ‰ºòÂåñÊèê‰æõÈùûÂ∏∏Â§ßÁöÑÊó∂Èó¥Á©∫Èó¥ÔºåÁî±ÊúÄÂàùÁöÑ 3 ‰∏™ËäÇÁÇπÔºåÊâ©ÂÆπÂà∞ÊúÄÂêéÁöÑ 200 Â§ö‰∏™ËäÇÁÇπÔºå‰ΩÜÁî±‰∫é‰∫∫ÂäõÈóÆÈ¢òÔºåÊúçÂä°ÂèàÊ≤°Êúâ‰ªÄ‰πàÊñ∞ÁöÑÈúÄÊ±ÇÔºå‰∏ãÂ±ÇÁöÑ‰ºòÂåñÂ∞±‰∏ÄÁõ¥Ë¢´ÊêÅÁΩÆÁùÄ„ÄÇ</p><p><strong>Á°¨‰ª∂ÂçáÁ∫ßÔºö</strong>Ê∞¥Âπ≥Êâ©ÂÆπ‰∏çÊÄªÊòØÊúâÊïàÁöÑÔºåÂéüÂõ†Âú®‰∫éÂçïËäÇÁÇπÁöÑËÆ°ÁÆóÈáèÊØîËæÉÈõÜ‰∏≠ÔºåÊàñËÄÖ JVM ÂØπÂÜÖÂ≠òÁöÑ‰ΩøÁî®Ë∂ÖÂá∫‰∫ÜÂÆø‰∏ªÊú∫ÁöÑÊâøËΩΩËåÉÂõ¥„ÄÇÂú®Âä®ÊâãËøõË°å‰ª£Á†Å‰ºòÂåñ‰πãÂâçÔºåÊàë‰ª¨‰ºöÂØπËäÇÁÇπÁöÑÁ°¨‰ª∂ÈÖçÁΩÆËøõË°åÂçáÁ∫ß„ÄÇ</p><p><strong>‰ª£Á†Å‰ºòÂåñ</strong>Ôºö‰ª£Á†Å‰ºòÂåñÊòØÊèêÈ´òÊÄßËÉΩÊúÄÊúâÊïàÁöÑÊñπÂºèÔºå‰ΩÜÈúÄË¶ÅÊî∂ÈõÜ‰∏Ä‰∫õÊï∞ÊçÆÔºåËøô‰∏™ËøáÁ®ãÂèØËÉΩÊòØÊúçÂä°Ê≤ªÁêÜÔºå‰πüÊúâÂèØËÉΩÊòØ‰ª£Á†ÅÊµÅÁ®ã‰ºòÂåñ„ÄÇÊØîÂ¶ÇJavaAgent ÊäÄÊúØÔºå‰ºöÊó†‰æµÂÖ•ÁöÑÊî∂ÈõÜ‰∏Ä‰∫õ profile ‰ø°ÊÅØÔºå‰æõÊàë‰ª¨ËøõË°åÂÜ≥Á≠ñ„ÄÇ</p><p><strong>Âπ∂Ë°å‰ºòÂåñÔºö</strong>Âπ∂Ë°å‰ºòÂåñÊòØÈíàÂØπÈÄüÂ∫¶ÊÖ¢ÁöÑÊé•Âè£ËøõË°åÂπ∂Ë°åË∞ÉÁî®„ÄÇÊâÄ‰ª•Êàë‰ª¨ÈÄöÂ∏∏‰ΩøÁî® ContDownLatch ÂØπÈúÄË¶ÅËé∑ÂèñÁöÑÊï∞ÊçÆËøõË°åÂπ∂Ë°åÂ§ÑÁêÜÔºåÊïàÊûúÈùûÂ∏∏‰∏çÈîôÔºåÊØîÂ¶ÇÂú® 200ms ÂÜÖËøîÂõûÂØπ 50 ‰∏™ËÄóÊó∂ 100ms ÁöÑ‰∏ãÂ±ÇÊé•Âè£ÁöÑË∞ÉÁî®„ÄÇ</p><p><strong>JVM ‰ºòÂåñ</strong>Ôºö JVM ÂèëÁîüÈóÆÈ¢òÊó∂Ôºå‰ºòÂåñ‰ºöËé∑ÂæóÂ∑®Â§ßÁöÑÊÄßËÉΩÊèêÂçá„ÄÇ‰ΩÜÂú® JVM ‰∏çÂèëÁîüÈóÆÈ¢òÊó∂ÔºåÂÆÉÁöÑ‰ºòÂåñÊïàÊûúÊúâÈôê„ÄÇ‰ΩÜÂú®‰ª£Á†Å‰ºòÂåñ„ÄÅÂπ∂Ë°å‰ºòÂåñ„ÄÅJVM ‰ºòÂåñÁöÑËøáÁ®ã‰∏≠ÔºåJVM ÁöÑÁü•ËØÜÂç¥Ëµ∑Âà∞‰∫ÜÂÖ≥ÈîÆÊÄßÁöÑ‰ΩúÁî®</p><p><strong>Êìç‰ΩúÁ≥ªÁªü‰ºòÂåñÔºö</strong>Êìç‰ΩúÁ≥ªÁªü‰ºòÂåñÊòØËß£ÂÜ≥ÈóÆÈ¢òÁöÑÊùÄÊâãÈîèÔºåÊØîÂ¶ÇÂÉè HugePage„ÄÅSWAP„ÄÅ‚ÄúCPU ‰∫≤ÂíåÊÄß‚ÄùËøôÁßçÊØîËæÉÂ∫ïÂ±ÇÁöÑ‰ºòÂåñ„ÄÇ‰ΩÜÂ∞±ËÆ°ÁÆóËäÇÁÇπÊù•ËØ¥ÔºåÂØπÊìç‰ΩúÁ≥ªÁªüËøõË°å‰ºòÂåñÂπ∂‰∏çÊòØÂæàÂ∏∏ËßÅ„ÄÇËøêÁª¥Âú®ËÉåÂêé‰ºöÂÅö‰∏Ä‰∫õËØ∏Â¶ÇÊñá‰ª∂Âè•ÊüÑÁöÑË∞ÉÊï¥„ÄÅÁΩëÁªúÂèÇÊï∞ÁöÑ‰øÆÊîπÔºåËøôÂØπ‰∫éÊàë‰ª¨Êù•ËØ¥Â∞±Â∑≤ÁªèÂ§üÁî®‰∫Ü</p><h3 id="ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï"><a href="#ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï" class="headerlink" title="ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï"></a>ÊµÅÈáèÂõûÊîæËá™Âä®ÂåñÊµãËØï</h3><blockquote><p>Á≥ªÁªüÁ∫ßÁöÑÈáçÊûÑÔºåÊµãËØïÂõûÂΩíÁöÑÂ∑•‰ΩúÈáèËá≥Â∞ëÈÉΩÊòØ‰ª•Êúà‰∏∫Âçï‰ΩçÔºåÂØπ‰∫é‰∫∫ÂäõÁöÑÊ∂àËÄóÂ∑®Â§ß„ÄÇ‰∏ÄÁßçÂ∫îÂØπÊñπÊ°àÊòØÔºåÂÖà‰∏çÊîπÈÄ†ÔºåÂà∞Á≥ªÁªüÂÆûÂú®Êâõ‰∏ç‰Ωè‰∫ÜÂÜçÊÉ≥ÂäûÊ≥ï„ÄÇÂè¶‰∏ÄÁßçÂ∫îÂØπÊñπÊ°àÊòØÔºåÂÖàÊöÇÂÅúÈúÄÊ±ÇÔºåÂÖ®ÂäõËøõË°åÊîπÈÄ†„ÄÇ‰ΩÜÂú®ÂÆûÈôÖÂ∑•‰ΩúÂú∫ÊôØ‰∏≠Ôºå‰∏äËø∞Â∫îÂØπÁ≠ñÁï•ÂæÄÂæÄÂæàÈöæÂÆûÁé∞„ÄÇ</p></blockquote><p>Âú∫ÊôØÔºö</p><p>1„ÄÅËØªÊúçÂä°ÂùáÊòØÊü•ËØ¢ÔºåÂÆÉÊòØÊó†Áä∂ÊÄÅÁöÑ„ÄÇ</p><p>2„ÄÅ‰∏çÁÆ°ÊòØÊû∂ÊûÑÂçáÁ∫ßËøòÊòØÊó•Â∏∏ÈúÄÊ±ÇÔºåËØªÊúçÂä°ÂØπÂ§ñÊé•Âè£ÁöÑÂá∫ÂÖ•ÂèÇÊ†ºÂºèÊòØÊ≤°ÊúâÂèòÂåñÁöÑ</p><p><img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jd95rpij315g0hqn5q.jpg" alt="image-20210504174447049" style="zoom:50%;"></p><ul><li><p><strong>Êó•ÂøóÊî∂ÈõÜ</strong>Ôºå‰∏ªË¶Å‰ΩúÁî®ÊòØÊî∂ÈõÜË¢´ÊµãÁ≥ªÁªüÁöÑÁúüÂÆûÁî®Êà∑ËØ∑Ê±ÇÔºåÂü∫‰∫é‰∏ÄÂÆöËßÑÂàôÂ§ÑÁêÜÂêé‰Ωú‰∏∫Á≥ªÁªüÁî®‰æãÔºõ</p><p>Spring ÈáåÁöÑ Interceptor „ÄÅServlet ÈáåÁöÑ Filter ËøáÊª§Âô®ÔºåÂØπÊâÄÊúâËØ∑Ê±ÇÁöÑÂÖ•ÂèÇÂíåÂá∫ÂèÇËøõË°åËÆ∞ÂΩïÔºåÂπ∂ÈÄöËøá MQ ÂèëÈÄÅÂá∫Âéª„ÄÇÔºàÊ≥®ÊÑèÈîôÂ≥∞„ÄÅËøáÊª§ÂÜô„ÄÅÂéªÈáçÁ≠âÔºâ</p></li><li><p>Êï∞ÊçÆÂõûÊîæÊòØÂü∫‰∫éÊî∂ÈõÜÁöÑÁî®‰æãÔºåÂØπË¢´ÊµãÁ≥ªÁªüËøõË°åÊï∞ÊçÆÂõûÊîæÔºåÂèëËµ∑Ëá™Âä®ÂåñÊµãËØïÂõûÂΩíÔºõ</p><p><strong>Á¶ªÁ∫øÂõûÊîæÔºö</strong>Âè™Ë∞ÉÁî®Êñ∞ÊúçÂä°ÔºåÂ∞ÜËøîÂõûÁöÑÊï∞ÊçÆÂíåÊó•ÂøóÈáåÁöÑÂá∫ÂèÇËøõË°åÊØîËæÉÔºå<strong>Êó•ÂøóÊØîËæÉÂ§ß</strong></p><p><strong>ÂÆûÊó∂ÂõûÊîæÔºö</strong>ÂéªÂÆûÊó∂Ë∞ÉÁî®Á∫ø‰∏äÁ≥ªÁªüÂíåË¢´ÊµãÁ≥ªÁªüÔºåÂπ∂Â≠òÂÇ®ÂÆûÊó∂ËøîÂõûÂõûÊîæÁöÑÁªìÊûú‰ø°ÊÅØÔºå<strong>Á∫ø‰∏äÊúâË¥üÊãÖ</strong></p><p><strong>Âπ∂Ë°åÂõûÊîæÔºö</strong>Êñ∞ÁâàÊú¨‰∏çÂç≥Êó∂‰∏äÁ∫øÔºåÊØèÊ¨°Ë∞ÉÁî®ËÄÅÁâàÊú¨Êé•Âè£Êó∂Ê¶ÇÁéáÂÆûÊó∂ÂõûÊîæÊñ∞ÁâàÊú¨Êé•Âè£Ôºå<strong>ËÄóÊó∂Èó¥Âë®Êúü</strong></p></li><li><p><strong>Â∑ÆÂºÇÂØπÊØî</strong>ÔºåÈÄöËøáÂ∑ÆÂºÇÂØπÊØîËá™Âä®ÂèëÁé∞‰∏éÈ¢ÑÊúü‰∏ç‰∏ÄËá¥ÁöÑÁî®‰æãÔºåËøõËÄåÁ°ÆÂÆö Bug„ÄÇ</p><p>ÈááÁî®ÊñáÊú¨ÂØπÊØîÔºåÂèØ‰ª•Áõ¥ËßÇÂú∞ÁúãÂà∞Âì™‰∏™Â≠óÊÆµÊï∞ÊçÆÊúâÂ∑ÆÂºÇÔºå‰ªéËÄåÊõ¥Âø´ÂÆö‰ΩçÂà∞ÈóÆÈ¢ò„ÄÇÊ≠£Â∏∏ÊÉÖÂÜµ‰∏ãÔºåÂè™Ë¶ÅÂ≠òÂú®Â∑ÆÂºÇÁöÑÊï∞ÊçÆÔºåÂùáÂèØËÆ§‰∏∫ÊòØ BugÔºåÊòØÈúÄË¶ÅËøõË°å‰øÆÂ§çÁöÑ„ÄÇ</p></li></ul><p><strong>ÊñπÊ≥ïËÆ∫</strong></p><p><strong>Discovery</strong></p><p>‚Äã                ËÄÉËôë‰ºÅ‰∏öÊàòÁï•ÔºåÂàÜÊûêÂÆ¢Êà∑ÈúÄÊ±ÇÔºåÂà∂ÂÆö‰∫ßÂìÅÁõÆÊ†á</p><p>‚Äã                    Áî±Â§ñÂà∞ÂÜÖÔºöÁ´û‰∫âÂØπÊâãÁöÑÊñπÊ°àÔºå‰∏∫‰ªÄ‰πàÂÅöÔºå‰ª•ÂêéÊÄé‰πàÂèëÂ±ïÔºåÂ¶Ç‰ΩïÂéª‰ºòÂåñ„ÄÇ</p><p>‚Äã                    Ëá™‰∏äËÄå‰∏ãÔºöÂü∫‰∫éÂÖ¨Âè∏ÁöÑÊàòÁï•ÔºåËÄÉËôëËá™Ë∫´ËÉΩÂäõÂíåÊâÄÂ§ÑÁéØÂ¢É„ÄÇ</p><p>‚Äã                    Ëá™‰∏ãËÄå‰∏äÔºö‰ªéËµÑÊ∫ê„ÄÅÂéÜÂè≤ÈóÆÈ¢ò„ÄÅ‰ºòÂÖàÁ∫ßÂá∫ÂèëÔºåÂΩ¢Êàê‰∏ÄÂ•óÂèØË°åÊÄßÂÆûÊñΩÊñπÊ≥ï„ÄÇ</p><p><strong>Define</strong></p><p>‚Äã                Âü∫‰∫éÊî∂ÈõÜÁöÑ‰ø°ÊÅØÔºåÁªºÂêàË∑®‰∏öÂä°Á∫øÁöÑÊäΩË±°ËÉΩÂäõÂíåÊúçÂä°ÔºåÂÖàÂÅö‰ªÄ‰πàÂêéÂÅö‰ªÄ‰πàÔºåÊÄé‰πàÂÅö</p><p>‚Äã                    ËÆæËÆ°Êñ∞ÁöÑÊû∂ÊûÑÔºåÈáçÁÇπËÆæËÆ°Ëß£ÂÜ≥ÁóõÁÇπÈóÆÈ¢ò„ÄÇ</p><p>‚Äã                    ÊãÜÂàÜ‰∏öÂä°È¢ÜÂüüÔºåÈáçÁÇπÂàíÂàÜÂ∑•‰Ωú‰∏¥Áïå‰∏ä‰∏ãÊñá„ÄÇ</p><p><strong>Design</strong></p><p>‚Äã                ËØ¶ÁªÜÁöÑ‰∏öÂä°ËÆæËÆ°ÔºåÂäüËÉΩËÆæËÆ°Ôºå‰∫§‰ªòËÆ°ÂàíÔºåËÄÉÊ†∏ËÆ°Âàí</p><p>‚Äã                    ‰∫ßÂìÅÊÑøÊôØÔºå‰∫ßÂìÅÂΩ¢ÊÄÅÔºåÁõ∏ÂÖ≥Á´ûÂìÅÊñπÊ°àÂØπÊØîÔºå‰ª∑ÂÄº„ÄÅ‰ºòÂäø„ÄÅÊî∂Áõä</p><p>‚Äã                    Ê¢≥ÁêÜ‰∏öÂä°ËåÉÂõ¥ÔºåË¶ÅÁü•ÈÅìÁîµÂïÜÈ¢ÜÂüüÂõõÂ§ßÊµÅÔºà‰ø°ÊÅØÊµÅ„ÄÅÂïÜÊµÅ„ÄÅËµÑÈáëÊµÅ„ÄÅÁâ©ÊµÅÔºâ</p><p>‚Äã                    MVPÊúÄÂ∞èÂèØÁî®ÊØîÔºåËÆ©ÂÆ¢Êà∑ÂíåËÄÅÂ§ßÁúãÂà∞ÁªìÊûúÔºåÊúÄÂêéÈÄöÁºñÂÜôstoryÊääÊïÖ‰∫ãÁºñÂúÜ</p><p><strong>Delivery</strong></p><p>‚Äã                ‰∫§‰ªòÈò∂ÊÆµÔºåÊ†πÊçÆÂèçÈ¶àÂèäÊó∂Ë∞ÉÊï¥‰∏≠Âè∞ÊàòÁï•ÔºåÂáèÂ∞ëÊçüÂ§±ÂíåÂ¢ûÂ§ßÊî∂Áõä</p><p>‚Äã                    ÂêàÁêÜÂà∂ÂÆöÊØè‰∏™Èò∂ÊÆµÁöÑÁª©ÊïàËÄÉÊ†∏ÁõÆÊ†áÔºö</p><p>‚Äã                40%Á®≥ÂÆö+25%‰∏öÂä°ÂàõÊñ∞+20%ÊúçÂä°Êé•ÂÖ•+15%Áî®Êà∑Êª°ÊÑèÂ∫¶</p><h1 id="‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°"><a href="#‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°" class="headerlink" title="‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°"></a><strong>‰∏É„ÄÅÊû∂ÊûÑËÆæËÆ°</strong></h1><h2 id="1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ"><a href="#1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ" class="headerlink" title="1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ"></a>1„ÄÅÁ§æÂå∫Á≥ªÁªüÁöÑÊû∂ÊûÑ</h2><p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gmqv8zyhkqj311s0u0q7s.jpg" alt="image-20210117182546782" style="zoom:40%;"></p><p><strong>Á≥ªÁªüÊãÜÂàÜ</strong></p><p>‚Äã        ÈÄöËøáDDDÈ¢ÜÂüüÊ®°ÂûãÔºåÂØπÊúçÂä°ËøõË°åÊãÜÂàÜÔºåÂ∞Ü‰∏Ä‰∏™Á≥ªÁªüÊãÜÂàÜ‰∏∫Â§ö‰∏™Â≠êÁ≥ªÁªüÔºåÂÅöÊàêSpringCloudÁöÑÂæÆÊúçÂä°„ÄÇÂæÆÊúçÂä°ËÆæËÆ°Êó∂Ë¶ÅÂ∞ΩÂèØËÉΩÂÅöÂà∞Â∞ëÊâáÂá∫ÔºåÂ§öÊâáÂÖ•ÔºåÊ†πÊçÆÊúçÂä°Âô®ÁöÑÊâøËΩΩÔºåËøõË°åÂÆ¢Êà∑Á´ØË¥üËΩΩÂùáË°°ÔºåÈÄöËøáÂØπÊ†∏ÂøÉÊúçÂä°ÁöÑ‰∏äÊ∏∏ÊúçÂä°ËøõË°åÈôêÊµÅÂíåÈôçÁ∫ßÊîπÈÄ†„ÄÇ</p><p>‚Äã    ‰∏Ä‰∏™ÊúçÂä°ÁöÑ‰ª£Á†Å‰∏çË¶ÅÂ§™Â§öÔºå1 ‰∏áË°åÂ∑¶Âè≥Ôºå‰∏§‰∏â‰∏áÊíëÊ≠ª‰∫ÜÂêß„ÄÇ</p><p>‚Äã    Â§ßÈÉ®ÂàÜÁöÑÁ≥ªÁªüÔºåÊòØË¶ÅËøõË°å<strong>Â§öËΩÆÊãÜÂàÜ</strong>ÁöÑÔºåÁ¨¨‰∏ÄÊ¨°ÊãÜÂàÜÔºåÂèØËÉΩÂ∞±ÊòØÂ∞Ü‰ª•ÂâçÁöÑÂ§ö‰∏™Ê®°ÂùóËØ•ÊãÜÂàÜÂºÄÊù•‰∫ÜÔºåÊØîÂ¶ÇËØ¥Â∞ÜÁîµÂïÜÁ≥ªÁªüÊãÜÂàÜÊàê<strong>ËÆ¢ÂçïÁ≥ªÁªü„ÄÅÂïÜÂìÅÁ≥ªÁªü„ÄÅÈááË¥≠Á≥ªÁªü„ÄÅ‰ªìÂÇ®Á≥ªÁªü„ÄÅÁî®Êà∑Á≥ªÁªü</strong>Á≠âÁ≠âÂêß„ÄÇ</p><p>‚Äã    ‰ΩÜÊòØÂêéÈù¢ÂèØËÉΩÊØè‰∏™Á≥ªÁªüÂèàÂèòÂæóË∂äÊù•Ë∂äÂ§çÊùÇ‰∫ÜÔºåÊØîÂ¶ÇËØ¥ÈááË¥≠Á≥ªÁªüÈáåÈù¢ÂèàÂàÜÊàê‰∫Ü<strong>‰æõÂ∫îÂïÜÁÆ°ÁêÜÁ≥ªÁªü„ÄÅÈááË¥≠ÂçïÁÆ°ÁêÜÁ≥ªÁªü</strong>ÔºåËÆ¢ÂçïÁ≥ªÁªüÂèàÊãÜÂàÜÊàê‰∫Ü<strong>Ë¥≠Áâ©ËΩ¶Á≥ªÁªü„ÄÅ‰ª∑Ê†ºÁ≥ªÁªü„ÄÅËÆ¢ÂçïÁÆ°ÁêÜ</strong>Á≥ªÁªü„ÄÇ</p><p><strong>CDN„ÄÅNginxÈùôÊÄÅÁºìÂ≠ò„ÄÅJVMÁºìÂ≠ò</strong></p><p>‚Äã    Âà©Áî®JavaÁöÑÊ®°ÊùøthymeleafÂèØ‰ª•Â∞ÜÈ°µÈù¢ÂíåÊï∞ÊçÆÂä®ÊÄÅÊ∏≤ÊüìÂ•ΩÔºåÁÑ∂ÂêéÈÄöËøáNginxÁõ¥Êé•ËøîÂõû„ÄÇÂä®ÊÄÅÊï∞ÊçÆÂèØ‰ª•‰ªéredis‰∏≠Ëé∑Âèñ„ÄÇÂÖ∂‰∏≠redisÈáåÁöÑÊï∞ÊçÆÁî±‰∏Ä‰∏™ÁºìÂ≠òÊúçÂä°Êù•ËøõË°åÊ∂àË¥πÊåáÂÆöÁöÑÂèòÊõ¥ÊúçÂä°„ÄÇ</p><p>‚Äã    ÂïÜÂìÅÊï∞ÊçÆÔºåÊØèÊù°Êï∞ÊçÆÊòØ 10kb„ÄÇ100 Êù°Êï∞ÊçÆÊòØ 1mbÔºå10 ‰∏áÊù°Êï∞ÊçÆÊòØ 1g„ÄÇÂ∏∏È©ªÂÜÖÂ≠òÁöÑÊòØ 200 ‰∏áÊù°ÂïÜÂìÅÊï∞ÊçÆÔºåÂç†Áî®ÂÜÖÂ≠òÊòØ 20gÔºå‰ªÖ‰ªÖ‰∏çÂà∞ÊÄªÂÜÖÂ≠òÁöÑ 50%„ÄÇÁõÆÂâçÈ´òÂ≥∞ÊúüÊØèÁßíÂ∞±ÊòØ 3500 Â∑¶Âè≥ÁöÑËØ∑Ê±ÇÈáè„ÄÇ</p><p><strong>ÁºìÂ≠ò</strong></p><p>Redis clusterÔºå10 Âè∞Êú∫Âô®Ôºå5‰∏ª5‰ªéÔºå5 ‰∏™ËäÇÁÇπÂØπÂ§ñÊèê‰æõËØªÂÜôÊúçÂä°Ôºå<strong>ÊØè‰∏™ËäÇÁÇπÁöÑËØªÂÜôÈ´òÂ≥∞ QPS</strong> ÂèØËÉΩÂèØ‰ª•ËææÂà∞ÊØèÁßí 5 ‰∏áÔºå<strong>5 Âè∞Êú∫Âô®ÊúÄÂ§öÊòØ 25 ‰∏áËØªÂÜô</strong>ËØ∑Ê±ÇÊØèÁßí„ÄÇ</p><p>‚Äã    <strong>32G ÂÜÖÂ≠ò+ 8 Ê†∏ CPU + 1T</strong> Á£ÅÁõòÔºå‰ΩÜÊòØÂàÜÈÖçÁªô <strong>Redis ËøõÁ®ãÁöÑÊòØ 10g ÂÜÖÂ≠ò</strong>Ôºå‰∏ÄËà¨Á∫ø‰∏äÁîü‰∫ßÁéØÂ¢ÉÔºåRedis ÁöÑÂÜÖÂ≠òÂ∞ΩÈáè‰∏çË¶ÅË∂ÖËøá 10gÔºåË∂ÖËøá 10g ÂèØËÉΩ‰ºöÊúâÈóÆÈ¢ò„ÄÇ</p><p>‚Äã    Âõ†‰∏∫ÊØè‰∏™‰∏ªÂÆû‰æãÈÉΩÊåÇ‰∫Ü‰∏Ä‰∏™‰ªéÂÆû‰æãÔºåÊâÄ‰ª•ÊòØ<strong>È´òÂèØÁî®</strong>ÁöÑÔºå‰ªª‰Ωï‰∏Ä‰∏™‰∏ªÂÆû‰æãÂÆïÊú∫ÔºåÈÉΩ‰ºöËá™Âä®ÊïÖÈöúËøÅÁßªÔºåRedis ‰ªéÂÆû‰æã<strong>‰ºöËá™Âä®ÂèòÊàê‰∏ªÂÆû‰æã</strong>ÁªßÁª≠Êèê‰æõËØªÂÜôÊúçÂä°„ÄÇ</p><p><strong>MQ</strong></p><p>‚Äã    ÂèØ‰ª•ÈÄöËøáÊ∂àÊÅØÈòüÂàóÂØπÂæÆÊúçÂä°Á≥ªÁªüËøõË°å<a href="#1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°">Ëß£ËÄ¶</a>ÔºåÂºÇÊ≠•Ë∞ÉÁî®ÁöÑÊõ¥ÈÄÇÂêàÂæÆÊúçÂä°ÁöÑÊâ©Â±ï</p><p>‚Äã    ÂêåÊó∂ÂèØ‰ª•Â∫îÂØπÁßíÊùÄÊ¥ªÂä®‰∏≠<a href="# 6„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑÂÜôËØ∑Ê±Ç">Â∫îÂØπÈ´òÂπ∂ÂèëÂÜôËØ∑Ê±Ç</a>ÔºåÊØîÂ¶ÇkafkaÂú®ÊØ´ÁßíÂª∂ËøüÂü∫Á°Ä‰∏äÂèØ‰ª•ÂÆûÁé∞10wÁ∫ßÂêûÂêêÈáè</p><p>‚Äã    ÈíàÂØπ<a href="#IOTÊµÅÈáèÊ¥™Â≥∞">IOTÊµÅÈáèÊ¥™Â≥∞</a>ÂÅö‰∫Ü‰∏Ä‰∫õÁâπÊÆäÁöÑ‰ºòÂåñÔºå‰øùËØÅÊ∂àÊÅØÁöÑÂèäÊó∂ÊÄß</p><p>‚Äã    ÂêåÊó∂ÂèØ‰ª•‰ΩøÁî®Ê∂àÊÅØÈòüÂàó‰øùËØÅÂàÜÂ∏ÉÂºèÁ≥ªÁªü<a href="#7„ÄÅÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄß">ÊúÄÁªà‰∏ÄËá¥ÊÄß</a></p><p><strong>ÂàÜÂ∫ìÂàÜË°®</strong></p><p>‚Äã        ÂàÜÂ∫ìÂàÜË°®ÔºåÂèØËÉΩÂà∞‰∫ÜÊúÄÂêéÊï∞ÊçÆÂ∫ìÂ±ÇÈù¢ËøòÊòØÂÖç‰∏ç‰∫ÜÊäóÈ´òÂπ∂ÂèëÁöÑË¶ÅÊ±ÇÔºåÂ•ΩÂêßÔºåÈÇ£‰πàÂ∞± Â∞Ü‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÊãÜÂàÜ‰∏∫Â§ö‰∏™Â∫ìÔºåÂ§ö‰∏™Â∫ìÊù•ÊâõÊõ¥È´òÁöÑÂπ∂ÂèëÔºõÁÑ∂ÂêéÂ∞Ü‰∏Ä‰∏™Ë°®ÊãÜÂàÜ‰∏∫Â§ö‰∏™ Ë°®ÔºåÊØè‰∏™Ë°®ÁöÑÊï∞ÊçÆÈáè‰øùÊåÅÂ∞ë‰∏ÄÁÇπÔºåÊèêÈ´ò sql Ë∑ëÁöÑÊÄßËÉΩ„ÄÇ<strong>Âú®ÈÄöËÆØÂΩï„ÄÅËÆ¢ÂçïÂíåÂïÜÂüéÂïÜÂìÅÊ®°ÂùóË∂ÖËøáÂçÉ‰∏áÁ∫ßÂà´ÈÉΩÂ∫îÂèäÊó∂ËÄÉËôëÂàÜË°®ÂàÜÂ∫ì</strong></p><p><strong>ËØªÂÜôÂàÜÁ¶ª</strong></p><p>‚Äã        ËØªÂÜôÂàÜÁ¶ªÔºåËøô‰∏™Â∞±ÊòØËØ¥Â§ßÈÉ®ÂàÜÊó∂ÂÄôÊï∞ÊçÆÂ∫ìÂèØËÉΩ‰πüÊòØËØªÂ§öÂÜôÂ∞ëÔºåÊ≤°ÂøÖË¶ÅÊâÄÊúâËØ∑Ê±ÇÈÉΩ ÈõÜ‰∏≠Âú®‰∏Ä‰∏™Â∫ì‰∏äÂêßÔºåÂèØ‰ª•Êêû‰∏™‰∏ª‰ªéÊû∂ÊûÑÔºå‰∏ªÂ∫ìÂÜôÂÖ•Ôºå‰ªéÂ∫ìËØªÂèñÔºåÊêû‰∏Ä‰∏™ËØªÂÜôÂàÜÁ¶ª„ÄÇ ËØªÊµÅÈáèÂ§™Â§öÁöÑÊó∂ÂÄôÔºåËøòÂèØ‰ª•Âä†Êõ¥Â§öÁöÑ‰ªéÂ∫ì„ÄÇÊØîÂ¶Ç<strong>ÁªüËÆ°ÁõëÊéßÁ±ªÁöÑÂæÆÊúçÂä°</strong>ÈÄöËøáËØªÂÜôÂàÜÁ¶ªÔºåÂè™ÈúÄËÆøÈóÆ‰ªéÂ∫ìÂ∞±ÂèØ‰ª•ÂÆåÊàêÁªüËÆ°Ôºå‰æãÂ¶ÇES</p><p><strong>ElasticSearch</strong></p><p>‚Äã        ElasticsearchÔºåÁÆÄÁß∞ es„ÄÇes ÊòØÂàÜÂ∏ÉÂºèÁöÑÔºåÂèØ‰ª•Èöè‰æøÊâ©ÂÆπÔºåÂàÜÂ∏ÉÂºèÂ§©ÁÑ∂Â∞±ÂèØ‰ª•ÊîØÊíëÈ´òÂπ∂ÂèëÔºåÂõ†‰∏∫Âä®‰∏çÂä®Â∞±ÂèØ‰ª•Êâ©ÂÆπÂä†Êú∫Âô®Êù•ÊâõÊõ¥È´òÁöÑÂπ∂Âèë„ÄÇÈÇ£‰πà‰∏Ä‰∫õÊØîËæÉÁÆÄÂçïÁöÑ<strong>Êü•ËØ¢„ÄÅÁªüËÆ°Á±ª</strong>ÁöÑÊìç‰ΩúÔºåÊØîÂ¶Ç<strong>ËøêËê•Âπ≥Âè∞‰∏ä</strong>ÁöÑÂêÑÂú∞Â∏ÇÁöÑÊ±áËÅöÁªüËÆ°ÔºåËøòÊúâ‰∏Ä‰∫õ<strong>ÂÖ®ÊñáÊêúÁ¥¢Á±ª</strong>ÁöÑÊìç‰ΩúÔºåÊØîÂ¶Ç<strong>ÈÄöËÆØÂΩïÂíåËÆ¢Âçï</strong>ÁöÑÊü•ËØ¢„ÄÇ</p><h2 id="2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®"><a href="#2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®" class="headerlink" title="2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®"></a>2„ÄÅÂïÜÂüéÁ≥ªÁªü-‰∫øÁ∫ßÂïÜÂìÅÂ¶Ç‰ΩïÂ≠òÂÇ®</h2><p>Âü∫‰∫é Hash ÂèñÊ®°„ÄÅ‰∏ÄËá¥ÊÄß Hash ÂÆûÁé∞ÂàÜÂ∫ìÂàÜË°®</p><p>È´òÂπ∂ÂèëËØªÂèØ‰ª•ÈÄöËøá<a href="5„ÄÅÂ∫îÂØπÈ´òÂπ∂ÂèëÁöÑËØªËØ∑Ê±Ç">Â§öÁ∫ßÁºìÂ≠ò</a>Â∫îÂØπ</p><p>Â§ß‰øÉÈîÄÁÉ≠keyËØªÁöÑÈóÆÈ¢òÈÄöËøá<a href="**4„ÄÅÁÉ≠keyÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü**">redisÈõÜÁæ§+Êú¨Âú∞ÁºìÂ≠ò+ÈôêÊµÅ+keyÂä†ÈöèÊú∫ÂÄº</a>ÂàÜÂ∏ÉÂú®Â§ö‰∏™ÂÆû‰æã‰∏≠</p><p>È´òÂπ∂ÂèëÂÜôÁöÑÈóÆÈ¢òÈÄöËøá<strong>Âü∫‰∫é Hash ÂèñÊ®°„ÄÅ‰∏ÄËá¥ÊÄß Hash ÂÆûÁé∞ÂàÜÂ∫ìÂàÜË°®</strong>ÂùáÂåÄËêΩÁõò</p><p>‰∏öÂä°ÂàÜÈÖç‰∏çÂùáÂØºËá¥ÁöÑ<strong>ÁÉ≠key</strong>ËØªÂÜôÈóÆÈ¢òÔºåÂèØ‰ª•Ê†πÊçÆ‰∏öÂä°Âú∫ÊôØËøõË°årangeÂàÜÁâáÔºåÂ∞ÜÁÉ≠ÁÇπËåÉÂõ¥‰∏ãÁöÑÂ≠êkeyÊâìÊï£</p><p>ÂÖ∑‰ΩìÂÆûÁé∞ÔºöÈ¢ÑÂÖàËÆæÂÆö‰∏ªÈîÆÁöÑÁîüÊàêËßÑÂàôÔºåÊ†πÊçÆËßÑÂàôËøõË°åÊï∞ÊçÆÁöÑÂàÜÁâáË∑ØÁî±Ôºå‰ΩÜËøôÁßçÊñπÂºè‰ºö‰æµÂÖ•ÂïÜÂìÅÂêÑÊù°Á∫ø‰∏ªÊï∞ÊçÆÁöÑ‰∏öÂä°ËßÑÂàôÔºåÊõ¥Â•ΩÁöÑÊñπÂºèÊòØÂü∫‰∫é<strong>ÂàÜÁâáÂÖÉÊï∞ÊçÆÊúçÂä°Âô®</strong>ÔºàÂç≥ÊØèÊ¨°ËÆøÈóÆÂàÜÁâáÂâçÂÖàËØ¢ÈóÆÂàÜÁâáÂÖÉÊúçÂä°Âô®Âú®Ë∑ØÁî±Âà∞ÂÆûÈôÖÂàÜÁâáÔºâ‰∏çËøá‰ºöÂ∏¶Êù•Â§çÊùÇÊÄßÔºåÊØîÂ¶Ç‰øùËØÅÂÖÉÊï∞ÊçÆÊúçÂä°Âô®ÁöÑ<strong>‰∏ÄËá¥ÊÄß</strong>ÂíåÂèØÁî®ÊÄß„ÄÇ</p><h2 id="3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß"><a href="#3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß" class="headerlink" title="3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß"></a>3„ÄÅÂØπË¥¶Á≥ªÁªü-ÂàÜÂ∏ÉÂºè‰∫ãÂä°‰∏ÄËá¥ÊÄß</h2><blockquote><p>Â∞ΩÈáèÈÅøÂÖçÂàÜÂ∏ÉÂºè‰∫ãÂä°ÔºåÂçïËøõÁ®ãÁî®Êï∞ÊçÆÂ∫ì‰∫ãÂä°ÔºåË∑®ËøõÁ®ãÁî®Ê∂àÊÅØÈòüÂàó</p></blockquote><p>‰∏ªÊµÅÂÆûÁé∞ÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∫ãÂä°‰∏ÄËá¥ÊÄßÁöÑÊñπÊ°àÔºö</p><ol><li><strong>ÊúÄÁªà‰∏ÄËá¥ÊÄß</strong>Ôºö‰πüÂ∞±ÊòØÂü∫‰∫é MQ ÁöÑÂèØÈù†Ê∂àÊÅØÊäïÈÄíÁöÑÊú∫Âà∂Ôºå</li><li>Âü∫‰∫éÈáçËØïÂä†Á°ÆËÆ§ÁöÑÁöÑ<strong>ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•ÊñπÊ°à</strong>„ÄÇ</li></ol><p>ÁêÜËÆ∫‰∏ä‰πüÂèØ‰ª•‰ΩøÁî®Ôºà2PC‰∏§Èò∂ÊÆµÊèê‰∫§„ÄÅ3PC‰∏âÈò∂ÊÆµÊèê‰∫§„ÄÅTCCÁü≠‰∫ãÂä°„ÄÅSAGAÈïø‰∫ãÂä°ÊñπÊ°àÔºâÔºå‰ΩÜÊòØËøô‰∫õÊñπÊ°àÂ∑•‰∏ö‰∏äËêΩÂú∞‰ª£‰ª∑ÂæàÂ§ßÔºå‰∏çÈÄÇÂêà‰∫íËÅîÁΩëÁöÑ‰∏öÁïåÂú∫ÊôØ„ÄÇÈíàÂØπÈáëËûçÊîØ‰ªòÁ≠âÈúÄË¶ÅÂº∫‰∏ÄËá¥ÊÄßÁöÑÂú∫ÊôØÂèØ‰ª•ÈÄöËøáÂâç‰∏§ÁßçÊñπÊ°àÂÆûÁé∞„ÄÇÔºà<strong>Â±ïÂºÄËØ¥ÁöÑËØùÂèÇËÄÉÂàÜÂ∏ÉÂºè‰∫ãÂä°</strong>Ôºâ</p><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/008eGmZEly1goruh4oifej30xq0auq7p.jpg" alt="image-20210321212516364" title class>                <p>image-20210321212516364</p>            </figure><p>Êú¨Âú∞Êï∞ÊçÆÂ∫ì‰∫ãÂä°ÂéüÁêÜÔºö<strong>undo log</strong>ÔºàÂéüÂ≠êÊÄßÔºâ + <strong>redo log</strong>ÔºàÊåÅ‰πÖÊÄßÔºâ + <strong>Êï∞ÊçÆÂ∫ìÈîÅ</strong>ÔºàÂéüÂ≠êÊÄß&amp;ÈöîÁ¶ªÊÄßÔºâ + <strong>MVCC</strong>ÔºàÈöîÁ¶ªÊÄßÔºâ</p><p>ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÂéüÁêÜÔºö<strong>ÂÖ®Â±Ä‰∫ãÂä°ÂçèË∞ÉÂô®ÔºàÂéüÂ≠êÊÄßÔºâ</strong> + ÂÖ®Â±ÄÈîÅÔºàÈöîÁ¶ªÊÄßÔºâ + <strong>DBÊú¨Âú∞‰∫ãÂä°ÔºàÂéüÂ≠êÊÄß„ÄÅÊåÅ‰πÖÊÄßÔºâ</strong></p><p>‰∏Ä„ÄÅÊàë‰ª¨ÂÖ¨Âè∏Ë¥¶ÂçïÁ≥ªÁªüÂíåÁ¨¨‰∏âÊñπÊîØ‰ªòÁ≥ªÁªüÂØπË¥¶Êó∂ÔºåÂ∞±ÈááÁî®‚Äú<strong>Ëá™Á†îË°•ÂÅø/MQÊñπÊ°à + ‰∫∫Â∑•‰ªãÂÖ•</strong>‚ÄùÊñπÂºè</p><p>ËêΩÂú∞ÁöÑËØùÔºöÊñπÊ°àÊúÄ‚ÄúËΩª‚ÄùÔºåÊÄßËÉΩÊçüÂ§±ÊúÄÂ∞ë„ÄÇÂèØÊéåÊéßÊÄßÂ•ΩÔºåÁÆÄÂçïÊòìÊáÇÔºåÊòìÁª¥Êä§„ÄÇ<br>ËÄÉËôëÂà∞ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÈóÆÈ¢òÊòØÂ∞èÊ¶ÇÁéá‰∫ã‰ª∂ÔºåÁïôÊúâË°•Êïë‰ΩôÂú∞Â∞±Ë°åÔºåÊÄßËÉΩÁöÑÊçüÂ§±ÂèØÊòØÂÆûÊâìÂÆûÁöÑÂèçÂ∫îÂú®Á∫ø‰∏äÊØè‰∏Ä‰∏™ËØ∑Ê±Ç‰∏ä</p><p>‰∫å„ÄÅ‰πü‰∫ÜËß£Âà∞‰∏öÁïåÊØîÂ¶ÇÈòøÈáåÊàêÁÜü<strong>Seata AT</strong>Ê®°ÂºèÔºåÂπ≥ÂùáÊÄßËÉΩ‰ºöÈôç‰Ωé35%‰ª•‰∏ä</p><p>ÊàëËßâÂæó‰∏çÊòØÁâπÊÆäÁöÑÂú∫ÊôØ‰∏çÊé®Ëçê</p><p>‰∏â„ÄÅRocketMQ‰∫ãÂä°Ê∂àÊÅØ</p><p>Âê¨Ëµ∑Êù•Êå∫Â•ΩÊå∫ÁÆÄÂçïÁöÑÊñπÊ°àÔºå‰ΩÜÂÆÉÊØîËæÉÊåë‰∏öÂä°Âú∫ÊôØÔºåÂêåÊ≠•ÊÄßÂº∫ÁöÑÂ§ÑÁêÜÈìæË∑Ø‰∏çÈÄÇÂêà„ÄÇ<br>„ÄêÈáçË¶Å„ÄëË¶ÅÊ±Ç‰∏ãÊ∏∏MQÊ∂àË¥πÊñπ‰∏ÄÂÆöËÉΩÊàêÂäüÊ∂àË¥πÊ∂àÊÅØ„ÄÇÂê¶ÂàôËΩ¨‰∫∫Â∑•‰ªãÂÖ•Â§ÑÁêÜ„ÄÇ<br>„ÄêÈáçË¶Å„ÄëÂçÉ‰∏áËÆ∞ÂæóÂÆûÁé∞ÂπÇÁ≠âÊÄß„ÄÇ</p><h2 id="4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•"><a href="#4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•" class="headerlink" title="4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•"></a>4„ÄÅÁî®Êà∑Á≥ªÁªü-Â§öÁ∫øÁ®ãÊï∞ÊçÆÂâ≤Êé•</h2><p>Áî±‰∫éÈ°πÁõÆÈúÄË¶ÅËøõË°åÊï∞ÊçÆÂâ≤Êé•Ôºå‰øùËØÅÁî®Êà∑Â§öÂπ≥Âè∞‰ΩøÁî®Áî®Êà∑ÊÑüÁü•ÁöÑ‰∏ÄËá¥ÔºåÂ∞ÜÂπø‰∏úÈ°πÁõÆÁöÑÂá†Áôæ‰∏áÁî®Êà∑Âèä‰∏öÂä°Êï∞ÊçÆÊåâÁÖß‰∏ÄÂÆöÁöÑÈÄªËæëÁÅåÂà∞Á§æÂå∫‰∫ëÂπ≥Âè∞‰∏äÔºåÁî±‰∫é‰æùËµñ‰∫ÜÁ¨¨‰∏âÊñπÁªü‰∏ÄËÆ§ËØÅÂíåÁúÅ‰æßcrmÁ≥ªÁªüÔºåÊåâÁÖß‰πãÂâçÁ≥ªÁªüÂÜÖÂâ≤Êé•ÁöÑÊñπÊ≥ïÔºåÈÄöËøáÊï∞ÊçÆÂ∫ìÂ∞ÜÁî®Êà∑ÁöÑÂîØ‰∏ÄÊ†áËØÜÊü•Âá∫Êù•ÁÑ∂Âêé‰ΩøÁî®Â§öÁ∫øÁ®ãÂêëÁúÅ‰æßcrmÁ≥ªÁªüËé∑ÂèñÁªìÊûú„ÄÇ</p><p>‰ΩÜÊòØÊµãËØïÁöÑËøáÁ®ã‰∏≠ÔºåÂèëÁé∞ÊØè‰∏™Á∫øÁ®ãËØ∑Ê±ÇÁöÑÊï∞ÊçÆÂèëÁîü‰∫ÜÈîô‰π±ÔºåÂØºËá¥ÊØè‰∏™ËØ∑Ê±ÇÂ§ÑÁêÜÁöÑÊï∞ÊçÆÊúâÈáçÂ§çÔºå‰∫éÊòØÁ´ãÂç≥ÂÅúÊ≠¢‰∫ÜËÑöÊú¨ÔºåÂΩìÊó∂ÊÄÄÁñëÊòØÂ§öÁ∫øÁ®ãÂØπËµÑÊ∫êÂπ∂ÂèëËÆøÈóÆÂØºËá¥ÁöÑÔºå‰∫éÊòØÊääArrayList ÊîπÊàê‰∫ÜCopyOnWriteArrayListÔºå‰ΩÜÊòØÊäòËÖæ‰∫Ü‰∏ÄÊôö‰∏äÔºå‰∏çÁÆ°ÊÄé‰πà‰øÆÊîπÔºåÁ∫øÁ®ã‰πãÈó¥‰∏ÄÁõ¥ÊúâÈáçÂ§çÊï∞ÊçÆÔºåÂè´‰∫Ü‰∏ÄËµ∑Âä†Áè≠ÁöÑÂêå‰∫ã‰πüÊ≤°ÁúãÂá∫ÈóÆÈ¢òÊù•ÔºåÂíåÂêå‰∫ã‰º∞ÁÆó‰∫Ü‰∏Ä‰∏ã‰∏ç‰ΩøÁî®Â§öÁ∫øÁ®ãÔºåÂ§ßÊ¶Ç30-40‰∏™Â∞èÊó∂ËÉΩË∑ëÂÆåÔºåÊÉ≥‰∫Ü‰∏ã‰πüËÉΩÊé•ÂèóÔºåÊú¨Êù•Â∑≤ÁªèÂáÜÂ§áÊîæÂºÉ‰∫Ü„ÄÇ</p><p>‰∏çËøáÂõûÂà∞ÂÆ∂ÔºåÊàëËøòÊòØÁî®Â§öÁ∫øÁ®ã‰ªîÁªÜÂçïÊ≠•Ê®°Êãü‰∫Ü‰∏ãÔºåÊï¥‰∏™Â§ÑÁêÜÁöÑËøáÁ®ãÔºåÂèëÁé∞Âú®Ëµ∑Á∫øÁ®ãÁöÑÊó∂ÂÄôÔºåÊúâ‰∫õÂ≠êÁ∫øÁ®ãÂπ∂Ê≤°ÊúâÊääÂàÜÈÖçÁªô‰ªñÁöÑÂÖ®ÈÉ®idÁöÑlistÂ§ÑÁêÜÂÆåÔºåÂØºËá¥ÊúÄÁªàÁä∂ÊÄÅÊ≤°Êõ¥Êñ∞ÔºåÊñ∞Á∫øÁ®ãÂèàÂéªÊâßË°å‰∫Ü‰∏ÄÈÅçÔºåÁÑ∂ÂêéÊàëÂ∞ùËØïÈÄöËøá‰øÆÊîπÂú®Á∫øÁ®ãÂ§ñÊ∑±Êã∑Ë¥ù‰∏Ä‰∏™ListÂÜç‰Ωú‰∏∫ÂèÇÊï∞‰º†ÂÖ•Âà∞Â≠êÁ∫øÁ®ãÈáåÔºåÔºàÂêéÁª≠clearÁöÑÊó∂ÂÄô‰πüÊòØclearËÄÅÁöÑListÔºâÊûúÁÑ∂ÔºåÊï¥‰∏™ÊµãËØïËøáÁ®ã‰∏≠ÂÜç‰πüÊ≤°Âá∫Áé∞ËøáÈáçÂ§çÂ§ÑÁêÜÁöÑÊÉÖÂÜµ„ÄÇ</p><p>‰∫ãÂêéÔºåÊàë‰πüÊ∑±Á©∂‰∫Ü‰∏ãÂéüÂõ†Ôºö</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(arrayBuffer.length == <span class="number">99</span>) &#123;</span><br><span class="line"> val asList = arrayBuffer.toList</span><br><span class="line"> exec.execute ( openIdInsertMethod(asList) )</span><br><span class="line"> arrayBuffer.clear</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Âú®‰∏Ä‰∏™Á∫øÁ®ã‰∏≠ÂºÄÂêØÂè¶Â§ñ‰∏Ä‰∏™Êñ∞Á∫øÁ®ãÔºåÂàôÊñ∞ÂºÄÁ∫øÁ®ãÁß∞‰∏∫ËØ•Á∫øÁ®ãÁöÑÂ≠êÁ∫øÁ®ãÔºåÂ≠êÁ∫øÁ®ãÂàùÂßã‰ºòÂÖàÁ∫ß‰∏éÁà∂Á∫øÁ®ãÁõ∏Âêå„ÄÇ‰∏çËøá‰∏ªÁ∫øÁ®ãÂÖàÂêØÂä®Âç†Áî®‰∫ÜcpuËµÑÊ∫êÔºåÂõ†Ê≠§‰∏ªÁ∫øÁ®ãÊÄªÊòØ‰ºò‰∫éÂ≠êÁ∫øÁ®ã„ÄÇÁÑ∂ËÄåÔºåÂç≥‰ΩøËÆæÁΩÆ‰∫Ü‰ºòÂÖàÁ∫ßÔºå‰πüÊó†Ê≥ï‰øùÈöúÁ∫øÁ®ãÁöÑÊâßË°åÊ¨°Â∫è„ÄÇÂè™‰∏çËøáÔºå‰ºòÂÖàÁ∫ßÈ´òÁöÑÁ∫øÁ®ãËé∑ÂèñCPUËµÑÊ∫êÁöÑÊ¶ÇÁéáËæÉÂ§ßÔºå‰ºòÂÖàÁ∫ß‰ΩéÁöÑÂπ∂ÈùûÊ≤°Êú∫‰ºöÊâßË°å„ÄÇ</p><p>ÊâÄ‰ª•‰∏ªÁ∫øÁ®ã‰∏äÁöÑclearÊìç‰ΩúÊúâÂèØËÉΩÂÖàÊâßË°åÔºåÈÇ£‰πàÂ≠êÁ∫øÁ®ã‰∏≠Êú™Â§ÑÁêÜÂÆåÁöÑÊï∞ÊçÆÂ∞±ÂèòÊàê‰∏Ä‰∏™Á©∫ÁöÑÊï∞ÁªÑÔºåÊâÄ‰ª•Â∞±Âá∫Áé∞‰∫ÜÂ§ö‰∏™Á∫øÁ®ãÂá∫Áé∞‰∫ÜÈáçÂ§çÊï∞ÊçÆÁöÑÂéüÂõ†ÔºåÊâÄ‰ª•Êàë‰ª¨Ë¶Å‰øùËØÅÁöÑÊòØÂ≠êÁ∫øÁ®ãÊØèÊ¨°ÊâßË°åÂÆåÂêéÂÜçËøõË°åclearÂç≥ÂèØ„ÄÇËÄå‰∏çÊòØ‰∏ÄÂºÄÂßãÂÆö‰ΩçÁöÑ‰øùËØÅArrayListÁöÑÂÆâÂÖ®ÊÄß„ÄÇÊâÄ‰ª•Â∞ÜËµãÂÄº(buffer-&gt;list)Êìç‰ΩúÊîæÂú®Â§ñÈù¢ÂéªÊâßË°åÂêéÔºåÂ§öÁ∫øÁ®ãÊï∞ÊçÆÂ∞±Ê≠£Â∏∏‰∫Ü„ÄÇ</p><h2 id="5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°"><a href="#5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°" class="headerlink" title="5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°"></a>5„ÄÅÁßíÊùÄÁ≥ªÁªüÂú∫ÊôØËÆæËÆ°</h2><p><a href="# ‰∫å„ÄÅÁßíÊùÄÈ°πÁõÆ">ËßÅÁßíÊùÄÈ°πÁõÆÊñπÊ°àËÆæËÆ°</a></p><h2 id="6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞"><a href="#6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞" class="headerlink" title="6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞"></a><strong>6„ÄÅÁªüËÆ°Á≥ªÁªü-Êµ∑ÈáèËÆ°Êï∞</strong></h2><p><strong>‰∏≠Â∞èËßÑÊ®°ÁöÑËÆ°Êï∞ÊúçÂä°</strong>Ôºà‰∏áÁ∫ßÔºâ</p><p>ÊúÄÂ∏∏ËßÅÁöÑËÆ°Êï∞ÊñπÊ°àÊòØÈááÁî®ÁºìÂ≠ò + DB ÁöÑÂ≠òÂÇ®ÊñπÊ°à„ÄÇÂΩìËÆ°Êï∞ÂèòÊõ¥Êó∂ÔºåÂÖàÂèòÊõ¥ËÆ°Êï∞ DBÔºåËÆ°Êï∞Âä† 1ÔºåÁÑ∂ÂêéÂÜçÂèòÊõ¥ËÆ°Êï∞ÁºìÂ≠òÔºå‰øÆÊîπËÆ°Êï∞Â≠òÂÇ®ÁöÑ Memcached Êàñ Redis„ÄÇËøôÁßçÊñπÊ°àÊØîËæÉÈÄöÁî®‰∏îÊàêÁÜüÔºå‰ΩÜÂú®È´òÂπ∂ÂèëËÆøÈóÆÂú∫ÊôØÔºåÊîØÊåÅ‰∏çÂ§üÂèãÂ•Ω„ÄÇÂú®‰∫íËÅîÁΩëÁ§æ‰∫§Á≥ªÁªü‰∏≠ÔºåÊúâ‰∫õ‰∏öÂä°ÁöÑËÆ°Êï∞ÂèòÊõ¥ÁâπÂà´È¢ëÁπÅÔºåÊØîÂ¶ÇÂæÆÂçö feed ÁöÑÈòÖËØªÊï∞ÔºåËÆ°Êï∞ÁöÑÂèòÊõ¥Ê¨°Êï∞ÂíåËÆøÈóÆÊ¨°Êï∞Áõ∏ÂΩìÔºåÊØèÁßíÂçÅ‰∏áÂà∞Áôæ‰∏áÁ∫ß‰ª•‰∏äÁöÑÊõ¥Êñ∞ÈáèÔºåÂ¶ÇÊûúÁî® DB Â≠òÂÇ®Ôºå‰ºöÁªô DB Â∏¶Êù•Â∑®Â§ßÁöÑÂéãÂäõÔºåDB Â∞±‰ºöÊàê‰∏∫Êï¥‰∏™ËÆ°Êï∞ÊúçÂä°ÁöÑÁì∂È¢àÊâÄÂú®„ÄÇÂç≥‰æøÈááÁî®ËÅöÂêàÂª∂ËøüÊõ¥Êñ∞ DB ÁöÑÊñπÊ°àÔºåÁî±‰∫éÊÄªÈáèÁâπÂà´Â§ßÔºåÂêåÊó∂ËØ∑Ê±ÇÂùáË°°ÂàÜÊï£Âú®Â§ßÈáè‰∏çÂêåÁöÑ‰∏öÂä°Á´ØÔºåÂ∑®Â§ßÁöÑÂÜôÂéãÂäõ‰ªçÁÑ∂ÊòØ DB ÁöÑ‰∏çÂèØÊâøÂèó‰πãÈáç„ÄÇ</p><p><strong>Â§ßÂûã‰∫íËÅîÁΩëÂú∫ÊôØ</strong>ÔºàÁôæ‰∏áÁ∫ßÔºâ</p><p>Áõ¥Êé•ÊääËÆ°Êï∞ÂÖ®ÈÉ®Â≠òÂÇ®Âú® Redis ‰∏≠ÔºåÈÄöËøá hash ÂàÜÊãÜÁöÑÊñπÂºèÔºåÂèØ‰ª•Â§ßÂπÖÊèêÂçáËÆ°Êï∞ÊúçÂä°Âú® Redis ÈõÜÁæ§ÁöÑÂÜôÊÄßËÉΩÔºåÈÄöËøá‰∏ª‰ªéÂ§çÂà∂ÔºåÂú® master ÂêéÊåÇËΩΩÂ§ö‰∏™‰ªéÂ∫ìÔºåÂà©Áî®ËØªÂÜôÂàÜÁ¶ªÔºåÂèØ‰ª•Â§ßÂπÖÊèêÂçáËÆ°Êï∞ÊúçÂä°Âú® Redis ÈõÜÁæ§ÁöÑËØªÊÄßËÉΩ„ÄÇËÄå‰∏î Redis ÊúâÊåÅ‰πÖÂåñÊú∫Âà∂Ôºå‰∏ç‰ºö‰∏¢Êï∞ÊçÆ</p><p>‰∏ÄÊñπÈù¢ Redis ‰Ωú‰∏∫ÈÄöÁî®ÂûãÂ≠òÂÇ®Êù•Â≠òÂÇ®ËÆ°Êï∞ÔºåÂÜÖÂ≠òÂ≠òÂÇ®ÊïàÁéá‰Ωé„ÄÇ‰ª•Â≠òÂÇ®‰∏Ä‰∏™ key ‰∏∫ long Âûã id„ÄÅvalue ‰∏∫ 4 Â≠óËäÇÁöÑËÆ°Êï∞‰∏∫‰æãÔºåRedis Ëá≥Â∞ëÈúÄË¶Å 65 ‰∏™Â≠óËäÇÂ∑¶Âè≥Ôºå‰∏çÂêåÁâàÊú¨Áï•ÊúâÂ∑ÆÂºÇ„ÄÇ‰ΩÜËøô‰∏™ËÆ°Êï∞ÁêÜËÆ∫Âè™ÈúÄË¶ÅÂç†Áî® 12 ‰∏™Â≠óËäÇÂç≥ÂèØ„ÄÇÂÜÖÂ≠òÊúâÊïàË¥üËç∑Âè™Êúâ 12/65=18.5%„ÄÇÂ¶ÇÊûúÂÜçËÄÉËôë‰∏Ä‰∏™ long Âûã id ÈúÄË¶ÅÂ≠ò 4 ‰∏™‰∏çÂêåÁ±ªÂûãÁöÑ 4 Â≠óËäÇËÆ°Êï∞ÔºåÂÜÖÂ≠òÊúâÊïàË¥üËç∑Âè™Êúâ (8+16)/(65*4)= 9.2%„ÄÇ</p><p>Âè¶‰∏ÄÊñπÈù¢ÔºåRedis ÊâÄÊúâÊï∞ÊçÆÂùáÂ≠òÂú®ÂÜÖÂ≠òÔºåÂçïÂ≠òÂÇ®ÂéÜÂè≤ÂçÉ‰∫øÁ∫ßËÆ∞ÂΩïÔºåÂçï‰ªΩÊï∞ÊçÆÊã∑Ë¥ùÈúÄË¶Å 10T ‰ª•‰∏äÔºåË¶ÅËÄÉËôëÊ†∏ÂøÉ‰∏öÂä°‰∏ä 1 ‰∏ª 3 ‰ªéÔºåÈúÄË¶Å 40T ‰ª•‰∏äÁöÑÂÜÖÂ≠òÔºåÂÜçËÄÉËôëÂ§ö IDC ÈÉ®ÁΩ≤ÔºåËΩªÊùæÂç†Áî®‰∏äÁôæ T ÂÜÖÂ≠ò„ÄÇÂ∞±ÊåâÂçïÊú∫ 100G ÂÜÖÂ≠òÊù•ÁÆóÔºåËÆ°Êï∞ÊúçÂä°Â∞±Ë¶ÅÂç†Áî®‰∏äÂçÉÂè∞Â§ßÂÜÖÂ≠òÊúçÂä°Âô®„ÄÇÂ≠òÂÇ®ÊàêÊú¨Â§™È´ò„ÄÇ</p><p><strong>ÂæÆÂçö„ÄÅÂæÆ‰ø°„ÄÅÊäñÈü≥</strong>Ôºà‰∫øÁ∫ßÔºâ</p><p>ÂÆöÂà∂Êï∞ÊçÆÁªìÊûÑÔºåÂÖ±‰∫´key Á¥ßÂáëÂ≠òÂÇ®ÔºåÊèêÂçáËÆ°Êï∞ÊúâÊïàË¥üËç∑Áéá</p><p>Ë∂ÖËøáÈòàÂÄºÂêéÊï∞ÊçÆ‰øùÂ≠òÂà∞SSDÁ°¨ÁõòÔºåÂÜÖÂ≠òÈáåÂ≠òÁ¥¢Âºï</p><p>ÂÜ∑key‰ªéSSDÁ°¨Áõò‰∏≠ËØªÂèñÂêéÔºåÊîæÂÖ•Âà∞LRUÈòüÂàó‰∏≠</p><p>Ëá™ÂÆö‰πâ‰∏ª‰ªéÂ§çÂà∂ÁöÑÊñπÂºèÔºåÊµ∑ÈáèÂÜ∑Êï∞ÊçÆÂºÇÊ≠•Â§öÁ∫øÁ®ãÂπ∂ÂèëÂ§çÂà∂</p><h2 id="7„ÄÅÁ≥ªÁªüËÆæËÆ°-ÂæÆËΩØ"><a href="#7„ÄÅÁ≥ªÁªüËÆæËÆ°-ÂæÆËΩØ" class="headerlink" title="7„ÄÅÁ≥ªÁªüËÆæËÆ° - ÂæÆËΩØ"></a>7„ÄÅÁ≥ªÁªüËÆæËÆ° - ÂæÆËΩØ</h2><h3 id="1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ"><a href="#1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ" class="headerlink" title="1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ"></a><strong>1„ÄÅÈúÄÊ±ÇÊî∂ÈõÜ</strong></h3><p>Á°ÆËÆ§<strong>‰ΩøÁî®ÁöÑÂØπË±°</strong>ÔºàToCÔºöÈ´òÂπ∂ÂèëÔºåToBÔºöÈ´òÂèØÁî®Ôºâ</p><p><strong>Á≥ªÁªüÁöÑÊúçÂä°Âú∫ÊôØ</strong>Ôºà<strong>Âç≥Êó∂ÈÄö‰ø°</strong>Ôºö‰ΩéÂª∂ËøüÔºå<strong>Ê∏∏Êàè</strong>ÔºöÈ´òÊÄßËÉΩÔºå<strong>Ë¥≠Áâ©</strong>ÔºöÁßíÊùÄ-‰∏ÄËá¥ÊÄßÔºâ</p><p><strong>Áî®Êà∑ÈáèÁ∫ß</strong>Ôºà<strong>‰∏áÁ∫ß</strong>ÔºöÂèåÊú∫„ÄÅ<strong>Áôæ‰∏á</strong>ÔºöÈõÜÁæ§„ÄÅ<strong>‰∫øÁ∫ß</strong>ÔºöÂºπÊÄßÂàÜÂ∏ÉÂºè„ÄÅÂÆπÂô®ÂåñÁºñÊéíÊû∂ÊûÑÔºâ</p><p><strong>Áôæ‰∏áËØª</strong>Ôºö3‰∏ª6‰ªéÔºå<strong>ÊØè‰∏™ËäÇÁÇπÁöÑËØªÂÜôÈ´òÂ≥∞ QPS</strong> ÂèØËÉΩÂèØ‰ª•ËææÂà∞ÊØèÁßí 5 ‰∏áÔºåÂèØ‰ª•ÂÆûÁé∞15‰∏áÔºå30‰∏áËØªÊÄßËÉΩ</p><p><strong>‰∫øÁ∫ßËØª</strong>ÔºåÈÄöËøáCDN„ÄÅÈùôÊÄÅÁºìÂ≠ò„ÄÅJVMÁºìÂ≠òÁ≠âÂ§öÁ∫ßÁºìÂ≠òÊù•ÊèêÈ´òËØªÂπ∂Âèë</p><p><strong>Áôæ‰∏áÂÜô</strong>ÔºåÈÄöËøáÊ∂àÊÅØÈòüÂàóÂâäÂ≥∞Â°´Ë∞∑ÔºåÈÄöËøáhashÂàÜÊãÜÔºåÊ∞¥Âπ≥Êâ©Â±ïÂàÜÂ∏ÉÂºèÁºìÂ≠ò</p><p><strong>‰∫øÁ∫ßÂÜô</strong>ÔºåredisÂèØ‰ª•ÂÆöÂà∂Êï∞ÊçÆÁªìÊûÑ„ÄÅSSD+ÂÜÖÂ≠òLRU„ÄÅÂÜ∑Êï∞ÊçÆÂºÇÊ≠•Â§öÁ∫øÁ®ãÂ§çÂà∂</p><p>ÊåÅ‰πÖÂåñÔºåÔºàMysqlÔºâÊâøÂèóÈáèÁ∫¶‰∏∫ 1KÁöÑQPSÔºåËØªÂÜôÂàÜÁ¶ªÊèêÂçá<strong>ËØªÂπ∂Âèë</strong>ÔºåÂàÜÂ∫ìÂàÜË°®ÊèêÂçá<strong>ÂÜôÂπ∂Âèë</strong></p><h3 id="2„ÄÅÈ°∂Â±ÇËÆæËÆ°"><a href="#2„ÄÅÈ°∂Â±ÇËÆæËÆ°" class="headerlink" title="2„ÄÅÈ°∂Â±ÇËÆæËÆ°"></a><strong>2„ÄÅÈ°∂Â±ÇËÆæËÆ°</strong></h3><p>Ê†∏ÂøÉÂäüËÉΩÂåÖÊã¨‰ªÄ‰πàÔºö</p><p>ÂÜôÂäüËÉΩÔºöÂèëÈÄÅÂæÆÂçö</p><p>ËØªÂäüËÉΩÔºöÁÉ≠ÁÇπËµÑËÆØ</p><p>‰∫§‰∫íÔºöÁÇπËµû„ÄÅÂÖ≥Ê≥®</p><h3 id="3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á"><a href="#3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á" class="headerlink" title="3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á"></a><strong>3„ÄÅÁ≥ªÁªüÊ†∏ÂøÉÊåáÊ†á</strong></h3><ul><li>Á≥ªÁªü<strong>ÊÄßËÉΩ</strong>Âíå<strong>Âª∂Ëøü</strong><ul><li>ËæπÁºòËÆ°ÁÆó | Âä®ÈùôÂàÜÁ¶ª | ÁºìÂ≠ò |  Â§öÁ∫øÁ®ã |</li></ul></li><li><strong>ÂèØÊâ©Â±ïÊÄß</strong>Âíå<strong>ÂêûÂêêÈáè</strong><ul><li>Ë¥üËΩΩÂùáË°° | Ê∞¥Âπ≥Êâ©Â±ï | ÂûÇÁõ¥Êâ©Â±ï | ÂºÇÊ≠• | ÊâπÂ§ÑÁêÜ | ËØªÂÜôÂàÜÁ¶ª</li></ul></li><li><strong>ÂèØÁî®ÊÄß</strong>Âíå<strong>‰∏ÄËá¥ÊÄß</strong><ul><li>‰∏ª‰ªéÂ§çÂà∂ | Âì®ÂÖµÊ®°Âºè | ÈõÜÁæ§ | ÂàÜÂ∏ÉÂºè‰∫ãÂä°</li></ul></li></ul><h3 id="4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®"><a href="#4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®" class="headerlink" title="4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®"></a>4„ÄÅÊï∞ÊçÆÂ≠òÂÇ®</h3><p>ÈîÆÂÄºÂ≠òÂÇ® : Redis ( ÁÉ≠ÁÇπËµÑËÆØ )</p><p>ÊñáÊ°£Â≠òÂÇ® : MongoDB ( ÂæÆÂçöÊñáÊ°£ÂàÜÁ±ª)</p><p>ÂàÜËØçÂÄíÊéíÔºöElasticsearchÔºàÊêúÁ¥¢Ôºâ</p><p>ÂàóÂûãÂ≠òÂÇ®ÔºöHbase„ÄÅBigTableÔºàÂ§ßÊï∞ÊçÆÔºâ</p><p>ÂõæÂΩ¢Â≠òÂÇ®ÔºöNeo4j ÔºàÁ§æ‰∫§ÂèäÊé®ËçêÔºâ</p><p>Â§öÂ™í‰ΩìÔºöFastDfsÔºàÂõæÊñáËßÜÈ¢ëÂæÆÂçöÔºâ</p><h2 id="7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö"><a href="#7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö" class="headerlink" title="7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö"></a>7„ÄÅÂ¶Ç‰ΩïËÆæËÆ°‰∏Ä‰∏™ÂæÆÂçö</h2><p><strong>ÂÆûÁé∞Âì™‰∫õÂäüËÉΩÔºö</strong></p><p>Á≠õÈÄâÂá∫Ê†∏ÂøÉÂäüËÉΩÔºàPost a TweetÔºåTimelineÔºåNews FeedÔºåFollow/Unfollow a userÔºåRegister/LoginÔºâ</p><p><strong>ÊâøÊãÖÂ§öÂ§ßQPSÔºö</strong></p><p>QPS = 100ÔºåÈÇ£‰πàÁî®ÊàëÁöÑÁ¨îËÆ∞Êú¨‰ΩúWebÊúçÂä°Âô®Â∞±Â•Ω‰∫Ü</p><p>QPS = 1KÔºå‰∏ÄÂè∞Â•ΩÁÇπÁöÑWeb ÊúçÂä°Âô®‰πüËÉΩÂ∫î‰ªòÔºåÈúÄË¶ÅËÄÉËôëÂçïÁÇπÊïÖÈöúÔºõ</p><p>QPS = 1mÔºåÂàôÈúÄË¶ÅÂª∫ËÆæ‰∏Ä‰∏™1000Âè∞WebÊúçÂä°Âô®ÁöÑÈõÜÁæ§ÔºåËÄÉËôëÂä®ÊÄÅÊâ©ÂÆπ„ÄÅË¥üËΩΩÂàÜÊãÖ„ÄÅÊïÖÈöúËΩ¨Áßª</p><p>‰∏ÄÂè∞ SQL Database ÔºàMysqlÔºâÊâøÂèóÈáèÁ∫¶‰∏∫ 1KÁöÑQPSÔºõ</p><p>‰∏ÄÂè∞ NoSQL Database (Redis) Á∫¶ÊâøÂèóÈáèÊòØ 20k ÁöÑ QPSÔºõ</p><p>‰∏ÄÂè∞ NoSQL Database (Memcache) Á∫¶ÊâøÂèóÈáèÊòØ 200k ÁöÑ QPSÔºõ</p><p><strong>ÂæÆÊúçÂä°ÊàòÁï•ÊãÜÂàÜ</strong></p><p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1goruqql81gj30p20c5q45.jpg" alt="img" style="zoom:67%;"></p><p><strong>ÈíàÂØπ‰∏çÂêåÊúçÂä°ÈÄâÊã©‰∏çÂêåÂ≠òÂÇ®</strong></p><figure class="image-box">                <img src="https://pic1.zhimg.com/80/v2-13cab4d5f56e3ecb682c351c0eb4a24b_1440w.jpg?source=1940ef5c" alt="img" title class>                <p>img</p>            </figure><p><strong>ËÆæËÆ°Êï∞ÊçÆË°®ÁöÑÁªìÊûÑ</strong></p><figure class="image-box">                <img src="https://tva1.sinaimg.cn/large/008eGmZEly1goruu4homyj31400ht405.jpg" alt="img" title class>                <p>img</p>            </figure><p>Âü∫Êú¨Â∑Æ‰∏çÂ§öÂ∞±ÂΩ¢Êàê‰∫Ü‰∏Ä‰∏™Ëß£ÂÜ≥ÊñπÊ°àÔºå‰ΩÜÊòØÂπ∂‰∏çÊòØÂÆåÁæéÁöÑÔºå‰ªçÁÑ∂ÈúÄË¶ÅÂ∞èÊ≠•Âø´Ë∑ëÁöÑ‰∏çÊñ≠ÁöÑÈíàÂØπ<strong>Ê∂àÊÅØÈòüÂàó„ÄÅÁºìÂ≠ò„ÄÅÂàÜÂ∏ÉÂºè‰∫ãÂä°„ÄÅÂàÜË°®ÂàÜÂ∫ì„ÄÅÂ§ßÊï∞ÊçÆ„ÄÅÁõëÊéß„ÄÅÂèØ‰º∏Áº©</strong>ÊñπÈù¢ËøõË°å‰ºòÂåñ</p><h1 id="ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞"><a href="#ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞" class="headerlink" title="ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞"></a>ÂÖ´„ÄÅÈ¢ÜÂüüÊ®°ÂûãËêΩÂú∞</h1><h3 id="1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°"><a href="#1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°" class="headerlink" title="1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°"></a>1„ÄÅÊãÜÂàÜÂæÆÊúçÂä°</h3><blockquote><p>‚Äã    ÂæÆÊúçÂä°ÂÜÖÈ´òÂÜÖËÅöÔºåÂæÆÊúçÂä°Èó¥‰ΩéËÄ¶Âêà</p></blockquote><p><strong>ÂæÆÊúçÂä°ÂÜÖÈ´òÂÜÖËÅö</strong>Âç≥Âçï‰∏ÄËÅåË¥£ÂéüÂàô</p><p>‚Äã    ÊØè‰∏™ÂæÆÊúçÂä°‰∏≠ÁöÑ‰ª£Á†ÅÂèòÂåñÈÉΩÊòØÂêå‰∏ÄÁ±ªÂéüÂõ†„ÄÇÂõ†ËøôÁ±ªÂéüÂõ†ËÄåÈúÄË¶ÅÂèòÊõ¥ÁöÑ‰ª£Á†ÅÈÉΩÂú®Ëøô‰∏™ÂæÆÊúçÂä°‰∏≠Ôºå‰∏éÂÖ∂‰ªñÂæÆÊúçÂä°Êó†ÂÖ≥ÔºåÈÇ£‰πàÂ∞±ÂèØ‰ª•Â∞Ü‰ª£Á†Å‰øÆÊîπÁöÑËåÉÂõ¥Áº©Â∞èÂà∞Ëøô‰∏™ÂæÆÊúçÂä°ÂÜÖ„ÄÇÊääËøô‰∏™ÂæÆÊúçÂä°‰øÆÊîπÂ•Ω‰∫ÜÔºåÁã¨Á´ã‰øÆÊîπ„ÄÅÁã¨Á´ãÂèëÂ∏ÉÔºåËØ•ÈúÄÊ±ÇÂ∞±ÂÆûÁé∞‰∫Ü„ÄÇËøôÊ†∑ÔºåÂæÆÊúçÂä°ÁöÑ‰ºòÂäøÊâçËÉΩÂèëÊå•Âá∫Êù•„ÄÇ</p><p><strong>ÂæÆÊúçÂä°Èó¥‰ΩéËÄ¶Âêà</strong>ÂºÄÊîæÂ∞ÅÈó≠ÂéüÂàô</p><p>‚Äã    Â∞±ÊòØËØ¥Âú®ÂæÆÊúçÂä°ÂÆûÁé∞Ëá™Ë∫´‰∏öÂä°ÁöÑËøáÁ®ã‰∏≠ÔºåÂ¶ÇÊûúÈúÄË¶ÅÊâßË°åÁöÑÊüê‰∫õËøáÁ®ã‰∏çÊòØËá™Â∑±ÁöÑËÅåË¥£ÔºåÂ∞±Â∫îÂΩìÂ∞ÜËøô‰∫õËøáÁ®ã‰∫§ÁªôÂÖ∂‰ªñÂæÆÊúçÂä°ÂéªÂÆûÁé∞Ôºå‰Ω†Âè™ÈúÄË¶ÅÂØπÂÆÉÁöÑÊé•Âè£ËøõË°åË∞ÉÁî®„ÄÇËøôÊ†∑ÔºåÂæÆÊúçÂä°‰πãÈó¥ÁöÑË∞ÉÁî®Â∞±ÂÆûÁé∞‰∫ÜËß£ËÄ¶„ÄÇ</p><p>‚Äã    <strong>È¢ÜÂüüÂª∫Ê®°</strong>Â∞±ÊòØÂ∞Ü‰∏Ä‰∏™Á≥ªÁªüÂàíÂàÜÊàê‰∫ÜÂ§ö‰∏™Â≠êÂüüÔºåÊØè‰∏™Â≠êÂüüÈÉΩÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑ‰∏öÂä°Âú∫ÊôØÔºåÊØè‰∏™Â≠êÂüüÁöÑËæπÁïåÂ∞±ÊòØ‚Äú<strong>ÈôêÁïå‰∏ä‰∏ãÊñá</strong>‚Äù„ÄÇËØ•‰∏öÂä°Âú∫ÊôØ‰ºöÊ∂âÂèäËÆ∏Â§öÈ¢ÜÂüüÂØπË±°Ôºå‰ΩÜ<strong>ÂàÜÊûêÂª∫Ê®°</strong>ÂßãÁªàÈúÄË¶ÅÂõ¥ÁªïÁùÄ‰∏öÂä°Âú∫ÊôØÁöÑ‰∏ä‰∏ãÊñáËøõË°å„ÄÇ</p><p>‚Äã    <strong>È¢ÜÂüü‰∫ã‰ª∂ÈÄöÁü•Êú∫Âà∂</strong>ÊúÄÊúâÊïàÁöÑÊñπÂºèÂ∞±ÊòØÈÄöËøáÊ∂àÊÅØÈòüÂàóÔºåÂÆûÁé∞È¢ÜÂüü‰∫ã‰ª∂Âú®ÂæÆÊúçÂä°Èó¥ÁöÑÈÄöÁü•„ÄÇ</p><blockquote><p>‚ÄúÊ†∏ÂøÉÈÄöËÆØÂΩï‚ÄùÂæÆÊúçÂä°Âè™Ë¥üË¥£ÂèëÈÄÅÂèòÊõ¥Ê∂àÊÅØÂà∞Ê∂àÊÅØÈòüÂàóÔºå‰∏çÁÆ°Ë∞Å‰ºöÊé•Êî∂Âπ∂Â§ÑÁêÜËøô‰∫õÊ∂àÊÅØÔºõ</p><p>‚ÄúÈó®Á¶ÅÁÆ°ÁêÜ‚ÄùÂæÆÊúçÂä°Âè™Ë¥üË¥£Êé•Êî∂ÁÖßÁâáÂèòÊõ¥Ê∂àÊÅØÔºå‰∏çÁÆ°Ë∞ÅÂèëÈÄÅÁöÑËøô‰∏™Ê∂àÊÅØ„ÄÇ</p></blockquote><h3 id="2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°"><a href="#2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°" class="headerlink" title="2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°"></a>2„ÄÅÂÖ≥ËÅîÂæÆÊúçÂä°</h3><ol><li><p>ÊåâÁÖß<strong>ÈôêÁïå‰∏ä‰∏ãÊñá</strong>ËøõË°åÂæÆÊúçÂä°ÁöÑÊãÜÂàÜÔºåÂ∞ÜÈ¢ÜÂüüÊ®°Âûã<strong>ÂàíÂàÜÂà∞Â§ö‰∏™ÈóÆÈ¢òÂ≠êÂüü</strong></p></li><li><p>Âü∫‰∫é<strong>ÂÖÖË°ÄÊ®°Âûã</strong>‰∏é<strong>Ë¥´Ë°ÄÊ®°Âûã</strong>ËÆæËÆ°ÂêÑ‰∏™ÂæÆÊúçÂä°ÁöÑ‰∏öÂä°È¢ÜÂüüÂ±ÇÔºàService„ÄÅEntity„ÄÅValueÔºâ</p></li><li><p>ÈÄöËøá<strong>È¢ÜÂüü‰∫ã‰ª∂ÈÄöÁü•Êú∫Âà∂</strong>Âíå<strong>ÂæÆÊúçÂä°Ë∞ÉÁî®</strong>ÁöÑÊé®ÊãâÁªìÂêàÔºåÂ∞ÜÂêÑ‰∏™Â≠êÂüüËøõË°åËß£ËÄ¶ÂÖ≥ËÅî</p><ul><li><strong>Ê†∏ÂøÉ</strong>Ôºö</li></ul></li></ol><ul><li><p>ÈÄöËÆØÂΩï | Áü≠‰ø° | Êé®ÈÄÅÈÄöÁü• | ÊîØ‰ªò | Êñá‰ª∂ÊúçÂä°</p></li><li><p><strong>Êô∫ÊÖßÈÄöË°å</strong></p><blockquote><p>Ëß£ÂÜ≥Áâ©‰∏öÂ§öÂìÅÁâå„ÄÅÂ§öÁ≥ªÁªüÂ∫îÁî®ÈÄ†ÊàêÁöÑ<strong>‰ø°ÊÅØÂ≠§Â≤õ</strong>Ôºå<strong>Êï∞ÊçÆÊ∑∑‰π±</strong>ÁöÑÈóÆÈ¢ò</p></blockquote><ul><li>‰∫∫ËÑ∏Èó®Á¶Å | ÂèØËßÜÂØπËÆ≤ | ÁîµÊ¢ØÊ¢ØÊéß | ÂÅúËΩ¶Á≥ªÁªü | ËÆøÂÆ¢È¢ÑÁ∫¶</li></ul></li><li><p><strong>ÂÆâÂÖ®Á§æÂå∫</strong></p><blockquote><p>ÈÄöËøá<strong>ÂõæÂÉèËßÜÈ¢ëËØÜÂà´</strong>„ÄÅ<strong>‰º†ÊÑüÊï∞ÊçÆÈááÈõÜ</strong>ÔºåÂÆûÁé∞<strong>Êä•Ë≠¶ËÅîÂä®</strong>Âíå<strong>È£éÈô©È¢ÑË≠¶</strong></p></blockquote><ul><li>ËßÜÈ¢ëÁõëÊéß | Âë®ÁïåÊä•Ë≠¶ | È´òÁ©∫ÊäõÁâ© | Ë∑®ÂüüËøΩË∏™</li></ul></li><li><p><strong>ÂÖ®Â±ãÊô∫ËÉΩ</strong></p><blockquote><p>Âõ¥Áªï‰∏ö‰∏ªÈúÄÊ±ÇÔºåÈÄêÊ≠•ÂºïÂÖ•Á§æÂå∫ÂåªÁñó„ÄÅÁ§æÂå∫ÂÖªËÄÅ„ÄÅ<strong>Á§æÂå∫Âõ¢Ë¥≠</strong>„ÄÅ<strong>Á§æÂå∫ÂÆ∂Êîø</strong>Á≠âÊúçÂä°</p></blockquote><ul><li>Ë∂ÖÁ∫ßÈù¢Êùø | Êó†Á∫øÈó®ÈîÅ | ÁÉüÊÑüÈõæÊÑü</li></ul></li><li><p><strong>Â¢ûÂÄºÊúçÂä°</strong></p><blockquote><p>ÂÆûÁé∞Ë∑®ÂìÅÁâåÁöÑ‰∫ßÂìÅ‰ΩìÈ™åÔºåÊîØÊåÅÂü∫‰∫é<strong>matrixÂºïÊìé</strong>ÁöÑÊô∫ËÉΩÁîüÊ¥ªÂú∫ÊôØË£ÇÂèòËÉΩÂäõ</p></blockquote><ul><li>Êô∫ËÉΩÂÖÖÁîµ | ‰∫ëÂπøÊí≠ | Âá∫ÂÖ•ÊèêÈÜí | ÂÆöÂêëÊäïÊîæ</li></ul></li></ul><h3 id="3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞"><a href="#3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞" class="headerlink" title="3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞"></a><strong>3„ÄÅÂæÆÊúçÂä°ÁöÑËêΩÂú∞</strong></h3><blockquote><p>‚Äã    ÈÄöËøáÂêàÁêÜÁöÑÂæÆÊúçÂä°ËÆæËÆ°ÔºåÂ∞ΩÈáèËÆ©ÊØèÊ¨°ÁöÑÈúÄÊ±ÇÂèòÊõ¥ÈÉΩ‰∫§ÁªôÊüê‰∏™Â∞èÂõ¢ÈòüÁã¨Á´ãÂÆåÊàêÔºåËÆ©ÈúÄÊ±ÇÂèòÊõ¥ËêΩÂà∞Êüê‰∏™ÂæÆÊúçÂä°‰∏äËøõË°åÂèòÊõ¥„ÄÇÂîØÊúâËøôÊ†∑ÔºåÊØèÊ¨°ÂèòÊõ¥Âè™ÈúÄÁã¨Á´ãÂú∞‰øÆÊîπËøô‰∏™ÂæÆÊúçÂä°ÔºåÁã¨Á´ãÊâìÂåÖ„ÄÅÁã¨Á´ãÂçáÁ∫ßÔºåÊñ∞ÈúÄÊ±ÇÁã¨Á´ãÂÆûÁé∞ÔºåÊâçËÉΩÂèëÊå•ÂæÆÊúçÂä°ÁöÑ‰ºòÂäø„ÄÇ</p></blockquote><ul><li><strong>Êï∞ÊçÆÈöîÁ¶ªÔºö</strong>Êï∞ÊçÆÂ∫ì‰∏≠Áî®Êà∑‰ø°ÊÅØË°®ÁöÑËØªÂÜôÂè™Êúâ<strong>ÈÄöËÆØÂΩï</strong>ÂæÆÊúçÂä°„ÄÇÂΩìÂÖ∂‰ªñÂæÆÊúçÂä°ÈúÄË¶ÅËØªÂÜôÁî®Êà∑‰ø°ÊÅØÊó∂ÔºåÂ∞±‰∏çËÉΩÁõ¥Êé•ËØªÂèñÁî®Êà∑‰ø°ÊÅØË°®ÔºåËÄåÊòØÈÄöËøá API Êé•Âè£ÂéªË∞ÉÁî®<strong>ÈÄöËÆØÂΩï</strong>ÂæÆÊúçÂä°„ÄÇ</li><li><strong>Êé•Âè£Â§çÁî®Ôºö</strong>Âõ†Ê≠§ÔºåÂΩìÂ§ö‰∏™Âõ¢ÈòüÂêë‰Ω†ÊèêÈúÄÊ±ÇÊó∂ÔºåÂøÖÈ°ªË¶ÅÂØπËøô‰∫õÊé•Âè£ËøõË°åËßÑÂàíÔºåÈÄöËøáÂ§çÁî®<strong>Â∞ΩÂèØËÉΩÂ∞ëÁöÑÊé•Âè£Êª°Ë∂≥‰ªñ‰ª¨ÁöÑÈúÄÊ±ÇÔºõ</strong>ÂΩìÊúâÊñ∞ÁöÑÊé•Âè£ÊèêÂá∫Êó∂ÔºåË¶ÅÂ∞ΩÈáèÈÄöËøáÁé∞ÊúâÊé•Âè£Ëß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ</li><li><strong>ÂêëÂâçÂÖºÂÆπÔºö</strong>ÂΩìË∞ÉÁî®ÊñπÈúÄË¶ÅÊé•Âè£ÂèòÊõ¥Êó∂ÊÄé‰πàÂäûÔºüÂèòÊõ¥Áé∞ÊúâÊé•Âè£Â∫îÂΩìÂ∞ΩÂèØËÉΩÂêëÂâçÂÖºÂÆπÔºåÂç≥Êé•Âè£ÁöÑÂêçÁß∞‰∏éÂèÇÊï∞ÈÉΩ‰∏çÂèòÔºåÂè™ÊòØÂú®ÂÜÖÈÉ®Â¢ûÂä†Êñ∞ÁöÑÂäüËÉΩ„ÄÇ<strong>ÂÆÅÊÑøÂ¢ûÂä†‰∏Ä‰∏™Êñ∞ÁöÑÊé•Âè£‰πüÊúÄÂ•Ω‰∏çË¶ÅÂéªÂèòÊõ¥ÂéüÊúâÁöÑÊé•Âè£„ÄÇ</strong></li><li><strong>Êú¨Âú∞Ë∞ÉÁî®Ôºö</strong>Âú®<strong>ËÆøÂÆ¢Áî≥ËØ∑</strong>ÂæÆÊúçÂä°ÁöÑÊú¨Âú∞ÔºåÂ¢ûÂä†‰∏Ä‰∏™<strong>Êü•ËØ¢Áî®Êà∑Service</strong>ÁöÑ feign Êé•Âè£„ÄÇËøôÊ†∑Ôºå<strong>ËÆøÂÆ¢Áî≥ËØ∑Service</strong>Â∞±ÂÉèÊú¨Âú∞Ë∞ÉÁî®‰∏ÄÊ†∑Ë∞ÉÁî®<strong>Êü•ËØ¢Áî®Êà∑Service</strong>ÔºåÂÜçÈÄöËøá feign Êé•Âè£ÂÆûÁé∞ËøúÁ®ãË∞ÉÁî®„ÄÇËøôÁßç<strong>Èò≤ËÖêÂ±Ç</strong>ÁöÑËÆæËÆ°ÔºåÂèØ‰ª•ÈöîÁ¶ªÂΩìÂâçÂæÆÊúçÂä°‰ª•Â§ñÁöÑÂÖ∂‰ªñÂæÆÊúçÂä°ÊãÜÂàÜÂèòÊõ¥ÂØºËá¥ÁöÑÊé•Âè£ÁöÑÂ§±ÊïàÁöÑÂΩ±Âìç„ÄÇ</li><li><p><strong>Êï∞ÊçÆÂ∫ìÂéª‰∏≠ÂøÉÂåñÔºö</strong></p><ul><li>ÂæÆÊúçÂä°‰∏≠<strong>ÈÄöËÆØÂΩïÊúçÂä°</strong>‰∏é<strong>ÂÅ•Â∫∑Á†ÅÊúçÂä°</strong>ÂàÜÂà´ÂØπÂ∫îÁöÑ<strong>Áî®Êà∑Â∫ì‰∏éÊùÉÈôêÂ∫ì</strong>ÔºåÂÆÉ‰ª¨ÁöÑÂÖ±ÂêåÁâπÁÇπÊòØÊï∞ÊçÆÈáèÂ∞è‰ΩÜÈ¢ëÁπÅËØªÂèñÔºåÂèØ‰ª•ÈÄâÁî®Â∞èÂûãÁöÑ MySQL Êï∞ÊçÆÂ∫ìÂπ∂Âú®ÂâçÈù¢Êû∂ËÆæ Redis Êù•ÊèêÈ´òÊü•ËØ¢ÊÄßËÉΩÔºõ</li><li>ÂæÆÊúçÂä°‰∏≠<strong>ËÆøÂÆ¢ÈÄöË°å</strong>‰∏é<strong>ÁîüÊ¥ªÁº¥Ë¥π</strong>ÂàÜÂà´ÂØπÂ∫îÁöÑ<strong>ÈÄöË°åËÆ∞ÂΩïÂ∫ì„ÄÅËÆ¢ÂçïÂ∫ì</strong>ÔºåÂÖ∂ÁâπÁÇπÊòØÊï∞ÊçÆÈáèÂ§ßÂπ∂‰∏îÈ´òÂπ∂ÂèëÂÜôÔºåÈÄâÁî®‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÊòæÁÑ∂Êâõ‰∏ç‰ΩèËøôÊ†∑ÁöÑÂéãÂäõÔºåÂõ†Ê≠§ÂèØ‰ª•ÈÄâÁî®‰∫Ü TiDB ËøôÊ†∑ÁöÑ NewSQL Êï∞ÊçÆÂ∫ìËøõË°åÂàÜÂ∏ÉÂºèÂ≠òÂÇ®ÔºåÂ∞ÜÊï∞ÊçÆÂéãÂäõÂàÜÊï£Âà∞Â§ö‰∏™Êï∞ÊçÆËäÇÁÇπ‰∏≠Ôºå‰ªéËÄåËß£ÂÜ≥ I/O Áì∂È¢àÔºõ</li><li>ÂæÆÊúçÂä°‰∏≠<strong>Êï∞ÊçÆÂàÜÊûê</strong>‰∏é<strong>ÈÄöËÆØÂΩïÊü•ËØ¢</strong>ËøôÊ†∑ÁöÑÊü•ËØ¢ÂàÜÊûê‰∏öÂä°ÔºåÂàôÈÄâÁî® <strong>NoSQL Êï∞ÊçÆÂ∫ì</strong>Êàñ<strong>Â§ßÊï∞ÊçÆÂπ≥Âè∞</strong>ÔºåÈÄöËøáËØªÂÜôÂàÜÁ¶ªÂ∞ÜÁîü‰∫ßÂ∫ì‰∏äÁöÑÊï∞ÊçÆÂêåÊ≠•ËøáÊù•ËøõË°åÂàÜÂ∏ÉÂºèÂ≠òÂÇ®ÔºåÁÑ∂ÂêéÂÆΩË°®‰∏ÄÁ≥ªÂàóÁöÑÈ¢ÑÂ§ÑÁêÜÔºåÂ∫îÂØπÊµ∑ÈáèÂéÜÂè≤Êï∞ÊçÆÁöÑÂÜ≥Á≠ñÂàÜÊûê‰∏éÁßíÁ∫ßÊü•ËØ¢„ÄÇÔºà NoSQL ‰∏∫Á©∫ÁöÑÂ≠óÊÆµÊòØ‰∏çÂç†Áî®Á©∫Èó¥ÁöÑÔºåÂõ†Ê≠§Â≠óÊÆµÂÜçÂ§öÈÉΩ‰∏çÂΩ±ÂìçÊü•ËØ¢ÊÄßËÉΩÔºâ</li></ul></li></ul><h3 id="4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ"><a href="#4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ" class="headerlink" title="4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ"></a>4„ÄÅÈ¢ÜÂüüÊ®°ÂûãÁöÑÊÑè‰πâ</h3><p>‚Äã    <strong>Ë¥´Ë°ÄÊ®°Âûã„ÄÅÂÖÖË°ÄÊ®°Âûã„ÄÅÁ≠ñÁï•Ê®°Âºè„ÄÅË£ÖÈ•∞ËÄÖÊ®°Âºè</strong>Âè™ÊòØDDDÂÆûÁé∞ÁöÑÊñπÂºèÔºåËÄåDDDÁöÑÁúüË∞õÊòØ<strong>È¢ÜÂüüÂª∫Ê®°</strong>„ÄÇ</p><p>‚Äã    ÂÅö‰∫ã‰∏çËÉΩ‰ªÖÂá≠‰∏ÄËÖîÁÉ≠Ë°ÄÔºå‰∏ÄÂÆöË¶ÅÁ¨¶ÂêàËá™ÁÑ∂ËßÑÂæã„ÄÇÂÖ∂ÂÆûËΩØ‰ª∂ÁöÑËÆæËÆ°ÂºÄÂèëËøáÁ®ã‰πüÊòØËøôÊ†∑„ÄÇÂØπ‰∏öÂä°ÁêÜËß£‰∏çÊ∑±ÂàªÂÖ®Â±ÄÊû∂ÊûÑËÆæËÆ°ÂæÄÂæÄÊòØËøáÂ∫¶ËÆæËÆ°ÔºåËøôÊó∂ÂÄô<strong>Â∫îËØ•Êäì‰∏ªË¶ÅÊµÅÁ®ã</strong>ÔºåÂºÄÂßãÈ¢ÜÂüüÂª∫Ê®°„ÄÇ</p><ul><li>Êé•ÁùÄÔºåÊØèÊ¨°Ê∑ªÂä†Êñ∞ÂäüËÉΩÁöÑÊó∂ÂÄôÔºå‰∏ÄÊñπÈù¢Ë¶ÅÊª°Ë∂≥ÂΩìÂâçÁöÑÈúÄÊ±ÇÔºåÂè¶‰∏ÄÊñπÈù¢‰∏öÂä°Áõ∏ÂÖ≥ÁöÑ<strong>È¢ÜÂüüÂª∫Ê®°ËÆæËÆ°</strong>ÂàöÂàöÊª°Ë∂≥ÈúÄÊ±ÇÔºå‰ªéËÄå‰ΩøËÆæËÆ°ÊúÄÁÆÄÂåñ„ÄÅ‰ª£Á†ÅÊúÄÂ∞ë„ÄÇ</li><li>ËøôÊ†∑ÁöÑËÆæËÆ°ËøáÁ®ãÂè´<strong>Â∞èÊ≠•Âø´Ë∑ë</strong>„ÄÇÈááÁî®Â∞èÊ≠•Âø´Ë∑ëÁöÑËÆæËÆ°ÊñπÊ≥ïÔºå‰∏ÄÂºÄÂßã‰∏çÁî®ÊÄùËÄÉÈÇ£‰πàÂ§öÈóÆÈ¢òÔºå‰ªéÁÆÄÂçïÈóÆÈ¢òÂºÄÂßãÈÄêÊ≠•Ê∑±ÂÖ•„ÄÇ<strong>È¢ÜÂüüÊ®°Âûã</strong>Â∞±ÂÉèÂ∞èÊ†ë‰∏ÄÊ†∑‰∏ÄÁÇπÂÑø‰∏ÄÁÇπÂÑøÊàêÈïøÔºåÊúÄÂêéÂÆåÊàêÊâÄÊúâÁöÑÂäüËÉΩ„ÄÇ</li></ul><blockquote><p>‰øùÊåÅËΩØ‰ª∂ËÆæËÆ°‰∏çÈÄÄÂåñÁöÑÂÖ≥ÈîÆÂú®‰∫éÊØèÊ¨°ÈúÄÊ±ÇÂèòÊõ¥ÁöÑËÆæËÆ°ÔºåÂè™Êúâ‰øùËØÅÊØèÊ¨°ÈúÄÊ±ÇÂèòÊõ¥Êó∂ÂÅöÂá∫Ê≠£Á°ÆÁöÑËÆæËÆ°ÔºåÊâçËÉΩ‰øùËØÅËΩØ‰ª∂‰ª•‰∏ÄÁßçËâØÊÄßÂæ™ÁéØÁöÑÊñπÂºè‰∏çÊñ≠Áª¥Êä§‰∏ãÂéª„ÄÇ</p></blockquote><p>‚Äã    ÊúâÊ≤°Êúâ‰∏ÄÁßçÊñπÊ≥ïÔºåËÆ©Êàë‰ª¨Âú®Á¨¨ÂçÅÊ¨°ÂèòÊõ¥„ÄÅÁ¨¨‰∫åÂçÅÊ¨°ÂèòÊõ¥„ÄÅÁ¨¨‰∏âÂçÅÊ¨°ÂèòÊõ¥Êó∂Ôºå‰æùÁÑ∂ËÉΩÂ§üÊâæÂà∞Ê≠£Á°ÆÁöÑËÆæËÆ°Âë¢ÔºüÊúâÔºåÈÇ£Â∞±ÊòØ<strong>È¢ÜÂüüÈ©±Âä®ËÆæËÆ°</strong></p><p>‚Äã    ÈÇ£‰πàÂú®ÊØèÊ¨°ÈúÄÊ±ÇÂèòÊõ¥Êó∂ÔºåÂ∞ÜÂèòÊõ¥ËøòÂéüÂà∞ÁúüÂÆû‰∏ñÁïå‰∏≠ÔºåÁúãÁúãÁúüÂÆû‰∏ñÁïåÊòØ‰ªÄ‰πàÊ†∑Â≠êÁöÑÔºåÊ†πÊçÆÁúüÂÆû‰∏ñÁïåËøõË°åÂèòÊõ¥„ÄÇ</p><h3 id="5„ÄÅÊàòÁï•Âª∫Ê®°"><a href="#5„ÄÅÊàòÁï•Âª∫Ê®°" class="headerlink" title="5„ÄÅÊàòÁï•Âª∫Ê®°"></a>5„ÄÅÊàòÁï•Âª∫Ê®°</h3><p>‚Äã    <img src="https://tva1.sinaimg.cn/large/008i3skNly1gq6jet6kizj310c0ngtp4.jpg" alt="image-20210504174616848" style="zoom:50%;"></p><h3 id="6„ÄÅÁõ∏ÂÖ≥ÂêçËØç"><a href="#6„ÄÅÁõ∏ÂÖ≥ÂêçËØç" class="headerlink" title="6„ÄÅÁõ∏ÂÖ≥ÂêçËØç"></a><strong>6„ÄÅÁõ∏ÂÖ≥ÂêçËØç</strong></h3><p><strong>È¢ÜÂüüÂíåÂ≠êÂüüÔºàDomain/SubdomainÔºâ</strong></p><p>‚Äã    Âú®<strong>‰∏ä‰∏ãÊñáÂú∞Âõæ</strong>ÊûÑÂª∫ÁöÑÈ¢ÜÂüü‰∏≠ÔºåÂØπÂ∫îÊ®°ÂùóÔºå‰ΩøÁî®<strong>ÈôêÁïå‰∏ä‰∏ãÊñá</strong>ÂàíÂàÜÈ¢ÜÂüüÔºåÂØπÂ∫îÂæÆÊúçÂä°</p><p><strong>ÈôêÁïå‰∏ä‰∏ãÊñáÔºàBounded ContextÔºâ</strong></p><p>‚Äã    Âú®‰∏Ä‰∏™È¢ÜÂüü/Â≠êÂüü‰∏≠ÔºåÊúâÊ¶ÇÂøµ‰∏äÁöÑÈ¢ÜÂüüËæπÁïåÔºå‰ªª‰Ωï<strong>È¢ÜÂüüÂØπË±°</strong>Âú®ËØ•ËæπÁïåÂÜÖÈÉ®ÁöÑÊúâ‰∏ç‰æùËµñÂ§ñÈÉ®ÁöÑÁ°ÆÂàáÂê´‰πâ„ÄÇ</p><p><strong>È¢ÜÂüüÂØπË±°</strong></p><p>‚Äã    ÊúçÂä°„ÄÅÂÆû‰Ωì‰∏éÂÄºÂØπË±°ÊòØÈ¢ÜÂüüÈ©±Âä®ËÆæËÆ°ÁöÑÈ¢ÜÂüüÂØπË±°ÔºåÂèØ‰ª•ÈÄöËøá<strong>Ë¥´Ë°ÄÊ®°Âûã</strong>Âíå<strong>ÂÖÖË°ÄÊ®°Âûã</strong>ËΩ¨Êç¢‰∏∫Á®ãÂ∫èËÆæËÆ°</p><p><strong>ÂÆû‰ΩìÂíåÂÄºÂØπË±°</strong></p><p>‚Äã    ÈÄöËøá‰∏Ä‰∏™<strong>ÂîØ‰∏ÄÊ†áËØÜÂ≠óÊÆµÊù•Âå∫ÂàÜ</strong>ÁúüÂÆû‰∏ñÁïå‰∏≠ÁöÑÊØè‰∏Ä‰∏™‰∏™‰ΩìÁöÑÈ¢ÜÂüüÂØπË±°ÔºåÁß∞‰∏∫ÂÆû‰Ωì„ÄÇÁúüÂÆû‰∏ñÁïå‰∏≠ÈÇ£‰∫õ<strong>‰∏ÄÊàê‰∏çÂèòÁöÑ</strong>„ÄÅÊú¨Ë¥®ÊÄßÁöÑ‰∫ãÁâ©ÁöÑÈ¢ÜÂüüÂØπË±°ÔºåÁß∞‰∏∫ÂÄºÂØπË±°„ÄÇ    <strong>ÂèØÂèòÊÄß</strong>ÊòØÂÆû‰ΩìÁöÑÁâπÁÇπÔºåËÄå<strong>‰∏çÂèòÊÄß</strong>ÂàôÊòØÂÄºÂØπË±°ÁöÑÊú¨Ë¥®„ÄÇ</p><p><strong>Ë¥´Ë°ÄÊ®°Âûã‰∏éÂÖÖË°ÄÊ®°Âûã</strong></p><p>‚Äã    POJOÂØπË±°‰∏≠Âè™‰øùÂ≠òget/setÊñπÊ≥ïÔºåÊ≤°Êúâ‰ªª‰Ωï‰∏öÂä°ÈÄªËæëÔºåËøôÊ†∑ÁöÑËÆæËÆ°Ë¢´Áß∞‰∏∫<strong>Ë¥´Ë°ÄÊ®°Âûã</strong></p><p>‚Äã    <strong>ÂÖÖË°ÄÊ®°Âûã</strong>ÊòØÂ∞ÅË£ÖÂíåÁªßÊâøÊÄùÊÉ≥ÁöÑ‰ΩìÁé∞ÔºåÈó®Á¶ÅËÆæÂ§áÂÆû‰Ωì‰∏≠ÔºåÂåÖÂê´ÁâπÂæÅÂÄº‰∏ãÂèë„ÄÅÂπøÂëä‰∏ãÂèë„ÄÅÈÄöË°åËÆ∞ÂΩïÂõûË∞ÉÁ≠âÊñπÊ≥ïÔºå‰∏çÂêåÂéÇÂïÜÁöÑÂÆû‰ΩìÈíàÂØπÂ§öÊÄÅËøõË°å<strong>ËÅöÂêà</strong>ÔºåÂπ∂ÈÄöËøá<strong>Â∑•ÂéÇÊàñ‰ªìÂ∫ì</strong>ÂØπÂ§ñÊèê‰æõÊúçÂä°„ÄÇÂú®ÂÖÖË°ÄÊ®°Âûã‰∏≠Ôºå Service Âè™Âπ≤‰∏Ä‰ª∂ÈùûÂ∏∏ÁÆÄÂçïÁöÑ‰∫ãÔºåÂ∞±ÊòØÁõ¥Êé•ÂéªË∞ÉÁî®ÂØπË±°‰∏≠ÁöÑ<strong>Â∑•ÂéÇÊñπÊ≥ï</strong>ÁîüÊàê‰∏çÂêå‰∫ßÂìÅÔºåÂÖ∂‰ªñÁöÑ‰ªÄ‰πàÈÉΩ‰∏çÂπ≤„ÄÇ</p><p><strong>ËÅöÂêà</strong></p><p>‚Äã    ËÅöÂêà‰ΩìÁé∞ÁöÑÊòØ‰∏ÄÁßç<strong>Êï¥‰Ωì‰∏éÈÉ®ÂàÜ</strong>ÁöÑÂÖ≥Á≥ª„ÄÇÊ≠£ÊòØÂõ†‰∏∫ÊúâËøôÊ†∑ÁöÑÂÖ≥Á≥ªÔºåÂú®Êìç‰ΩúÊï¥‰ΩìÁöÑÊó∂ÂÄôÔºåÊï¥‰ΩìÂ∞±Â∞ÅË£Ö‰∫ÜÂØπÈÉ®ÂàÜÁöÑÊìç‰Ωú„ÄÇÂ¶Ç‰ΩïÊ≠£Á°ÆÁêÜËß£ÊòØÂê¶Â≠òÂú®ËÅöÂêàÁöÑÂÖ≥Á≥ªÔºöÂ∞±ÊòØÂΩì<strong>Êï¥‰Ωì‰∏çÂ≠òÂú®</strong>Êó∂ÔºåÈÉ®ÂàÜÂ∞±ÂèòÂæó<strong>Ê≤°Êúâ‰∫ÜÊÑè‰πâ</strong>„ÄÇÈÉ®ÂàÜÊòØÊï¥‰ΩìÁöÑ‰∏Ä‰∏™ÈÉ®ÂàÜÔºå‰∏é<strong>Êï¥‰ΩìÊúâÁõ∏ÂêåÁöÑÁîüÂëΩÂë®Êúü</strong>„ÄÇ</p><p><strong>Â∑•ÂéÇ</strong></p><p><strong>ÈÄöËøáË£ÖÈÖçÔºåÂàõÂª∫È¢ÜÂüüÂØπË±°ÔºåÊòØÈ¢ÜÂüüÂØπË±°ÁîüÂëΩÂë®ÊúüÁöÑËµ∑ÁÇπ„ÄÇ</strong>Ë≠¨Â¶ÇÔºåÁ≥ªÁªüË¶ÅÈÄöËøá ID Ë£ÖËΩΩ‰∏Ä‰∏™ËÆøÂÆ¢Áî≥ËØ∑Ôºö</p><ol><li><p>Ë°®ÂçïÂ∑•ÂéÇÂàÜÂà´Ë∞ÉÁî®Ë°®Âçï‰ø°ÊÅØDAO„ÄÅË°®ÂçïÊòéÁªÜ DAO ÂíåÁî®Êà∑DAO ÂéªËøõË°åÊü•ËØ¢Ôºõ</p></li><li><p>Â∞ÜÂæóÂà∞ÁöÑË°®ÂçïÊòéÁªÜÂØπË±°„ÄÅÁî®Êà∑ÂØπË±°ËøõË°åË£ÖÈÖçÔºåÂàÜÂà´ set Âà∞<strong>Ë°®Âçï‰ø°ÊÅØÂØπË±°</strong>ÁöÑ<strong>Ë°®ÂçïÊòéÁªÜ</strong>‰∏é<strong>Áî®Êà∑Â±ûÊÄß</strong>‰∏≠Ôºõ</p></li><li>ÊúÄÂêéÔºåË°®ÂçïÂ∑•ÂéÇÂ∞ÜË£ÖÈÖçÂ•ΩÁöÑË°®ÂçïÂØπË±°ËøîÂõûÁªôË°®Âçï‰ªìÂ∫ì„ÄÇ</li></ol><p><strong>‰ªìÂ∫ì</strong></p><p>‚Äã    Â¶ÇÊûúÊúçÂä°Âô®ÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Âº∫Â§ßÁöÑÊúçÂä°Âô®ÔºåÈÇ£‰πàÊàë‰ª¨‰∏çÈúÄË¶Å‰ªª‰ΩïÊï∞ÊçÆÂ∫ì„ÄÇÁ≥ªÁªüÂàõÂª∫ÁöÑÊâÄÊúâÈ¢ÜÂüüÂØπË±°ÈÉΩÊîæÂú®‰ªìÂ∫ì‰∏≠ÔºåÂΩìÈúÄË¶ÅËøô‰∫õÂØπË±°Êó∂ÔºåÈÄöËøá ID Âà∞‰ªìÂ∫ì‰∏≠ÂéªËé∑Âèñ„ÄÇ</p><ul><li><p>ÂΩìÂÆ¢Êà∑Á®ãÂ∫èÈÄöËøá ID ÂéªËé∑ÂèñÊüê‰∏™È¢ÜÂüüÂØπË±°Êó∂Ôºå‰ªìÂ∫ì‰ºöÈÄöËøáËøô‰∏™ ID ÂÖàÂà∞<strong>ÁºìÂ≠ò‰∏≠ËøõË°åÊü•Êâæ</strong>Ôºö</p></li><li><p>Êü•ÊâæÂà∞‰∫ÜÔºåÂàô<strong>Áõ¥Êé•ËøîÂõû</strong>Ôºå‰∏çÈúÄË¶ÅÊü•ËØ¢Êï∞ÊçÆÂ∫ìÔºõ</p></li><li><p>Ê≤°ÊúâÊâæÂà∞ÔºåÂàôÈÄöÁü•Â∑•ÂéÇÔºåÂ∑•ÂéÇË∞ÉÁî® DAO ÂéªÊï∞ÊçÆÂ∫ì‰∏≠Êü•ËØ¢ÔºåÁÑ∂Âêé<strong>Ë£ÖÈÖçÊàêÈ¢ÜÂüüÂØπË±°ËøîÂõûÁªô‰ªìÂ∫ì</strong>„ÄÇ</p></li><li><p>‰ªìÂ∫ìÂú®Êî∂Âà∞Ëøô‰∏™È¢ÜÂüüÂØπË±°‰ª•ÂêéÔºåÂú®ËøîÂõûÁªôÂÆ¢Êà∑Á®ãÂ∫èÁöÑÂêåÊó∂ÔºåÂ∞ÜËØ•<strong>ÂØπË±°ÊîæÂà∞ÁºìÂ≠ò‰∏≠</strong></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#‰∏ÄesÁØá&quot;&gt;‰∏Ä„ÄÅESÁØá&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1Ê¶ÇËø∞&quot;&gt;1„ÄÅÊ¶ÇËø∞&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#ÁâπÁÇπ&quot;&gt;ÁâπÁÇπ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;#ÂäüËÉΩ&quot;&gt;ÂäüËÉΩ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a hr</summary>
      
    
    
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/categories/ÊäÄÊúØ/"/>
    
    
    <category term="java" scheme="https://github.com/missionOdd/tags/java/"/>
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/tags/ÊäÄÊúØ/"/>
    
    <category term="Èù¢ËØï" scheme="https://github.com/missionOdd/tags/Èù¢ËØï/"/>
    
    <category term="Â§ç‰π†" scheme="https://github.com/missionOdd/tags/Â§ç‰π†/"/>
    
  </entry>
  
  <entry>
    <title>Ê±Ç‰ºóÊï∞II ÔºàÊë©Â∞îÊäïÁ•®Ê≥ïÔºâÁî®Á±ª‰ºº‰øÑÁΩóÊñØÊñπÂùóÊ∂àÈô§ÁöÑÊ∏∏Êàè‰æãÂ≠êËÆ≤Ëß£</title>
    <link href="https://github.com/missionOdd/2021/12/14/majority-element-ii/"/>
    <id>https://github.com/missionOdd/2021/12/14/majority-element-ii/</id>
    <published>2021-12-14T12:50:37.000Z</published>
    <updated>2022-01-12T14:11:41.017Z</updated>
    
    <content type="html"><![CDATA[<h1 id="È¢òÁõÆ"><a href="#È¢òÁõÆ" class="headerlink" title="È¢òÁõÆ"></a>È¢òÁõÆ</h1><p><a href="https://leetcode-cn.com/problems/majority-element-ii/" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><p>Ê±Ç‰ºóÊï∞ II<br>ÁªôÂÆö‰∏Ä‰∏™Â§ßÂ∞è‰∏∫ n ÁöÑÊï¥Êï∞Êï∞ÁªÑÔºåÊâæÂá∫ÂÖ∂‰∏≠ÊâÄÊúâÂá∫Áé∞Ë∂ÖËøá ‚åä n/3 ‚åã Ê¨°ÁöÑÂÖÉÁ¥†„ÄÇ<br>Á§∫‰æã 1Ôºö</p><p>ËæìÂÖ•Ôºö[3,2,3]<br>ËæìÂá∫Ôºö[3]<br>Á§∫‰æã 2Ôºö</p><p>ËæìÂÖ•Ôºönums = [1]<br>ËæìÂá∫Ôºö[1]</p><p>Á§∫‰æã 3Ôºö<br>ËæìÂÖ•Ôºö[1,1,1,3,3,2,2,2]<br>ËæìÂá∫Ôºö[1,2]</p><p>ÊèêÁ§∫Ôºö<br>1 &lt;= nums.length &lt;= 5 * 104<br>-109 &lt;= nums[i] &lt;= 109<br>ËøõÈò∂ÔºöÂ∞ùËØïËÆæËÆ°Êó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫ O(n)„ÄÅÁ©∫Èó¥Â§çÊùÇÂ∫¶‰∏∫ O(1)ÁöÑÁÆóÊ≥ïËß£ÂÜ≥Ê≠§ÈóÆÈ¢ò„ÄÇ</p></blockquote><h1 id="Êë©Â∞îÊäïÁ•®Ê≥ï"><a href="#Êë©Â∞îÊäïÁ•®Ê≥ï" class="headerlink" title="Êë©Â∞îÊäïÁ•®Ê≥ï"></a>Êë©Â∞îÊäïÁ•®Ê≥ï</h1><h2 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h2><p>Êàë‰ªéËÆæËÆ°‰∏Ä‰∏™Ê∏∏ÊàèÂÖ•ÊâãÔºå‰∏∫‰Ω†ËÆ≤Ëß£Êë©Â∞îÊäïÁ•®ÁöÑÊÄùË∑Ø„ÄÇ</p><h3 id="ËÆæËÆ°‰∏ÄÊ¨æÁ±ª‰ºº‰øÑÁΩóÊñØÊñπÂùóÁöÑÁÆÄÂçïÊ∂àÈô§Ê∏∏Êàè"><a href="#ËÆæËÆ°‰∏ÄÊ¨æÁ±ª‰ºº‰øÑÁΩóÊñØÊñπÂùóÁöÑÁÆÄÂçïÊ∂àÈô§Ê∏∏Êàè" class="headerlink" title="ËÆæËÆ°‰∏ÄÊ¨æÁ±ª‰ºº‰øÑÁΩóÊñØÊñπÂùóÁöÑÁÆÄÂçïÊ∂àÈô§Ê∏∏Êàè"></a>ËÆæËÆ°‰∏ÄÊ¨æÁ±ª‰ºº‰øÑÁΩóÊñØÊñπÂùóÁöÑÁÆÄÂçïÊ∂àÈô§Ê∏∏Êàè</h3><p>Ê∏∏Êàè‰∏ªÊùøÂùóÊòØ<strong>‰∏â‰∏™Á∫µÂêëÂàóÈòüÊßΩ</strong>ÁªÑÊàêÁöÑÊó†‰∏äÈôêÁ©∫Èó¥ÔºåÂ¶ÇÂõæ„ÄÇËÆæËÆ°‰∏Ä‰∏ãËêΩÊñπÂùóÊï∞ÁªÑÔºåÊØîÂ¶Ç [A,A,A,B,B,C]Ôºå‰∏Ä‰∏™ÊñπÂùóËÉΩÂç†‰∏Ä‰∏™ÊßΩ‰Ωç„ÄÇ</p><p>ÂÖÉÁ¥†ÊñπÂùóÊåâÊï∞ÁªÑÈ°∫Â∫èËΩÆÊµÅÂá∫Áé∞ÔºåËêΩÂÖ•ÊùøÂùó‰∏≠„ÄÇ‰Ω†Â∞ÜÂ∑¶Âè≥ÁßªÂä®Êìç‰Ωú‰∏ãËêΩ‰∏≠ÁöÑÊñπÂùóÔºåÁõ¥Âà∞‰∏ãÈôçËá≥ÂÖ∂‰∏≠‰∏Ä‰∏™ÊßΩ‰ΩçÔºåÂÆåÊàêÊñπÂùóÂ†ÜÂè†„ÄÇ<em>ÔºàÂÖ∂ÂÆûÂ∞±ÊòØ‰øÑÁΩóÊñØÊñπÂùóÁöÑÁé©Ê≥ïÔºâ</em><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|Âè£Âè£Âè£|    &lt;--ÊñπÂùó‰ªé‰∏äÂêë‰∏ãÂ†ÜÂè†</span><br><span class="line">|Âè£Âè£Âè£|</span><br><span class="line">|Âè£Âè£Âè£|      </span><br><span class="line">|Âè£Âè£Âè£|       </span><br><span class="line">|Âè£Âè£Âè£|    &lt;--&quot;Âè£&quot;ÊòØÊßΩ‰ΩçÔºåÊúâ‰∏âÂàó           </span><br><span class="line">--------</span><br></pre></td></tr></table></figure></p><p>Êàë‰ª¨ÁöÑËßÑÂàôÊòØÔºö<strong>ÂΩì‰∏ÄÂ±ÇÂ°´Êª°Ôºå‰∏îÂÖÉÁ¥†Âùá‰∏çÁõ∏ÂêåÔºåËØ•Â±ÇÁ´ãÈ©¨ÂèëÁîüÊ∂àÈô§</strong>„ÄÇÊ∂àÈô§ÂêéÂâ©‰ΩôÊñπÂùóÊúÄÂ∞ëÂàôËÉúÂà©„ÄÇ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|Âè£Âè£Âè£|        |Âè£Âè£Âè£|</span><br><span class="line">|Âè£Âè£Âè£|  ==&gt;   |Âè£Âè£Âè£|</span><br><span class="line">|A Âè£Âè£|        |Âè£Âè£Âè£|</span><br><span class="line">|A B Âè£|        |A Âè£Âè£|</span><br><span class="line">|AÃ∂ Ã∂BÃ∂ Ã∂CÃ∂ | Ê∂àÈô§   |A B Âè£|  ‚Üì</span><br><span class="line">--------        --------</span><br></pre></td></tr></table></figure></p><p>Ê†πÊçÆËßÑÂàôÔºå‰∏ÄÊó¶Âêå‰∏ÄÂ±ÇÂá∫Áé∞Áõ∏ÂêåÂÖÉÁ¥†ÔºåÂàôÊó†Ê≥ïÊ∂àÈô§ÔºåÂõ†Ê≠§Êàë‰ª¨Ë¶Å‰øùËØÅÂêå‰∏ÄÂ±ÇÂùá‰∏çÁõ∏ÂêåÔºåÈááÂèñÊîªÁï•Ôºö<strong>ÈÅáÂà∞Áõ∏ÂêåÂÖÉÁ¥†Âè†Âú®‰∏ÄËµ∑ÔºåÈÅáÂà∞‰∏çÂêåÂÖÉÁ¥†ÂàôÊîæÂú®ÂÖ∂‰ªñÊßΩ‰ΩçÔºåÊúÄÂêé‰Ωø‰∏ÄÂ±ÇÂ°´Êª°Âπ∂ÂÆåÊàêÊ∂àÈô§</strong>„ÄÇËøôÊ†∑‰ºöÂèëÁé∞ÔºåÂ∫ïÂ±ÇÊÄªÊòØÂú®Ê∂àÈô§ÔºåÊâÄ‰ª•<strong>ÂøÖÂÆö‰ºöÊúâ‰∏ÄÂàóÊòØÁ©∫ÈòüÊßΩ</strong>„ÄÇ</p><p>ËØï‰∏ÄÂ±ÄÂ∞±Ê∏ÖÊ•ö‰∫ÜÔºåÊï∞ÁªÑÔºö[A,B,C,A,B,C,A,B,C,A,A,B]<br>A,B,C ‰∏çÁõ∏ÂêåÔºåÂêÑÊîæÂú®‰∏çÂêåÊßΩ‰ΩçÔºå‰∏ÄÂ±ÇÊª°ÂàôÊ∂àÈô§ÔºåÊ≠§Êó∂Èù¢ÊùøÂ≠òÂÇ®‰∏∫Á©∫<br>A,B,C ‰∏çÁõ∏ÂêåÔºåÂêÑÊîæÂú®‰∏çÂêåÊßΩ‰ΩçÔºå‰∏ÄÂ±ÇÊª°ÂàôÊ∂àÈô§ÔºåÊ≠§Êó∂Èù¢ÊùøÂ≠òÂÇ®‰∏∫Á©∫<br>A,B,C ‰∏çÁõ∏ÂêåÔºåÂêÑÊîæÂú®‰∏çÂêåÊßΩ‰ΩçÔºå‰∏ÄÂ±ÇÊª°ÂàôÊ∂àÈô§ÔºåÊ≠§Êó∂Èù¢ÊùøÂ≠òÂÇ®‰∏∫Á©∫<br>A,A   Áõ∏ÂêåÔºåÂ†ÜÂè†Âú®Â∑¶ËæπÊßΩ‰ΩçÔºåÊ≠§Êó∂Èù¢ÊùøÂ∑¶ËæπÂ≠òÂÇ®‰∫ÜAA<br>B    ‰∏éA‰∏çÁõ∏ÂêåÔºåÊîæÂú®‰∏çÂêåÊßΩ‰ΩçÔºåÊ≠§Êó∂Èù¢ÊùøÂ∑¶ËæπÂ≠òÂÇ®‰∫ÜAAÔºå‰∏≠Èó¥Â≠òÂÇ®B<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|A Âè£Âè£|        |Âè£Âè£Âè£|</span><br><span class="line">|A B Âè£|  ==&gt;   |Âè£Âè£Âè£|</span><br><span class="line">|AÃ∂Ã∂Ã∂ Ã∂BÃ∂ Ã∂CÃ∂ |        |Âè£Âè£Âè£|</span><br><span class="line">|AÃ∂Ã∂Ã∂ Ã∂BÃ∂ Ã∂CÃ∂ |        |A Âè£Âè£|</span><br><span class="line">|AÃ∂Ã∂Ã∂ Ã∂BÃ∂ Ã∂CÃ∂ | Ê∂àÈô§   |A B Âè£|  ‚Üì</span><br><span class="line">--------        --------</span><br></pre></td></tr></table></figure></p><p>ÊåâÁÖßÂõæ‰∏≠Â†ÜÂè†Ôºå<strong>ÊäµÊ∂àÂêéÂâ©‰∏ãÁªìÊûúA BÔºåÁî±‰∫éÊï∞ÁªÑÂè™ÊúâABC‰∏âÁßçÂÖÉÁ¥†ÔºåÈÇ£‰πàÂâ©‰∏ãÁªìÊûúÈÉΩÊòØ‰∏™Êï∞Ë∂ÖËøáN/3ÁöÑÂÖÉÁ¥†„ÄÇ</strong></p><p>ÂÜçËØï‰∏ÄÂ±ÄÔºåÊï∞ÁªÑÔºö[X,Y,B,Q,R,T,A,A,B,C,A,B]<br>X,Y,B ‰∏çÁõ∏ÂêåÔºåÂêÑÊîæÂú®‰∏çÂêåÊßΩ‰ΩçÔºå‰∏ÄÂ±ÇÊª°ÂàôÊ∂àÈô§ÔºåÊ≠§Êó∂Èù¢ÊùøÂ≠òÂÇ®‰∏∫Á©∫<br>Q,R,T ‰∏çÁõ∏ÂêåÔºåÂêÑÊîæÂú®‰∏çÂêåÊßΩ‰ΩçÔºå‰∏ÄÂ±ÇÊª°ÂàôÊ∂àÈô§ÔºåÊ≠§Êó∂Èù¢ÊùøÂ≠òÂÇ®‰∏∫Á©∫<br>A,A   Áõ∏ÂêåÔºåÂ†ÜÂè†Âú®Â∑¶ËæπÊßΩ‰ΩçÔºåÊ≠§Êó∂Èù¢ÊùøÂ∑¶ËæπÂ≠òÂÇ®‰∫ÜAA<br>B    ‰∏éA‰∏çÁõ∏ÂêåÔºåÊîæÂú®‰∏çÂêåÊßΩ‰ΩçÔºåÊ≠§Êó∂Èù¢ÊùøÂ∑¶ËæπÂ≠òÂÇ®‰∫ÜAAÔºå‰∏≠Èó¥Â≠òÂÇ®B<br>C    ‰∏éAÔºåB‰∏çÁõ∏ÂêåÔºåÊîæÂú®‰∏çÂêåÊßΩ‰ΩçÔºåA,B,C‰∏ÄÂ±ÇÊª°Ê∂àÈô§ÔºåÔºåÊ≠§Êó∂Èù¢ÊùøÂ∑¶ËæπÂ≠òÂÇ®‰∫ÜAAÔºå‰∏≠Èó¥Â≠òÂÇ®B<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">|A Âè£Âè£|        |Âè£Âè£Âè£|</span><br><span class="line">|A B Âè£|  ==&gt;   |Âè£Âè£Âè£|</span><br><span class="line">|AÃ∂Ã∂Ã∂ Ã∂BÃ∂ Ã∂CÃ∂ |        |Âè£Âè£Âè£|</span><br><span class="line">|Ã∂QÃ∂ Ã∂RÃ∂ Ã∂TÃ∂ |        |A Âè£Âè£|</span><br><span class="line">|Ã∂XÃ∂ Ã∂YÃ∂ Ã∂BÃ∂ Ã∂| Ê∂àÈô§   |A B Âè£|  ‚Üì</span><br><span class="line">--------        --------</span><br></pre></td></tr></table></figure></p><p>ÊåâÁÖßÂõæ‰∏≠Â†ÜÂè†Ôºå<strong>ÊäµÊ∂àÂêéÂâ©‰∏ãÁªìÊûúA BÔºåÁî±‰∫éÊï∞ÁªÑÊú¨Ë∫´Ê≤°Êúâ‰∏™Êï∞Ë∂ÖËøáN/3ÁöÑÂÖÉÁ¥†ÔºåËØ¥ÊòéÂâ©‰∏ãÁöÑÂÖÉÁ¥†‰πüÊ≤°Êúâ‰∏™Êï∞Ë∂ÖËøáN/3ÁöÑ</strong>„ÄÇ</p><p>Â∞±ÊòØËØ¥ÔºåÂú®ÊØèÈÅá3‰∏™‰∏çÂêåÂÖÉÁ¥†Â∞±‰∫íÁõ∏ÊäµÊ∂àÁöÑÁé©Ê≥ï‰∏ãÔºåÂ¶ÇÊûúÂ≠òÂú®Êï∞ÈáèË∂ÖËøáN/3ÁöÑÂÖÉÁ¥†ÔºåÊäµÊ∂àÂêé‰∏ÄÂÆöÊúâÊ≠§ÂÖÉÁ¥†ÁöÑÂâ©‰ΩôÔºõ‰ΩÜÂâ©‰ΩôÁöÑÔºå‰∏ç‰∏ÄÂÆöÈÉΩÊòØÊï∞ÈáèË∂ÖËøáN/3ÁöÑÂÖÉÁ¥†„ÄÇ</p><p><strong>ÊâÄ‰ª•ÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂèñÂæóÊ∂àÈô§ÂêéÂâ©‰ΩôÁöÑÂÖÉÁ¥†ÔºåÈÄöËøáÈÅçÂéÜÊï∞ÁªÑÂØπÂÖ∂ËÆ°Êï∞ÔºåÂà§Êñ≠‰∏™Êï∞ÊòØÂê¶Êª°Ë∂≥Â§ß‰∫éN/3Âç≥ÂèØÂæóÂà∞Êú¨È¢òÁöÑÁ≠îÊ°à</strong></p><h3 id="Ê∏∏ÊàèÊõøÊç¢ÊàêÊë©Â∞îÊäïÁ•®"><a href="#Ê∏∏ÊàèÊõøÊç¢ÊàêÊë©Â∞îÊäïÁ•®" class="headerlink" title="Ê∏∏ÊàèÊõøÊç¢ÊàêÊë©Â∞îÊäïÁ•®"></a>Ê∏∏ÊàèÊõøÊç¢ÊàêÊë©Â∞îÊäïÁ•®</h3><p>ÊØèÊ¨°ÂÖÉÁ¥†ÊñπÂùó‰∏ãËêΩÔºåÂ∞±Áõ∏ÂΩì‰∫éÂØπÂÖ∂ÂÖÉÁ¥†ÁöÑ‰∏ÄÊ¨°ÊäïÁ•®„ÄÇ<br>ÂΩì‰∏ÄÂ±ÇÁöÑÊØè‰∏™ÊßΩ‰ΩçÔºàÂÄôÈÄâ‰∫∫ÔºâÈÉΩÊúâ‰∏ÄÁ•®ÔºåÂõ†‰∏∫Ëøô‰∫õÁ•®‰∏çÂΩ±ÂìçÊúÄÁªàÁªìÊûúÔºå‰∫íÁõ∏ËøõË°åÊäµÊ∂à„ÄÇ<br>Ë¢´ÊäïÁ•®‰∏™Êï∞Ë∂ÖËøáN/3‰∏ÄÂÆö‰ºöÁïôÂà∞ÊúÄÂêé‰∏çË¢´Ê∂àÈô§„ÄÇ</p><h3 id="‰ª£Á†ÅÊÄùË∑Ø"><a href="#‰ª£Á†ÅÊÄùË∑Ø" class="headerlink" title="‰ª£Á†ÅÊÄùË∑Ø"></a>‰ª£Á†ÅÊÄùË∑Ø</h3><ol><li>ÂàùÂßãÂåñ‰∏§‰∏™ÊßΩ‰Ωç‰ª•ÂèäÂÖ∂Â≠òÂÇ®ÂÖÉÁ¥†‰∏™Êï∞„ÄÇ<br><em>Ôºà‰∏∫‰ªÄ‰πà‰∏çÂÆö‰πâ‰∏â‰∏™ÊßΩ‰ΩçÔºü Êúâ‰∏Ä‰∏™ÊßΩ‰ΩçÂøÖÁÑ∂Áî®‰∫éÊäµÊ∂àÊéâÂÖ∂‰ªñÊßΩ‰ΩçÔºåÂ≠òÂÇ®ÂÖÉÁ¥†ÂøÖÊòØ0ÔºåÂè™ÈúÄÂÖ≥Ê≥®ÂÖ∂‰ªñÊßΩ‰ΩçÂ≠òÂÇ®ÊÉÖÂÜµÂç≥ÂèØÔºâ</em></li><li>‰ºòÂÖàËøõÊßΩ‰Ωç1ÔºåÂΩìÂâçÂÖÉÁ¥†‰∏éÊßΩ‰Ωç1Áõ∏ÂêåÂÖÉÁ¥†ÂàôÂ†ÜÂè†Ôºå‰∏çÁ¨¶ÂêàÂàôÂÖ•ÊßΩ‰Ωç2</li><li>ÂÖ•ÊßΩ‰Ωç2Êó∂ÔºåÂΩìÂâçÂÖÉÁ¥†‰∏éÊßΩ‰Ωç2Áõ∏ÂêåÂÖÉÁ¥†ÂàôÂ†ÜÂè†Ôºõ‰∏çÁ¨¶ÂêàÂàôÂÖ•Á©∫ÈòüÊßΩ</li><li>‰ºòÂÖàÂÖ•Á©∫ÊßΩ1ÔºåÂê¶ÂàôÁ©∫ÊßΩ2ÔºåÂê¶ÂàôÂÖ•Ââ©‰ΩôÊßΩ</li><li>ÂÖ•Ââ©‰ΩôÊßΩÊó∂Ôºå‰ºö‰∏éÂÖ∂‰ªñÊßΩÂèëÁîü‰∏ÄÊ¨°ÊäµÊ∂àÔºåÊ≠§ÊßΩÂèàÂèòÂõûÁ©∫ÊßΩ</li><li>ÊúÄÂêéËé∑ÂæóÂâ©‰∏ãÂú®ÈòüÊßΩÁöÑÂÖÉÁ¥†ÔºåÂπ∂Êï∞Âá∫ÂØπÂ∫îÂÖÉÁ¥†Âú®Êï∞ÁªÑ‰∏≠ÁöÑ‰∏™Êï∞ÊòØÂê¶Êª°Ë∂≥Â§ß‰∫é N/3<h2 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">majorityElement</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ÂàùÂßãÂåñ‰∏§‰∏™ÊßΩ‰Ωç‰ª•ÂèäÂÖ∂Â≠òÂÇ®ÂÖÉÁ¥†‰∏™Êï∞„ÄÇ</span></span><br><span class="line">        <span class="comment">//Ôºà‰∏∫‰ªÄ‰πà‰∏çÂÆö‰πâ‰∏â‰∏™ÊßΩ‰ΩçÔºü Êúâ‰∏Ä‰∏™ÊßΩ‰ΩçÂøÖÁÑ∂Áî®‰∫éÊäµÊ∂àÊéâÂÖ∂‰ªñÊßΩ‰ΩçÔºåÂ≠òÂÇ®ÂÖÉÁ¥†ÂøÖÊòØ0ÔºåÂè™ÈúÄÂÖ≥Ê≥®ÂÖ∂‰ªñÊßΩ‰ΩçÂ≠òÂÇ®ÊÉÖÂÜµÂç≥ÂèØÔºâ</span></span><br><span class="line">        <span class="keyword">int</span> slot1 = nums[<span class="number">0</span>], count1 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> slot2 = nums[<span class="number">0</span>], count2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Êë©Â∞îÊäïÁ•®Ê≥ï</span></span><br><span class="line">        <span class="comment">// ÂÖ•ÈòüÊßΩÂíåÊäµÊ∂àËøáÁ®ã</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (slot1 == num) &#123; <span class="comment">// Áõ∏ÂêåÂÖÉÁ¥†ÂÖ•Áõ∏ÂêåÁöÑÈòüÊßΩ</span></span><br><span class="line">                count1++;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (slot2 == num) &#123; <span class="comment">// Áõ∏ÂêåÂÖÉÁ¥†ÂÖ•Áõ∏ÂêåÁöÑÈòüÊßΩ</span></span><br><span class="line">                count2++;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (count1 == <span class="number">0</span>) &#123; <span class="comment">// Â≠òÂÇ®Âú®ÂÄôÈÄâÁ©∫ÊßΩ</span></span><br><span class="line">                slot1 = num;</span><br><span class="line">                count1++;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (count2 == <span class="number">0</span>) &#123; <span class="comment">// Â≠òÂÇ®Âú®ÂÄôÈÄâÁ©∫ÊßΩ</span></span><br><span class="line">                slot2 = num;</span><br><span class="line">                count2++;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;      <span class="comment">// ÂÖ•ÊúÄÂêéÂâ©‰ΩôÁöÑÁ©∫ÊßΩÔºå‰∏î‰∏éÂÖ∂‰ªñÊßΩÂèëÁîü‰∏ÄÊ¨°ÊäµÊ∂àÔºåÊ≠§ÊßΩÂèàÂèòÂõûÁ©∫ÊßΩ</span></span><br><span class="line">                count1--;</span><br><span class="line">                count2--;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ËÆ°Êï∞ËøáÁ®ã</span></span><br><span class="line">        <span class="comment">// Ê≠§Êó∂ÔºåËé∑ÂæóÂâ©‰∏ãÂú®ÈòüÊßΩÁöÑÂÖÉÁ¥†ÔºåÂπ∂Êï∞Âá∫ÂØπÂ∫îÂÖÉÁ¥†Âú®Êï∞ÁªÑ‰∏≠ÁöÑ‰∏™Êï∞ÊòØÂê¶Êª°Ë∂≥Â§ß‰∫é N/3</span></span><br><span class="line">        count1 = <span class="number">0</span>;</span><br><span class="line">        count2 = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">            <span class="keyword">if</span> (slot1 == num) count1++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (slot2 == num) count2++;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (count1 &gt; nums.length / <span class="number">3</span>)&#123;</span><br><span class="line">            res.add(slot1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count2 &gt; nums.length / <span class="number">3</span>)&#123;</span><br><span class="line">            res.add(slot2);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;È¢òÁõÆ&quot;&gt;&lt;a href=&quot;#È¢òÁõÆ&quot; class=&quot;headerlink&quot; title=&quot;È¢òÁõÆ&quot;&gt;&lt;/a&gt;È¢òÁõÆ&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/majority-element-ii/&quot; target</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="Êë©Â∞îÊäïÁ•®Ê≥ï" scheme="https://github.com/missionOdd/tags/Êë©Â∞îÊäïÁ•®Ê≥ï/"/>
    
  </entry>
  
  <entry>
    <title>Âèå‰∏≤È¢ò | kmpÁÆóÊ≥ïÁöÑÁÆÄÂçïÁêÜËß£ ÔºàjavaÔºâ</title>
    <link href="https://github.com/missionOdd/2021/12/12/kmp-algorithm/"/>
    <id>https://github.com/missionOdd/2021/12/12/kmp-algorithm/</id>
    <published>2021-12-12T07:50:37.000Z</published>
    <updated>2022-01-12T15:41:55.445Z</updated>
    
    <content type="html"><![CDATA[<h1 id="È¢òÁõÆ"><a href="#È¢òÁõÆ" class="headerlink" title="È¢òÁõÆ"></a>È¢òÁõÆ</h1><p><a href="https://leetcode-cn.com/problems/implement-strstr/" target="_blank" rel="noopener">the leetcode link</a></p><blockquote><p>ÂÆûÁé∞ strStr()<br>Áªô‰Ω†‰∏§‰∏™Â≠óÁ¨¶‰∏≤&nbsp;<code>haystack</code> Âíå <code>needle</code> ÔºåËØ∑‰Ω†Âú® <code>haystack</code> Â≠óÁ¨¶‰∏≤‰∏≠ÊâæÂá∫ <code>needle</code> Â≠óÁ¨¶‰∏≤Âá∫Áé∞ÁöÑÁ¨¨‰∏Ä‰∏™‰ΩçÁΩÆÔºà‰∏ãÊ†á‰ªé 0 ÂºÄÂßãÔºâ„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®ÔºåÂàôËøîÂõû&nbsp; <code>-1</code><strong> </strong>„ÄÇ<br><strong>ËØ¥ÊòéÔºö</strong><br>ÂΩì&nbsp;<code>needle</code>&nbsp;ÊòØÁ©∫Â≠óÁ¨¶‰∏≤Êó∂ÔºåÊàë‰ª¨Â∫îÂΩìËøîÂõû‰ªÄ‰πàÂÄºÂë¢ÔºüËøôÊòØ‰∏Ä‰∏™Âú®Èù¢ËØï‰∏≠ÂæàÂ•ΩÁöÑÈóÆÈ¢ò„ÄÇ<br>ÂØπ‰∫éÊú¨È¢òËÄåË®ÄÔºåÂΩì&nbsp;<code>needle</code>&nbsp;ÊòØÁ©∫Â≠óÁ¨¶‰∏≤Êó∂Êàë‰ª¨Â∫îÂΩìËøîÂõû 0 „ÄÇËøô‰∏é C ËØ≠Ë®Ä&gt; &gt; ÁöÑ&nbsp;<a href="https://baike.baidu.com/item/strstr/811469" target="_blank" rel="noopener">strstr()</a>&nbsp;‰ª•Âèä Java ÁöÑ&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(java.lang.String" target="_blank" rel="noopener">indexOf()</a>)&nbsp;ÂÆö‰πâÁõ∏Á¨¶„ÄÇ</p></blockquote><blockquote><p><strong>Á§∫‰æã 1Ôºö</strong></p><p><strong>ËæìÂÖ•Ôºö</strong>haystack = ‚Äúhello‚Äù, needle = ‚Äúll‚Äù<br><strong>ËæìÂá∫Ôºö</strong>2</p></blockquote><blockquote><p><strong>Á§∫‰æã 2Ôºö</strong></p><p><strong>ËæìÂÖ•Ôºö</strong>haystack = ‚Äúaaaaa‚Äù, needle = ‚Äúbba‚Äù<br><strong>ËæìÂá∫Ôºö</strong>-1</p></blockquote><blockquote><p><strong>Á§∫‰æã 3Ôºö</strong></p><p><strong>ËæìÂÖ•Ôºö</strong>haystack = ‚Äú‚Äù, needle = ‚Äú‚Äù<br><strong>ËæìÂá∫Ôºö</strong>0</p></blockquote><blockquote><p>&nbsp;</p><p><strong>ÊèêÁ§∫Ôºö</strong></p><ul><li><code>0 &amp;lt;= haystack.length, needle.length &amp;lt;= 5 * 10&lt;sup&gt;4&lt;/sup&gt;</code></li><li><code>haystack</code> Âíå <code>needle</code> ‰ªÖÁî±Â∞èÂÜôËã±ÊñáÂ≠óÁ¨¶ÁªÑÊàê</li></ul></blockquote><h1 id="Ëß£È¢òÊÄùË∑Ø"><a href="#Ëß£È¢òÊÄùË∑Ø" class="headerlink" title="Ëß£È¢òÊÄùË∑Ø"></a>Ëß£È¢òÊÄùË∑Ø</h1><p>È¶ñÂÖàÔºåÊÉ≥ÊÉ≥Êö¥ÂäõËß£Ê≥ïÁöÑÂ§ßËá¥ÊÄùË∑Ø„ÄÇ<br>ÂèØ‰ª•Áî®‰∏§‰∏™ÊåáÈíàÂàÜÂà´Âú®‰∏§Â≠óÁ¨¶‰∏≤‰∏äÊ∏∏Ëµ∞ÔºåËÆ©pÂíås‰∏Ä‰∏™‰∏Ä‰∏™Â≠óÁ¨¶ÈÅçÂéÜÂåπÈÖç„ÄÇ<br>ÂåπÈÖçËøáÁ®ã‰∏≠ÔºåsË¢´Áúã‰ΩúÂàÜÊàêÂõõ‰∏™Âå∫ÂüüÔºö<code>Â∑≤ÊîæÂºÉÂåπÈÖç</code>Ôºå<code>ÂÆåÊàêÂåπÈÖç</code>Ôºå<code>Ê≠£Âú®ÂåπÈÖç</code>Ôºå<code>Êú™ÂåπÈÖç</code>„ÄÇtips: Ê≠£Âú®ÂåπÈÖçÂå∫ÂüüÊòØ1‰∏™Â≠óÁ¨¶„ÄÇ<br>pË¢´Áúã‰ΩúÂàÜÊàê‰∏§‰∏™Âå∫ÂüüÔºö<code>ÂåπÈÖç</code>Ôºå<code>Êú™ÂåπÈÖçÔºàÂåÖÊã¨Ê≠£Âú®ÂåπÈÖçÔºâ</code>„ÄÇ<br>Â¶ÇÊûúÂèëÁé∞Â≠óÁ¨¶ÂåπÈÖçÂ§±Ë¥•ÔºåÂ∞±sË¶Å‰∏¢ÂºÉÊéâÊ≠§Ê¨°ÂåπÈÖçÊÉÖÂÜµÔºåËøõÂÖ•‰∏ã‰∏Ä‰∏™ÂåπÈÖçÊÉÖÂÜµÔºö<br>Âç≥ÂÆåÊàêÂåπÈÖçÂå∫ÂüüÊ∏Ö0ÔºåÂ∑≤ÊîæÂºÉÂåπÈÖçÂå∫Âüü+1ÔºåÊ≠£Âú®ÂåπÈÖçÂå∫ÂüüÂõûÈÄÄËá≥Â∑≤ÊîæÂºÉÂåπÈÖçÂå∫ÂüüÊú´Á´Ø+1ÔºåÂâ©‰∏ãÂ∞±ÊòØË¢´Â¢ûÂ§ßÁöÑÊú™ÂåπÈÖçÂå∫Âüü„ÄÇ<br>Ê≠§Êó∂Áõ∏Â∫îÁöÑÔºåÊåáÈíà‰πüÈÉΩË¶ÅÂõûÈÄÄÔºö sÂõûÈÄÄÂà∞‰∏äÊ¨°ÂÆåÊàêÂåπÈÖçÂå∫Èó¥ÁöÑÂºÄÂßãÂ≠óÁ¨¶ÁöÑ‰∏ã‰∏Ä‰∏™ÔºåpÂõûÈÄÄÂà∞ÂºÄÂßãÔºåÂÜçÈÅçÂéÜ‰∏Ä‰∏™‰∏™ÂåπÈÖç„ÄÇ</p><p><strong>kmpÂÖ∂ÂÆûÊòØÂØπÂõûÈÄÄËøáÁ®ãÁöÑ‰ºòÂåñ„ÄÇ</strong><br>Âú®ÂèëÁîüÂåπÈÖçÂ§±Ë¥•ÁöÑÊó∂ÂÄôÔºåÂÆÉËÉΩÂ§üÈÄöËøáËßÇÂØüpÁöÑÂΩìÂâç<code>ÂåπÈÖçÂå∫Âüü</code>ÔºåÁúãÂÖ∂ÂâçÂêé<strong>‰∏§Á´Ø</strong>ÊòØÂê¶ÂÖ∑Â§áÈïúÂÉèÂ≠óÁ¨¶‰∏≤„ÄÇ<br>ËÆ∞‰∏ãÊúÄÈïøÁöÑÈïúÂÉèÂ≠óÁ¨¶‰∏≤ÔºåpË¶ÅÂõûÈÄÄÂà∞ÂâçËæπÁöÑÊúÄÈïøÈïúÂÉèÂ≠óÁ¨¶‰∏≤Êú´Á´Ø+1Ôºås‰∏çÁî®ÂõûÈÄÄ<br>‰πüÂ∞±ÊòØËØ¥ÔºåË¶ÅÂú®pÁöÑÂåπÈÖçÂâçÁºÄÁöÑÂå∫ÂüüÂÜÖÔºåÊâæ<strong>ÊúÄÈïøÁõ∏Á≠âÂâçÂêéÁºÄ</strong>Ôºåp‰∏äÊåáÈíàÂõûÈÄÄÂà∞ÊúÄÈïøÁõ∏Á≠âÂâçÁºÄÁöÑÊú´Á´Ø+1Ôºås‰∏çÁî®ÂõûÈÄÄÔºõ</p><hr><p><strong>Q:‰∏∫‰ªÄ‰πàÊâæpÂåπÈÖçÁöÑ‰∏§Á´ØÈïúÂÉèÂ≠óÁ¨¶‰∏≤ÔºàÊâæÊúÄÈïøÁõ∏Á≠âÂâçÂêéÁºÄÔºâËÉΩÂ§ü‰ºòÂåñÂõûÈÄÄËøáÁ®ãÔºü</strong><br><strong>AÔºö</strong> pÂåπÈÖçÂå∫ÁöÑÊú´Á´ØÈÉ®ÂàÜ‰∏ésÂåπÈÖçÂå∫ÁöÑÊú´Á´ØÈÉ®ÂàÜÂéüÊú¨Á°ÆÂÆöÊòØÂåπÈÖçÂêªÂêàÔºõ<br>Â¶ÇÊûúÊâæÂà∞ÈïúÂÉèÂ≠óÁ¨¶‰∏≤ÂêéÔºåÂç≥pÂåπÈÖçÂå∫ÁöÑÂâçÁ´ØÈïúÂÉèÂ≠óÁ¨¶‰∏≤ÈÉ®ÂàÜ=pÂåπÈÖçÂå∫ÁöÑÊú´Á´ØÈïúÂÉèÂ≠óÁ¨¶‰∏≤ÈÉ®ÂàÜÔºå‰πüÂ∞±ÂèØ‰ª•Á°ÆÂÆöpÂåπÈÖçÂå∫ÁöÑÂâçÁ´ØÈïúÂÉèÂ≠óÁ¨¶‰∏≤ÈÉ®ÂàÜ‰∏ésÂåπÈÖçÂå∫Êú´Á´ØÈÉ®ÂàÜ‰πüËÉΩÂåπÈÖçÂêªÂêà„ÄÇ<br><code>tipsÔºöËøôÈáåËØ¥sÂåπÈÖçÂå∫‰∏çÂåÖÊã¨Ê≠£Âú®ÂåπÈÖçÁöÑÂ≠óÁ¨¶ÔºåÊòØÊåásÂåπÈÖçÂâçÁºÄ„ÄÇ</code><br>ÈÇ£‰πàÂú®ÂõûÈÄÄÊó∂ÔºåÂ∞±ÂèØ‰ª•Â∑ßÂ¶ôÂú∞Ë∑≥ËøáËøô‰∏ÄÂ∑≤Áü•ÂêªÂêàÈÉ®ÂàÜÁöÑÊØîÂØπÂåπÈÖçÊìç‰ΩúÔºåÁõ¥Êé•‰ªépÂåπÈÖçÂå∫ÁöÑÂâçÁ´ØÈïúÂÉèÂ≠óÁ¨¶‰∏≤ÈÉ®ÂàÜÊú´Â∞æ+1‰∏ésÂΩìÂâçÂåπÈÖçÂ≠óÁ¨¶ËøõË°åÊØîÂØπÔºåËäÇÁúÅÊó∂Èó¥„ÄÇËã•ÊØîÂØπÂåπÈÖçÂ§±Ë¥•ÂÜçÂõûÈÄÄ„ÄÇ</p><p><strong>Q: ÂõûÈÄÄËøáÁ®ãÂ¶Ç‰ΩïÊâæÂà∞Ë∑≥Ë∑ÉËêΩÂú∞ÁÇπÔºü</strong><br><strong>A:</strong> ËøôÈúÄË¶ÅÊèêÂâçÂÆåÊàêÊ®°Âºè‰∏≤pÂâçÁºÄË°®ÁöÑÂàùÂßãÂåñÔºåÊàë‰ª¨‰ºöÂÆö‰πâ‰∏Ä‰∏™nextÊï∞ÁªÑÔºåËÆ∞‰∏ãÊØè‰∏ÄÊÆµÁöÑÊúÄÈïøÁõ∏Á≠âÂâçÂêéÁºÄÈïøÂ∫¶„ÄÇ<br><code>tipsÔºöÂÖ∂ÂÆûËØ•ÂÄºÁúüÊ≠£ÁöÑË°®Á§∫ÊòØÔºöÊúÄÈïøÁõ∏Á≠âÂâçÁºÄÊú´Â∞æ+1ÂÖÉÁ¥†ÁöÑ‰∏ãÊ†á„ÄÇ</code><br>ÂåπÈÖçÂ§±Ë¥•Êó∂ÔºåÊâæpÂΩìÂâçÂåπÈÖçÂå∫Êú´Á´ØÁöÑÂØπÂ∫îÁöÑnextÂÖÉÁ¥†ÂÄºËøõË°åË∑≥Ë∑ÉÔºåÂàôÂõûÈÄÄÂà∞Ê≠£Âú®ÂåπÈÖçÂ≠óÁ¨¶ËÉΩÂ§üÂåπÈÖçÊàêÂäüÁöÑÊÉÖÂÜµÔºåÊ≤°ÊúâÂ∞±ÂõûÂà∞pÁöÑÂºÄÂßã„ÄÇ</p><hr><p>‰ª•‰∏äÁÆÄÂçïÂú∞ÁêÜËß£‰∫ÜkmpÁöÑÊÄùÊÉ≥ÔºåËá≥‰∫éÂ¶Ç‰ΩïÂÆûÁé∞ÔºåÂÖ∑‰ΩìÁªÜËäÇË¶ÅÂõûÂà∞‰ª£Á†ÅÂΩì‰∏≠„ÄÇ</p><hr><h1 id="‰ª£Á†Å"><a href="#‰ª£Á†Å" class="headerlink" title="‰ª£Á†Å"></a>‰ª£Á†Å</h1><ol><li>Ë¶ÅÂàùÂßãÂåñÂâçÁºÄË°®ÔºåËÆ∞‰∏ãÊØè‰∏ÄÊÆµÁöÑÊúÄÈïøÁõ∏Á≠âÂâçÂêéÁºÄÈïøÂ∫¶ÔºåÂ≠òÂÖ•nextÊï∞ÁªÑÔºåÂÖ∂ÂÆûËØ•ÈïøÂ∫¶ÂÄºÁúüÊ≠£ÁöÑË°®Á§∫ÊòØÔºöÊúÄÈïøÁõ∏Á≠âÂâçÁºÄÊú´Â∞æ+1ÂÖÉÁ¥†ÁöÑ‰∏ãÊ†á<br>1.1 ÂÆö‰πâÂ∑¶Âè≥ÊåáÈíàÔºåÂè≥ÊåáÈíàÈÄíÂ¢û<br>1.2 Â¶ÇÊûúÂ∑¶Âè≥Â≠óÁ¨¶‰∏çÁõ∏Á≠âÔºåÂàôÂõûÈÄÄÂà∞Áõ∏Á≠âÁöÑÊÉÖÂÜµÔºåÊ≤°ÊúâÁõ∏Á≠âÂ∞±ÂõûÂà∞pÁöÑÂºÄÂßã<br>1.3 Áõ∏Á≠âÂàôÊúÄÈïøÁõ∏Á≠âÂâçÂêéÁºÄÈïøÂ∫¶Â¢ûÂä†ÔºåÂ∑¶ÊåáÈíàË¥üË¥£Â¢ûÂä†ÔºåÂè≥ÊåáÈíàË¥üË¥£ËÆ∞ÂΩï</li><li>ÊñáÊú¨‰∏≤sÂíåÊ®°Âºè‰∏≤pÂåπÈÖç<br>2.1 ÂÆö‰πâ‰∏§‰∏™ÊåáÈíàiÔºåjÂàÜÂà´Âú®‰∏§Â≠óÁ¨¶‰∏≤‰∏≠Ê∏∏Ëµ∞<br>2.2 ÂΩìÂåπÈÖçÂ§±Ë¥•Êó∂ÔºåpÈÄöËøánextÊï∞ÁªÑËøõË°åÂõûÈÄÄÂà∞ÂåπÈÖçÁõ∏Á≠âÁöÑÊÉÖÂÜµ<br>2.3 Âê¶ÂàôÔºåÈÄê‰∏™ÂåπÈÖçÔºåÂ¢ûÂä†ÂåπÈÖçÈïøÂ∫¶Ôºå‰∏ÄÁõ¥Âà∞ÂÆåÂÖ®ÂåπÈÖçÊàêÂäü</li><li>ÂÆåÂÖ®ÂåπÈÖç‰∏ç‰∫ÜÔºåËøîÂõû-1</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">strStr</span><span class="params">(String haystack, String needle)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> len = needle.length();</span><br><span class="line">        <span class="keyword">if</span>(len == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">char</span>[] s = haystack.toCharArray();</span><br><span class="line">        <span class="keyword">char</span>[] p = needle.toCharArray();</span><br><span class="line">        <span class="keyword">int</span>[] next = <span class="keyword">new</span> <span class="keyword">int</span>[len];</span><br><span class="line">        <span class="comment">// next ÂàùÂßãÂåñ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> left=<span class="number">0</span>, right=<span class="number">1</span>;right&lt;len;right++)&#123; <span class="comment">//right go forward</span></span><br><span class="line">            <span class="comment">//left ÂõûÈÄÄ</span></span><br><span class="line">            <span class="keyword">while</span>(left&gt;<span class="number">0</span> &amp;&amp; p[left] != p[right])&#123;</span><br><span class="line">                left= next[left-<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ÂåπÈÖçÈïøÂ∫¶Â¢ûÂä†</span></span><br><span class="line">            <span class="keyword">if</span>(p[left] == p[right])&#123;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            next[right] = left;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;i&lt;s.length;i++)&#123; <span class="comment">//s go forward</span></span><br><span class="line">            <span class="comment">//pÂõûÈÄÄ</span></span><br><span class="line">            <span class="keyword">while</span>(j&gt;<span class="number">0</span> &amp;&amp; s[i] != p[j])&#123;</span><br><span class="line">                j= next[j-<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ÂåπÈÖçÈïøÂ∫¶Â¢ûÂä†</span></span><br><span class="line">            <span class="keyword">if</span>(s[i] == p[j])&#123;</span><br><span class="line">                j++;   </span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ÂÆåÂÖ®ÂåπÈÖç</span></span><br><span class="line">            <span class="keyword">if</span>(j == len) <span class="keyword">return</span> i-len+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;È¢òÁõÆ&quot;&gt;&lt;a href=&quot;#È¢òÁõÆ&quot; class=&quot;headerlink&quot; title=&quot;È¢òÁõÆ&quot;&gt;&lt;/a&gt;È¢òÁõÆ&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/implement-strstr/&quot; target=&quot;_</summary>
      
    
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/categories/ÁÆóÊ≥ï/"/>
    
    
    <category term="ÁÆóÊ≥ï" scheme="https://github.com/missionOdd/tags/ÁÆóÊ≥ï/"/>
    
    <category term="kmp" scheme="https://github.com/missionOdd/tags/kmp/"/>
    
    <category term="Âèå‰∏≤È¢ò" scheme="https://github.com/missionOdd/tags/Âèå‰∏≤È¢ò/"/>
    
  </entry>
  
  <entry>
    <title>Êìç‰ΩúÁ≥ªÁªü | Á°¨Ê†∏ÂõæÊñáËÆ≤Ëß£</title>
    <link href="https://github.com/missionOdd/2021/12/10/os-notes/"/>
    <id>https://github.com/missionOdd/2021/12/10/os-notes/</id>
    <published>2021-12-10T05:50:37.000Z</published>
    <updated>2022-02-16T10:32:46.731Z</updated>
    
    <content type="html"><![CDATA[<h1 id="1-ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ª"><a href="#1-ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ª" class="headerlink" title="1 ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ª"></a>1 ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ª</h1><h3 id="1-1-ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ªÁÆÄ‰ªã"><a href="#1-1-ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ªÁÆÄ‰ªã" class="headerlink" title="1.1 ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ªÁÆÄ‰ªã"></a>1.1 ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ªÁÆÄ‰ªã</h3><p>Áé∞‰ª£ËÆ°ÁÆóÊú∫‰πãÁà∂<code>ÂÜØËØ∫‰ºäÊõº</code>ÊúÄÂÖàÊèêÂá∫Á®ãÂ∫èÂ≠òÂÇ®ÁöÑÊÄùÊÉ≥ÔºåÂπ∂ÊàêÂäüÂ∞ÜÂÖ∂ËøêÁî®Âú®ËÆ°ÁÆóÊú∫ÁöÑËÆæËÆ°‰πã‰∏≠ÔºåËØ•ÊÄùÊÉ≥Á∫¶ÂÆö‰∫ÜÁî®‰∫åËøõÂà∂ËøõË°åËÆ°ÁÆóÂíåÂ≠òÂÇ®ÔºåËøòÂÆö‰πâËÆ°ÁÆóÊú∫Âü∫Êú¨ÁªìÊûÑ‰∏∫ 5 ‰∏™ÈÉ®ÂàÜÔºåÂàÜÂà´ÊòØ<strong>‰∏≠Â§ÆÂ§ÑÁêÜÂô®ÔºàCPUÔºâ„ÄÅÂÜÖÂ≠ò„ÄÅËæìÂÖ•ËÆæÂ§á„ÄÅËæìÂá∫ËÆæÂ§á„ÄÅÊÄªÁ∫ø</strong>„ÄÇ</p><figure class="image-box">                <img src="image-20220208105256415.png" alt="image-20220208105256415" title class>                <p>image-20220208105256415</p>            </figure><ol><li><strong>Â≠òÂÇ®Âô®</strong>Ôºö‰ª£Á†ÅË∑üÊï∞ÊçÆÂú®RAMË∑üROM‰∏≠ÊòØÁ∫øÊÄßÂ≠òÂÇ®Ôºå Êï∞ÊçÆÂ≠òÂÇ®ÁöÑÂçï‰ΩçÊòØ‰∏Ä‰∏™‰∫åËøõÂà∂‰Ωç„ÄÇÊúÄÂ∞èÁöÑÂ≠òÂÇ®Âçï‰ΩçÊòØÂ≠óËäÇ„ÄÇ</li><li><strong>ÊÄªÁ∫ø</strong>ÔºöÊÄªÁ∫øÊòØÁî®‰∫é CPU ÂíåÂÜÖÂ≠ò‰ª•ÂèäÂÖ∂‰ªñËÆæÂ§á‰πãÈó¥ÁöÑÈÄö‰ø°ÔºåÊÄªÁ∫ø‰∏ªË¶ÅÊúâ‰∏âÁßçÔºö</li></ol><blockquote><ol><li><code>Âú∞ÂùÄÊÄªÁ∫ø</code>ÔºöÁî®‰∫éÊåáÂÆö CPU Â∞ÜË¶ÅÊìç‰ΩúÁöÑÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ</li><li><code>Êï∞ÊçÆÊÄªÁ∫ø</code>ÔºöÁî®‰∫éËØªÂÜôÂÜÖÂ≠òÁöÑÊï∞ÊçÆ„ÄÇ</li><li><code>ÊéßÂà∂ÊÄªÁ∫ø</code>ÔºöÁî®‰∫éÂèëÈÄÅÂíåÊé•Êî∂‰ø°Âè∑ÔºåÊØîÂ¶Ç‰∏≠Êñ≠„ÄÅËÆæÂ§áÂ§ç‰ΩçÁ≠â‰ø°Âè∑ÔºåCPU Êî∂Âà∞‰ø°Âè∑ÂêéÂìçÂ∫îÔºåËøôÊó∂‰πüÈúÄË¶ÅÊéßÂà∂ÊÄªÁ∫ø„ÄÇ</li></ol></blockquote><ol><li><strong>ËæìÂÖ•/ËæìÂá∫ËÆæÂ§á</strong>ÔºöËæìÂÖ•ËÆæÂ§áÂêëËÆ°ÁÆóÊú∫ËæìÂÖ•Êï∞ÊçÆÔºåËÆ°ÁÆóÊú∫ÁªèËøáËÆ°ÁÆóÂêéÔºåÊääÊï∞ÊçÆËæìÂá∫ÁªôËæìÂá∫ËÆæÂ§á„ÄÇÊØîÂ¶ÇÈîÆÁõòÊåâÈîÆÊó∂ÈúÄË¶ÅÂíå CPU ËøõË°å‰∫§‰∫íÔºåËøôÊó∂Â∞±ÈúÄË¶ÅÁî®Âà∞ÊéßÂà∂ÊÄªÁ∫ø„ÄÇ</li><li><strong>CPU</strong>Ôºö‰∏≠Â§ÆÂ§ÑÁêÜÂô®ÔºåÁ±ªÊØî‰∫∫ËÑëÔºå‰Ωú‰∏∫ËÆ°ÁÆóÊú∫Á≥ªÁªüÁöÑËøêÁÆóÂíåÊéßÂà∂Ê†∏ÂøÉÔºåÊòØ‰ø°ÊÅØÂ§ÑÁêÜ„ÄÅÁ®ãÂ∫èËøêË°åÁöÑÊúÄÁªàÊâßË°åÂçïÂÖÉ„ÄÇCPUÁî®ÂØÑÂ≠òÂô®Â≠òÂÇ®ËÆ°ÁÆóÊó∂ÊâÄÈúÄÊï∞ÊçÆÔºåÂØÑÂ≠òÂô®‰∏ÄËà¨Êúâ‰∏âÁßçÔºö</li></ol><blockquote><ol><li><code>ÈÄöÁî®ÂØÑÂ≠òÂô®</code>ÔºöÁî®Êù•Â≠òÊîæÈúÄË¶ÅËøõË°åËøêÁÆóÁöÑÊï∞ÊçÆÔºåÊØîÂ¶ÇÈúÄËøõË°åÂä†Ê≥ïËøêÁÆóÁöÑ‰∏§‰∏™Êï∞ÊçÆ„ÄÇ</li><li><code>Á®ãÂ∫èËÆ°Êï∞Âô®</code>ÔºöÁî®Êù•Â≠òÂÇ® CPU Ë¶ÅÊâßË°å‰∏ã‰∏ÄÊù°Êåá‰ª§ÊâÄÂú®ÁöÑÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ</li><li><code>Êåá‰ª§ÂØÑÂ≠òÂô®</code>ÔºöÁî®Êù•Â≠òÊîæÁ®ãÂ∫èËÆ°Êï∞Âô®ÊåáÂêëÁöÑÊåá‰ª§Êú¨Ë∫´„ÄÇ</li></ol></blockquote><p><strong>Âú®ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ª‰∏ãÁîµËÑëÊåá‰ª§ÊâßË°åÁöÑËøáÁ®ã</strong>Ôºö</p><ol><li>CPUËØªÂèñÁ®ãÂ∫èËÆ°Êï∞Âô®Ëé∑ÂæóÊåá‰ª§ÂÜÖÂ≠òÂú∞ÂùÄÔºåCPUÊéßÂà∂ÂçïÂÖÉÊìç‰ΩúÂú∞ÂùÄÊÄªÁ∫ø‰ªéÂÜÖÂ≠òÂú∞ÂùÄÊãøÂà∞Êï∞ÊçÆÔºåÊï∞ÊçÆÈÄöËøáÊï∞ÊçÆÊÄªÁ∫øÂà∞ËææCPUË¢´Â≠òÂÖ•Êåá‰ª§ÂØÑÂ≠òÂô®„ÄÇ</li><li>CPUÂàÜÊûêÊåá‰ª§ÂØÑÂ≠òÂô®‰∏≠ÁöÑÊåá‰ª§ÔºåÂ¶ÇÊûúÊòØËÆ°ÁÆóÁ±ªÂûãÁöÑÊåá‰ª§‰∫§ÁªôÈÄªËæëËøêÁÆóÂçïÂÖÉÔºåÂ¶ÇÊûúÊòØÂ≠òÂÇ®Á±ªÂûãÁöÑÊåá‰ª§‰∫§ÁªôÊéßÂà∂ÂçïÂÖÉÊâßË°å„ÄÇ</li><li>CPU ÊâßË°åÂÆåÊåá‰ª§ÂêéÁ®ãÂ∫èËÆ°Êï∞Âô®ÁöÑÂÄºÈÄöËøáËá™Â¢ûÊåáÂêë‰∏ã‰∏™Êåá‰ª§ÔºåÊØîÂ¶Ç32‰ΩçCPU‰ºöËá™Â¢û4„ÄÇ</li><li>Ëá™Â¢ûÂêéÂºÄÂßãÈ°∫Â∫èÊâßË°å‰∏ã‰∏ÄÊù°Êåá‰ª§Ôºå‰∏çÊñ≠Âæ™ÁéØÊâßË°åÁõ¥Âà∞Á®ãÂ∫èÁªìÊùü„ÄÇ</li></ol><p><strong>CPU‰ΩçÂÆΩ</strong>Ôºö32‰ΩçCPU‰∏ÄÊ¨°ÂèØÊìç‰ΩúËÆ°ÁÆó4‰∏™Â≠óËäÇÔºå64‰ΩçCPU‰∏ÄÊ¨°ÂèØÊìç‰ΩúËÆ°ÁÆó8‰∏™Â≠óËäÇÔºåËøô‰∏™ÊòØÁ°¨‰ª∂Á∫ßÂà´ÁöÑ„ÄÇÂπ≥Â∏∏Êàë‰ª¨ËØ¥ÁöÑ32‰ΩçÊàñ64‰ΩçÊìç‰ΩúÁ≥ªÁªüÊåáÁöÑÊòØËΩØ‰ª∂Á∫ßÂà´ÁöÑÔºåÊåáÁöÑÊòØÁ®ãÂ∫è‰∏≠Êåá‰ª§Â§öÂ∞ë‰Ωç„ÄÇ<br><strong>Á∫øË∑Ø‰ΩçÂÆΩ</strong>ÔºöCPUÊìç‰ΩúÊåá‰ª§Êï∞ÊçÆÈÄöËøáÈ´ò‰ΩéÁîµÂéãÂèòÂåñËøõË°åÊï∞ÊçÆ‰º†ËæìÔºå‰º†ËæìÊó∂ÂÄôÂèØ‰ª•‰∏≤Ë°å‰º†ËæìÔºå‰πüÂèØ‰ª•Âπ∂Ë°å‰º†ËæìÔºåÂ§öÂ∞ë‰∏™Âπ∂Ë°åÁ≠â‰∫éÂ§öÂ∞ë‰∏™‰ΩçÂÆΩ„ÄÇ</p><h3 id="1-2-CPU-ÁÆÄ‰ªã"><a href="#1-2-CPU-ÁÆÄ‰ªã" class="headerlink" title="1.2 CPU ÁÆÄ‰ªã"></a>1.2 CPU ÁÆÄ‰ªã</h3><p><code>Central Processing Unit ‰∏≠Â§ÆÂ§ÑÁêÜÂô®Ôºå‰Ωú‰∏∫ËÆ°ÁÆóÊú∫Á≥ªÁªüÁöÑËøêÁÆóÂíåÊéßÂà∂Ê†∏ÂøÉÔºåÊòØ‰ø°ÊÅØÂ§ÑÁêÜ„ÄÅÁ®ãÂ∫èËøêË°åÁöÑÊúÄÁªàÊâßË°åÂçïÂÖÉ</code>„ÄÇ</p><figure class="image-box">                <img src="image-20220208105332463.png" alt="cpu" title class>                <p>cpu</p>            </figure><p>  CPU</p><ol><li><p><code>CPUÊ†∏ÂøÉ</code>Ôºö‰∏ÄËà¨‰∏Ä‰∏™CPU‰ºöÊúâÂ§ö‰∏™CPUÊ†∏ÂøÉÔºåÂπ≥Â∏∏ËØ¥ÁöÑÂ§öÊ†∏ÊòØÊåáÂú®‰∏ÄÊûöÂ§ÑÁêÜÂô®‰∏≠ÈõÜÊàê‰∏§‰∏™ÊàñÂ§ö‰∏™ÂÆåÊï¥ÁöÑËÆ°ÁÆóÂºïÊìé„ÄÇÊ†∏Ë∑üCPUÁöÑÂÖ≥Á≥ªÊòØÔºöÊ†∏Â±û‰∫éCPUÁöÑ‰∏ÄÈÉ®ÂàÜ„ÄÇ</p></li><li><p><code>ÂØÑÂ≠òÂô®</code>ÔºöÊúÄÈù†ËøëCPUÂØπÂ≠òÂÇ®ÂçïÂÖÉÔºå32‰ΩçCPUÂØÑÂ≠òÂô®ÂèØÂ≠òÂÇ®4Â≠óËäÇÔºå64‰ΩçÂØÑÂ≠òÂô®ÂèØÂ≠òÂÇ®8Â≠óËäÇ„ÄÇÂØÑÂ≠òÂô®ËÆøÈóÆÈÄüÂ∫¶‰∏ÄËà¨ÊòØÂçä‰∏™CPUÊó∂ÈíüÂë®ÊúüÔºåÂ±û‰∫éÁ∫≥ÁßíÁ∫ßÂà´Ôºå</p></li><li><p><code>L1ÁºìÂ≠ò</code>ÔºöÊØè‰∏™CPUÊ†∏ÂøÉÈÉΩÊúâÔºåÁî®Êù•ÁºìÂ≠òÊï∞ÊçÆË∑üÊåá‰ª§ÔºåËÆøÈóÆÁ©∫Èó¥Â§ßÂ∞è‰∏ÄËà¨Âú®32ÔΩû256KBÔºåËÆøÈóÆÈÄüÂ∫¶‰∏ÄËà¨ÊòØ2ÔΩû4‰∏™CPUÊó∂ÈíüÂë®Êúü„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat /sys/devices/system/cpu/cpu0/cache/index0/size # L1 Êï∞ÊçÆÁºìÂ≠ò</span><br><span class="line">cat /sys/devices/system/cpu/cpu0/cache/index1/size # L1 Êåá‰ª§ÁºìÂ≠ò</span><br></pre></td></tr></table></figure></li><li><p><code>L2ÁºìÂ≠ò</code>ÔºöÊØè‰∏™CPUÊ†∏ÂøÉÈÉΩÊúâÔºåËÆøÈóÆÁ©∫Èó¥Â§ßÂ∞èÂú®128KBÔΩû2MBÔºåËÆøÈóÆÈÄüÂ∫¶‰∏ÄËà¨ÊòØ10ÔΩû20‰∏™CPUÊó∂ÈíüÂë®Êúü„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /sys/devices/system/cpu/cpu0/cache/index2/size # L2 ÁºìÂ≠òÂÆπÈáèÂ§ßÂ∞è</span><br></pre></td></tr></table></figure></li><li><p><code>L3ÁºìÂ≠ò</code>ÔºöÂ§ö‰∏™CPUÊ†∏ÂøÉÂÖ±Áî®ÔºåËÆøÈóÆÁ©∫Èó¥Â§ßÂ∞èÂú®2MBÔΩû64MBÔºåËÆøÈóÆÈÄüÂ∫¶‰∏ÄËà¨ÊòØ20ÔΩû60‰∏™CPUÊó∂ÈíüÂë®Êúü„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /sys/devices/system/cpu/cpu0/cache/index3/size # L3 ÁºìÂ≠òÂÆπÈáèÂ§ßÂ∞è</span><br></pre></td></tr></table></figure></li><li><p><code>ÂÜÖÂ≠ò</code>ÔºöÂ§ö‰∏™CPUÂÖ±Áî®ÔºåÁé∞Âú®‰∏ÄËà¨ÊòØ4GÔΩû512GÔºåËÆøÈóÆÈÄüÂ∫¶‰∏ÄËà¨ÊòØ200ÔΩû300‰∏™CPUÊó∂ÈíüÂë®Êúü„ÄÇ</p></li><li><p><code>Âõ∫‰ΩìÁ°¨ÁõòSSD</code>ÔºöÁé∞Âú®Âè∞ÂºèÊú∫‰∏ªÊµÅÈÉΩ‰ºöÈÖçÂ§áÔºå‰∏äËø∞ÁöÑÂØÑÂ≠òÂô®„ÄÅÁºìÂ≠ò„ÄÅÂÜÖÂ≠òÈÉΩÊòØÊñ≠ÁîµÊï∞ÊçÆÁ´ãÈ©¨‰∏¢Â§±ÁöÑÔºåËÄåSSDÈáå‰∏ç‰ºö‰∏¢Â§±ÔºåÂ§ßÂ∞è‰∏ÄËà¨ÊòØ128GÔΩû1TÔºåÊØîÂÜÖÂ≠òÊÖ¢10ÔΩû1000ÂÄç„ÄÇ</p></li><li><p><code>Êú∫Ê¢∞ÁõòHDD</code>ÔºöÂæàÊó©‰ª•ÂâçÊµÅË°åÁöÑÁ°¨Áõò‰∫ÜÔºåÂÆπÈáèÂèØÂú®512GÔΩû8T‰∏çÁ≠âÔºåËÆøÈóÆÈÄüÂ∫¶ÊØîÂÜÖÂ≠òÊÖ¢10WÂÄç‰∏çÁ≠â„ÄÇ</p></li><li><p><code>ËÆøÈóÆÊï∞ÊçÆÈ°∫Â∫è</code>ÔºöCPUÂú®ÊãøÊï∞ÊçÆÂ§ÑÁêÜÁöÑÊó∂ÂÄôÂá†‰πé‰πüÊòØÊåâÁÖß‰∏äÈù¢ËØ¥ÂæóÊµÅÁ®ãÊù•ÊìçÁ∫µÁöÑÔºåÂè™Êúâ‰∏äÈù¢‰∏ÄÂ±ÇÊâæ‰∏çÂà∞Êâç‰ºöÊâæ‰∏ã‰∏ÄÂ±Ç„ÄÇ</p></li><li><p><code>Cache Line</code> :  CPUËØªÂèñÊï∞ÊçÆÊó∂‰ºöÊåâÁÖß Cache Line ÊñπÂºèÊääÊï∞ÊçÆÂä†ËΩΩÂà∞ÁºìÂ≠ò‰∏≠ÔºåÊØè‰∏™Cacheline = 64KBÔºåÂõ†‰∏∫L1„ÄÅL2ÊòØÊØè‰∏™Ê†∏Áã¨ÊúâÂà∞ÂèØËÉΩ‰ºöËß¶Âèë<strong>‰º™ÂÖ±‰∫´</strong>ÔºåÂ∞±ÊòØ ÊâÄ‰ª•ÂèØËÉΩ‰ºöÂ∞ÜÊï∞ÊçÆÂàíÂàÜÂà∞‰∏çÂêåÂà∞CacheLine‰∏≠Êù•ÈÅøÂÖç‰º™ÂÖ±‰∫´ÔºåÊØîÂ¶ÇÂú®JDK8 Êñ∞Â¢ûÂä†ÁöÑ LongAdder Â∞±Ê∂âÂèäÂà∞Ê≠§Áü•ËØÜÁÇπ„ÄÇ</p></li></ol><blockquote><ol><li><strong>‰º™ÂÖ±‰∫´</strong>ÔºöÁºìÂ≠òÁ≥ªÁªü‰∏≠ÊòØ‰ª•ÁºìÂ≠òË°åÔºàcache lineÔºâ‰∏∫Âçï‰ΩçÂ≠òÂÇ®ÁöÑÔºåÂΩìÂ§öÁ∫øÁ®ã‰øÆÊîπ‰∫íÁõ∏Áã¨Á´ãÁöÑÂèòÈáèÊó∂ÔºåÂ¶ÇÊûúËøô‰∫õÂèòÈáèÂÖ±‰∫´Âêå‰∏Ä‰∏™ÁºìÂ≠òË°åÔºåÂ∞±‰ºöÊó†ÊÑè‰∏≠ÂΩ±ÂìçÂΩºÊ≠§ÁöÑÊÄßËÉΩÔºåËøôÂ∞±ÊòØ‰º™ÂÖ±‰∫´„ÄÇ</li></ol></blockquote><ol><li><code>JMM</code>: Êï∞ÊçÆÁªèËøáÁßçÁßçÂàÜÂ±Ç‰ºöÂØºËá¥ËÆøÈóÆÈÄüÂ∫¶Âú®‰∏çÊñ≠ÊèêÂçáÔºåÂêåÊó∂‰πüÂ∏¶Êù•‰∫ÜÂêÑÁßçÈóÆÈ¢òÔºåÂ§ö‰∏™CPUÂêåÊó∂Êìç‰ΩúÁõ∏ÂêåÊï∞ÊçÆÂèØËÉΩ‰ºöÈÄ†ÊàêÂêÑÁßçBU‰∏™ÔºåÈúÄË¶ÅÂä†ÈîÅÔºåËøôÈáåÂú®<a href="http://mp.weixin.qq.com/s?__biz=MzI4NjI1OTI4Nw==&amp;mid=2247489439&amp;idx=1&amp;sn=df404e70a8e55b4019317ef2036fbe7d&amp;chksm=ebdef6a7dca97fb1e1a0dfd2eab194fa87f4971cd6b88645db072bcc9c98614b0ad30dc43399&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">JUC</a>Âπ∂ÂèëÂ∑≤ËØ¶ÁªÜÊé¢ËÆ®Ëøá„ÄÇ</li></ol><h3 id="1-3-CPU-ËÆøÈóÆÊñπÂºè"><a href="#1-3-CPU-ËÆøÈóÆÊñπÂºè" class="headerlink" title="1.3 CPU ËÆøÈóÆÊñπÂºè"></a>1.3 CPU ËÆøÈóÆÊñπÂºè</h3><figure class="image-box">                <img src="image-20220208105404666.png" alt="image-20220208105404666" title class>                <p>image-20220208105404666</p>            </figure><p>  CPUËÆøÈóÆÊñπÂºè</p><p>ÂÜÖÂ≠òÊï∞ÊçÆÊò†Â∞ÑÂà∞CPU Cache Êó∂ÈÄöËøáÂÖ¨Âºè<code>Block N % CacheLineMax</code>ÂÜ≥ÂÆöÂÜÖÂ≠òBlockÊï∞ÊçÆÊîæÂà∞ÈÇ£‰∏™CPU Cache Line Èáå„ÄÇCPU Cache ‰∏ªË¶ÅÊúâ4ÈÉ®ÂàÜÁªÑÊàê„ÄÇ</p><ol><li><strong>Cache Line Index</strong> ÔºöCPUÁºìÂ≠òËØªÂèñÊï∞ÊçÆÊó∂‰∏çÊòØÊåâÁÖßÂ≠óËäÇÊù•ËØªÂèñÁöÑÔºåËÄåÊòØÊåâÁÖßCacheLineÊñπÂºèÂ≠òÂÇ®Ë∑üËØªÂèñÊï∞ÊçÆÁöÑ„ÄÇ</li><li><strong>Valid Bit</strong> : ÊúâÊïà‰ΩçÊ†áÂøóÁ¨¶ÔºåÂÄº‰∏∫0Êó∂Ë°®Á§∫Êó†ËÆ∫ CPU Line ‰∏≠ÊòØÂê¶ÊúâÊï∞ÊçÆÔºåCPU ÈÉΩ‰ºöÁõ¥Êé•ËÆøÈóÆÂÜÖÂ≠òÔºåÈáçÊñ∞Âä†ËΩΩÊï∞ÊçÆ„ÄÇ</li><li><strong>Tag</strong>ÔºöÁªÑÊ†áËÆ∞ÔºåÁî®Êù•Ê†áËÆ∞ÂÜÖÂ≠ò‰∏≠‰∏çÂêåBLockÊò†Â∞ÑÂà∞Áõ∏ÂêåCacheLineÔºåÁî®TagÊù•Âå∫ÂàÜ‰∏çÂêåÁöÑÂÜÖÂ≠òBlock„ÄÇ</li><li><strong>Data</strong>ÔºöÁúüÂÆûÂà∞ÂÜÖÂ≠òÊï∞ÊçÆ‰ø°ÊÅØ„ÄÇ</li></ol><p>CPUÁúüÂÆûËÆøÈóÆÂÜÖÂ≠òÊï∞ÊçÆÊó∂Âè™ÈúÄË¶ÅÊåáÂÆö‰∏â‰∏™ÈÉ®ÂàÜÂç≥ÂèØ„ÄÇ</p><ol><li><strong>Cache Line Index</strong> ÔºöË¶ÅËÆøÈóÆÂà∞Cache Line ‰ΩçÁΩÆ„ÄÇ</li><li><strong>Tag</strong>ÔºöË°®Á§∫Áî®ÈÇ£‰∏™Êï∞ÊçÆÂùó„ÄÇ</li><li><strong>Offset</strong>ÔºöCPU‰ªéCPU Cache ËØªÂèñÊï∞ÊçÆÊó∂‰∏çÊòØÁõ¥Êé•ËØªÂèñCache LineÊï¥‰∏™Êï∞ÊçÆÂùóÔºåËÄåÊòØËØªÂèñCPUÊâÄÈúÄÁöÑÊï∞ÊçÆÁâáÊÆµÔºåÁß∞‰∏∫Word„ÄÇÂ¶Ç‰ΩïÊâæÂà∞WordÂ∞±ÈúÄË¶Å‰∏™ÂÅèÁßªÈáèOffset„ÄÇ</li></ol><h3 id="1-4-CPU-ËÆøÈóÆÈÄüÂ∫¶"><a href="#1-4-CPU-ËÆøÈóÆÈÄüÂ∫¶" class="headerlink" title="1.4 CPU ËÆøÈóÆÈÄüÂ∫¶"></a>1.4 CPU ËÆøÈóÆÈÄüÂ∫¶</h3><figure class="image-box">                <img src="image-20220208105417253.png" alt="image-20220208105417253" title class>                <p>image-20220208105417253</p>            </figure><p>ËÆøÈóÆËÄóÊó∂ÂØπÊØî</p><p>Â¶Ç‰∏äÂõæÊâÄÁ§∫ÔºåCPUËÆøÈóÆÈÄüÂ∫¶ÊòØÈÄêÊ≠•ÂèòÊÖ¢ÔºåÊâÄ‰ª•CPUËÆøÈóÆÊï∞ÊçÆÊó∂ÈúÄÂ∞ΩÈáèÂú®Ë∑ùÁ¶ªCPUËøëÁöÑÈ´òÈÄüÁºìÂ≠òÂå∫ËÆøÈóÆÔºåÊ†πÊçÆÊë©Â∞îÂÆöÂæãCPUËÆøÈóÆÈÄüÂ∫¶ÊØè18‰∏™ÊúàÂ∞±‰ºöÁøªÂÄçÔºåËÄåÂÜÖÂ≠òÁöÑËÆøÈóÆÊØè18‰∏™Êúà‰πüÂ∞±Â¢ûÈïø10% Â∑¶Âè≥ÔºåÂØºËá¥ÁöÑÁªìÊûúÂ∞±ÊòØCPUË∑üÂÜÖÂ≠òËÆøÈóÆÊÄßËÉΩÂ∑ÆË∑ùÈÄêÊ≠•ÂèòÂ§ßÔºåÈÇ£Â¶Ç‰ΩïÂ∞ΩÂèØËÉΩÊèêÈ´òCPUÁºìÂ≠òÂëΩ‰∏≠ÁéáÂë¢Ôºü</p><p>\1. <code>Êï∞ÊçÆÁºìÂ≠ò</code>ÔºöÈÅçÂéÜÊï∞ÊçÆÊó∂ÂÄôÊåâÁÖßÂÜÖÂ≠òÂ∏ÉÂ±ÄÈ°∫Â∫èËÆøÈóÆÔºåÂõ†‰∏∫CPU CacheÊòØÊ†πÊçÆCache LineÊâπÈáèÊìç‰ΩúÊï∞ÊçÆÁöÑÔºåÊâÄ‰ª•‰Ω†È°∫Â∫èËØªÂèñÊï∞ÊçÆ‰ºöÊèêÈÄüÔºåÈÅìÁêÜË∑üÁ£ÅÁõòÈ°∫Â∫èÂÜô‰∏ÄÊ†∑„ÄÇ</p><ol><li><code>Êåá‰ª§ÁºìÂ≠ò</code>ÔºöÂ∞ΩÂèØËÉΩÁöÑÊèê‰æõÊúâËßÑÂæãÁöÑÊù°‰ª∂ÂàÜÊîØËØ≠Âè•ÔºåËÆ© CPU ÁöÑÂàÜÊîØÈ¢ÑÊµãÂô®ÂèëÊå•‰ΩúÁî®ÔºåËøõ‰∏ÄÊ≠•ÊèêÈ´òÊâßË°åÁöÑÊïàÁéáÔºåÂõ†‰∏∫CPUÊòØËá™Â∏¶<code>ÂàÜÊîØÈ¢ÑÊµãÂô®</code>ÔºåËá™Âä®ÊèêÂâçÂ∞ÜÂèØËÉΩÈúÄË¶ÅÁöÑÊåá‰ª§ÊîæÂà∞Êåá‰ª§ÁºìÂ≠òÂå∫„ÄÇ</li><li><code>Á∫øÁ®ãÁªëÂÆöÂà∞CPU</code>Ôºö‰∏Ä‰∏™‰ªªÂä°AÂú®Ââç‰∏Ä‰∏™Êó∂Èó¥ÁâáÁî®CPUÊ†∏ÂøÉ1 ËøêË°åÔºåÂêé‰∏Ä‰∏™Êó∂Èó¥ÁâáÁî®CPUÊ†∏ÂøÉ2 ËøêË°åÔºåËøôÊ†∑ÁºìÂ≠òL1„ÄÅL2Â∞±Êµ™Ë¥π‰∫Ü„ÄÇÂõ†Ê≠§Êìç‰ΩúÁ≥ªÁªüÊèê‰æõ‰∫ÜÂ∞ÜËøõÁ®ãÊàñËÄÖÁ∫øÁ®ãÁªëÂÆöÂà∞Êüê‰∏ÄÈ¢ó CPU ‰∏äËøêË°åÁöÑËÉΩÂäõ„ÄÇÂ¶Ç Linux ‰∏äÊèê‰æõ‰∫Ü sched_setaffinity ÊñπÊ≥ïÂÆûÁé∞Ëøô‰∏ÄÂäüËÉΩÔºåÂÖ∂‰ªñÊìç‰ΩúÁ≥ªÁªü‰πüÊúâÁ±ª‰ººÂäüËÉΩÁöÑ API ÂèØÁî®„ÄÇÂΩìÂ§öÁ∫øÁ®ãÂêåÊó∂ÊâßË°åÂØÜÈõÜËÆ°ÁÆóÔºå‰∏î CPU ÁºìÂ≠òÂëΩ‰∏≠ÁéáÂæàÈ´òÊó∂ÔºåÂ¶ÇÊûúÂ∞ÜÊØè‰∏™Á∫øÁ®ãÂàÜÂà´ÁªëÂÆöÂú®‰∏çÂêåÁöÑ CPU Ê†∏ÂøÉ‰∏äÔºåÊÄßËÉΩ‰æø‰ºöËé∑ÂæóÈùûÂ∏∏ÂèØËßÇÁöÑÊèêÂçá„ÄÇ</li></ol><h3 id="1-5-Êìç‰ΩúÁ≥ªÁªü"><a href="#1-5-Êìç‰ΩúÁ≥ªÁªü" class="headerlink" title="1.5  Êìç‰ΩúÁ≥ªÁªü"></a>1.5  Êìç‰ΩúÁ≥ªÁªü</h3><figure class="image-box">                <img src="image-20220208105427891.png" alt="image-20220208105427891" title class>                <p>image-20220208105427891</p>            </figure><p>Êúâ‰∫ÜÂÜØËØ∫‰ºäÊõºËÆ°ÁÆóÊú∫‰ΩìÁ≥ªÂêéÔºåÁîµËÑëÊÉ≥Ë¶Å‰∏∫Áî®Êà∑Êèê‰æõ‰æøÊç∑ÁöÑÊúçÂä°ËøòÈúÄË¶ÅÂÆâË£Ö‰∏™Êìç‰ΩúÁ≥ªÁªü<code>Operation System</code>ÔºåÊìç‰ΩúÁ≥ªÁªüÊòØË¶ÜÁõñÂú®Á°¨‰ª∂‰∏äÁöÑ‰∏ÄÂ±ÇÁâπÊÆäËΩØ‰ª∂ÔºåÂÆÉÁÆ°ÁêÜËÆ°ÁÆóÊú∫ÁöÑÁ°¨‰ª∂ÂíåËΩØ‰ª∂ËµÑÊ∫êÔºå‰∏∫ÂÖ∂‰ªñÂ∫îÁî®Á®ãÂ∫èÊèê‰æõÂ§ßÈáèÊúçÂä°„ÄÇÂèØ‰ª•ÁêÜËß£‰∏∫Êìç‰ΩúÁ≥ªÁªüÊòØÊó•Â∏∏Â∫îÁî®Á®ãÂ∫èË∑üÁ°¨‰ª∂‰πãÈó¥ÁöÑÊé•Âè£„ÄÇÊó•Â∏∏‰Ω†ÁªèÂ∏∏Âú®Áî®Windows/Linux Á≥ªÁªüÔºåÊìç‰ΩúÁ≥ªÁªüÁªôÊàë‰ª¨Êèê‰æõ‰∫ÜË∂ÖÁ∫ßÂ§ßÁöÑ‰æøÂà©Ôºå‰ΩÜÊòØ‰Ω†‰∫ÜËß£Êìç‰ΩúÁ≥ªÁªü‰πàÔºüÊìç‰ΩúÁ≥ªÁªüÊòØÂ¶Ç‰ΩïËøõË°å<strong>ÂÜÖÂ≠òÁÆ°ÁêÜ</strong>„ÄÅ<strong>ËøõÁ®ãÁÆ°ÁêÜ</strong>„ÄÅ<strong>Êñá‰ª∂ÁÆ°ÁêÜ</strong>„ÄÅ<strong>ËæìÂÖ•ËæìÂá∫ÁÆ°ÁêÜ</strong>ÁöÑÂë¢Ôºü</p><h1 id="2-ÂÜÖÂ≠òÁÆ°ÁêÜ"><a href="#2-ÂÜÖÂ≠òÁÆ°ÁêÜ" class="headerlink" title="2 ÂÜÖÂ≠òÁÆ°ÁêÜ"></a>2 ÂÜÖÂ≠òÁÆ°ÁêÜ</h1><p>‰Ω†ÁöÑÁîµËÑëÊòØ32‰ΩçÊìç‰ΩúÁ≥ªÁªüÔºåÈÇ£ÂèØÊîØÊåÅÁöÑÊúÄÂ§ßÂÜÖÂ≠òÂ∞±ÊòØ4GÔºå‰Ω†ÊúâÊ≤°ÊúâÂ•ΩÂ•á‰∏∫‰ªÄ‰πàÂèØ‰ª•ÂêåÊó∂ËøêË°å2‰∏™‰ª•‰∏äÁöÑ2GÂÜÖÂ≠òÁöÑÁ®ãÂ∫è„ÄÇÂ∫îÁî®Á®ãÂ∫è‰∏çÊòØÁõ¥Êé•‰ΩøÁî®ÁöÑÁâ©ÁêÜÂú∞ÂùÄÔºåÊìç‰ΩúÁ≥ªÁªü‰∏∫ÊØè‰∏™ËøêË°åÁöÑËøõÁ®ãÂàÜÈÖç‰∫Ü‰∏ÄÂ•ó<code>ËôöÊãüÂú∞ÂùÄ</code>ÔºåÊØè‰∏™ËøõÁ®ãÈÉΩÊúâËá™Â∑±ÁöÑ<code>ËôöÊãüÂÜÖÂ≠òÂú∞ÂùÄ</code>ÔºåËøõÁ®ãÊòØÊó†Ê≥ïÁõ¥Êé•ËøõË°å<code>Áâ©ÁêÜÂÜÖÂ≠òÂú∞ÂùÄ</code>ÁöÑËÆøÈóÆÁöÑ„ÄÇËá≥‰∫éËôöÊãüÂú∞ÂùÄË∑üÁâ©ÁêÜÂú∞ÂùÄÁöÑÊò†Â∞ÑÔºåËøõÁ®ãÊòØÊÑüÁü•‰∏çÂà∞ÁöÑÔºÅ<code>Êìç‰ΩúÁ≥ªÁªüËá™Ë∫´‰ºöÊèê‰æõ‰∏ÄÂ•óÊú∫Âà∂Â∞Ü‰∏çÂêåËøõÁ®ãÁöÑËôöÊãüÂú∞ÂùÄÂíå‰∏çÂêåÂÜÖÂ≠òÁöÑÁâ©ÁêÜÂú∞ÂùÄËøõË°åÊò†Â∞Ñ</code>„ÄÇ</p><figure class="image-box">                <img src="image-20220208105446194.png" alt="image-20220208105446194" title class>                <p>image-20220208105446194</p>            </figure><h3 id="2-1-MMU"><a href="#2-1-MMU" class="headerlink" title="2.1  MMU"></a>2.1  MMU</h3><p><code>Memory Management Unit ÂÜÖÂ≠òÁÆ°ÁêÜÂçïÂÖÉ</code>ÊòØ‰∏ÄÁßçË¥üË¥£Â§ÑÁêÜCPUÂÜÖÂ≠òËÆøÈóÆËØ∑Ê±ÇÁöÑËÆ°ÁÆóÊú∫Á°¨‰ª∂„ÄÇÂÆÉÁöÑÂäüËÉΩÂåÖÊã¨<strong>ËôöÊãüÂú∞ÂùÄÂà∞Áâ©ÁêÜÂú∞ÂùÄÁöÑËΩ¨Êç¢„ÄÅÂÜÖÂ≠ò‰øùÊä§„ÄÅ‰∏≠Â§ÆÂ§ÑÁêÜÂô®È´òÈÄüÁºìÂ≠òÁöÑÊéßÂà∂</strong>„ÄÇÁé∞‰ª£ CPU Âü∫Êú¨‰∏äÈÉΩÈÄâÊã©‰∫Ü‰ΩøÁî® MMU„ÄÇ</p><p>ÂΩìËøõÁ®ãÊåÅÊúâËôöÊãüÂÜÖÂ≠òÂú∞ÂùÄÁöÑÊó∂ÂÄôÔºåCPUÊâßË°åËØ•ËøõÁ®ãÊó∂‰ºöÊìç‰ΩúËôöÊãüÂÜÖÂ≠òÔºåËÄåMMU‰ºöËá™Âä®ÁöÑÂ∞ÜËôöÊãüÂÜÖÂ≠òÁöÑÊìç‰ΩúÊò†Â∞ÑÂà∞Áâ©ÁêÜÂÜÖÂ≠ò‰∏ä„ÄÇ</p><figure class="image-box">                <img src="image-20220208105504831.png" alt="image-20220208105504831" title class>                <p>image-20220208105504831</p>            </figure><p>ËøôÈáåÊèê‰∏Ä‰∏ãÔºåJavaÊìç‰ΩúÁöÑÊó∂ÂÄô‰Ω†ÁúãÂà∞ÁöÑÂú∞ÂùÄÊòØ<code>JVMÂú∞ÂùÄ</code>Ôºå‰∏çÊòØÁúüÊ≠£ÁöÑÁâ©ÁêÜÂú∞ÂùÄ„ÄÇ</p><h3 id="2-2-ÂÜÖÂ≠òÁÆ°ÁêÜÊñπÂºè"><a href="#2-2-ÂÜÖÂ≠òÁÆ°ÁêÜÊñπÂºè" class="headerlink" title="2.2  ÂÜÖÂ≠òÁÆ°ÁêÜÊñπÂºè"></a>2.2  ÂÜÖÂ≠òÁÆ°ÁêÜÊñπÂºè</h3><p>Êìç‰ΩúÁ≥ªÁªü‰∏ªË¶ÅÈááÁî®<code>ÂÜÖÂ≠òÂàÜÊÆµ</code>Âíå<code>ÂÜÖÂ≠òÂàÜÈ°µ</code>Êù•ÁÆ°ÁêÜËôöÊãüÂú∞ÂùÄ‰∏éÁâ©ÁêÜÂú∞ÂùÄ‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºåÂÖ∂‰∏≠ÂàÜÊÆµÊòØÂæàÊó©ÂâçÁöÑÊñπÊ≥ï‰∫ÜÔºåÁé∞Âú®Â§ßÈÉ®ÂàÜÁî®ÁöÑÊòØÂàÜÈ°µÔºå‰∏çËøáÂàÜÈ°µ‰πü‰∏çÊòØÂÆåÂÖ®ÁöÑÂàÜÈ°µÔºåÊòØÂú®ÂàÜÊÆµÁöÑÂü∫Á°Ä‰∏äÂÜçÂàÜÈ°µ„ÄÇ</p><h5 id="2-2-1-ÂÜÖÂ≠òÂàÜÊÆµ"><a href="#2-2-1-ÂÜÖÂ≠òÂàÜÊÆµ" class="headerlink" title="2.2.1 ÂÜÖÂ≠òÂàÜÊÆµ"></a>2.2.1 ÂÜÖÂ≠òÂàÜÊÆµ</h5><figure class="image-box">                <img src="image-20220208105534576.png" alt="image-20220208105534576" title class>                <p>image-20220208105534576</p>            </figure><p>Êàë‰ª¨‰ª•‰∏äÂõæÁöÑ<a href="https://mp.weixin.qq.com/s?__biz=MzI4NjI1OTI4Nw==&amp;mid=2247489183&amp;idx=1&amp;sn=02ab3551c473bd2c8429862e3689a94b&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">JVM</a>ÂÜÖÂ≠òÊ®°Âûã‰∏æ‰æãÔºåÁ®ãÂ∫èÂëò‰ºöËÆ§‰∏∫Êàë‰ª¨ÁöÑ‰ª£Á†ÅÊòØÁî±‰ª£Á†ÅÊÆµ„ÄÅÊï∞ÊçÆÊÆµ„ÄÅÊ†àÊÆµ„ÄÅÂ†ÜÊÆµÁªÑÊàê„ÄÇ‰∏çÂêåÁöÑÊÆµÊòØÊúâ‰∏çÂêåÁöÑÂ±ûÊÄßÁöÑÔºåÁî®Êà∑Âπ∂‰∏çÂÖ≥ÂøÉËøô‰∫õÂÖÉÁ¥†ÊâÄÂú®ÂÜÖÂ≠òÁöÑ‰ΩçÁΩÆÔºåËÄåÂàÜÊÆµÂ∞±ÊòØÊîØÊåÅËøôÁßçÁî®Êà∑ËßÜÂõæÁöÑÂÜÖÂ≠òÁÆ°ÁêÜÊñπÊ°à„ÄÇÈÄªËæëÂú∞ÂùÄÁ©∫Èó¥ÊòØÁî±‰∏ÄÁªÑÊÆµÊûÑÊàê„ÄÇÊØè‰∏™ÊÆµÈÉΩÊúâÂêçÁß∞ÂíåÈïøÂ∫¶„ÄÇÂú∞ÂùÄÊåáÂÆö‰∫ÜÊÆµÂêçÁß∞ÂíåÊÆµÂÜÖÂÅèÁßª„ÄÇÂõ†Ê≠§Áî®Êà∑<code>ÊÆµÁºñÂè∑</code>Âíå<code>ÊÆµÂÅèÁßª</code>Êù•ÊåáÂÆö‰∏çÂêåÂ±ûÊÄßÁöÑÂú∞ÂùÄ„ÄÇËÄåËôöÊãüÂÜÖÂ≠òÂú∞ÂùÄË∑üÁâ©ÁêÜÂÜÖÂ≠òÂú∞ÂùÄ‰∏≠Èó¥ÊòØÈÄöËøáÊÆµË°®ËøõË°åÊò†Â∞ÑÁöÑÔºåÂè£ËØ¥Êó†Âá≠ÔºåÁúãÂõæÂêß„ÄÇ</p><figure class="image-box">                <img src="image-20220208105557349.png" alt="image-20220208105557349" title class>                <p>image-20220208105557349</p>            </figure><p>Â¶Ç‰∏äËôöÊãüÂú∞ÂùÄÊúâ 5 ‰∏™ÊÆµÔºåÂêÑÊÆµÊåâÂ¶ÇÂõæÊâÄÁ§∫Êù•Â≠òÂÇ®„ÄÇÊØè‰∏™ÊÆµÈÉΩÂú®ÊÆµË°®‰∏≠Êúâ‰∏Ä‰∏™Êù°ÁõÆÔºåÂÆÉÂåÖÊã¨ÊÆµÂú®Áâ©ÁêÜÂÜÖÂ≠òÂÜÖÁöÑÂºÄÂßãÁöÑÂü∫Âú∞ÂùÄÂíåËØ•ÊÆµÁöÑÁïåÈôêÈïøÂ∫¶„ÄÇ‰æãÂ¶ÇÊÆµ 2 ‰∏∫ 400 Â≠óËäÇÈïøÔºåÂºÄÂßã‰∫é‰ΩçÁΩÆ 4300„ÄÇÂõ†Ê≠§ÂØπÊÆµ 2 Â≠óËäÇ 53 ÁöÑÂºïÁî®Êò†Â∞ÑÊàê‰ΩçÁΩÆ 4300 + 53 = 4353„ÄÇÂØπÊÆµ 3 Â≠óËäÇ 852 ÁöÑÂºïÁî®Êò†Â∞ÑÊàê‰ΩçÁΩÆ 3200 + 852 = 4052„ÄÇ</p><p>ÂàÜÊÆµÊò†Â∞ÑÂæàÁÆÄÂçïÔºå‰ΩÜÊòØ‰ºöÂØºËá¥<code>ÂÜÖÂ≠òÁ¢éÁâá</code>Ë∑ü<code>ÂÜÖÂ≠ò‰∫§‰∫íÊïàÁéá‰Ωé</code>„ÄÇËøôÈáåÂÖàÊôÆÂèä‰∏ãÂú®ÂÜÖÂ≠òÁÆ°ÁêÜ‰∏≠‰∏ªË¶ÅÊúâ<code>ÂÜÖÈÉ®ÂÜÖÂ≠òÁ¢éÁâá</code>Ë∑ü<code>Â§ñÈÉ®ÂÜÖÂ≠òÁ¢éÁâá</code>„ÄÇ</p><ol><li><strong>ÂÜÖÈÉ®Á¢éÁâá</strong>ÔºöÂ∑≤ÁªèË¢´ÂàÜÈÖçÂá∫ÂéªÁöÑÁöÑÂÜÖÂ≠òÁ©∫Èó¥‰∏çÁªèÂ∏∏‰ΩøÁî®ÔºåÂπ∂‰∏îÂàÜÈÖçÂá∫ÂéªÁöÑÂÜÖÂ≠òÁ©∫Èó¥Â§ß‰∫éËØ∑Ê±ÇÊâÄÈúÄÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇ</li><li><strong>Â§ñÈÉ®Á¢éÁâá</strong>ÔºöÊåáÂèØÁî®Á©∫Èó¥ËøòÊ≤°ÊúâÂàÜÈÖçÂá∫ÂéªÔºå‰ΩÜÊòØÂèØÁî®Á©∫Èó¥Áî±‰∫éÂ§ßÂ∞èÂ§™Â∞èËÄåÊó†Ê≥ïÂàÜÈÖçÁªôÁî≥ËØ∑Á©∫Èó¥ÁöÑÊñ∞ËøõÁ®ãÁöÑÂÜÖÂ≠òÁ©∫Èó¥Á©∫Èó≤Âùó„ÄÇ</li></ol><p>‰ª•‰∏äÂõæ‰∏∫‰æãÔºåÁé∞Âú®Á≥ªÁªüÁ©∫Èó≤ÊòØ1400 +  800 + 600 = 2800„ÄÇÈÇ£Â¶ÇÊûúÊúâ‰∏™Á®ãÂ∫èÊÉ≥Ë¶ÅËøûÁª≠ÁöÑ‰ΩøÁî®2000ÔºåÂÜÖÂ≠òÂàÜÊÆµÊ®°Âºè‰∏ãÊèê‰æõ‰∏ç‰∫ÜÂïäÔºÅ‰∏äËø∞‰∏â‰∏™ÊòØ<code>Â§ñÈÉ®ÂÜÖÂ≠òÁ¢éÁâá</code>„ÄÇÂΩìÁÑ∂ÂèØ‰ª•‰ΩøÁî®Á≥ªÁªüÁöÑ<code>Swap</code>Á©∫Èó¥ÔºåÂÖàÊääÊÆµ0ÂÜôÂÖ•Âà∞Á£ÅÁõòÔºåÁÑ∂ÂêéÂÜçÈáçÊñ∞ÁªôÊÆµ0ÂàÜÈÖçÁ©∫Èó¥„ÄÇËøôÊ†∑ÂèØ‰ª•ÂÆûÁé∞ÊúÄÁªàÂèØÁî®ÔºåÂèØÊòØ‰ΩÜÂá°Ê∂âÂèäÂà∞Á£ÅÁõòËØªÂÜôÂ∞±‰ºöÂØºËá¥<code>ÂÜÖÂ≠ò‰∫§‰∫íÊïàÁéá‰Ωé</code>„ÄÇ</p><figure class="image-box">                <img src="image-20220208105626772.png" alt="image-20220208105626772" title class>                <p>image-20220208105626772</p>            </figure><p>swapÁ©∫Èó¥Âà©Áî®</p><h5 id="2-2-2-ÂÜÖÂ≠òÂàÜÈ°µ"><a href="#2-2-2-ÂÜÖÂ≠òÂàÜÈ°µ" class="headerlink" title="2.2.2 ÂÜÖÂ≠òÂàÜÈ°µ"></a>2.2.2 ÂÜÖÂ≠òÂàÜÈ°µ</h5><p>ÂÜÖÂ≠òÂàÜÈ°µÔºå<code>Êï¥‰∏™ËôöÊãüÂÜÖÂ≠òÂíåÁâ©ÁêÜÂÜÖÂ≠òÂàáÊàê‰∏ÄÊÆµÊÆµÂõ∫ÂÆöÂ∞∫ÂØ∏ÁöÑÂ§ßÂ∞è</code>„ÄÇÊØè‰∏™Âõ∫ÂÆöÂ§ßÂ∞èÁöÑÂ∞∫ÂØ∏Áß∞‰πã‰∏∫<code>È°µPage</code>ÔºåÂú® Linux Á≥ªÁªü‰∏≠Page = 4KB„ÄÇÁÑ∂ÂêéËôöÊãüÂÜÖÂ≠òË∑üÁâ©ÁêÜÂÜÖÂ≠ò‰πãÈó¥ÈÄöËøá<code>È°µË°®</code>Êù•ÂÆûÁé∞Êò†Â∞Ñ„ÄÇ</p><p>ÈááÁî®<strong>ÂÜÖÂ≠òÂàÜÈ°µ</strong>Êó∂ÂÜÖÂ≠òÁöÑÈáäÊîæË∑ü‰ΩøÁî®ÈÉΩÊòØ‰ª•È°µ‰∏∫Âçï‰ΩçÁöÑÔºå‰πüÂ∞±‰∏ç‰ºö‰∫ßÁîüÂÜÖÂ≠òÁ¢éÁâá‰∫Ü„ÄÇÂΩìÁ©∫Èó¥Ëøò‰∏çÂ§üÊó∂Ê†πÊçÆÊìç‰ΩúÁ≥ªÁªüË∞ÉÂ∫¶ÁÆóÊ≥ïÔºåÂèØËÉΩÂ∞ÜÊúÄÂ∞ëÁî®ÁöÑÂÜÖÂ≠òÈ°µÈù¢ swap-outÊç¢Âá∫Âà∞Á£ÅÁõòÔºåÁî®Êó∂ÂÄôÂÜçswap-inÊç¢ÂÖ•ÔºåÂ∞ΩÂèØËÉΩÁöÑÂáèÂ∞ëÁ£ÅÁõòÂà∑ÂÜôÈáèÔºåÊèêÈ´òÂÜÖÂ≠ò‰∫§‰∫íÊïàÁéá„ÄÇ</p><p>ÂàÜÈ°µÊ®°Âºè‰∏ãËôöÊãüÂú∞ÂùÄ‰∏ªË¶ÅÊúâ<code>È°µÂè∑</code>Ë∑ü<code>È°µÂÜÖÂÅèÁßªÈáè</code>‰∏§ÈÉ®ÂàÜÁªÑÊàê„ÄÇÈÄöËøáÈ°µÂè∑Êü•ËØ¢È°µË°®ÊâæÂà∞Áâ©ÁêÜÂÜÖÂ≠òÂú∞ÂùÄÔºåÁÑ∂ÂêéÂÜçÈÖçÂêàÈ°µÂÜÖÂÅèÁßªÈáèÂ∞±ÊâæÂà∞‰∫ÜÁúüÊ≠£ÁöÑÁâ©ÁêÜÂÜÖÂ≠òÂú∞ÂùÄ„ÄÇ</p><figure class="image-box">                <img src="image-20220208105654323.png" alt="image-20220208105654323" title class>                <p>image-20220208105654323</p>            </figure><p>32‰ΩçÊìç‰ΩúÁ≥ªÁªüÁéØÂ¢É‰∏ãËøõÁ®ãÂèØÊìç‰ΩúÁöÑËôöÊãüÂú∞ÂùÄÊòØ4GBÔºåÂÅáËÆæ‰∏Ä‰∏™ËôöÊãüÈ°µÂ§ßÂ∞è‰∏∫4KBÔºåÈÇ£ÈúÄË¶Å4GB/4KB = <code>2^20</code> ‰∏™È°µ‰ø°ÊÅØ„ÄÇ‰∏ÄË°åÈ°µË°®ËÆ∞ÂΩï‰∏∫4Â≠óËäÇÔºå<code>2^20</code>Á≠â‰ª∑‰∫é4MBÈ°µË°®Â≠òÂÇ®‰ø°ÊÅØ„ÄÇËøôÂè™ÊòØ‰∏Ä‰∏™ËøõÁ®ãÈúÄË¶ÅÁöÑÔºåÂ¶ÇÊûú10‰∏™„ÄÅ100‰∏™„ÄÅ1000‰∏™Âë¢Ôºü‰ªÖ‰ªÖÊòØÈ°µË°®Â≠òÂÇ®ÈÉΩÂç†ÊçÆË∂ÖÂ§ßÂÜÖÂ≠ò‰∫Ü„ÄÇ</p><p>‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂ∞±ÈúÄË¶ÅÁî®Âà∞ <code>Â§öÁ∫ßÈ°µË°®</code>ÔºåÊ†∏ÂøÉÊÄùÊÉ≥Â∞±ÊòØ<strong>Â±ÄÈÉ®ÊÄß</strong>ÂàÜÈÖç„ÄÇÂú®32‰ΩçÁöÑÊìç‰ΩúÁ≥ªÁªü‰∏≠Â∞ÜÂ∞Ü4GÁ©∫Èó¥ÂàÜ‰∏∫ 1024 Ë°åÈ°µÁõÆÂΩïÈ°πÁõÆ(4KB)ÔºåÊØè‰∏™È°µÁõÆÂΩïÈ°πÂèàÂØπÂ∫î1024Ë°åÈ°µË°®È°π„ÄÇÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p><figure class="image-box">                <img src="image-20220208105706021.png" alt="image-20220208105706021" title class>                <p>image-20220208105706021</p>            </figure><p>ÊéßÂà∂ÂØÑÂ≠òÂô®cr3‰∏≠Â≠òÊîæ‰∫ÜÈ°µÁõÆÂΩïÁöÑÁâ©ÁêÜÂú∞ÂùÄÔºåÈÄöËøácr3ÂØÑÂ≠òÂô®ÂèØ‰ª•ÊâæÂà∞È°µÁõÆÂΩïÔºåËÄå32‰ΩçÁ∫øÊÄßÂú∞ÂùÄ‰∏≠ÁöÑDirectoryÈÉ®ÂàÜÂÜ≥ÂÆöÈ°µÁõÆÂΩï‰∏≠ÁöÑÁõÆÂΩïÈ°πÔºåËÄåÈ°µÁõÆÂΩïÈ°π‰∏≠Â≠òÊîæ‰∫ÜË¶ÅÊâæÁöÑÈ°µË°®ÁöÑÁâ©ÁêÜÂü∫Âú∞ÂùÄÔºåÂÜçÁªìÂêàÁ∫øÊÄßÂú∞ÂùÄ‰∏≠ÁöÑ‰∏≠Èó¥10‰ΩçÈ°µË°®È°πÔºåÂ∞±ÂèØ‰ª•ÊâæÂà∞È°µÊ°ÜÁöÑÈ°µË°®È°π„ÄÇÁ∫øÊÄßÂú∞ÂùÄ‰∏≠ÁöÑOffsetÈÉ®ÂàÜÂç†12‰ΩçÔºåÂõ†Ê≠§È°µÊ°ÜÁöÑÁâ©ÁêÜÂú∞ÂùÄ + Á∫øÊÄßÂú∞ÂùÄOffsetÈÉ®ÂàÜ = È°µÊ°Ü‰∏≠ÁöÑ‰ªª‰Ωï‰∏Ä‰∏™Â≠óËäÇ„ÄÇ</p><p>ÂàÜÈ°µÂêé‰∏ÄÁ∫ßÈ°µÂ∞±Á≠â‰ª∑‰∫é4GËôöÊãüÂú∞ÂùÄÁ©∫Èó¥ÔºåÂπ∂‰∏îÂ¶ÇÊûú‰∏ÄÁ∫ßÈ°µË°®‰∏≠ÈÇ£‰∫õÂú∞ÂùÄÊ≤°ÊúâÂ∞±‰∏çÈúÄË¶ÅÂÜçÂàõÂª∫‰∫åÁ∫ßÈ°µË°®‰∫ÜÔºÅÊ†∏ÂøÉÊÄùÊÉ≥Â∞±ÊòØÊåâÈúÄÂàõÂª∫ÔºåÂΩìÁ≥ªÁªüÁªôÊØè‰∏™ËøõÁ®ãÂàÜÈÖç4GÁ©∫Èó¥ÔºåËøõÁ®ã‰∏çÂèØËÉΩÂç†ÊçÆÂÖ®ÈÉ®ÂÜÖÂ≠òÁöÑÔºåÂ¶ÇÊûú‰∏ÄÁ∫ßÁõÆÂΩïÈ°µÂè™Êúâ10%Áî®Âà∞‰∫ÜÔºåÊ≠§Êó∂È°µË°®Á©∫Èó¥ = ‰∏ÄÁ∫ßÈ°µË°®4KB + 0.1 * 4MB  „ÄÇËøôÊØîÂçïÁã¨ÁöÑÊØè‰∏™ËøõÁ®ãÂç†ÊçÆ4MÂ•ΩÁî®Â§ö‰∫ÜÔºÅ</p><p>Â§öÂ±ÇÂàÜÈ°µÁöÑÂºäÁ´ØÂ∞±ÊòØËÆøÈóÆÊó∂Èó¥ÁöÑ<strong>Â¢ûÂä†</strong>„ÄÇ</p><ol><li>‰ΩøÁî®È°µË°®Êó∂ËØªÂèñÂÜÖÂ≠ò‰∏≠‰∏ÄÈ°µÂÜÖÂÆπÈúÄË¶Å2Ê¨°ËÆøÈóÆÂÜÖÂ≠òÔºåËÆøÈóÆÈ°µË°®È°π + Âπ∂ËØªÂèñÁöÑ‰∏ÄÈ°µÊï∞ÊçÆ„ÄÇ</li><li>‰ΩøÁî®‰∫åÁ∫ßÈ°µË°®ÁöÑËØùÈúÄË¶Å‰∏âÊ¨°ËÆøÈóÆÔºåËÆøÈóÆÈ°µÁõÆÂΩïÈ°π + ËÆøÈóÆÈ°µË°®È°π + ËÆøÈóÆÂπ∂ËØªÂèñÁöÑ‰∏ÄÈ°µÊï∞ÊçÆ„ÄÇËÆøÂ≠òÊ¨°Êï∞ÁöÑÂ¢ûÂä†‰πüÂ∞±ÊÑèÂë≥ÁùÄËÆøÈóÆÊï∞ÊçÆÊâÄËä±Ë¥πÁöÑÊÄªÊó∂Èó¥Â¢ûÂä†„ÄÇ</li></ol><p>ËÄåÂØπ‰∫é64‰ΩçÁ≥ªÁªüÔºå‰∫åÁ∫ßÂàÜÈ°µÂ∞±Êó†Ê≥ïÊª°Ë∂≥‰∫ÜÔºåLinux ‰ªé2.6.11ÂºÄÂßãÈááÁî®ÂõõÁ∫ßÂàÜÈ°µÊ®°Âûã„ÄÇ</p><ol><li>Page Global Directory ÂÖ®Â±ÄÈ°µÁõÆÂΩïÈ°π</li><li>Page Upper Directory ‰∏äÂ±ÇÈ°µÁõÆÂΩïÈ°π</li><li>Page Middle Directory ‰∏≠Èó¥È°µÁõÆÂΩïÈ°π</li><li>Page Table Entry È°µË°®È°π</li><li>Offset ÂÅèÁßªÈáè„ÄÇ</li></ol><figure class="image-box">                <img src="image-20220208105725267.png" alt="image-20220208105725267" title class>                <p>image-20220208105725267</p>            </figure><h5 id="2-2-2-TLB"><a href="#2-2-2-TLB" class="headerlink" title="2.2.2 TLB"></a>2.2.2 TLB</h5><p>Translation Lookaside Buffer ÂèØÁøªËØë‰∏∫<code>Âú∞ÂùÄËΩ¨Êç¢ÂêéÊè¥ÁºìÂÜ≤Âô®</code>ÔºåÁÆÄÁß∞‰∏∫<code>Âø´Ë°®</code>ÔºåÂ±û‰∫éCPUÂÜÖÈÉ®ÁöÑ‰∏Ä‰∏™Ê®°ÂùóÔºåTLBÊòØMMUÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÂÆûË¥®ÊòØcacheÔºåÂÆÉÊâÄÁºìÂ≠òÁöÑÊòØÊúÄËøë‰ΩøÁî®ÁöÑÊï∞ÊçÆÁöÑÈ°µË°®È°πÔºàËôöÊãüÂú∞ÂùÄÂà∞Áâ©ÁêÜÂú∞ÂùÄÁöÑÊò†Â∞ÑÔºâ„ÄÇ‰ªñÁöÑÂá∫Áé∞ÊòØ‰∏∫‰∫ÜÂä†Âø´ËÆøÈóÆÊï∞ÊçÆÔºàÂÜÖÂ≠òÔºâÁöÑÈÄüÂ∫¶ÔºåÂáèÂ∞ëÈáçÂ§çÁöÑÈ°µË°®Êü•Êâæ„ÄÇÂΩìÁÑ∂ÂÆÉ‰∏çÊòØÂøÖÈ°ªË¶ÅÊúâÁöÑÔºå‰ΩÜÊúâÂÆÉÔºåÈÄüÂ∫¶Â∞±Êõ¥Âø´„ÄÇ</p><figure class="image-box">                <img src="image-20220208105732620.png" alt="image-20220208105732620" title class>                <p>image-20220208105732620</p>            </figure><p>TLBÂæàÂ∞èÔºåÂõ†Ê≠§ÁºìÂ≠òÁöÑ‰∏úË•ø‰πü‰∏çÂ§ö„ÄÇ‰∏ªË¶ÅÁºìÂ≠òÊúÄËøë‰ΩøÁî®ÁöÑÊï∞ÊçÆÁöÑÊï∞ÊçÆÊò†Â∞Ñ„ÄÇTLBÁªìÊûÑÂ¶Ç‰∏ãÂõæÔºö</p><figure class="image-box">                <img src="image-20220208105743431.png" alt="image-20220208105743431" title class>                <p>image-20220208105743431</p>            </figure><p>Â¶ÇÊûú‰∏Ä‰∏™ÈúÄË¶ÅËÆøÈóÆÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏Ä‰∏™Êï∞ÊçÆÔºåÁªôÂÆöËøô‰∏™Êï∞ÊçÆÁöÑËôöÊãüÂú∞ÂùÄÔºåÊü•ËØ¢TLBÔºåÂèëÁé∞ÊúâhitÔºåÁõ¥Êé•ÂæóÂà∞Áâ©ÁêÜÂú∞ÂùÄÔºåÂú®ÂÜÖÂ≠òÊ†πÊçÆÁâ©ÁêÜÂú∞ÂùÄÂèñÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúTLBÊ≤°ÊúâËøô‰∏™ËôöÊãüÂú∞ÂùÄmissÔºåÈÇ£‰πàÂè™ËÉΩË¥πÂäõÁöÑÈÄöËøáÈ°µË°®Êù•Êü•Êâæ‰∫Ü„ÄÇÊó•Â∏∏CPUËØªÂèñ‰∏Ä‰∏™Êï∞ÊçÆÁöÑÊµÅÁ®ãÂ¶Ç‰∏ãÔºö</p><figure class="image-box">                <img src="image-20220208105753365.png" alt="image-20220208105753365" title class>                <p>image-20220208105753365</p>            </figure><p>ÂΩìËøõÁ®ãÂú∞ÂùÄÁ©∫Èó¥ËøõË°å‰∫Ü<code>‰∏ä‰∏ãÊñáÂàáÊç¢</code>Êó∂ÔºåÊØîÂ¶ÇÁé∞Âú®ÊòØËøõÁ®ã1ËøêË°åÔºåTLB‰∏≠ÊîæÁöÑÊòØËøõÁ®ã1ÁöÑÁõ∏ÂÖ≥Êï∞ÊçÆÁöÑÂú∞ÂùÄÔºåÁ™ÅÁÑ∂ÂàáÊç¢Âà∞ËøõÁ®ã2ÔºåTLB‰∏≠ÂéüÊúâÁöÑÊï∞ÊçÆ‰∏çÊòØËøõÁ®ã2Áõ∏ÂÖ≥ÁöÑÔºåÊ≠§Êó∂TLBÂà∑Êñ∞Êï∞ÊçÆÊúâ‰∏§ÁßçÂäûÊ≥ï„ÄÇ</p><ol><li><strong>ÂÖ®ÈÉ®Âà∑Êñ∞</strong>ÔºöÂæàÁÆÄÂçïÔºå‰ΩÜËä±ÈîÄÂ§ßÔºåÂæàÂ§ö‰∏çÂøÖÂà∑Êñ∞ÁöÑÊï∞ÊçÆ‰πüËøõË°åÂà∑Êñ∞ÔºåÂ¢ûÂä†‰∫ÜÊó†ÁïèÁöÑËä±ÈîÄ„ÄÇ</li><li><strong>ÈÉ®ÂàÜÂà∑Êñ∞</strong>ÔºöÊ†πÊçÆÊ†áÂøó‰ΩçÔºåÂà∑Êñ∞ÈúÄË¶ÅÂà∑Êñ∞ÁöÑÊï∞ÊçÆÔºå‰øùÁïô‰∏çÈúÄË¶ÅÂà∑Êñ∞ÁöÑÊï∞ÊçÆ„ÄÇ</li></ol><h5 id="2-2-3-ÊÆµÈ°µÂºèÁÆ°ÁêÜ"><a href="#2-2-3-ÊÆµÈ°µÂºèÁÆ°ÁêÜ" class="headerlink" title="2.2.3 ÊÆµÈ°µÂºèÁÆ°ÁêÜ"></a>2.2.3 ÊÆµÈ°µÂºèÁÆ°ÁêÜ</h5><p><code>ÂÜÖÂ≠òÂàÜÊÆµ</code>Ë∑ü<code>ÂÜÖÂ≠òÂàÜÈ°µ</code>‰∏çÊòØÂØπÁ´ãÁöÑÔºåËøô‰ø©ÂèØ‰ª•ÁªÑÂêàËµ∑Êù•Âú®Âêå‰∏Ä‰∏™Á≥ªÁªü‰∏≠‰ΩøÁî®ÁöÑÔºåÈÇ£‰πàÁªÑÂêàËµ∑Êù•ÂêéÈÄöÂ∏∏Áß∞‰∏∫<code>ÊÆµÈ°µÂºèÂÜÖÂ≠òÁÆ°ÁêÜ</code>„ÄÇÊÆµÈ°µÂºèÂÜÖÂ≠òÁÆ°ÁêÜÂÆûÁé∞ÁöÑÊñπÂºèÔºö</p><ol><li>ÂÖàÂØπÊï∞ÊçÆ‰∏çÂêåÂàíÂàÜÂá∫‰∏çÂêåÁöÑÊÆµÔºå‰πüÂ∞±ÊòØÂâçÈù¢ËØ¥ÁöÑÂàÜÊÆµÊú∫Âà∂„ÄÇ</li><li>ÁÑ∂ÂêéÂÜçÊääÊØè‰∏Ä‰∏™ÊÆµËøõË°åÂàÜÈ°µÊìç‰ΩúÔºå‰πüÂ∞±ÊòØÂâçÈù¢ËØ¥ÁöÑÂàÜÈ°µÊú∫Âà∂„ÄÇ</li><li>Ê≠§Êó∂ Âú∞ÂùÄÁªìÊûÑ = ÊÆµÂè∑ + ÊÆµÂÜÖÈ°µÂè∑ + È°µÂÜÖ‰ΩçÁßª„ÄÇ</li></ol><p>ÊØè‰∏Ä‰∏™ËøõÁ®ãÊúâ‰∏ÄÂº†ÊÆµË°®ÔºåÊØè‰∏™ÊÆµÂèàÂª∫Á´ã‰∏ÄÂº†È°µË°®ÔºåÊÆµË°®‰∏≠ÁöÑÂú∞ÂùÄÊòØÈ°µË°®ÁöÑËµ∑ÂßãÂú∞ÂùÄÔºåËÄåÈ°µË°®‰∏≠ÁöÑÂú∞ÂùÄÂàô‰∏∫ÊüêÈ°µÁöÑÁâ©ÁêÜÈ°µÂè∑„ÄÇ</p><figure class="image-box">                <img src="image-20220208105806478.png" alt="image-20220208105806478" title class>                <p>image-20220208105806478</p>            </figure><p>  ÊÆµÈ°µÂºèÁÆ°ÁêÜ</p><p>ÂêåÊó∂Êàë‰ª¨ÁªèÂ∏∏ÁúãÂà∞‰∏§‰∏™‰∏ì‰∏öËØç<code>ÈÄªËæëÂú∞ÂùÄ</code>Ë∑ü<code>Á∫øÊÄßÂú∞ÂùÄ</code>„ÄÇ</p><ol><li><code>ÈÄªËæëÂú∞ÂùÄ</code>ÔºöÊåáÁöÑÊòØÊ≤°Ë¢´ÊÆµÂºèÂÜÖÂ≠òÁÆ°ÁêÜÊò†Â∞ÑÁöÑÂú∞ÂùÄ„ÄÇ</li><li><code>Á∫øÊÄßÂú∞ÂùÄ</code>ÔºöÈÄöËøáÊÆµÂºèÂÜÖÂ≠òÁÆ°ÁêÜÊò†Â∞Ñ‰∏îÈ°µÂºèÂÜÖÂ≠òÁÆ°ÁêÜËΩ¨Êç¢ÂâçÁöÑÂú∞ÂùÄÔºå‰øóÁß∞ËôöÊãüÂú∞ÂùÄ„ÄÇ</li></ol><p>ÁõÆÂâç Intel X86 CPU ÈááÁî®ÁöÑÊòØÂÜÖÂ≠òÂàÜÊÆµ +  ÂÜÖÂ≠òÂàÜÈ°µÁöÑÁÆ°ÁêÜÊñπÂºèÔºåÂÖ∂‰∏≠ÂàÜÈ°µÁöÑÊÑèÊÄùÊòØÂú®Áî±ÊÆµÂºèÂÜÖÂ≠òÁÆ°ÁêÜÊâÄÊò†Â∞ÑËÄåÊàêÁöÑÁöÑÂú∞ÂùÄ‰∏äÂÜçÂä†‰∏ä‰∏ÄÂ±ÇÂú∞ÂùÄÊò†Â∞Ñ„ÄÇ</p><figure class="image-box">                <img src="image-20220208105815982.png" alt="image-20220208105815982" title class>                <p>image-20220208105815982</p>            </figure><h5 id="2-2-4-Linux-ÂÜÖÂ≠òÁÆ°ÁêÜ"><a href="#2-2-4-Linux-ÂÜÖÂ≠òÁÆ°ÁêÜ" class="headerlink" title="2.2.4 Linux ÂÜÖÂ≠òÁÆ°ÁêÜ"></a>2.2.4 Linux ÂÜÖÂ≠òÁÆ°ÁêÜ</h5><p>ÂÖàËØ¥ÁªìËÆ∫ÔºöLinuxÁ≥ªÁªüÂü∫‰∫éX86 CPU ËÄåÂÅöÁöÑÊìç‰ΩúÁ≥ªÁªüÔºåÊâÄ‰ª•‰πüÊòØÁî®ÁöÑÊÆµÈ°µÂºèÂÜÖÂ≠òÁÆ°ÁêÜÊñπÂºè„ÄÇ</p><figure class="image-box">                <img src="image-20220208105825019.png" alt="image-20220208105825019" title class>                <p>image-20220208105825019</p>            </figure><p>Êàë‰ª¨Áü•ÈÅì32‰ΩçÁöÑÊìç‰ΩúÁ≥ªÁªüÂèØÂØªÂùÄËåÉÂõ¥ÊòØ4GÔºåÊìç‰ΩúÁ≥ªÁªü‰ºöÂ∞Ü4GÁöÑÂèØËÆøÈóÆÂÜÖÂ≠òÁ©∫Èó¥ÂàÜ‰∏∫<strong>Áî®Êà∑Á©∫Èó¥</strong>Ë∑ü<strong>ÂÜÖÊ†∏Á©∫Èó¥</strong>„ÄÇ</p><ol><li><code>ÂÜÖÊ†∏Á©∫Èó¥</code>ÔºöÊìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏ËÆøÈóÆÁöÑÂå∫ÂüüÔºåÁã¨Á´ã‰∫éÊôÆÈÄöÁöÑÂ∫îÁî®Á®ãÂ∫èÔºåÊòØÂèó‰øùÊä§ÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÂÜÖÊ†∏ÊÄÅ‰∏ãCPUÂèØÊâßË°å‰ªª‰ΩïÊåá‰ª§ÔºåÂèØËá™Áî±ËÆøÈóÆ‰ªª‰ΩïÊúâÊïàÂú∞ÂùÄ„ÄÇ</li><li><code>Áî®Êà∑Á©∫Èó¥</code>ÔºöÊôÆÈÄöÂ∫îÁî®Á®ãÂ∫èÂèØËÆøÈóÆÁöÑÂÜÖÂ≠òÂå∫Âüü„ÄÇË¢´ÊâßË°å‰ª£Á†Å‰ºöÂèóÂà∞CPU‰ºóÂ§öÈôêÂà∂ÔºåËøõÁ®ãÂè™ËÉΩËÆøÈóÆÊò†Â∞ÑÂÖ∂Âú∞ÂùÄÁ©∫Èó¥ÁöÑÈ°µË°®È°π‰∏≠ËßÑÂÆöÁöÑÂú®Áî®Êà∑ÊÄÅ‰∏ãÂèØËÆøÈóÆÈ°µÈù¢ÁöÑËôöÊãüÂú∞ÂùÄ„ÄÇ</li></ol><p>ÈÇ£‰∏∫Âï•Ë¶ÅÊêû‰ø©Á©∫Èó¥Âë¢?Áé∞Âú®ÂµåÂÖ•ÂºèÁéØÂ¢ÉË∑ü‰ª•ÂâçÁöÑWIN98Á≥ªÁªüÊòØÊ≤°ÊúâÂå∫ÂàÜ‰ø©Á©∫Èó¥ÁöÑÔºåÈ°ªÁü•‰ø©Á©∫Èó¥ÊòØCPUÂàÜÁöÑÔºåËÄåÊìç‰ΩúÁ≥ªÁªüÊòØÂú®‰∏äÈù¢ËøêË°åÁöÑÔºåÂçï‰∏ÄÁî®Êà∑„ÄÅÂçï‰∏Ä‰ªªÂä°ÊúçÂä°ÁöÑÊìç‰ΩúÁ≥ªÁªüÔºåÊòØÊ≤°ÊúâÂàÜÊâÄË∞ìÁî®Êà∑ÊÄÅÂíåÂÜÖÊ†∏ÊÄÅÁöÑÂøÖË¶Å„ÄÇÁî®Êà∑ÊÄÅÂíåÂÜÖÊ†∏ÊÄÅÊòØÂõ†‰∏∫ÊúâÂ§öÁî®Êà∑ÔºåÂ§ö‰ªªÂä°ÁöÑÈúÄÊ±ÇÔºåÁÑ∂ÂêéÂú®CPUÁ°¨‰ª∂ÂéÇÂïÜÈÖçÂêà‰πãÂêéÔºå‰∫ßÁîüÁöÑ‰∏Ä‰∏™Êìç‰ΩúÁ≥ªÁªüËß£ÂÜ≥Â§öÁî®Êà∑Â§ö‰ªªÂä°ÈúÄÊ±ÇÁöÑÊñπÊ°à„ÄÇÊñπÊ°àÂ∞±ÊòØ<strong>ÈôêÂà∂</strong>ÔºåÈÄöËøáÁ°¨‰ª∂ÊâãÊÆµÔºà‰πüÂè™ËÉΩÁ°¨‰ª∂ÊâãÊÆµÊâçËÉΩÂÅöÂà∞ÔºâÔºåÈôêÂà∂Êüê‰∫õ‰ª£Á†ÅÔºå‰ΩøÂÖ∂Êó†Ê≥ïÊéßÂà∂Êï¥‰∏™Áâ©ÁêÜÁ°¨‰ª∂ÔºåËøõËÄå‰ΩøÂêÑ‰∏™‰∏çÂêåÁî®Êà∑Ôºå‰∏çÂêå‰ªªÂä°ÁöÑ‰ª£Á†ÅÔºåÊó†ÊùÉ‰øÆÊîπÊï¥‰∏™Áâ©ÁêÜÁ°¨‰ª∂ÔºåÂÜçËøõËÄå‰øùÊä§Êìç‰ΩúÁ≥ªÁªüÁöÑÊ†∏ÂøÉÂ∫ïÂ±Ç‰ª£Á†ÅÂíåÂÖ∂‰ªñÁî®Êà∑ÁöÑÊï∞ÊçÆ‰∏çË¢´Êó†ÊÑèÊàñËÄÖÊúâÊÑèÂú∞Á†¥ÂùèÂíåÁõóÂèñ„ÄÇ</p><figure class="image-box">                <img src="image-20220208105839460.png" alt="image-20220208105839460" title class>                <p>image-20220208105839460</p>            </figure><p>ÂêéÊù•Á†îÁ©∂ËÄÖÊ†πÊçÆ<strong>CPU</strong>ÁöÑËøêË°åÁ∫ßÂà´ÔºåÂàÜÊàê‰∫ÜRing0~Ring3Âõõ‰∏™Á∫ßÂà´„ÄÇRing0ÊòØÊúÄÈ´òÁ∫ßÂà´ÔºåRing1Ê¨°‰πãÔºåRng2Êõ¥Ê¨°‰πãÔºåÊãøLinux+x86Êù•ËØ¥Ôºå  Êìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏ÁöÑ‰ª£Á†ÅËøêË°åÂú®ÊúÄÈ´òËøêË°åÁ∫ßÂà´Ring0‰∏äÔºåÂèØ‰ª•‰ΩøÁî®ÁâπÊùÉÊåá‰ª§ÔºåÊéßÂà∂‰∏≠Êñ≠„ÄÅ‰øÆÊîπÈ°µË°®„ÄÅËÆøÈóÆËÆæÂ§áÁ≠â„ÄÇ Â∫îÁî®Á®ãÂ∫èÁöÑ‰ª£Á†ÅËøêË°åÂú®ÊúÄ‰ΩéËøêË°åÁ∫ßÂà´‰∏äRing3‰∏äÔºå‰∏çËÉΩÂÅöÂèóÊéßÊìç‰ΩúÔºåÂè™ËÉΩËÆøÈóÆÁî®Êà∑Ë¢´ÂàÜÈÖçÁöÑÁ©∫Èó¥„ÄÇÂ¶ÇÊûúË¶ÅÂÅöËÆøÈóÆÁ£ÅÁõòË∑üÂÜôÊñá‰ª∂Á≠âÊìç‰ΩúÔºåÈÇ£Â∞±Ë¶ÅÈÄöËøáÊâßË°åÁ≥ªÁªüË∞ÉÁî®ÂáΩÊï∞ÔºåÊâßË°åÁ≥ªÁªüË∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåCPUÁöÑËøêË°åÁ∫ßÂà´‰ºöÂèëÁîü‰ªéRing3Âà∞Ring0ÁöÑÂàáÊç¢ÔºåÂπ∂Ë∑≥ËΩ¨Âà∞Á≥ªÁªüË∞ÉÁî®ÂØπÂ∫îÁöÑÂÜÖÊ†∏‰ª£Á†Å‰ΩçÁΩÆÊâßË°åÔºåËøôÊ†∑ÂÜÖÊ†∏Â∞±‰∏∫‰Ω†ÂÆåÊàê‰∫ÜËÆæÂ§áËÆøÈóÆÔºåÂÆåÊàê‰πãÂêéÂÜç‰ªéRing0ËøîÂõûRing3„ÄÇËøô‰∏™ËøáÁ®ã‰πüÁß∞‰Ωú<strong>Áî®Êà∑ÊÄÅÂíåÂÜÖÊ†∏ÊÄÅÁöÑÂàáÊç¢</strong>„ÄÇ</p><p>Áî®Êà∑ÊÄÅÊÉ≥Ë¶Å‰ΩøÁî®ËÆ°ÁÆóÊú∫ËÆæÂ§áÊàñIOÈúÄÈÄöËøáÁ≥ªÁªüË∞ÉÁî®ÂÆåÊàêsys callÔºåÁ≥ªÁªüË∞ÉÁî®Â∞±ÊòØËÆ©ÂÜÖÊ†∏Êù•ÂÅöËøô‰∫õÊìç‰Ωú„ÄÇËÄåÁ≥ªÁªüË∞ÉÁî®ÊòØÂΩ±ÂìçÊï¥‰∏™ÂΩìÂâçËøõÁ®ã‰∏ä‰∏ãÊñáÁöÑÔºåÔº£Ôº∞ÔºµÊèê‰æõ‰∫Ü‰∏™ËΩØ‰∏≠Êñ≠Êù•ÊòØÂÆûÁé∞‰øùÊä§Á∫øÁ®ãÔºåËé∑ÂèñÁ≥ªÁªüË∞ÉÁî®Âè∑Ë∑üÂèÇÊï∞Ôºå‰∫§ÁªôÂÜÖÊ†∏ÂØπÂ∫îÁ≥ªÁªüË∞ÉÁî®ÂáΩÊï∞ÊâßË°å„ÄÇ</p><figure class="image-box">                <img src="image-20220208105855383.png" alt="image-20220208105855383" title class>                <p>image-20220208105855383</p>            </figure><p>ÂèØ‰ª•ÁúãÂà∞ÊØè‰∏™Â∫îÁî®Á®ãÂ∫èÈÉΩÂêÑËá™ÊúâÁã¨Á´ãÁöÑËôöÊãüÂÜÖÂ≠òÂú∞ÂùÄÔºå‰ΩÜÊØè‰∏™ËôöÊãüÂÜÖÂ≠ò‰∏≠ÂØπÂ∫îÁöÑÂÜÖÊ†∏Âú∞ÂùÄÂÖ∂ÂÆûÊòØÁõ∏ÂêåÁöÑ‰∏ÄÂ§ßÂùóÔºåËøôÊ†∑ÂΩìËøõÁ®ãÂàáÊç¢Âà∞ÂÜÖÊ†∏ÊÄÅÂêéÂèØ‰ª•ÂæàÊñπ‰æøÂú∞ËÆøÈóÆÂÜÖÊ†∏Á©∫Èó¥ÂÜÖÂ≠ò„ÄÇÊØîÂ¶ÇJava‰ª£Á†ÅÂàõÂª∫Á∫øÁ®ã<code>new Thread</code>Ë∞ÉÁî®<code>start</code>ÊñπÊ≥ïÂêéË∑üË∏™<a href="http://mp.weixin.qq.com/s?__biz=MzI4NjI1OTI4Nw==&amp;mid=2247489183&amp;idx=1&amp;sn=02ab3551c473bd2c8429862e3689a94b&amp;chksm=ebdef7a7dca97eb17194c3d935c86ade240d3d96bbeaf036233a712832fb94af07adeafa098b&amp;scene=21#wechat_redirect" target="_blank" rel="noopener"><code>JVM</code></a>Ê∫êÁ†Å‰Ω†‰ºöÂèëÁé∞ÊòØË∞ÉÁî®<code>pthread_create</code>Êù•ÂàõÂª∫Á∫øÁ®ãÁöÑÔºåËøôÂ∞±Ê∂âÂèäÂà∞‰∫ÜÁî®Êà∑ÊÄÅÂà∞ÂÜÖÊ†∏ÊÄÅÁöÑÂàáÊç¢„ÄÇ</p><h1 id="3-ËøõÁ®ãÁÆ°ÁêÜ"><a href="#3-ËøõÁ®ãÁÆ°ÁêÜ" class="headerlink" title="3 ËøõÁ®ãÁÆ°ÁêÜ"></a>3 ËøõÁ®ãÁÆ°ÁêÜ</h1><h3 id="3-1-ËøõÁ®ãÂü∫Á°ÄÁü•ËØÜ"><a href="#3-1-ËøõÁ®ãÂü∫Á°ÄÁü•ËØÜ" class="headerlink" title="3.1 ËøõÁ®ãÂü∫Á°ÄÁü•ËØÜ"></a>3.1 ËøõÁ®ãÂü∫Á°ÄÁü•ËØÜ</h3><p>ËøõÁ®ãÊòØÁ®ãÂ∫èÁöÑ‰∏ÄÊ¨°ÊâßË°åÔºåÊòØ‰∏Ä‰∏™Á®ãÂ∫èÂèäÂÖ∂Êï∞ÊçÆÂú®Êú∫Âô®‰∏äÈ°∫Â∫èÊâßË°åÊó∂ÊâÄÂèëÁîüÁöÑÊ¥ªÂä®ÔºåÊòØÂÖ∑ÊúâÁã¨Á´ãÂäüËÉΩÁöÑÁ®ãÂ∫èÂú®‰∏Ä‰∏™Êï∞ÊçÆÈõÜÂêà‰∏äÁöÑ‰∏ÄÊ¨°ËøêË°åËøáÁ®ãÔºåÊòØÁ≥ªÁªüËøõË°åËµÑÊ∫êÂàÜÈÖçÂíåË∞ÉÂ∫¶ÁöÑ‰∏Ä‰∏™Âü∫Êú¨Âçï‰Ωç„ÄÇËøõÁ®ãÁöÑ<a href="http://mp.weixin.qq.com/s?__biz=MzI4NjI1OTI4Nw==&amp;mid=2247489439&amp;idx=1&amp;sn=df404e70a8e55b4019317ef2036fbe7d&amp;chksm=ebdef6a7dca97fb1e1a0dfd2eab194fa87f4971cd6b88645db072bcc9c98614b0ad30dc43399&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">Ë∞ÉÂ∫¶Áä∂ÊÄÅ</a>Â¶Ç‰∏ãÔºö</p><figure class="image-box">                <img src="640.png" alt="ÂõæÁâá" title class>                <p>ÂõæÁâá</p>            </figure><p>Áä∂ÊÄÅÂèòÂåñÂõæ</p><p>ÈáçÁÇπËØ¥‰∏ã<code>ÊåÇËµ∑</code>Ë∑ü<code>ÈòªÂ°û</code>Ôºö</p><ol><li>ÈòªÂ°û‰∏ÄËà¨ÊòØÂΩìÁ≥ªÁªüÊâßË°åIOÊìç‰ΩúÊó∂ÔºåÊ≠§Êó∂ËøõÁ®ãËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅÔºåÁ≠âÂæÖÊüê‰∏™‰∫ã‰ª∂ÁöÑËøîÂõû„ÄÇ</li><li>ÊåÇËµ∑ÊòØÊåáËøõÁ®ãÊ≤°ÊúâÂç†ÊúâÁâ©ÁêÜÂÜÖÂ≠òÔºåË¢´ÂÜôÂà∞Á£ÅÁõò‰∏ä‰∫Ü„ÄÇËøôÊó∂ËøõÁ®ãÁä∂ÊÄÅÊòØÊåÇËµ∑Áä∂ÊÄÅ„ÄÇ</li></ol><blockquote><p> <code>ÈòªÂ°ûÊåÇËµ∑</code>ÔºöËøõÁ®ãË¢´ÂÜôÂÖ•Á°¨ÁõòÂπ∂Á≠âÂæÖÊüê‰∏™‰∫ã‰ª∂ÁöÑÂá∫Áé∞„ÄÇ<br> <code>Â∞±Áª™ÊåÇËµ∑</code>ÔºöËøõÁ®ãË¢´ÂÜôÂÖ•Á°¨ÁõòÔºåËøõÂÖ•ÂÜÖÂ≠òÂèØÁõ¥Êé•ËøõÂÖ•Â∞±Áª™Áä∂ÊÄÅ„ÄÇ</p></blockquote><hr><h3 id="3-2-PCB"><a href="#3-2-PCB" class="headerlink" title="3.2 PCB"></a>3.2 PCB</h3><p>‰∏∫‰∫ÜÊèèËø∞Ë∑üÊéßÂà∂ËøõÁ®ãÁöÑËøêË°åÔºåÁ≥ªÁªü‰∏∫ÊØè‰∏™ËøõÁ®ãÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑ‚Äî‚Äî<code>ËøõÁ®ãÊéßÂà∂Âùó Process Control Block</code>ÔºåÂÆÉÊòØËøõÁ®ãÂÆû‰ΩìÁöÑ‰∏ÄÈÉ®ÂàÜÔºåÊòØÊìç‰ΩúÁ≥ªÁªü‰∏≠ÊúÄÈáçË¶ÅÁöÑËÆ∞ÂΩïÂûãÊï∞ÊçÆÁªìÊûÑ„ÄÇ</p><p>PCB ÁöÑ‰ΩúÁî®ÊòØ<strong>‰Ωø‰∏Ä‰∏™Âú®Â§öÈÅìÁ®ãÂ∫èÁéØÂ¢É‰∏ã‰∏çËÉΩÁã¨Á´ãËøêË°åÁöÑÁ®ãÂ∫èÔºåÊàê‰∏∫‰∏Ä‰∏™ËÉΩÁã¨Á´ãËøêË°åÁöÑÂü∫Êú¨Âçï‰ΩçÔºå‰∏Ä‰∏™ËÉΩ‰∏éÂÖ∂ÂÆÉËøõÁ®ãÂπ∂ÂèëÊâßË°åÁöÑËøõÁ®ã</strong> :</p><ol><li>‰Ωú‰∏∫Áã¨Á´ãËøêË°åÂü∫Êú¨Âçï‰ΩçÁöÑÊ†áÂøó</li><li>ÂÆûÁé∞Èó¥Êñ≠ÊÄßÁöÑËøêË°åÊñπÂºè</li><li>Êèê‰æõËøõÁ®ãÁÆ°ÁêÜÊâÄÈúÄË¶ÅÁöÑ‰ø°ÊÅØ</li><li>Êèê‰æõËøõÁ®ãË∞ÉÂ∫¶ÊâÄÈúÄË¶ÅÁöÑ‰ø°ÊÅØ</li><li>ÂÆûÁé∞‰∏éÂÖ∂‰ªñËøõÁ®ãÁöÑÂêåÊ≠•‰∏éÈÄö‰ø°</li></ol><h5 id="3-2-1-PCB-‰ø°ÊÅØ"><a href="#3-2-1-PCB-‰ø°ÊÅØ" class="headerlink" title="3.2.1 PCB ‰ø°ÊÅØ"></a>3.2.1 PCB ‰ø°ÊÅØ</h5><p>PCB‰∏∫ÂÆûÁé∞‰∏äËø∞ÂäüËÉΩÔºåÂÜÖÈÉ®ÂåÖÂê´‰ºóÂ§ö‰ø°ÊÅØÔºö</p><ol><li><strong>ËøõÁ®ãÊ†áËØÜÁ¨¶</strong>ÔºöÁî®‰∫éÂîØ‰∏ÄÂú∞Ê†áËØÜ‰∏Ä‰∏™ËøõÁ®ãÔºå‰∏Ä‰∏™ËøõÁ®ãÈÄöÂ∏∏Êúâ‰∏§ÁßçÊ†áËØÜÁ¨¶Ôºö</li></ol><blockquote><ol><li><code>ÂÜÖÈÉ®ËøõÁ®ãÊ†áËØÜÁ¨¶</code>ÔºöÊ†áËØÜÂêÑ‰∏™ËøõÁ®ãÔºåÊØè‰∏™ËøõÁ®ãÈÉΩÊúâ‰∏Ä‰∏™Âπ∂‰∏îÂîØ‰∏ÄÁöÑÊ†áËØÜÁ¨¶ÔºåËÆæÁΩÆÂÜÖÈÉ®Ê†áËØÜÁ¨¶‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÊñπ‰æøÁ≥ªÁªü‰ΩøÁî®„ÄÇ</li><li><code>Â§ñÈÉ®ËøõÁ®ãÊ†áËØÜÁ¨¶</code>ÔºöÂÆÉÁî±ÂàõÂª∫ËÄÖÊèê‰æõÔºåÂèØËÆæÁΩÆÁî®Êà∑Ê†áËØÜÔºå‰ª•ÊåáÁ§∫Êã•ÊúâËØ•ËøõÁ®ãÁöÑÁî®Êà∑„ÄÇÂæÄÂæÄÊòØÁî±Áî®Êà∑ËøõÁ®ãÂú®ËÆøÈóÆËØ•ËøõÁ®ãÊó∂‰ΩøÁî®„ÄÇ‰∏ÄËà¨‰∏∫‰∫ÜÊèèËø∞ËøõÁ®ãÁöÑÂÆ∂ÊóèÂÖ≥Á≥ªÔºåËøòÂ∫îËÆæÁΩÆÁà∂ËøõÁ®ãÊ†áËØÜÂèäÂ≠êËøõÁ®ãÊ†áËØÜ„ÄÇ</li></ol></blockquote><ol><li><strong>Â§ÑÁêÜÊú∫Áä∂ÊÄÅ</strong>ÔºöÁî±ÂêÑÁßçÂØÑÂ≠òÂô®ÁªÑÊàê„ÄÇÂåÖÂê´ËÆ∏Â§ö‰ø°ÊÅØÈÉΩÊîæÂú®ÂØÑÂ≠òÂô®‰∏≠ÔºåÊñπ‰æøÁ®ãÂ∫èrestart„ÄÇ</li></ol><blockquote><ol><li>ÈÄöÁî®ÂØÑÂ≠òÂô®„ÄÅÊåá‰ª§ËÆ°Êï∞Âô®„ÄÅÁ®ãÂ∫èÁä∂ÊÄÅÂ≠óPSW„ÄÅÁî®Êà∑Ê†àÊåáÈíàÁ≠â‰ø°ÊÅØ„ÄÇ</li></ol></blockquote><ol><li><strong>ËøõÁ®ãË∞ÉÂ∫¶‰ø°ÊÅØ</strong></li></ol><blockquote><ol><li>ËøõÁ®ãÁä∂ÊÄÅÔºöÊåáÊòéËøõÁ®ãÁöÑÂΩìÂâçÁä∂ÊÄÅÔºå‰Ωú‰∏∫ËøõÁ®ãË∞ÉÂ∫¶ÂíåÂØπÊç¢Êó∂ÁöÑ‰æùÊçÆ„ÄÇ</li><li>ËøõÁ®ã‰ºòÂÖàÁ∫ßÔºöÁî®‰∫éÊèèËø∞ËøõÁ®ã‰ΩøÁî®Â§ÑÁêÜÊú∫ÁöÑ‰ºòÂÖàÁ∫ßÂà´ÁöÑ‰∏Ä‰∏™Êï¥Êï∞Ôºå‰ºòÂÖàÁ∫ßÈ´òÁöÑËøõÁ®ãÂ∫î‰ºòÂÖàËé∑ÂæóÂ§ÑÁêÜÊú∫</li><li>ËøõÁ®ãË∞ÉÂ∫¶ÊâÄÈúÄÁöÑÂÖ∂ÂÆÉ‰ø°ÊÅØÔºö‰∏éÊâÄÈááÁî®ÁöÑËøõÁ®ãË∞ÉÂ∫¶ÁÆóÊ≥ïÊúâÂÖ≥ÔºåÂ¶ÇËøõÁ®ãÂ∑≤Á≠âÂæÖCPUÁöÑÊó∂Èó¥ÊÄªÂíå„ÄÅËøõÁ®ãÂ∑≤ÊâßË°åÁöÑÊó∂Èó¥ÊÄªÂíåÁ≠â„ÄÇ</li><li>‰∫ã‰ª∂ÔºöÊåáËøõÁ®ãÁî±ÊâßË°åÁä∂ÊÄÅËΩ¨Âèò‰∏∫ÈòªÂ°ûÁä∂ÊÄÅÊâÄÁ≠âÂæÖÂèëÁîüÁöÑ‰∫ã‰ª∂ÔºåÂç≥ÈòªÂ°ûÂéüÂõ†„ÄÇ</li></ol></blockquote><ol><li><strong>ËµÑÊ∫êÊ∏ÖÂçï</strong></li></ol><blockquote><p>ÊúâÂÖ≥ÂÜÖÂ≠òÂú∞ÂùÄÁ©∫Èó¥ÊàñËôöÊãüÂú∞ÂùÄÁ©∫Èó¥ÁöÑ‰ø°ÊÅØÔºåÊâÄÊâìÂºÄÊñá‰ª∂ÁöÑÂàóË°®ÂíåÊâÄ‰ΩøÁî®ÁöÑ I/O ËÆæÂ§á‰ø°ÊÅØ„ÄÇ</p></blockquote><h5 id="3-2-2-PCB-ÁªÑÁªáÊñπÂºè"><a href="#3-2-2-PCB-ÁªÑÁªáÊñπÂºè" class="headerlink" title="3.2.2 PCB ÁªÑÁªáÊñπÂºè"></a>3.2.2 PCB ÁªÑÁªáÊñπÂºè</h5><p>Êìç‰ΩúÁ≥ªÁªü‰∏≠ÊúâÂ§™Â§ö PCBÔºåÂ¶Ç‰ΩïÁÆ°ÁêÜÊòØ‰∏™ÈóÆÈ¢òÔºå‰∏ÄËà¨ÊúâÂ¶Ç‰∏ãÊñπÂºè„ÄÇ</p><figure class="image-box">                <img src="image-20220208105914468.png" alt="image-20220208105914468" title class>                <p>image-20220208105914468</p>            </figure><ol><li><strong>Á∫øÊÄßÊñπÂºè</strong>Ôºö</li></ol><blockquote><ol><li>Â∞ÜÁ≥ªÁªüÊâÄÊúâPCBÈÉΩÁªÑÁªáÂú®‰∏ÄÂº†Á∫øÊÄßË°®‰∏≠ÔºåÂ∞ÜËØ•Ë°®È¶ñÂú∞ÂùÄÂ≠òÂú®ÂÜÖÂ≠òÁöÑ‰∏Ä‰∏™‰∏ìÁî®Âå∫Âüü</li><li>ÂÆûÁé∞ÁÆÄÂçïÔºåÂºÄÈîÄÂ∞èÔºå‰ΩÜÊòØÊØèÊ¨°ÈÉΩÈúÄË¶ÅÊâ´ÊèèÊï¥Âº†Ë°®ÔºåÈÄÇÂêàËøõÁ®ãÊï∞ÁõÆ‰∏çÂ§öÁöÑÁ≥ªÁªü</li></ol></blockquote><figure class="image-box">                <img src="image-20220208105928416.png" alt="image-20220208105928416" title class>                <p>image-20220208105928416</p>            </figure><p>Á¥¢ÂºïÊñπÂºè</p><ol><li><strong>Á¥¢ÂºïÊñπÂºè</strong>Ôºö</li></ol><blockquote><ol><li>Â∞ÜÂêå‰∏ÄÁä∂ÊÄÅÁöÑËøõÁ®ãÁªÑÁªáÂú®‰∏Ä‰∏™Á¥¢ÂºïË°®‰∏≠ÔºåÁ¥¢ÂºïË°®È°πÊåáÂêëÁõ∏Â∫îÁöÑ PCBÔºå‰∏çÂêåÁä∂ÊÄÅÂØπÂ∫î‰∏çÂêåÁöÑÁ¥¢ÂºïË°®„ÄÇ</li></ol></blockquote><figure class="image-box">                <img src="image-20220208105942343.png" alt="image-20220208105942343" title class>                <p>image-20220208105942343</p>            </figure><ol><li><strong>ÈìæÊé•ÊñπÂºè</strong>Ôºö</li></ol><blockquote><ol><li>ÊääÂêå‰∏ÄÁä∂ÊÄÅÁöÑPCBÈìæÊé•Êàê‰∏Ä‰∏™ÈòüÂàóÔºåÂΩ¢ÊàêÂ∞±Áª™ÈòüÂàó„ÄÅÈòªÂ°ûÈòüÂàó„ÄÅÁ©∫ÁôΩÈòüÂàóÁ≠â„ÄÇÂØπÂÖ∂‰∏≠ÁöÑÂ∞±Áª™ÈòüÂàóÂ∏∏ÊåâËøõÁ®ã‰ºòÂÖàÁ∫ßÁöÑÈ´ò‰ΩéÊéíÂàóÔºå‰ºòÂÖàÁ∫ßÈ´òÊéíÂú®ÈòüÂâç„ÄÇ</li><li>Âõ†‰∏∫ËøõÁ®ãÂàõÂª∫„ÄÅÈîÄÊØÅ„ÄÅË∞ÉÂ∫¶È¢ëÁπÅÔºåÊâÄ‰ª•<strong>‰∏ÄËà¨ÈááÁî®Ê≠§Ê®°Âºè</strong>„ÄÇ</li></ol></blockquote><h3 id="3-3-ËøõÁ®ãÊéßÂà∂"><a href="#3-3-ËøõÁ®ãÊéßÂà∂" class="headerlink" title="3.3 ËøõÁ®ãÊéßÂà∂"></a>3.3 ËøõÁ®ãÊéßÂà∂</h3><p>ËøõÁ®ãÊéßÂà∂ÊòØËøõÁ®ãÁÆ°ÁêÜÊúÄÂü∫Êú¨ÁöÑÂäüËÉΩÔºå‰∏ªË¶ÅÂåÖÊã¨<code>ÂàõÂª∫Êñ∞ËøõÁ®ã</code>Ôºå<code>ÁªàÊ≠¢Â∑≤ÂÆåÊàêÁöÑËøõÁ®ã</code>Ôºå<code>Â∞ÜÂèëÁîüÂºÇÂ∏∏ÁöÑËøõÁ®ãÁΩÆ‰∫éÈòªÂ°ûÁä∂ÊÄÅ</code>Ôºå<code>Â∞ÜËøõÁ®ãÂî§ÈÜí</code>Á≠â„ÄÇ</p><h5 id="3-3-1-ËøõÁ®ãÂàõÂª∫"><a href="#3-3-1-ËøõÁ®ãÂàõÂª∫" class="headerlink" title="3.3.1 ËøõÁ®ãÂàõÂª∫"></a>3.3.1 ËøõÁ®ãÂàõÂª∫</h5><p>Áà∂ËøõÁ®ãÂèØÂàõÂª∫Â≠êËøõÁ®ãÔºåÁà∂ËøõÁ®ãÁªàÊ≠¢ÂêéÂ≠êËøõÁ®ã‰πü‰ºöË¢´ÁªàÊ≠¢„ÄÇÂ≠êËøõÁ®ãÂèØÁªßÊâøÁà∂ËøõÁ®ãÊâÄÊúâËµÑÊ∫êÔºåÂ≠êËøõÁ®ãÁªàÊ≠¢ÈúÄÂ∞ÜËá™Â∑±ÊâÄÁªßÊâøÁöÑËµÑÊ∫êÂΩíËøòÁà∂ËøõÁ®ã„ÄÇÊé•‰∏ãÊù•Áúã‰∏ãÂàõÂª∫ÁöÑÂ§ßËá¥ÊµÅÁ®ã„ÄÇ</p><ol><li>‰∏∫Êñ∞ËøõÁ®ãÂàÜÈÖçÂîØ‰∏ÄËøõ‰ª∂Ê†áËØÜÂè∑ÔºåÁÑ∂ÂêéÂàõÂª∫‰∏Ä‰∏™Á©∫ÁôΩPCBÔºåÈúÄÊ≥®ÊÑèPCBÊï∞ÈáèÊòØÊúâÈôêÁöÑÔºåÊâÄ‰ª•ÂèØËÉΩ‰ºöÂàõÂª∫Â§±Ë¥•„ÄÇ</li><li>Â∞ùËØï‰∏∫Êñ∞ËøõÁ®ãÂàÜÈÖçÊâÄÈúÄËµÑÊ∫êÔºåÂ¶ÇÊûúËµÑÊ∫ê‰∏çË∂≥ËøõÁ®ã‰ºöËøõÂÖ•Á≠âÂæÖÁä∂ÊÄÅ„ÄÇ</li><li>ÂàùÂßãÂåñPCBÔºåÊúâÂ¶Ç‰∏ãÂá†‰∏™Êìç‰Ωú„ÄÇ</li></ol><blockquote><ol><li>Ê†áËØÜ‰ø°ÊÅØÔºöÂ∞ÜÁ≥ªÁªüÂàÜÈÖçÁöÑÊ†áËØÜÁ¨¶ÂíåÁà∂ËøõÁ®ãÊ†áËØÜÁ¨¶Â°´ÂÖ•Êñ∞PCB</li><li>Â§ÑÁêÜÊú∫Áä∂ÊÄÅ‰ø°ÊÅØÔºö‰ΩøÁ®ãÂ∫èËÆ°Êï∞Âô®ÊåáÂêëÁ®ãÂ∫èÂÖ•Âè£Âú∞ÂùÄÔºå‰ΩøÊ†àÊåáÈíàÊåáÂêëÊ†àÈ°∂</li><li>Â§ÑÁêÜÊú∫ÊéßÂà∂‰ø°ÊÅØÔºöÂ∞ÜËøõÁ®ãËÆæ‰∏∫Â∞±Áª™/ÈùôÊ≠¢Áä∂ÊÄÅÔºåÈÄöÂ∏∏ËÆæ‰∏∫ÊúÄ‰Ωé‰ºòÂÖàÁ∫ß</li></ol></blockquote><ol><li>Â¶ÇÊûúËøõÁ®ãË∞ÉÂ∫¶ÈòüÂàóËÉΩÊé•Á∫≥Êñ∞ËøõÁ®ãÔºåÂ∞±Â∞ÜËøõÁ®ãÊèíÂÖ•Âà∞Â∞±Áª™ÈòüÂàóÔºåÁ≠âÂæÖË¢´Ë∞ÉÂ∫¶ËøêË°å„ÄÇ</li></ol><h5 id="3-3-2-ËøõÁ®ãÁªàÊ≠¢"><a href="#3-3-2-ËøõÁ®ãÁªàÊ≠¢" class="headerlink" title="3.3.2 ËøõÁ®ãÁªàÊ≠¢"></a>3.3.2 ËøõÁ®ãÁªàÊ≠¢</h5><p>ËøõÁ®ãÁªàÊ≠¢ÊÉÖÂÜµ‰∏ÄËà¨ÂàÜ‰∏∫Ê≠£Â∏∏ÁªìÊùü„ÄÅÂºÇÂ∏∏ÁªìÊùü„ÄÅÂ§ñÁïåÂπ≤È¢Ñ‰∏âÁßç„ÄÇ</p><ol><li>Ê≠£Â∏∏ÁªìÊùü</li><li>ÂºÇÂ∏∏ÁªìÊùü</li></ol><blockquote><ol><li>Ë∂äÁïåÈîôÔºöËÆøÈóÆÁöÑÂ≠òÂÇ®Âå∫Ë∂äÂá∫ËØ•ËøõÁ®ãÁöÑÂå∫Âüü</li><li>‰øùÊä§ÈîôÔºöËØïÂõæËÆøÈóÆ‰∏çÂÖÅËÆ∏ËÆøÈóÆÁöÑËµÑÊ∫êÔºåÊàñ‰ª•‰∏çÈÄÇÂΩìÁöÑÊñπÂºèËÆøÈóÆÔºàÂÜôÂè™ËØªÔºâ</li><li>ÈùûÊ≥ïÊåá‰ª§ÔºöËØïÂõæÊâßË°å‰∏çÂ≠òÂú®ÁöÑÊåá‰ª§ÔºàÂèØËÉΩÊòØÁ®ãÂ∫èÈîôËØØÂú∞ËΩ¨ÁßªÂà∞Êï∞ÊçÆÂå∫ÔºåÊï∞ÊçÆÂΩìÊàê‰∫ÜÊåá‰ª§Ôºâ</li><li>ÁâπÊùÉÊåá‰ª§Âá∫ÈîôÔºöÁî®Êà∑ËøõÁ®ãËØïÂõæÊâßË°å‰∏ÄÊù°Âè™ÂÖÅËÆ∏OSÊâßË°åÁöÑÊåá‰ª§</li><li>ËøêË°åË∂ÖÊó∂ÔºöÊâßË°åÊó∂Èó¥Ë∂ÖËøáÊåáÂÆöÁöÑÊúÄÂ§ßÂÄº</li><li>Á≠âÂæÖË∂ÖÊó∂ÔºöËøõÁ®ãÁ≠âÂæÖÊüê‰ª∂‰∫ãË∂ÖËøáÊåáÂÆöÁöÑÊúÄÂ§ßÂÄº</li><li>ÁÆóÊï∞ËøêÁÆóÈîôÔºöËØïÂõæÊâßË°åË¢´Á¶ÅÊ≠¢ÁöÑËøêÁÆóÔºàË¢´0Èô§Ôºâ</li><li>I/OÊïÖÈöú</li></ol></blockquote><ol><li>Â§ñÁïåÂπ≤È¢Ñ</li></ol><blockquote><ol><li>Êìç‰ΩúÂëòÊàñOSÂπ≤È¢ÑÔºàÊ≠ªÈîÅÔºâ</li><li>Áà∂ËøõÁ®ãËØ∑Ê±ÇÔºåÂ≠êËøõÁ®ãÂÆåÊàêÁà∂ËøõÁ®ãÊåáÂÆöÁöÑ‰ªªÂä°Êó∂</li><li>Áà∂ËøõÁ®ãÁªàÊ≠¢ÔºåÊâÄÊúâÂ≠êËøõÁ®ãÈÉΩÂ∫îËØ•ÁªìÊùü</li></ol></blockquote><p><strong>ÁªàÊ≠¢ËøáÁ®ã</strong>Ôºö</p><ol><li>Ê†πÊçÆË¢´ÁªàÊ≠¢ËøõÁ®ãÁöÑÊ†áËØÜÁ¨¶Ôºå‰ªéPCBÈõÜÂêà‰∏≠Ê£ÄÁ¥¢Âá∫ËØ•PCBÔºåËØªÂèñËøõÁ®ãÁä∂ÊÄÅ</li><li>Ëã•Â§Ñ‰∫éÊâßË°åÁä∂ÊÄÅÂàôÁ´ãÂç≥ÁªàÊ≠¢ÊâßË°åÔºåÂ∞ÜCPUËµÑÊ∫êÂàÜÈÖçÁªôÂÖ∂‰ªñËøõÁ®ã„ÄÇ</li><li>Ëã•ËøõÁ®ãÊúâÂ≠êÂ≠ôËøõÁ®ãÂàôÂ∞ÜÂÖ∂ÊâÄÊúâÂ≠êÂ≠ôËøõÁ®ãÁªàÊ≠¢„ÄÇ</li><li>ÂÖ®ÈÉ®ËµÑÊ∫êËøòÁªôÁà∂ËøõÁ®ãÊàñÊìç‰ΩúÁ≥ªÁªü„ÄÇ</li><li>ËØ•ËøõÁ®ãÁöÑPCB‰ªéÊâÄÂú®ÈòüÂàó/ÈìæË°®‰∏≠ÁßªÂá∫„ÄÇ</li></ol><h5 id="3-3-3-ËøõÁ®ãÈòªÂ°û"><a href="#3-3-3-ËøõÁ®ãÈòªÂ°û" class="headerlink" title="3.3.3 ËøõÁ®ãÈòªÂ°û"></a>3.3.3 ËøõÁ®ãÈòªÂ°û</h5><p>ÊÑèÊÄùÊòØËØ•ËøõÁ®ãÊâßË°åÂçäË∑ØË¢´ÈòªÂ°ûÔºåÂøÖÈ°ªÁî±Êüê‰∏™‰∫ã‰ª∂ËøõÁ®ãÂî§ÈÜíËØ•ËøõÁ®ã„ÄÇÂ∏∏ËßÅÁöÑÂ∞±ÊòØIOËØªÂèñÊìç‰Ωú„ÄÇÂ∏∏ËßÅÈòªÂ°ûÊó∂Êú∫/‰∫ã‰ª∂Â¶Ç‰∏ãÔºö</p><ol><li>ËØ∑Ê±ÇÂÖ±‰∫´ËµÑÊ∫êÂ§±Ë¥•ÔºåÁ≥ªÁªüÊó†Ë∂≥Â§üËµÑÊ∫êÂàÜÈÖç</li><li>Á≠âÂæÖÊüêÁßçÊìç‰ΩúÂÆåÊàê</li><li>Êñ∞Êï∞ÊçÆÂ∞öÊú™Âà∞ËææÔºàÁõ∏‰∫íÂêà‰ΩúÁöÑËøõÁ®ãÔºâ</li><li>Á≠âÂæÖÊñ∞‰ªªÂä°</li></ol><p><strong>ÈòªÂ°ûÊµÅÁ®ã</strong>Ôºö</p><ol><li>ÊâæÂà∞Ë¶ÅË¢´ÈòªÂ°ûËøõÁ®ãÊ†áËØÜÂè∑ÂØπÂ∫îÁöÑ PCB„ÄÇ</li><li>Â∞ÜËØ•ËøõÁ®ãÁî±ËøêË°åÁä∂ÊÄÅËΩ¨Êç¢‰∏∫ÈòªÂ°ûÁä∂ÊÄÅ„ÄÇ</li><li>Â∞ÜËØ• ËøõÁ®ãPCB ÊèíÂÖ•ÁöÑÈòªÂ°ûÈòüÂàó‰∏≠Âéª„ÄÇ</li></ol><h5 id="3-3-4-ËøõÁ®ãÂî§ÈÜí"><a href="#3-3-4-ËøõÁ®ãÂî§ÈÜí" class="headerlink" title="3.3.4 ËøõÁ®ãÂî§ÈÜí"></a>3.3.4 ËøõÁ®ãÂî§ÈÜí</h5><p>Âî§ÈÜí ÂéüËØ≠ wake upÔºå‰∏ÄËà¨ÂíåÈòªÂ°ûÊàêÂØπ‰ΩøÁî®„ÄÇÂî§ÈÜíËøáÁ®ãÂ¶Ç‰∏ãÔºö</p><ol><li>‰ªéÈòªÂ°ûÈòüÂàóÊâæÂà∞ÊâÄÈúÄPCB„ÄÇ</li><li>PCB‰ªéÈòªÂ°ûÈòüÂàóÊ∫¢Âá∫ÔºåÁÑ∂ÂêéÂèò‰∏∫Â∞±Áª™Áä∂ÊÄÅ„ÄÇ</li><li>‰ªéÈòªÂ°ûÈòüÂàóÊ∫¢Âá∫ËØ•PCBÁÑ∂ÂêéÊèíÂÖ•Âà∞Â∞±Áª™Áä∂ÊÄÅÈòüÂàóÁ≠âÂæÖË¢´ÂàÜÈÖçCPUËµÑÊ∫ê„ÄÇ</li></ol><h3 id="3-4-ËøõÁ®ãË∞ÉÂ∫¶"><a href="#3-4-ËøõÁ®ãË∞ÉÂ∫¶" class="headerlink" title="3.4 ËøõÁ®ãË∞ÉÂ∫¶"></a>3.4 ËøõÁ®ãË∞ÉÂ∫¶</h3><p>ËøõÁ®ãÊï∞‰∏ÄËà¨‰ºöÂ§ß‰∫éCPU‰∏™Êï∞ÔºåËøõÁ®ãÁä∂ÊÄÅÂàáÊç¢‰∏ªË¶ÅÁî±Ë∞ÉÂ∫¶Á®ãÂ∫èËøõË°åË∞ÉÂ∫¶„ÄÇ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãCPUË∞ÉÂ∫¶Êó∂‰∏ªË¶ÅÂàÜ‰∏∫<code>Êä¢Âç†ÂºèË∞ÉÂ∫¶</code>Ë∑ü<code>ÈùûÊä¢Âç†ÂºèË∞ÉÂ∫¶</code>„ÄÇ</p><ol><li><code>ÈùûÊä¢Âç†Âºè</code>ÔºöËÆ©ËøõÁ®ãËøêË°åÁõ¥Âà∞ÁªìÊùüÊàñÈòªÂ°ûÁöÑË∞ÉÂ∫¶ÊñπÂºèÔºå ÂÆπÊòìÂÆûÁé∞ÔºåÈÄÇÂêà‰∏ìÁî®Á≥ªÁªü„ÄÇ</li><li><code>Êä¢Âç†Âºè</code>ÔºöÊØè‰∏™ËøõÁ®ãËé∑ÂæóÊó∂Èó¥ÁâáÊâçÂèØ‰ª•Ë¢´CPUË∞ÉÂ∫¶ËøêË°åÔºå ÂèØÈò≤Ê≠¢Âçï‰∏ÄËøõÁ®ãÈïøÊó∂Èó¥Áã¨Âç†CPU Á≥ªÁªüÂºÄÈîÄÂ§ß„ÄÇ</li></ol><h5 id="3-4-1-ËøõÁ®ãË∞ÉÂ∫¶ÂéüÂàô"><a href="#3-4-1-ËøõÁ®ãË∞ÉÂ∫¶ÂéüÂàô" class="headerlink" title="3.4.1 ËøõÁ®ãË∞ÉÂ∫¶ÂéüÂàô"></a>3.4.1 ËøõÁ®ãË∞ÉÂ∫¶ÂéüÂàô</h5><ol><li><strong>CPU Âà©Áî®Áéá</strong></li></ol><blockquote><ol><li>CPUÂà©Áî®Áéá = ÂøôÁ¢åÊó∂Èó¥ / ÊÄªÊó∂Èó¥„ÄÇ</li><li>Ë∞ÉÂ∫¶Á®ãÂ∫èÂ∫îËØ•Â∞ΩÈáèËÆ© CPU ÂßãÁªàÂ§Ñ‰∫éÂøôÁ¢åÁöÑÁä∂ÊÄÅÔºåËøôÂèØÊèêÈ´ò CPU ÁöÑÂà©Áî®Áéá„ÄÇÊØîÂ¶ÇÂΩìÂèëÁîüIOËØªÂèñÊó∂ÂÄôÔºå‰∏çË¶ÅÂÇªÂÇªÁ≠âÂæÖÔºåÂéªÊâßË°å‰∏ãÂà´ÁöÑËøõÁ®ã„ÄÇ</li></ol></blockquote><ol><li><strong>Á≥ªÁªüÂêûÂêêÈáè</strong></li></ol><blockquote><ol><li>Á≥ªÁªüÂêûÂêêÈáè = ÊÄªÂÖ±ÂÆåÊàêÂ§öÂ∞ë‰∏™‰Ωú‰∏ö / ÊÄªÂÖ±Ëä±Ë¥πÊó∂Èó¥„ÄÇ</li><li>Èïø‰Ωú‰∏öÁöÑËøõÁ®ã‰ºöÂç†Áî®ËæÉÈïøÁöÑ CPU ËµÑÊ∫êÂØºËá¥Èôç‰ΩéÂêûÂêêÈáèÔºåÁõ∏ÂèçÁü≠‰Ωú‰∏öÁöÑËøõÁ®ã‰ºöÊèêÂçáÁ≥ªÁªüÂêûÂêêÈáè„ÄÇ</li></ol></blockquote><ol><li><strong>Âë®ËΩ¨Êó∂Èó¥</strong></li></ol><blockquote><ol><li>Âë®ËΩ¨Êó∂Èó¥ = ‰Ωú‰∏öÂÆåÊàêÊó∂Èó¥ - ‰Ωú‰∏öÊèê‰∫§Êó∂Èó¥„ÄÇ</li><li>Âπ≥ÂùáÂë®ËΩ¨Êó∂Èó¥ = ÂêÑ‰Ωú‰∏öÂë®ËΩ¨Êó∂Èó¥Âíå / ‰Ωú‰∏öÊï∞</li><li>Â∏¶ÊùÉÂë®ËΩ¨Êó∂Èó¥ = ‰Ωú‰∏öÂë®ËΩ¨Êó∂Èó¥ / ‰Ωú‰∏öÂÆûÈôÖËøêË°åÊó∂Èó¥</li><li>Âπ≥ÂùáÂ∏¶ÊùÉÂë®ËΩ¨Êó∂Èó¥ = ÂêÑ‰Ωú‰∏öÂ∏¶ÊùÉÂë®ËΩ¨Êó∂Èó¥‰πãÂíå / ‰Ωú‰∏öÊï∞</li><li>Â∞ΩÂèØËÉΩ‰ΩøÂë®ËΩ¨Êó∂Èó¥Èôç‰Ωé„ÄÇ</li></ol></blockquote><ol><li><strong>Á≠âÂæÖÊó∂Èó¥</strong></li></ol><blockquote><ol><li>ÊåáÁöÑÊòØËøõÁ®ãÂú®Á≠âÂæÖÈòüÂàó‰∏≠Á≠âÂæÖÁöÑÊó∂Èó¥Ôºå‰∏ÄËà¨‰πüÈúÄË¶ÅÂ∞ΩÂèØËÉΩÁü≠„ÄÇ</li><li><strong>ÂìçÂ∫îÊó∂Èó¥</strong><br>ÂìçÂ∫îÊó∂Èó¥ = Á≥ªÁªüÁ¨¨‰∏ÄÊ¨°ÂìçÂ∫îÊó∂Èó¥ - Áî®Êà∑Êèê‰∫§Êó∂Èó¥ÔºåÂú®‰∫§‰∫íÂºèÁ≥ªÁªü‰∏≠ÂìçÂ∫îÊó∂Èó¥ÊòØË°°ÈáèË∞ÉÂ∫¶ÁÆóÊ≥ïÂ•ΩÂùèÁöÑ‰∏ªË¶ÅÊ†áÂáÜ„ÄÇ</li></ol></blockquote><h5 id="3-4-2-Ë∞ÉÂ∫¶ÁÆóÊ≥ï"><a href="#3-4-2-Ë∞ÉÂ∫¶ÁÆóÊ≥ï" class="headerlink" title="3.4.2 Ë∞ÉÂ∫¶ÁÆóÊ≥ï"></a>3.4.2 Ë∞ÉÂ∫¶ÁÆóÊ≥ï</h5><p><strong>FCFS ÁÆóÊ≥ï</strong></p><ol><li>First Come First Severd ÂÖàÊù•ÂÖàÊúçÂä°ÁÆóÊ≥ïÔºåÈÅµÂæ™ÂÖàÊù•ÂêéÁ´ØÂéüÂàôÔºåÊØèÊ¨°‰ªéÂ∞±Áª™ÈòüÂàóÊãøÁ≠âÂæÖÊó∂Èó¥ÊúÄ‰πÖÁöÑÔºåËøêË°åÂÆåÊØïÂêéÂÜçÊãø‰∏ã‰∏Ä‰∏™„ÄÇ</li><li>ËØ•Ê®°ÂºèÂØπÈïø‰Ωú‰∏öÊúâÂà©ÔºåÈÄÇÁî® CPU ÁπÅÂøôÂûã‰Ωú‰∏öÁöÑÁ≥ªÁªüÔºå‰∏çÈÄÇÁî® I/O Âûã‰Ωú‰∏öÔºåÂõ†‰∏∫‰ºöÂØºËá¥ËøõÁ®ãCPUÂà©Áî®ÁéáÂæà‰Ωé„ÄÇ</li></ol><p><strong>SJF ÁÆóÊ≥ï</strong></p><ol><li>Shortest Job First ÊúÄÁü≠‰Ωú‰∏ö‰ºòÂÖàÁÆóÊ≥ïÔºåËØ•ÁÆóÊ≥ï‰ºö‰ºòÂÖàÈÄâÊã©ËøêË°åÊâÄÈúÄÊó∂Èó¥ÊúÄÁü≠ÁöÑËøõÁ®ãÊâßË°åÔºåÂèØÊèêÈ´òÂêûÂêêÈáè„ÄÇ</li><li>Ë∑üFCFSÊ≠£Â•ΩÁõ∏ÂèçÔºåÂØπÈïø‰Ωú‰∏öÂæà‰∏çÂà©„ÄÇ</li></ol><p><strong>SRTN ÁÆóÊ≥ï</strong></p><ol><li>Shortest Remaining Time Next ÊúÄÁü≠Ââ©‰ΩôÊó∂Èó¥‰ºòÂÖàÁÆóÊ≥ïÔºåÂèØ‰ª•ËÆ§‰∏∫ÊòØSJFÁöÑÊä¢Âç†ÂºèÁâàÊú¨ÔºåÂΩì‰∏Ä‰∏™Êñ∞Â∞±Áª™ÁöÑËøõÁ®ãÊØîÂΩìÂâçËøêË°åËøõÁ®ãÂÖ∑ÊúâÊõ¥Áü≠ÂÆåÊàêÊó∂Èó¥Êó∂ÔºåÁ≥ªÁªüÊä¢Âç†ÂΩìÂâçËøõÁ®ãÔºåÈÄâÊã©Êñ∞Â∞±Áª™ÁöÑËøõÁ®ãÊâßË°å„ÄÇ</li><li>ÊúâÊúÄÁü≠ÁöÑÂπ≥ÂùáÂë®ËΩ¨Êó∂Èó¥Ôºå‰ΩÜ‰∏çÂÖ¨Âπ≥ÔºåÊ∫êÊ∫ê‰∏çÊñ≠ÁöÑÁü≠‰ªªÂä°Âà∞Êù•ÔºåÂèØËÉΩ‰ΩøÈïøÁöÑ‰ªªÂä°ÈïøÊó∂Èó¥Âæó‰∏çÂà∞ËøêË°å„ÄÇ</li></ol><p><strong>HRRN ÁÆóÊ≥ï</strong></p><ol><li>Highest Response Ratio Next ÊúÄÈ´òÂìçÂ∫îÊØî‰ºòÂÖàÁÆóÊ≥ïÔºå‰∏∫‰∫ÜÂπ≥Ë°°ÂâçÈù¢‰ø©ËÄåÁîüÔºåÊåâÁÖßÂìçÂ∫î‰ºòÂÖàÊùÉ‰ªéÈ´òÂà∞‰Ωé‰æùÊ¨°ÊâßË°å„ÄÇÂ±û‰∫éÂâçÈù¢‰ø©ÁöÑÊäò‰∏≠ÊùÉË°°„ÄÇ</li><li>‰ºòÂÖàÊùÉ = (Á≠âÂæÖÊó∂Èó¥ + Ë¶ÅÊ±ÇÊúçÂä°Êó∂Èó¥) / Ë¶ÅÊ±ÇÊúçÂä°Êó∂Èó¥</li></ol><p><strong>RR ÁÆóÊ≥ï</strong></p><ol><li>Round Robin Êó∂Èó¥ÁâáËΩÆËΩ¨ÁÆóÊ≥ïÔºåÊìç‰ΩúÁ≥ªÁªüËÆæÂÆö‰∫Ü‰∏™Êó∂Èó¥ÁâáQuantumÔºåÊó∂Èó¥ÁâáÂØºËá¥ÊØè‰∏™ËøõÁ®ãÂè™ÊúâÂú®ËØ•Êó∂Èó¥ÁâáÂÜÖÊâçÂèØ‰ª•ËøêË°åÔºåËøôÁßçÊñπÂºèÂØºËá¥ÊØè‰∏™ËøõÁ®ãÈÉΩ‰ºöÂùáÂåÄÁöÑËé∑ÂæóÊâßË°åÊùÉ„ÄÇ</li><li>Êó∂Èó¥Áâá‰∏ÄËà¨20ms~50msÔºåÂ¶ÇÊûúÂ§™Â∞è‰ºöÂØºËá¥Á≥ªÁªüÈ¢ëÁπÅËøõË°å‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÂ§™Â§ßÂèàÂèØËÉΩÂºïËµ∑ÂØπÁü≠ÁöÑ‰∫§‰∫íËØ∑Ê±ÇÁöÑÂìçÂ∫îÂèòÂ∑Æ„ÄÇ</li></ol><p><strong>HPF ÁÆóÊ≥ï</strong></p><ol><li>Highest Priority First ÊúÄÈ´ò‰ºòÂÖàÁ∫ßË∞ÉÂ∫¶ÁÆóÊ≥ïÔºå‰ªéÂ∞±Áª™ÈòüÂàó‰∏≠ÈÄâÊã©ÊúÄÈ´ò‰ºòÂÖàÁ∫ßÁöÑËøõÁ®ãÂÖàÊâßË°å„ÄÇ</li><li>‰ºòÂÖàÁ∫ßÁöÑËÆæÁΩÆÊúâÂàùÂßãÂåñÂõ∫ÂÆöÊ≠ªÁöÑÈÇ£ÁßçÔºå‰πüÊúâÂú®‰ª£Á†ÅËøêËΩ¨ËøáÁ®ã‰∏≠Ê†πÊçÆÁ≠âÂæÖÊó∂Èó¥ÊàñÊÄßËÉΩÂä®ÊÄÅË∞ÉÊï¥ Ëøô‰∏§ÁßçÊÄùË∑Ø„ÄÇ</li><li>Áº∫ÁÇπÊòØÂèØËÉΩÂØºËá¥‰Ωé‰ºòÂÖàÁ∫ßÁöÑ‰∏ÄÁõ¥Êó†Ê≥ïË¢´ÊâßË°å„ÄÇ</li></ol><p><strong>MFQ ÁÆóÊ≥ï</strong></p><ol><li><p>Multilevel Feedback Queue Â§öÁ∫ßÂèçÈ¶àÈòüÂàóË∞ÉÂ∫¶ÁÆóÊ≥ï ÔºåÂèØ‰ª•ËÆ§‰∏∫ÊòØ RR ÁÆóÊ≥ï Ë∑ü HPF ÁÆóÊ≥ï ÁöÑÁªºÂêà‰Ωì„ÄÇ</p></li><li><p>Á≥ªÁªü‰ºöÂêåÊó∂Â≠òÂú®Â§ö‰∏™Â∞±Áª™ÈòüÂàóÔºåÊØè‰∏™ÈòüÂàó‰ºòÂÖàÁ∫ß‰ªéÈ´òÂà∞‰ΩéÊéíÂàóÔºåÂêåÊó∂‰ºòÂÖàÁ∫ßË∂äÈ´òËé∑ÂæóÊòØÊó∂Èó¥ÁâáË∂äÁü≠„ÄÇ</p></li><li><p>Êñ∞ËøõÁ®ã‰ºöÂÖàÂä†ÂÖ•Âà∞ÊúÄÈ´ò‰ºòÂÖàÁ∫ßÈòüÂàóÔºåÂ¶ÇÊûúÊñ∞ËøõÁ®ã‰ºòÂÖàÁ∫ßÈ´ò‰∫éÂΩìÂâçÂú®ÊâßË°åÁöÑËøõÁ®ãÔºå‰ºöÂÅúÊ≠¢ÂΩìÂâçËøõÁ®ãËΩ¨ËÄåÂéªÊâßË°åÊñ∞ËøõÁ®ã„ÄÇÊñ∞ËøõÁ®ãÂ¶ÇÊûúÂú®Êó∂Èó¥ÁâáÂÜÖÊ≤°ÊâßË°åÂÆåÊØïÈúÄ‰∏ãÁßªÂà∞Ê¨°‰ºòÂÖàÁ∫ßÈòüÂàó„ÄÇ</p><p><img src="image-20220208110001762.png" alt="image-20220208110001762"><br>Â§öÁ∫ßÂèçÈ¶àÈòüÂàóË∞ÉÂ∫¶ÁÆóÊ≥ï</p></li></ol><h3 id="3-5-Á∫øÁ®ã"><a href="#3-5-Á∫øÁ®ã" class="headerlink" title="3.5 Á∫øÁ®ã"></a>3.5 Á∫øÁ®ã</h3><h5 id="3-5-1-Á∫øÁ®ãÂÆö‰πâ"><a href="#3-5-1-Á∫øÁ®ãÂÆö‰πâ" class="headerlink" title="3.5.1 Á∫øÁ®ãÂÆö‰πâ"></a>3.5.1 Á∫øÁ®ãÂÆö‰πâ</h5><p>Êó©ÊúüÊìç‰ΩúÁ≥ªÁªüÊòØÊ≤°ÊúâÁ∫øÁ®ãÊ¶ÇÂøµÁöÑÔºåÁ∫øÁ®ãÊòØÂêéÊù•Âä†ËøõÊù•ÁöÑ„ÄÇ‰∏∫Âï•‰ºöÊúâÁ∫øÁ®ãÂë¢ÔºüÈÇ£ÊòØÂõ†‰∏∫‰ª•ÂâçÂú®Â§öËøõÁ®ãÈò∂ÊÆµÔºåÁªèÂ∏∏‰ºöÊ∂âÂèäÂà∞ËøõÁ®ã‰πãÈó¥Â¶Ç‰ΩïÈÄöËÆØÔºåÂ¶Ç‰ΩïÂÖ±‰∫´Êï∞ÊçÆÁöÑÈóÆÈ¢ò„ÄÇÂπ∂‰∏îËøõÁ®ãÂÖ≥ËÅîÂà∞PCBÁöÑÁîüÂëΩÂë®ÊúüÔºåÁÆ°ÁêÜËµ∑Êù•ÂºÄÈîÄËæÉÂ§ß„ÄÇ‰∏∫‰∫ÜËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂºïÂÖ•‰∫ÜÁ∫øÁ®ã„ÄÇ</p><p>Á∫øÁ®ãÊòØËøõÁ®ãÂΩì‰∏≠ÁöÑ‰∏Ä‰∏™ÊâßË°åÊµÅÁ®ã„ÄÇÂêå‰∏Ä‰∏™ËøõÁ®ãÂÜÖÁöÑÂ§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÂèØ‰ª•ÂÖ±‰∫´ËøõÁ®ãÁöÑ‰ª£Á†ÅÊÆµ„ÄÅÊï∞ÊçÆÊÆµ„ÄÅÊâìÂºÄÁöÑÊñá‰ª∂Á≠âËµÑÊ∫ê„ÄÇÂêåÊó∂ÊØè‰∏™Á∫øÁ®ãÂèàÈÉΩÊúâ‰∏ÄÂ•óÁã¨Á´ãÁöÑÂØÑÂ≠òÂô®ÂíåÊ†àÊù•Á°Æ‰øùÁ∫øÁ®ãÁöÑÊéßÂà∂ÊµÅÊòØÁã¨Á´ãÁöÑ„ÄÇ</p><p>ËøõÁ®ãÊúâ‰∏™<code>PCB</code>Êù•ÁÆ°ÁêÜÔºåÂêåÁêÜÊìç‰ΩúÁ≥ªÁªüÈÄöËøá <code>Thread Control Block</code>Á∫øÁ®ãÊéßÂà∂ÂùóÊù•ÂÆûÁé∞Á∫øÁ®ãÁöÑÁÆ°Êéß„ÄÇ</p><h5 id="3-5-2-Á∫øÁ®ã‰ºòÁº∫ÁÇπ"><a href="#3-5-2-Á∫øÁ®ã‰ºòÁº∫ÁÇπ" class="headerlink" title="3.5.2 Á∫øÁ®ã‰ºòÁº∫ÁÇπ"></a>3.5.2 Á∫øÁ®ã‰ºòÁº∫ÁÇπ</h5><p><strong>‰ºòÁÇπ</strong></p><ol><li>‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÂèØ‰ª•ÂêåÊó∂Â≠òÂú®1~N‰∏™Á∫øÁ®ãÔºåËøô‰∫õÁ∫øÁ®ãÂèØ‰ª•Âπ∂ÂèëÁöÑÊâßË°å„ÄÇ</li><li>ÂêÑ‰∏™Á∫øÁ®ã‰πãÈó¥ÂèØ‰ª•ÂÖ±‰∫´Âú∞ÂùÄÁ©∫Èó¥ÂíåÊñá‰ª∂Á≠âËµÑÊ∫ê„ÄÇ</li></ol><p><strong>Áº∫ÁÇπ</strong></p><ol><li>ÂΩìËøõÁ®ã‰∏≠ÁöÑ‰∏Ä‰∏™Á∫øÁ®ãÂ•îÊ∫ÉÊó∂Ôºå‰ºöÂØºËá¥ÂÖ∂ÊâÄÂ±ûËøõÁ®ãÁöÑÊâÄÊúâÁ∫øÁ®ãÂ•îÊ∫É„ÄÇ</li><li>Â§öÁ∫øÁ®ãÁºñÁ®ãÔºåËÆ©‰∫∫Â§¥Â§ßÁöÑ‰∏úË•ø„ÄÇ</li><li>Á∫øÁ®ãÊâßË°åÂºÄÈîÄÂ∞èÔºå‰ΩÜ‰∏çÂà©‰∫éËµÑÊ∫êÁöÑÈöîÁ¶ªÁÆ°ÁêÜÂíå‰øùÊä§ÔºåËÄåËøõÁ®ãÊ≠£Áõ∏Âèç„ÄÇ</li></ol><h5 id="3-5-3-ËøõÁ®ãË∑üÁ∫øÁ®ãÂÖ≥ËÅî"><a href="#3-5-3-ËøõÁ®ãË∑üÁ∫øÁ®ãÂÖ≥ËÅî" class="headerlink" title="3.5.3 ËøõÁ®ãË∑üÁ∫øÁ®ãÂÖ≥ËÅî"></a>3.5.3 ËøõÁ®ãË∑üÁ∫øÁ®ãÂÖ≥ËÅî</h5><p><strong>ËøõÁ®ã</strong>Ôºö</p><ol><li>ÊòØÁ≥ªÁªüËøõË°åËµÑÊ∫êÂàÜÈÖçÂíåË∞ÉÂ∫¶ÁöÑ‰∏Ä‰∏™Áã¨Á´ãÂçï‰Ωç.</li><li>ÊòØÁ®ãÂ∫èÁöÑ‰∏ÄÊ¨°ÊâßË°åÔºåÊØè‰∏™ËøõÁ®ãÈÉΩÊúâËá™Â∑±ÁöÑÂú∞ÂùÄÁ©∫Èó¥„ÄÅÂÜÖÂ≠ò„ÄÅÊï∞ÊçÆÊ†àÂèäÂÖ∂‰ªñËæÖÂä©ËÆ∞ÂΩïËøêË°åËΩ®ËøπÁöÑÊï∞ÊçÆ</li></ol><p><strong>Á∫øÁ®ã</strong>Ôºö</p><ol><li>ÊòØËøõÁ®ãÁöÑ‰∏Ä‰∏™ÂÆû‰ΩìÔºåÊòØCPUË∞ÉÂ∫¶ÂíåÂàÜÊ¥æÁöÑÂü∫Êú¨Âçï‰Ωç,ÂÆÉÊòØÊØîËøõÁ®ãÊõ¥Â∞èÁöÑËÉΩÁã¨Á´ãËøêË°åÁöÑÂü∫Êú¨Âçï‰Ωç</li><li>ÊâÄÊúâÁöÑÁ∫øÁ®ãËøêË°åÂú®Âêå‰∏Ä‰∏™ËøõÁ®ã‰∏≠ÔºåÂÖ±‰∫´Áõ∏ÂêåÁöÑËøêË°åËµÑÊ∫êÂíåÁéØÂ¢É</li><li>Á∫øÁ®ã‰∏ÄËà¨ÊòØÂπ∂ÂèëÊâßË°åÁöÑÔºå‰ΩøÂæóÂÆûÁé∞‰∫ÜÂ§ö‰ªªÂä°ÁöÑÂπ∂Ë°åÂíåÊï∞ÊçÆÂÖ±‰∫´„ÄÇ</li></ol><p><strong>ËøõÁ®ãÁ∫øÁ®ãÂå∫Âà´</strong>Ôºö</p><ol><li>‰∏Ä‰∏™Á∫øÁ®ãÂè™ËÉΩÂ±û‰∫é‰∏Ä‰∏™ËøõÁ®ãÔºåËÄå‰∏Ä‰∏™ËøõÁ®ãÂèØ‰ª•ÊúâÂ§ö‰∏™Á∫øÁ®ãÔºå‰ΩÜËá≥Â∞ëÊúâ‰∏Ä‰∏™Á∫øÁ®ã„ÄÇ</li><li>Á∫øÁ®ãÁöÑÂàíÂàÜÂ∞∫Â∫¶Â∞è‰∫éËøõÁ®ã(ËµÑÊ∫êÊØîËøõÁ®ãÂ∞ë)Ôºå‰ΩøÂæóÂ§öÁ∫øÁ®ãÁ®ãÂ∫èÁöÑÂπ∂ÂèëÊÄßÈ´ò„ÄÇ</li><li>ËøõÁ®ãÂú®ÊâßË°åËøáÁ®ã‰∏≠Êã•ÊúâÁã¨Á´ãÁöÑÂÜÖÂ≠òÂçïÂÖÉÔºåËÄåÂ§ö‰∏™Á∫øÁ®ãÂÖ±‰∫´ÂÜÖÂ≠òÔºå‰ªéËÄåÊûÅÂ§ßÂú∞ÊèêÈ´ò‰∫ÜÁ®ãÂ∫èÁöÑËøêË°åÊïàÁéá„ÄÇ</li><li>ËµÑÊ∫êÂàÜÈÖçÁªôËøõÁ®ãÔºåÂêå‰∏ÄËøõÁ®ãÁöÑÊâÄÊúâÁ∫øÁ®ãÂÖ±‰∫´ËØ•ËøõÁ®ãÁöÑÊâÄÊúâËµÑÊ∫ê„ÄÇ</li><li>CPUÂàÜÈÖçËµÑÊ∫êÁªôËøõÁ®ãÔºå‰ΩÜÁúüÊ≠£Âú®CPU‰∏äËøêË°åÁöÑÊòØÁ∫øÁ®ã„ÄÇ</li><li>Á∫øÁ®ã‰∏çËÉΩÂ§üÁã¨Á´ãÊâßË°åÔºåÂøÖÈ°ª‰æùÂ≠òÂú®ËøõÁ®ã‰∏≠„ÄÇ</li></ol><p><strong>Á∫øÁ®ãÂø´Âú®Âì™ÂÑø</strong>Ôºü</p><ol><li>Á∫øÁ®ãÂàõÂª∫ÁöÑÊó∂Êúâ‰∫õËµÑÊ∫ê‰∏çÈúÄË¶ÅËá™Â∑±ÁÆ°ÁêÜÔºåÁõ¥Êé•‰ªéËøõÁ®ãÊãøÂç≥ÂèØÔºåÁ∫øÁ®ãÁÆ°ÁêÜÂØÑÂ≠òÂô®Ë∑üÊ†àÁöÑÁîüÂëΩÂë®ÊúüÂç≥ÂèØ„ÄÇ</li><li>ÂêåËøõÁ®ãÂÜÖÂ§öÁ∫øÁ®ãÂÖ±‰∫´Êï∞ÊçÆÔºåÊâÄ‰ª•ËøõÁ®ãÊï∞ÊçÆ‰º†ËæìÂèØ‰ª•Áî®zero copyÊäÄÊúØÔºå‰∏çÈúÄË¶ÅÁªèËøáÂÜÖÊ†∏‰∫Ü„ÄÇ</li><li>ËøõÁ®ã‰ΩøÁî®‰∏Ä‰∏™ËôöÊãüÂÜÖÂ≠òË∑üÈ°µË°®ÔºåÁÑ∂ÂêéÂ§öÁ∫øÁ®ãÂÖ±Áî®Ëøô‰∫õËôöÊãüÂÜÖÂ≠òÔºåÂ¶ÇÊûúÂêåËøõÁ®ãÂÜÖ‰∏§‰∏™Á∫øÁ®ãËøõË°å‰∏ä‰∏ãÊñáÂàáÊç¢ÊØîËøõÁ®ãÊèêÈÄüÂæàÂ§ö„ÄÇ</li></ol><h5 id="3-5-4-Á∫øÁ®ãÂÆûÁé∞"><a href="#3-5-4-Á∫øÁ®ãÂÆûÁé∞" class="headerlink" title="3.5.4 Á∫øÁ®ãÂÆûÁé∞"></a>3.5.4 Á∫øÁ®ãÂÆûÁé∞</h5><p>Âú®ÂâçÈù¢ÁöÑÂÜÖÂ≠òÁÆ°ÁêÜ‰∏≠ËØ¥Âà∞‰∫ÜÂÜÖÊ†∏ÊÄÅË∑üÁî®Êà∑ÊÄÅ„ÄÇÁõ∏ÂØπÂ∫îÁöÑÁ∫øÁ®ãÁöÑÂàõÂª∫‰πüÂàÜ‰∏∫<code>Áî®Êà∑ÊÄÅÁ∫øÁ®ã</code>Ë∑ü<code>ÂÜÖÊ†∏ÊÄÅÁ∫øÁ®ã</code>„ÄÇ</p><h6 id="3-5-4-1-Áî®Êà∑ÊÄÅÁ∫øÁ®ã"><a href="#3-5-4-1-Áî®Êà∑ÊÄÅÁ∫øÁ®ã" class="headerlink" title="3.5.4.1 Áî®Êà∑ÊÄÅÁ∫øÁ®ã"></a>3.5.4.1 Áî®Êà∑ÊÄÅÁ∫øÁ®ã</h6><p>Âú®Áî®Êà∑Á©∫Èó¥ÂÆûÁé∞ÁöÑÁ∫øÁ®ãÔºåÁî±Áî®Êà∑ÊÄÅÁöÑÁ∫øÁ®ãÂ∫ìÊù•ÂÆåÊàêÁ∫øÁ®ãÁöÑÁÆ°ÁêÜ„ÄÇÊìç‰ΩúÁ≥ªÁªüÊåâËøõÁ®ãÁª¥Â∫¶ËøõË°åË∞ÉÂ∫¶Ôºå<strong>ÂΩìÁ∫øÁ®ãÂú®Áî®Êà∑ÊÄÅÂàõÂª∫Êó∂Â∫îÁî®Á®ãÂ∫èÂú®Áî®Êà∑Á©∫Èó¥ÂÜÖË¶ÅÂÆûÁé∞Á∫øÁ®ãÁöÑÂàõÂª∫„ÄÅÁª¥Êä§ÂíåË∞ÉÂ∫¶„ÄÇÊìç‰ΩúÁ≥ªÁªüÂØπÁ∫øÁ®ãÁöÑÂ≠òÂú®‰∏ÄÊó†ÊâÄÁü•</strong>ÔºÅÊìç‰ΩúÁ≥ªÁªüÂè™ËÉΩÁúãÂà∞ËøõÁ®ãÁúã‰∏çÂà∞Á∫øÁ®ã„ÄÇÊâÄÊúâÁöÑÁ∫øÁ®ãÈÉΩÊòØÂú®Áî®Êà∑Á©∫Èó¥ÂÆûÁé∞„ÄÇÂú®Êìç‰ΩúÁ≥ªÁªüÁúãÊù•ÔºåÊØè‰∏Ä‰∏™ËøõÁ®ãÂè™Êúâ‰∏Ä‰∏™Á∫øÁ®ã„ÄÇ</p><figure class="image-box">                <img src="image-20220208110024780.png" alt="image-20220208110024780" title class>                <p>image-20220208110024780</p>            </figure><p>Áî®Êà∑ÊÄÅÁ∫øÁ®ã</p><p><strong>Â•ΩÂ§Ñ</strong>Ôºö</p><ol><li>ÂèäÊó∂Êìç‰ΩúÁ≥ªÁªü‰∏çÊîØÊåÅÁ∫øÁ®ãÊ®°Âºè‰πüÂèØ‰ª•ÈÄöËøáÁî®Êà∑Â±ÇÂ∫ìÂáΩÊï∞Êù•ÊîØÊåÅÁ∫øÁ®ãÊ®°ÂºèÔºåTCB Áî±Áî®Êà∑Á∫ßÁ∫øÁ®ãÂ∫ìÂáΩÊï∞Êù•Áª¥Êä§„ÄÇ</li><li>‰ΩøÁî®Â∫ìÂáΩÊï∞Ê®°ÂºèÂÆûÁé∞Á∫øÁ®ãÂèØ‰ª•ÈÅøÂÖçÁî®Êà∑ÊÄÅÂà∞ÂÜÖÊ†∏ÊÄÅÁöÑÂàáÊç¢„ÄÇ</li></ol><p><strong>ÂùèÂ§Ñ</strong>Ôºö</p><ol><li>CPU‰∏çÁü•ÈÅìÁ∫øÁ®ãÂ≠òÂú®ÔºåCPUÁöÑÊó∂Èó¥ÁâáÂàáÊç¢ÊòØ‰ª•ËøõÁ®ã‰∏∫Áª¥Â∫¶ÁöÑÔºåÊüê‰∏™Á∫øÁ®ãÂõ†‰∏∫IOÁ≠âÊìç‰ΩúÂØºËá¥Á∫øÁ®ãÈòªÂ°ûÔºåÊìç‰ΩúÁ≥ªÁªü‰ºöÈòªÂ°ûÊï¥‰∏™ËøõÁ®ãÔºåÂç≥‰ΩøËøô‰∏™ËøõÁ®ã‰∏≠ÂÖ∂ÂÆÉÁ∫øÁ®ãËøòÂú®Â∑•‰Ωú„ÄÇ</li><li>Áî®Êà∑ÊÄÅÁ∫øÁ®ãÊ≤°Ê≥ïÊâìÊñ≠Ê≠£Âú®ËøêË°å‰∏≠ÁöÑÁ∫øÁ®ãÔºåÈô§ÈùûÁ∫øÁ®ã‰∏ªÂä®‰∫§Âá∫CPU‰ΩøÁî®ÊùÉ„ÄÇ</li></ol><h6 id="3-5-4-2-ÂÜÖÊ†∏ÊÄÅÁ∫øÁ®ã"><a href="#3-5-4-2-ÂÜÖÊ†∏ÊÄÅÁ∫øÁ®ã" class="headerlink" title="3.5.4.2 ÂÜÖÊ†∏ÊÄÅÁ∫øÁ®ã"></a>3.5.4.2 ÂÜÖÊ†∏ÊÄÅÁ∫øÁ®ã</h6><p>Âú®ÂÜÖÊ†∏‰∏≠ÂÆûÁé∞ÁöÑÁ∫øÁ®ãÔºåÊòØÁî±ÂÜÖÊ†∏ÁÆ°ÁêÜÁöÑÁ∫øÁ®ãÔºåÁ∫øÁ®ãÂØπÂ∫îÁöÑ TCB Âú®Êìç‰ΩúÁ≥ªÁªüÈáåÔºåËøôÊ†∑Á∫øÁ®ãÁöÑÂàõÂª∫„ÄÅÁªàÊ≠¢ÂíåÁÆ°ÁêÜÈÉΩÊòØÁî±Êìç‰ΩúÁ≥ªÁªüË¥üË¥£„ÄÇÂÜÖÁ∫øÁ®ãÊ®°Âºè‰∏ã‰∏Ä‰∏™Áî®Êà∑Á∫øÁ®ãÂØπÂ∫î‰∏Ä‰∏™ÂÜÖÊ†∏Á∫øÁ®ã„ÄÇ</p><figure class="image-box">                <img src="image-20220208110103377.png" alt="image-20220208110103377" title class>                <p>image-20220208110103377</p>            </figure><p>ÂÜÖÊ†∏ÊÄÅÁ∫øÁ®ã</p><p><strong>Ê≥®ÊÑè</strong>ÔºöLinux‰∏≠ÁöÑJVM‰ªé1.2Áâà‰ª•ÂêéÊòØÂü∫‰∫épthreadÂÆûÁé∞ÁöÑÔºå<code>ÊâÄ‰ª•Áé∞Âú®Java‰∏≠Á∫øÁ®ãÁöÑÊú¨Ë¥®Â∞±ÊòØÊìç‰ΩúÁ≥ªÁªü‰∏≠ÁöÑÁ∫øÁ®ã</code>„ÄÇ</p><p><strong>‰ºòÁÇπ</strong>Ôºö</p><ol><li>‰∏Ä‰∏™ËøõÁ®ã‰∏≠Êüê‰∏™Á∫øÁ®ãÈòªÂ°û‰∏ç‰ºöÂΩ±ÂìçÂÖ∂‰ªñÂÜÖÊ†∏Á∫øÁ®ãËøêË°å„ÄÇ</li><li>Áî®Êà∑ÊÄÅÊ®°Âºè‰∏Ä‰∏™Êó∂Èó¥ÁâáÂàÜÁªôÂ§ö‰∏™Á∫øÁ®ãÔºåÂÜÖÊ†∏ÊÄÅÊ®°ÂºèÁõ¥Êé•ÂàÜÈÖçÁªôÁ∫øÁ®ãÁöÑÊó∂Èó¥ÁâáÂ¢ûÂä†„ÄÇ</li></ol><p><strong>Áº∫ÁÇπ</strong>Ôºö</p><ol><li>ÂÜÖÊ†∏Á∫ßÁ∫øÁ®ãË∞ÉÂ∫¶ÂºÄÈîÄËæÉÂ§ß„ÄÇË∞ÉÂ∫¶ÂÜÖÊ†∏Á∫øÁ®ãÁöÑ‰ª£‰ª∑ÂèØËÉΩÂíåË∞ÉÂ∫¶ËøõÁ®ãÂ∑Æ‰∏çÂ§öÊòÇË¥µÔºå‰ª£‰ª∑Ë¶ÅÊØîÁî®Êà∑Á∫ßÁ∫øÁ®ãÂ§ßÂæàÂ§ö„ÄÇ‰∏Ä‰∏™Á∫øÁ®ãÈªòËÆ§Ê†à=1MÔºåÁ∫øÁ®ãÂ§ö‰∫Ü‰ºöÂØºËá¥ÂÜÖÂ≠òÊ∂àËÄóÂæàÂ§ß„ÄÇ</li><li>Á∫øÁ®ãË°®ÊòØÂ≠òÊîæÂú®Êìç‰ΩúÁ≥ªÁªüÂõ∫ÂÆöÁöÑË°®Ê†ºÁ©∫Èó¥ÊàñËÄÖÂ†ÜÊ†àÁ©∫Èó¥ÈáåÔºåÊâÄ‰ª•ÂÜÖÊ†∏Á∫ßÁ∫øÁ®ãÁöÑÊï∞ÈáèÊòØÊúâÈôêÁöÑ„ÄÇ</li></ol><h6 id="3-4-4-3-ËΩªÈáèÁ∫ßËøõÁ®ã"><a href="#3-4-4-3-ËΩªÈáèÁ∫ßËøõÁ®ã" class="headerlink" title="3.4.4.3 ËΩªÈáèÁ∫ßËøõÁ®ã"></a>3.4.4.3 ËΩªÈáèÁ∫ßËøõÁ®ã</h6><p>ÊúÄÂàùÁöÑËøõÁ®ãÂÆö‰πâÈÉΩÂåÖÂê´Á®ãÂ∫è„ÄÅËµÑÊ∫êÂèäÂÖ∂ÊâßË°å‰∏âÈÉ®ÂàÜÔºåÂÖ∂‰∏≠Á®ãÂ∫èÈÄöÂ∏∏Êåá‰ª£Á†ÅÔºåËµÑÊ∫êÂú®Êìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢‰∏äÈÄöÂ∏∏ÂåÖÊã¨ÂÜÖÂ≠òËµÑÊ∫ê„ÄÅIOËµÑÊ∫ê„ÄÅ‰ø°Âè∑Â§ÑÁêÜÁ≠âÈÉ®ÂàÜÔºåËÄåÁ®ãÂ∫èÁöÑÊâßË°åÈÄöÂ∏∏ÁêÜËß£‰∏∫ÊâßË°å‰∏ä‰∏ãÊñáÔºåÂåÖÊã¨ÂØπCPUÁöÑÂç†Áî®ÔºåÂêéÊù•ÂèëÂ±ï‰∏∫Á∫øÁ®ã„ÄÇÂú®Á∫øÁ®ãÊ¶ÇÂøµÂá∫Áé∞‰ª•ÂâçÔºå‰∏∫‰∫ÜÂáèÂ∞èËøõÁ®ãÂàáÊç¢ÁöÑÂºÄÈîÄÔºåÊìç‰ΩúÁ≥ªÁªüËÆæËÆ°ËÄÖÈÄêÊ∏ê‰øÆÊ≠£ËøõÁ®ãÁöÑÊ¶ÇÂøµÔºåÈÄêÊ∏êÂÖÅËÆ∏Â∞ÜËøõÁ®ãÊâÄÂç†ÊúâÁöÑËµÑÊ∫ê‰ªéÂÖ∂‰∏ª‰ΩìÂâ•Á¶ªÂá∫Êù•ÔºåÂÖÅËÆ∏Êüê‰∫õËøõÁ®ãÂÖ±‰∫´‰∏ÄÈÉ®ÂàÜËµÑÊ∫êÔºå‰æãÂ¶ÇÊñá‰ª∂„ÄÅ‰ø°Âè∑ÔºåÊï∞ÊçÆÂÜÖÂ≠òÔºåÁîöËá≥‰ª£Á†ÅÔºåËøôÂ∞±ÂèëÂ±ïÂá∫ËΩªÈáèËøõÁ®ãÁöÑÊ¶ÇÂøµ„ÄÇ</p><p>Light-weight process <strong>ËΩªÈáèÁ∫ßËøõÁ®ãÊòØÂÜÖÊ†∏ÊîØÊåÅÁöÑÁî®Êà∑Á∫øÁ®ã</strong>ÔºåÂÆÉÊòØÂü∫‰∫éÂÜÖÊ†∏Á∫øÁ®ãÁöÑÈ´òÁ∫ßÊäΩË±°ÔºåÁ≥ªÁªüÂè™ÊúâÂÖàÊîØÊåÅÂÜÖÊ†∏Á∫øÁ®ãÊâçËÉΩÊúâ LWP„ÄÇ‰∏Ä‰∏™ËøõÁ®ãÂèØÊúâ1~N‰∏™LWPÔºåÊØè‰∏™ LWP ÊòØË∑üÂÜÖÊ†∏Á∫øÁ®ã‰∏ÄÂØπ‰∏ÄÊò†Â∞ÑÁöÑÔºå‰πüÂ∞±ÊòØ LWP ÈÉΩÊòØÁî±‰∏Ä‰∏™ÂÜÖÊ†∏Á∫øÁ®ãÊîØÊåÅ„ÄÇ</p><figure class="image-box">                <img src="image-20220208110121188.png" alt="image-20220208110121188" title class>                <p>image-20220208110121188</p>            </figure><p>LWPÊ®°Âºè</p><p><strong>ËΩªÈáèÁ∫ßËøõÁ®ãÊú¨Ë¥®ËøòÊòØËøõÁ®ã</strong>ÔºåÂè™ÊòØË∑üÊôÆÈÄöËøõÁ®ãÁõ∏ÊØîLWPË∑üÂÖ∂‰ªñËøõÁ®ãÂÖ±‰∫´Â§ßÈÉ®ÂàÜÈÄªËæëÂú∞ÂùÄÁ©∫Èó¥Ë∑üÁ≥ªÁªüËµÑÊ∫êÔºåLWPËΩªÈáè‰ΩìÁé∞Âú®ÂÆÉÂè™Êúâ‰∏Ä‰∏™ÊúÄÂ∞èÁöÑÊâßË°å‰∏ä‰∏ãÊñáÂíåË∞ÉÂ∫¶Á®ãÂ∫èÊâÄÈúÄÁöÑÁªüËÆ°‰ø°ÊÅØ„ÄÇ‰ªñÊòØËøõÁ®ãÁöÑÊâßË°åÈÉ®ÂàÜÔºåÂè™Â∏¶ÊúâÊâßË°åÁõ∏ÂÖ≥ÁöÑ‰ø°ÊÅØ„ÄÇ</p><p><strong>LinuxÁâπÊÄß</strong>Ôºö</p><ol><li>Linux‰∏≠Ê≤°ÊúâÁúüÊ≠£ÁöÑÁ∫øÁ®ãÔºåÂõ†‰∏∫LinuxÂπ∂Ê≤°Êúâ‰∏∫Á∫øÁ®ãÂáÜÂ§áÁâπÂÆöÁöÑÊï∞ÊçÆÁªìÊûÑ„ÄÇÂú®ÂÜÖÊ†∏ÁúãÊù•Âè™ÊúâËøõÁ®ãËÄåÊ≤°ÊúâÁ∫øÁ®ãÔºåÂú®Ë∞ÉÂ∫¶Êó∂‰πüÊòØÂΩìÂÅöËøõÁ®ãÊù•Ë∞ÉÂ∫¶„ÄÇLinuxÊâÄË∞ìÁöÑÁ∫øÁ®ãÂÖ∂ÂÆûÊòØ‰∏éÂÖ∂‰ªñËøõÁ®ãÂÖ±‰∫´ËµÑÊ∫êÁöÑËøõÁ®ã„ÄÇ‰ΩÜwindows‰∏≠Á°ÆÂÆûÊúâÁ∫øÁ®ã„ÄÇ</li><li>Linux‰∏≠Ê≤°ÊúâÁöÑÁ∫øÁ®ãÔºåÁ∫øÁ®ãÊòØÁî±ËøõÁ®ãÊù•Ê®°ÊãüÂÆûÁé∞ÁöÑ„ÄÇ</li><li>ÊâÄ‰ª•Âú®Linux‰∏≠Âú®CPUËßíÂ∫¶ÁúãÔºåËøõÁ®ãË¢´Áß∞‰ΩúËΩªÈáèÁ∫ßËøõÁ®ãLWP„ÄÇ</li></ol><h5 id="3-5-5-ÂçèÁ®ã"><a href="#3-5-5-ÂçèÁ®ã" class="headerlink" title="3.5.5 ÂçèÁ®ã"></a>3.5.5 ÂçèÁ®ã</h5><h6 id="3-5-5-1-ÂçèÁ®ãÂÆö‰πâ"><a href="#3-5-5-1-ÂçèÁ®ãÂÆö‰πâ" class="headerlink" title="3.5.5.1 ÂçèÁ®ãÂÆö‰πâ"></a>3.5.5.1 ÂçèÁ®ãÂÆö‰πâ</h6><p>Â§ßÂ§öÊï∞webÊúçÂä°Ë∑ü‰∫íËÅîÁΩëÊúçÂä°Êú¨Ë¥®‰∏äÂ§ßÈÉ®ÂàÜÈÉΩÊòØ IO ÂØÜÈõÜÂûãÊúçÂä°ÔºåIO ÂØÜÈõÜÂûãÊúçÂä°ÁöÑÁì∂È¢à‰∏çÂú®CPUÂ§ÑÁêÜÈÄüÂ∫¶ÔºåËÄåÂú®‰∫éÂ∞ΩÂèØËÉΩÂø´ÈÄüÁöÑÂÆåÊàêÈ´òÂπ∂Âèë„ÄÅÂ§öËøûÊé•‰∏ãÁöÑÊï∞ÊçÆËØªÂÜô„ÄÇ‰ª•ÂâçÊúâ‰∏§ÁßçËß£ÂÜ≥ÊñπÊ°àÔºö</p><ol><li><code>Â§öËøõÁ®ã</code>ÔºöÂ≠òÂú®È¢ëÁπÅË∞ÉÂ∫¶ÂàáÊç¢ÈóÆÈ¢òÔºåÂêåÊó∂Ëøò‰ºöÂ≠òÂú®ÊØè‰∏™ËøõÁ®ãËµÑÊ∫ê‰∏çÂÖ±‰∫´ÁöÑÈóÆÈ¢òÔºåÈúÄË¶ÅÈ¢ùÂ§ñÂºïÂÖ•ËøõÁ®ãÈó¥ÈÄö‰ø°Êú∫Âà∂Êù•Ëß£ÂÜ≥„ÄÇ</li><li><code>Â§öÁ∫øÁ®ã</code>ÔºöÈ´òÂπ∂ÂèëÂú∫ÊôØÁöÑÂ§ßÈáè IO Á≠âÂæÖ‰ºöÂØºËá¥Â§öÁ∫øÁ®ãË¢´È¢ëÁπÅÊåÇËµ∑ÂíåÂàáÊç¢ÔºåÈùûÂ∏∏Ê∂àËÄóÁ≥ªÁªüËµÑÊ∫êÔºåÂêåÊó∂Â§öÁ∫øÁ®ãËÆøÈóÆÂÖ±‰∫´ËµÑÊ∫êÂ≠òÂú®Á´û‰∫âÈóÆÈ¢ò„ÄÇ</li></ol><p>Ê≠§Êó∂ÂçèÁ®ãÂá∫Áé∞‰∫ÜÔºåÂçèÁ®ã Coroutines ÊòØ‰∏ÄÁßçÊØîÁ∫øÁ®ãÊõ¥Âä†ËΩªÈáèÁ∫ßÁöÑÂæÆÁ∫øÁ®ã„ÄÇÁ±ªÊØî‰∏Ä‰∏™ËøõÁ®ãÂèØ‰ª•Êã•ÊúâÂ§ö‰∏™Á∫øÁ®ãÔºå‰∏Ä‰∏™Á∫øÁ®ã‰πüÂèØ‰ª•Êã•ÊúâÂ§ö‰∏™ÂçèÁ®ã„ÄÇÂèØ‰ª•ÁÆÄÂçïÁöÑÊääÂçèÁ®ãÁêÜËß£ÊàêÂ≠êÁ®ãÂ∫èË∞ÉÁî®ÔºåÊØè‰∏™Â≠êÁ®ãÂ∫èÈÉΩÂèØ‰ª•Âú®‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂçèÁ®ãÂÜÖÊâßË°å„ÄÇ</p><figure class="image-box">                <img src="image-20220208110132404.png" alt="image-20220208110132404" title class>                <p>image-20220208110132404</p>            </figure><p>ÂçèÁ®ãËøêË°åÂú®Á∫øÁ®ã‰πã‰∏äÔºåÂΩì‰∏Ä‰∏™ÂçèÁ®ãÊâßË°åÂÆåÊàêÂêéÔºåÂèØ‰ª•ÈÄâÊã©‰∏ªÂä®ËÆ©Âá∫ÔºåËÆ©Âè¶‰∏Ä‰∏™ÂçèÁ®ãËøêË°åÂú®ÂΩìÂâçÁ∫øÁ®ã‰πã‰∏ä„ÄÇ<strong>ÂçèÁ®ãÂπ∂Ê≤°ÊúâÂ¢ûÂä†Á∫øÁ®ãÊï∞ÈáèÔºåÂè™ÊòØÂú®Á∫øÁ®ãÁöÑÂü∫Á°Ä‰πã‰∏äÈÄöËøáÂàÜÊó∂Â§çÁî®ÁöÑÊñπÂºèËøêË°åÂ§ö‰∏™ÂçèÁ®ã</strong>ÔºåËÄå‰∏îÂçèÁ®ãÁöÑÂàáÊç¢Âú®Áî®Êà∑ÊÄÅÂÆåÊàêÔºåÂàáÊç¢ÁöÑ‰ª£‰ª∑ÊØîÁ∫øÁ®ã‰ªéÁî®Êà∑ÊÄÅÂà∞ÂÜÖÊ†∏ÊÄÅÁöÑ‰ª£‰ª∑Â∞èÂæàÂ§öÔºå‰∏ÄËà¨Âú®Python„ÄÅGo‰∏≠‰ºöÊ∂âÂèäÂà∞ÂçèÁ®ãÁöÑÁü•ËØÜÔºåÂ∞§ÂÖ∂ÊòØÁé∞Âú®È´òÊÄßËÉΩÁöÑËÑöÊú¨Go„ÄÇ</p><h6 id="3-5-5-2-ÂçèÁ®ãÊ≥®ÊÑè‰∫ãÈ°π"><a href="#3-5-5-2-ÂçèÁ®ãÊ≥®ÊÑè‰∫ãÈ°π" class="headerlink" title="3.5.5.2 ÂçèÁ®ãÊ≥®ÊÑè‰∫ãÈ°π"></a>3.5.5.2 ÂçèÁ®ãÊ≥®ÊÑè‰∫ãÈ°π</h6><p>ÂçèÁ®ãËøêË°åÂú®Á∫øÁ®ã‰πã‰∏äÔºåÂπ∂‰∏îÂçèÁ®ãË∞ÉÁî®‰∫Ü‰∏Ä‰∏™ÈòªÂ°ûIOÊìç‰ΩúÔºåÊ≠§Êó∂Êìç‰ΩúÁ≥ªÁªüÂπ∂‰∏çÁü•ÈÅìÂçèÁ®ãÁöÑÂ≠òÂú®ÔºåÂÆÉÂè™Áü•ÈÅìÁ∫øÁ®ãÔºåÂõ†Ê≠§Âú®ÂçèÁ®ãË∞ÉÁî®ÈòªÂ°ûIOÊìç‰ΩúÊó∂ÔºåÊìç‰ΩúÁ≥ªÁªü‰ºöËÆ©Á∫øÁ®ãËøõÂÖ•ÈòªÂ°ûÁä∂ÊÄÅÔºåÂΩìÂâçÁöÑÂçèÁ®ãÂíåÂÖ∂ÂÆÉÁªëÂÆöÂú®ËØ•Á∫øÁ®ã‰πã‰∏äÁöÑÂçèÁ®ãÈÉΩ‰ºöÈô∑ÂÖ•ÈòªÂ°ûËÄåÂæó‰∏çÂà∞Ë∞ÉÂ∫¶„ÄÇ</p><p>Âõ†Ê≠§Âú®ÂçèÁ®ã‰∏≠‰∏çËÉΩË∞ÉÁî®ÂØºËá¥Á∫øÁ®ãÈòªÂ°ûÁöÑÊìç‰ΩúÔºåÊØîÂ¶ÇÊâìÂç∞„ÄÅËØªÂèñÊñá‰ª∂„ÄÅSocketÊé•Âè£Á≠â„ÄÇ<code>ÂçèÁ®ãÂè™ÊúâÂíåÂºÇÊ≠•IOÁªìÂêà</code>Ëµ∑Êù•ÊâçËÉΩÂèëÊå•ÊúÄÂ§ßÁöÑÂ®ÅÂäõ„ÄÇÂπ∂‰∏î<strong>ÂçèÁ®ãÂè™ÊúâÂú®IOÂØÜÈõÜÂûãÁöÑ‰ªªÂä°‰∏≠Êâç‰ºöÂèëÊå•‰ΩúÁî®</strong>„ÄÇ</p><h3 id="3-6-ËøõÁ®ãÈÄö‰ø°"><a href="#3-6-ËøõÁ®ãÈÄö‰ø°" class="headerlink" title="3.6 ËøõÁ®ãÈÄö‰ø°"></a>3.6 ËøõÁ®ãÈÄö‰ø°</h3><p>ËøõÁ®ãÁöÑÁî®Êà∑Âú∞ÂùÄÁ©∫Èó¥ÊòØÁõ∏‰∫íÁã¨Á´ãÁöÑÔºå‰∏çÂèØ‰ª•‰∫íÁõ∏ËÆøÈóÆÔºå‰ΩÜÂÜÖÊ†∏Á©∫Èó¥ÊòØËøõÁ®ãÈÉΩÂÖ±‰∫´ÁöÑÔºåÊâÄ‰ª•ËøõÁ®ã‰πãÈó¥Ë¶ÅÈÄö‰ø°ÂøÖÈ°ªÈÄöËøáÂÜÖÊ†∏„ÄÇ<strong>ËøõÁ®ãÈó¥ÈÄö‰ø°‰∏ªË¶ÅÈÄöËøáÁÆ°ÈÅì„ÄÅÊ∂àÊÅØÈòüÂàó„ÄÅÂÖ±‰∫´ÂÜÖÂ≠ò„ÄÅ‰ø°Âè∑Èáè„ÄÅ‰ø°Âè∑„ÄÅSocketÁºñÁ®ã</strong>„ÄÇ</p><h5 id="3-6-1-ÁÆ°ÈÅì"><a href="#3-6-1-ÁÆ°ÈÅì" class="headerlink" title="3.6.1 ÁÆ°ÈÅì"></a>3.6.1 ÁÆ°ÈÅì</h5><p>ÁÆ°ÈÅì‰∏ªË¶ÅÂàÜ‰∏∫ÂåøÂêçÁÆ°ÈÅìË∑üÂëΩÂêçÁÆ°ÈÅì‰∏§ÁßçÔºåÂèØ‰ª•ÂÆûÁé∞Êï∞ÊçÆÁöÑÂçïÂêëÊµÅÂä®ÊÄß„ÄÇ<strong>‰ΩøÁî®Ëµ∑Êù•ÂæàÁÆÄÂçïÔºå‰ΩÜÊòØÁÆ°ÈÅìËøôÁßçÈÄö‰ø°ÊñπÂºèÊïàÁéá‰ΩéÔºå‰∏çÈÄÇÂêàËøõÁ®ãÈó¥È¢ëÁπÅÂú∞‰∫§Êç¢Êï∞ÊçÆ</strong>„ÄÇ</p><p><strong>ÂåøÂêçÁÆ°ÈÅì</strong>Ôºö</p><ol><li>Êó•Â∏∏LinuxÁ≥ªÁªü‰∏≠ÁöÑ<code>|</code>Â∞±ÊòØÂåøÂêçÁÆ°ÈÅì„ÄÇÊåá‰ª§ÁöÑÂâç‰∏Ä‰∏™ËæìÂÖ•ÊòØÂêé‰∏Ä‰∏™Êåá‰ª§ÁöÑËæìÂá∫„ÄÇ</li></ol><p><strong>ÂëΩÂêçÁÆ°ÈÅì</strong>Ôºö</p><ol><li>‰∏ÄËà¨ÈÄöËøá<code>mkfifo SoWhatPipe</code>ÂàõÂª∫ÁÆ°ÈÅì„ÄÇÈÄöËøá<code>echo &quot;sw&quot; &gt; SoWhatPipe</code>Ë∑ü<code>cat &lt; SoWhatPipe</code> ÂÆûÁé∞ËæìÂÖ•Ë∑üËæìÂá∫„ÄÇ</li></ol><p>ÂåøÂêçÁÆ°ÈÅìÁöÑÂÆûÁé∞‰æùËµñ<code>int pipe(int fd[2])</code>ÂáΩÊï∞ÔºåÂÖ∂‰∏≠<code>fd[0]</code>ÊòØËØªÂèñÊñ≠ÊèèËø∞Á¨¶Ôºå<code>fd[1]</code>ÊòØÁÆ°ÈÅìÂÜôÂÖ•Á´ØÊèèËø∞Á¨¶„ÄÇÂÆÉÁöÑÊú¨Ë¥®Â∞±ÊòØÂú®ÂÜÖÊ†∏‰∏≠ÂàõÂª∫‰∏™Â±û‰∫éÂÜÖÂ≠òÁöÑÁºìÂ≠òÔºå‰ªé‰∏ÄÁ´ØËæìÂÖ•Êó†Ê†ºÂºèÊï∞ÊçÆ‰∏ÄÁ´ØËæìÂá∫Êó†Ê†ºÂºèÊï∞ÊçÆÔºåÈúÄÊ≥®ÊÑèÁÆ°ÈÅì‰º†ËæìÂ§ßÂ∞èÊòØÊúâÈôêÁöÑ„ÄÇ</p><figure class="image-box">                <img src="image-20220208110149376.png" alt="image-20220208110149376" title class>                <p>image-20220208110149376</p>            </figure><p>ÁÆ°ÈÅìÈÄö‰ø°Â∫ïÂ±Ç</p><p>ÂåøÂêçÁÆ°ÈÅìÁöÑÈÄö‰ø°ËåÉÂõ¥ÊòØÂ≠òÂú®Áà∂Â≠êÂÖ≥Á≥ªÁöÑËøõÁ®ã„ÄÇÁî±‰∫éÁÆ°ÈÅìÊ≤°ÊúâÂÆû‰ΩìÔºå‰πüÂ∞±ÊòØÊ≤°ÊúâÁÆ°ÈÅìÊñá‰ª∂Ôºå‰∏ç‰ºöÊ∂âÂèäÂà∞Êñá‰ª∂Á≥ªÁªü„ÄÇÂè™ËÉΩÈÄöËøá<code>fork</code>Â≠êËøõÁ®ãÊù•Â§çÂà∂Áà∂ËøõÁ®ã fd Êñá‰ª∂ÊèèËø∞Á¨¶ÔºåÁà∂Â≠êËøõÁ®ãÈÄöËøáÂÖ±Áî®ÁâπÊÆäÁöÑÁÆ°ÈÅìÊñá‰ª∂ÂÆûÁé∞Ë∑®ËøõÁ®ãÈÄö‰ø°ÔºåÂπ∂‰∏îÂõ†‰∏∫ÁÆ°ÈÅìÂè™ËÉΩ‰∏ÄÁ´ØÂÜôÂÖ•ÔºåÂè¶‰∏ÄÁ´ØËØªÂá∫ÔºåÊâÄ‰ª•ÈÄöÂ∏∏Áà∂Â≠êËøõÁ®ãÈÅµ‰ªéÂ¶Ç‰∏ãË¶ÅÊ±ÇÔºö</p><ol><li>Áà∂ËøõÁ®ãÂÖ≥Èó≠ËØªÂèñÁöÑ fd[0]ÔºåÂè™‰øùÁïôÂÜôÂÖ•ÁöÑ fd[1]„ÄÇ</li><li>Â≠êËøõÁ®ãÂÖ≥Èó≠ÂÜôÂÖ•ÁöÑ fd[1]ÔºåÂè™‰øùÁïôËØªÂèñÁöÑ fd[0]„ÄÇ</li></ol><figure class="image-box">                <img src="image-20220208110206417.png" alt="image-20220208110206417" title class>                <p>image-20220208110206417</p>            </figure><p>shellÁÆ°ÈÅìÈÄö‰ø°</p><p>ÈúÄÊ≥®ÊÑèShellÊâßË°åÂåøÂêçÁÆ°ÈÅì a | bÂÖ∂ÂÆûÊòØÈÄöËøáShellÁà∂ËøõÁ®ãforkÂá∫‰∫Ü‰∏§‰∏™Â≠êËøõÁ®ãÊù•ÂÆûÁé∞ÈÄö‰ø°ÁöÑÔºåËÄåab‰πãÈó¥ÊòØ‰∏çÂ≠òÂú®Áà∂Â≠êËøõÁ®ãÂÖ≥Á≥ªÁöÑ„ÄÇËÄåÂëΩÂêçÁÆ°ÈÅìÊòØÂèØ‰ª•Áõ¥Êé•Âú®‰∏çÊÉ≥ÂÖ≥ËøõÁ®ãÈó¥ÈÄö‰ø°ÁöÑÔºåÂõ†‰∏∫ÊúâÁÆ°ÈÅìÊñá‰ª∂„ÄÇ</p><h5 id="3-6-2-Ê∂àÊÅØÈòüÂàó"><a href="#3-6-2-Ê∂àÊÅØÈòüÂàó" class="headerlink" title="3.6.2 Ê∂àÊÅØÈòüÂàó"></a>3.6.2 Ê∂àÊÅØÈòüÂàó</h5><figure class="image-box">                <img src="image-20220208110230770.png" alt="image-20220208110230770" title class>                <p>image-20220208110230770</p>            </figure><p>Ê∂àÊÅØÈòüÂàó</p><p>Ê∂àÊÅØÈòüÂàóÊòØ‰øùÂ≠òÂú®<strong>ÂÜÖÊ†∏</strong>‰∏≠ÁöÑÊ∂àÊÅØÈìæË°®Ôºå<strong>‰ºöÊ∂âÂèäÂà∞Áî®Êà∑ÊÄÅË∑üÂÜÖÊ†∏ÊÄÅÂà∞Êù•ÂõûÂàáÊç¢</strong>ÔºåÂèåÊñπÁ∫¶ÂÆöÂ•ΩÊ∂àÊÅØ‰ΩìÂà∞Êï∞ÊçÆÁªìÊûÑÔºåÁÑ∂ÂêéÂèëÈÄÅÊï∞ÊçÆÊó∂Â∞ÜÊï∞ÊçÆÂàÜÊàê‰∏Ä‰∏™‰∏™Áã¨Á´ãÁöÑÊï∞ÊçÆÂçïÂÖÉÊ∂àÊÅØ‰ΩìÔºåÈúÄÊ≥®ÊÑèÊ∂àÊÅØÈòüÂàóÂèäÂçï‰∏™Ê∂àÊÅØÈÉΩÊúâ‰∏äÈôêÔºåÊó•Â∏∏Êàë‰ª¨Âà∞<a href="http://mp.weixin.qq.com/s?__biz=MzI4NjI1OTI4Nw==&amp;mid=2247490325&amp;idx=1&amp;sn=ab7cfedc7b8f2361cc1fab9418b314b8&amp;chksm=ebdefa2ddca9733b76cffbcba2d5f8c0c61bd36d5ebba20aaecb07148aa0fd7a5781e16ab03e&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">RabbitMQ</a>„ÄÅ<a href="http://mp.weixin.qq.com/s?__biz=MzI4NjI1OTI4Nw==&amp;mid=2247488832&amp;idx=1&amp;sn=5999893d7fe773f54f7d097ac1c2074d&amp;chksm=ebdef478dca97d6e2433abdeecf600669ffbb1b68eb2b744e7ed72aac4cd5c4cabf19b0d8f19&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">Redis </a>ÈÉΩÊ∂âÂèäÂà∞Ê∂àÊÅØÈòüÂàó„ÄÇ</p><h5 id="3-6-3-ÂÖ±‰∫´ÂÜÖÂ≠ò"><a href="#3-6-3-ÂÖ±‰∫´ÂÜÖÂ≠ò" class="headerlink" title="3.6.3 ÂÖ±‰∫´ÂÜÖÂ≠ò"></a>3.6.3 ÂÖ±‰∫´ÂÜÖÂ≠ò</h5><figure class="image-box">                <img src="image-20220208110245494.png" alt="image-20220208110245494" title class>                <p>image-20220208110245494</p>            </figure><p>ÂÖ±‰∫´Á©∫Èó¥</p><p>Áé∞‰ª£Êìç‰ΩúÁ≥ªÁªüÂØπÂÜÖÂ≠òÁÆ°ÁêÜÈááÁî®ÁöÑÊòØËôöÊãüÂÜÖÂ≠òÊäÄÊúØÔºå‰πüÂ∞±ÊòØÊØè‰∏™ËøõÁ®ãÈÉΩÊúâËá™Â∑±Áã¨Á´ãÁöÑËôöÊãüÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰∏çÂêåËøõÁ®ãÁöÑËôöÊãüÂÜÖÂ≠òÊò†Â∞ÑÂà∞‰∏çÂêåÁöÑÁâ©ÁêÜÂÜÖÂ≠ò‰∏≠„ÄÇÊâÄ‰ª•ÔºåÂç≥‰ΩøËøõÁ®ãAÂíåËøõÁ®ãBËôöÊãüÂú∞ÂùÄÊòØ‰∏ÄÊ†∑ÁöÑÔºåÁúüÊ≠£ËÆøÈóÆÁöÑ‰πüÊòØ‰∏çÂêåÁöÑÁâ©ÁêÜÂÜÖÂ≠òÂú∞ÂùÄÔºåËØ•Ê®°Âºè‰∏çÊ∂âÂèäÂà∞Áî®Êà∑ÊÄÅË∑üÂÜÖÊ†∏ÊÄÅÊù•ÂõûÂàáÊç¢ÔºåJVM Â∞±ÊòØÁî®ÁöÑÂÖ±‰∫´ÂÜÖÂ≠òÊ®°Âºè„ÄÇÂπ∂‰∏îÂπ∂ÂèëÁºñÁ®ã‰πüÊòØ‰∏™ÈöæÁÇπ„ÄÇ</p><h5 id="3-6-4-‰ø°Âè∑Èáè"><a href="#3-6-4-‰ø°Âè∑Èáè" class="headerlink" title="3.6.4 ‰ø°Âè∑Èáè"></a>3.6.4 ‰ø°Âè∑Èáè</h5><p>Êó¢ÁÑ∂ÂÖ±‰∫´ÂÜÖÂ≠òÂÆπÊòìÈÄ†ÊàêÊï∞ÊçÆÁ¥ä‰π±ÔºåÈÇ£‰∏∫‰∫ÜÁÆÄÂçïÁöÑÂÆûÁé∞ÂÖ±‰∫´Êï∞ÊçÆÂú®‰ªªÊÑèÊó∂ÂàªÂè™ËÉΩË¢´‰∏Ä‰∏™ËøõÁ®ãËÆøÈóÆÔºåÊ≠§Êó∂ÈúÄË¶Å‰ø°Âè∑Èáè„ÄÇ</p><p><strong>‰ø°Âè∑ÈáèÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™Êï¥ÂûãÁöÑËÆ°Êï∞Âô®Ôºå‰∏ªË¶ÅÁî®‰∫éÂÆûÁé∞ËøõÁ®ãÈó¥ÁöÑ‰∫íÊñ•‰∏éÂêåÊ≠•ÔºåËÄå‰∏çÊòØÁî®‰∫éÁºìÂ≠òËøõÁ®ãÈó¥ÈÄö‰ø°ÁöÑÊï∞ÊçÆ</strong>„ÄÇ</p><p>‰ø°Âè∑ÈáèË°®Á§∫ËµÑÊ∫êÁöÑÊï∞ÈáèÔºåÊ†∏ÂøÉÁÇπÂú®‰∫éÂéüÂ≠êÊÄßÁöÑÊéßÂà∂‰∏Ä‰∏™Êï∞ÊçÆÁöÑÂÄºÔºåÊéßÂà∂‰ø°Âè∑ÈáèÁöÑÊñπÂºèÊúâ<strong>PV‰∏§ÁßçÂéüÂ≠êÊìç‰Ωú</strong>Ôºö</p><ol><li>P Êìç‰Ωú‰ºöÊää‰ø°Âè∑ÈáèÂáèÂéª -1ÔºåÁõ∏ÂáèÂêéÂ¶ÇÊûú‰ø°Âè∑Èáè &lt; 0ÔºåÂàôË°®ÊòéËµÑÊ∫êÂ∑≤Ë¢´Âç†Áî®ÔºåËøõÁ®ãÈúÄÈòªÂ°ûÁ≠âÂæÖ„ÄÇÁõ∏ÂáèÂêéÂ¶ÇÊûú‰ø°Âè∑Èáè &gt;= 0ÔºåÂàôË°®ÊòéËøòÊúâËµÑÊ∫êÂèØ‰ΩøÁî®ÔºåËøõÁ®ãÂèØÊ≠£Â∏∏ÁªßÁª≠ÊâßË°å„ÄÇ</li><li>V Êìç‰Ωú‰ºöÊää‰ø°Âè∑ÈáèÂä†‰∏ä 1ÔºåÁõ∏Âä†ÂêéÂ¶ÇÊûú‰ø°Âè∑Èáè &lt;= 0ÔºåÂàôË°®ÊòéÂΩìÂâçÊúâÈòªÂ°û‰∏≠ÁöÑËøõÁ®ãÔºå‰∫éÊòØ‰ºöÂ∞ÜËØ•ËøõÁ®ãÂî§ÈÜíËøêË°å„ÄÇÁõ∏Âä†ÂêéÂ¶ÇÊûú‰ø°Âè∑Èáè &gt; 0ÔºåÂàôË°®ÊòéÂΩìÂâçÊ≤°ÊúâÈòªÂ°û‰∏≠ÁöÑËøõÁ®ã„ÄÇ</li></ol><h5 id="3-6-5-‰ø°Âè∑"><a href="#3-6-5-‰ø°Âè∑" class="headerlink" title="3.6.5 ‰ø°Âè∑"></a>3.6.5 ‰ø°Âè∑</h5><p>ÂØπ‰∫éÂºÇÂ∏∏Áä∂ÊÄÅ‰∏ãËøõÁ®ãÂ∑•‰ΩúÊ®°ÂºèÈúÄË¶ÅÁî®Âà∞‰ø°Âè∑Â∑•‰ΩúÊñπÂºèÊù•ÈÄöÁü•ËøõÁ®ã„ÄÇÊØîÂ¶ÇLinuxÁ≥ªÁªü‰∏∫‰∫ÜÂìçÂ∫îÂêÑÁßç‰∫ã‰ª∂Êèê‰æõ‰∫ÜÂæàÂ§öÂºÇÂ∏∏‰ø°Âè∑<code>kill -l</code>Ôºå<strong>‰ø°Âè∑ÊòØËøõÁ®ãÈó¥ÈÄö‰ø°Êú∫Âà∂‰∏≠ÂîØ‰∏ÄÁöÑÂºÇÊ≠•ÈÄö‰ø°Êú∫Âà∂</strong>ÔºåÂèØ‰ª•Âú®‰ªª‰ΩïÊó∂ÂÄôÂèëÈÄÅ‰ø°Âè∑ÁªôÊüê‰∏ÄËøõÁ®ã„ÄÇÊØîÂ¶ÇÔºö</p><ol><li>kill -9 1412 ÔºåË°®Á§∫Áªô PID ‰∏∫ 1412 ÁöÑËøõÁ®ãÂèëÈÄÅ SIGKILL ‰ø°Âè∑ÔºåÁî®Êù•Á´ãÂç≥ÁªìÊùüËØ•ËøõÁ®ã„ÄÇ</li><li>ÈîÆÁõò Ctrl+C ‰∫ßÁîü SIGINT ‰ø°Âè∑ÔºåË°®Á§∫ÁªàÊ≠¢ËØ•ËøõÁ®ã„ÄÇ</li><li>ÈîÆÁõò Ctrl+Z ‰∫ßÁîü SIGTSTP ‰ø°Âè∑ÔºåË°®Á§∫ÂÅúÊ≠¢ËØ•ËøõÁ®ãÔºå‰ΩÜËøòÊú™ÁªìÊùü„ÄÇ</li></ol><p>Êúâ‰ø°Âè∑ÂèëÁîüÊó∂ÔºåËøõÁ®ã‰∏ÄËà¨Êúâ‰∏âÁßçÊñπÂºèÂìçÂ∫î‰ø°Âè∑Ôºö</p><ol><li>ÊâßË°åÈªòËÆ§Êìç‰ΩúÔºöLinuxÊìç‰ΩúÁ≥ªÁªü‰∏∫‰ºóÂ§ö‰ø°Âè∑ÈÖçÂ§á‰∫Ü‰∏ìÈó®ÁöÑÂ§ÑÁêÜÊìç‰Ωú„ÄÇ</li><li>ÊçïÊçâ‰ø°Âè∑ÔºöÁªôÊçïÊçâÂà∞ÁöÑ‰ø°Âè∑ÈÖçÂ§á‰∏ìÈó®ÁöÑ‰ø°Âè∑Â§ÑÁêÜÂáΩÊï∞„ÄÇ</li><li>ÂøΩÁï•‰ø°Âè∑Ôºö‰∏ìÈó®Áî®Êù•ÂøΩÁï•Êüê‰∫õ‰ø°Âè∑Ôºå‰ΩÜ SIGKILL Âíå SEGSTOPÊòØÊó†Ê≥ïË¢´ÂøΩÁï•ÁöÑÔºå‰∏∫‰∫ÜËÉΩÂú®‰ªª‰ΩïÊó∂ÂÄôÁªìÊùüÊàñÂÅúÊ≠¢Êüê‰∏™ËøõÁ®ãËÄåÂ≠òÂú®„ÄÇ</li></ol><h5 id="3-6-6-SocketÁºñÁ®ã"><a href="#3-6-6-SocketÁºñÁ®ã" class="headerlink" title="3.6.6 SocketÁºñÁ®ã"></a>3.6.6 SocketÁºñÁ®ã</h5><p>ÂâçÈù¢ÊèêÂà∞ÁöÑÁÆ°ÈÅì„ÄÅÊ∂àÊÅØÈòüÂàó„ÄÅÂÖ±‰∫´ÂÜÖÂ≠ò„ÄÅ‰ø°Âè∑ÈáèÂíå‰ø°Âè∑ÈÉΩÊòØÂú®Âêå‰∏ÄÂè∞‰∏ªÊú∫‰∏äËøõË°åËøõÁ®ãÈó¥ÈÄö‰ø°Ôºå<strong>ÈÇ£Ë¶ÅÊÉ≥Ë∑®ÁΩëÁªú‰∏é‰∏çÂêå‰∏ªÊú∫‰∏äÁöÑËøõÁ®ã‰πãÈó¥ÈÄö‰ø°ÔºåÂ∞±ÈúÄË¶Å Socket ÈÄö‰ø°</strong>„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int socket(int domain, int type, int protocal)</span><br></pre></td></tr></table></figure><p>‰∏äÈù¢ÊòØsocketÁºñÁ®ãÁöÑÊ†∏ÂøÉÂáΩÊï∞ÔºåÂèØ‰ª•ÊåáÂÆöIPV4ÊàñIPV6Á±ªÂûãÔºåTCPÊàñUDPÁ±ªÂûã„ÄÇÊØîÂ¶Ç<a href="http://mp.weixin.qq.com/s?__biz=MzI4NjI1OTI4Nw==&amp;mid=2247490719&amp;idx=1&amp;sn=9590fea26b75698ddb37b24ef34e0c8c&amp;chksm=ebdefda7dca974b16ac1e3ae78ff0222c4ad4bd181a70a233df8683cb3fb6199395e14bd65e6&amp;scene=21#wechat_redirect" target="_blank" rel="noopener"><strong>TCP</strong></a>ÂçèËÆÆÈÄö‰ø°ÁöÑ socket ÁºñÁ®ãÊ®°ÂûãÂ¶Ç‰∏ãÔºö</p><figure class="image-box">                <img src="image-20220208110306777.png" alt="image-20220208110306777" title class>                <p>image-20220208110306777</p>            </figure><p>SocketÁºñÁ®ã</p><ol><li>ÊúçÂä°Á´ØÂíåÂÆ¢Êà∑Á´ØÂàùÂßãÂåñ <code>socket</code>ÔºåÂæóÂà∞Êñá‰ª∂ÊèèËø∞Á¨¶„ÄÇ</li><li>ÊúçÂä°Á´ØË∞ÉÁî®<code>bind</code>ÔºåÂ∞ÜÁªëÂÆöÂú® IP Âú∞ÂùÄÂíåÁ´ØÂè£„ÄÇ</li><li>ÊúçÂä°Á´ØË∞ÉÁî® <code>listen</code>ÔºåËøõË°åÁõëÂê¨„ÄÇ</li><li>ÊúçÂä°Á´ØË∞ÉÁî® <code>accept</code>ÔºåÁ≠âÂæÖÂÆ¢Êà∑Á´ØËøûÊé•„ÄÇ</li><li>ÂÆ¢Êà∑Á´ØË∞ÉÁî® <code>connect</code>ÔºåÂêëÊúçÂä°Âô®Á´ØÁöÑÂú∞ÂùÄÂíåÁ´ØÂè£ÂèëËµ∑ËøûÊé•ËØ∑Ê±Ç„ÄÇ</li><li>ÊúçÂä°Á´Ø <code>accept</code> ËøîÂõûÁî®‰∫é‰º†ËæìÁöÑ <code>socket</code> ÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶„ÄÇ</li><li>ÂÆ¢Êà∑Á´ØË∞ÉÁî® <code>write</code> ÂÜôÂÖ•Êï∞ÊçÆÔºåÊúçÂä°Á´ØË∞ÉÁî® <code>read</code> ËØªÂèñÊï∞ÊçÆ„ÄÇ</li><li>ÂÆ¢Êà∑Á´ØÊñ≠ÂºÄËøûÊé•Êó∂Ôºå‰ºöË∞ÉÁî® <code>close</code>ÔºåÈÇ£‰πàÊúçÂä°Á´Ø <code>read</code> ËØªÂèñÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂ∞±‰ºöËØªÂèñÂà∞‰∫Ü<code>EOF</code>ÔºåÂæÖÂ§ÑÁêÜÂÆåÊï∞ÊçÆÂêéÔºåÊúçÂä°Á´ØË∞ÉÁî® closeÔºåË°®Á§∫ËøûÊé•ÂÖ≥Èó≠„ÄÇ</li><li>ÊúçÂä°Á´ØË∞ÉÁî® <code>accept</code>Êó∂ÔºåËøûÊé•ÊàêÂäü‰ºöËøîÂõû‰∏Ä‰∏™Â∑≤ÂÆåÊàêËøûÊé•ÁöÑ <code>socket</code>ÔºåÂêéÁª≠Áî®Êù•‰º†ËæìÊï∞ÊçÆ„ÄÇÊúçÂä°Á´ØÊúâ‰ø©<code>socket</code>Ôºå‰∏Ä‰∏™Âè´‰ΩúÁõëÂê¨ <code>socket</code>Ôºå‰∏Ä‰∏™Âè´‰ΩúÂ∑≤ÂÆåÊàêËøûÊé• <code>socket</code>„ÄÇ</li><li>ÊàêÂäüËøûÊé•Âª∫Á´ã‰πãÂêéÂèåÊñπÂºÄÂßãÈÄöËøá read Âíå write ÂáΩÊï∞Êù•ËØªÂÜôÊï∞ÊçÆ„ÄÇ</li></ol><figure class="image-box">                <img src="image-20220208110319666.png" alt="image-20220208110319666" title class>                <p>image-20220208110319666</p>            </figure><p>  UDP‰º†Ëæì</p><p>UDPÊØîËæÉÁÆÄÂçïÔºåÂ±û‰∫éÁ±ª‰ººÂπøÊí≠ÊÄßË¥®ÁöÑ‰º†ËæìÔºå‰∏çÈúÄË¶ÅÁª¥Êä§ËøûÊé•„ÄÇ‰ΩÜ‰πüÈúÄË¶Å bindÔºåÊØèÊ¨°ÈÄö‰ø°Êó∂Ë∞ÉÁî® sendto Âíå recvfrom ÈÉΩË¶Å‰º†ÂÖ•ÁõÆÊ†á‰∏ªÊú∫ÁöÑ IP Âú∞ÂùÄÂíåÁ´ØÂè£„ÄÇ</p><h3 id="3-7-Â§öÁ∫øÁ®ãÁºñÁ®ã"><a href="#3-7-Â§öÁ∫øÁ®ãÁºñÁ®ã" class="headerlink" title="3.7 Â§öÁ∫øÁ®ãÁºñÁ®ã"></a>3.7 Â§öÁ∫øÁ®ãÁºñÁ®ã</h3><p>Êó¢ÁÑ∂Â§öËøõÁ®ãÂºÄÈîÄËøáÂ§ßÔºåÈÇ£Âπ≥Â∏∏Êàë‰ª¨ÁªèÂ∏∏‰ΩøÁî®Âà∞ÁöÑÂ∞±ÊòØÂ§öÁ∫øÁ®ãÁºñÁ®ã‰∫Ü„ÄÇÊúüÈó¥ÂèØËÉΩÊ∂âÂèäÂà∞ÂÜÖÂ≠òÊ®°Âûã„ÄÅJMM„ÄÅVolatile„ÄÅ‰∏¥ÁïåÂå∫Á≠âÁ≠â„ÄÇËøô‰∫õÂú®<a href="https://mp.weixin.qq.com/mp/appmsgalbum?action=getalbum&amp;album_id=1663052626025840644&amp;__biz=MzI4NjI1OTI4Nw==&amp;uin=&amp;key=&amp;devicetype=Windows+7+x64&amp;version=63010043&amp;lang=zh_CN&amp;ascene=7&amp;fontgear=2" target="_blank" rel="noopener">JavaÂπ∂ÂèëÁºñÁ®ã‰∏ìÊ†è</a>ÊúâËÆ≤„ÄÇ</p><h1 id="4-Êñá‰ª∂ÁÆ°ÁêÜ"><a href="#4-Êñá‰ª∂ÁÆ°ÁêÜ" class="headerlink" title="4 Êñá‰ª∂ÁÆ°ÁêÜ"></a>4 Êñá‰ª∂ÁÆ°ÁêÜ</h1><h3 id="4-1-VFS-ËôöÊãüÊñá‰ª∂Á≥ªÁªü"><a href="#4-1-VFS-ËôöÊãüÊñá‰ª∂Á≥ªÁªü" class="headerlink" title="4.1 VFS ËôöÊãüÊñá‰ª∂Á≥ªÁªü"></a>4.1 VFS ËôöÊãüÊñá‰ª∂Á≥ªÁªü</h3><p>  Êñá‰ª∂Á≥ªÁªüÂú®Êìç‰ΩúÁ≥ªÁªü‰∏≠‰∏ªË¶ÅË¥üË¥£Â∞ÜÊñá‰ª∂Êï∞ÊçÆ‰ø°ÊÅØÂ≠òÂÇ®Âà∞Á£ÅÁõò‰∏≠ÔºåËµ∑Âà∞ÊåÅ‰πÖÂåñÊñá‰ª∂ÁöÑ‰ΩúÁî®„ÄÇÊñá‰ª∂Á≥ªÁªüÁöÑÂü∫Êú¨ÁªÑÊàêÂçïÂÖÉÂ∞±ÊòØÊñá‰ª∂ÔºåÊñá‰ª∂ÁªÑÊàêÊñπÂºè‰∏çÂêåÂ∞±‰ºöÂΩ¢Êàê‰∏çÂêåÁöÑÊñá‰ª∂Á≥ªÁªü„ÄÇ</p><p>  Êñá‰ª∂Á≥ªÁªüÊúâÂæàÂ§öÁßçËÄå‰∏çÂêåÁöÑÊñá‰ª∂Á≥ªÁªüÂ∫îÁî®Âà∞Êìç‰ΩúÁ≥ªÁªüÂêéÈúÄË¶ÅÊèê‰æõÁªü‰∏ÄÁöÑÂØπÂ§ñÊé•Âè£ÔºåÊ≠§Êó∂Áî®Âà∞‰∫Ü‰∏Ä‰∏™ËÆæËÆ°ÁêÜÂøµ<code>Ê≤°Êúâ‰ªÄ‰πàÊòØÂä†‰∏ÄÂ±ÇËß£ÂÜ≥‰∏ç‰∫ÜÁöÑ</code>ÔºåÂú®Áî®Êà∑Â±ÇË∑ü‰∏çÂêåÁöÑÊñá‰ª∂Á≥ªÁªü‰πãÈó¥Âä†ÂÖ•‰∏Ä‰∏™ËôöÊãüÊñá‰ª∂Á≥ªÁªüÂ±Ç <code>Virtual File System</code>„ÄÇ</p><p>  ËôöÊãüÊñá‰ª∂Á≥ªÁªüÂ±Ç<code>ÂÆö‰πâ‰∫Ü‰∏ÄÁªÑÊâÄÊúâÊñá‰ª∂Á≥ªÁªüÈÉΩÊîØÊåÅÁöÑÊï∞ÊçÆÁªìÊûÑÂíåÊ†áÂáÜÊé•Âè£</code>ÔºåËøôÊ†∑Á®ãÂ∫èÂëò‰∏çÈúÄË¶Å‰∫ÜËß£Êñá‰ª∂Á≥ªÁªüÁöÑÂ∑•‰ΩúÂéüÁêÜÔºåÂè™ÈúÄË¶Å‰∫ÜËß£ VFS Êèê‰æõÁöÑÁªü‰∏ÄÊé•Âè£Âç≥ÂèØ„ÄÇ</p><p>  <img src="image-20220208110333436.png" alt="image-20220208110333436">ËôöÊãüÊñá‰ª∂Á≥ªÁªü</p><p>  Êó•Â∏∏ÁöÑÊñá‰ª∂Á≥ªÁªü‰∏ÄËà¨ÊúâÂ¶Ç‰∏ã‰∏âÁßçÔºö</p><p>   1 <code>Á£ÅÁõòÊñá‰ª∂Á≥ªÁªü</code>ÔºöÂ∞±ÊòØÊàë‰ª¨Â∏∏ËßÅÁöÑEXT 2/3/4Á≥ªÂàó„ÄÇ<br>   2 <code>ÂÜÖÂ≠òÊñá‰ª∂Á≥ªÁªü</code>ÔºöÊï∞ÊçÆÊ≤°Â≠òÂÇ®Âà∞Á£ÅÁõòÔºåÂç†Áî®ÂÜÖÂ≠òÊï∞ÊçÆÔºåÊØîÂ¶Ç<code>/sys</code>„ÄÅ<code>/proc</code>„ÄÇËøõÁ®ã‰∏≠ÁöÑ‰∏Ä‰∫õÊï∞ÊçÆÊò†Â∞ÑÂà∞/proc‰∏≠‰∫Ü„ÄÇ<br>   3 <code>ÁΩëÁªúÊñá‰ª∂Á≥ªÁªü</code>ÔºöÂ∏∏ËßÅÁöÑÁΩëÁõòÊåÇËΩΩNFSÁ≠âÔºåÈÄöËøáËÆøÈóÆÂÖ∂‰ªñ‰∏ªÊú∫Êï∞ÊçÆÂÆûÁé∞„ÄÇ</p><h3 id="4-2-Êñá‰ª∂ÁªÑÊàê"><a href="#4-2-Êñá‰ª∂ÁªÑÊàê" class="headerlink" title="4.2 Êñá‰ª∂ÁªÑÊàê"></a>4.2 Êñá‰ª∂ÁªÑÊàê</h3><p>‰ª•LinuxÁ≥ªÁªü‰∏∫‰æãÔºåÂú®LinuxÁ≥ªÁªü‰∏≠‰∏ÄÂàáÁöÜÊñá‰ª∂ÔºåLinuxÊñá‰ª∂Á≥ªÁªü‰ºö‰∏∫ÊØè‰∏™Êñá‰ª∂ÂàÜÈÖç<code>Á¥¢ÂºïËäÇÁÇπ inode</code>Ë∑ü<code>ÁõÆÂΩïÈ°πdirectory entry</code>Êù•ËÆ∞ÂΩïÊñá‰ª∂ÂÜÖÂÆπË∑üÁõÆÂΩïÂ±ÇÊ¨°ÁªìÊûÑ„ÄÇ</p><h5 id="4-2-1-inode"><a href="#4-2-1-inode" class="headerlink" title="4.2.1 inode"></a>4.2.1 inode</h5><p>  Ë¶ÅÁêÜËß£<code>inode</code>Ë¶Å‰ªéÊñá‰ª∂ÂÇ®Â≠òËØ¥Ëµ∑„ÄÇÊñá‰ª∂Â≠òÂÇ®Âú®Á°¨Áõò‰∏äÔºåÁ°¨ÁõòÁöÑÊúÄÂ∞èÂ≠òÂÇ®Âçï‰ΩçÂè´ÂÅöÊâáÂå∫„ÄÇÊØè‰∏™ÊâáÂå∫ÂÇ®Â≠ò512Â≠óËäÇ„ÄÇÊìç‰ΩúÁ≥ªÁªüËØªÂèñÁ°¨ÁõòÁöÑÊó∂ÂÄôÔºå‰∏ç‰ºö‰∏Ä‰∏™‰∏™ÊâáÂå∫ÁöÑËØªÂèñÔºåËøôÊ†∑ÊïàÁéáÂ§™‰ΩéÔºå‰∏ÄËà¨‰∏ÄÊ¨°ÊÄßËøûÁª≠ËØªÂèñ8‰∏™ÊâáÂå∫(4KB)Êù•ÂΩìÂÅö‰∏ÄÂùóÔºåËøôÁßçÁî±Â§ö‰∏™ÊâáÂå∫ÁªÑÊàêÁöÑ<strong>Âùó</strong>ÔºåÊòØÊñá‰ª∂Â≠òÂèñÁöÑÊúÄÂ∞èÂçï‰Ωç„ÄÇ</p><p>  Êñá‰ª∂Êï∞ÊçÆÈÉΩÂÇ®Â≠òÂú®Âùó‰∏≠ÔºåÊàë‰ª¨ËøòÂøÖÈ°ªÊâæÂà∞‰∏Ä‰∏™Âú∞ÊñπÂÇ®Â≠òÊñá‰ª∂ÁöÑÂÖÉ‰ø°ÊÅØÔºåÊØîÂ¶ÇinodeÁºñÂè∑„ÄÅÊñá‰ª∂Â§ßÂ∞è„ÄÅÂàõÂª∫Êó∂Èó¥„ÄÅ‰øÆÊîπÊó∂Èó¥„ÄÅÁ£ÅÁõò‰ΩçÁΩÆ„ÄÅËÆøÈóÆÊùÉÈôêÁ≠â„ÄÇÂá†‰πéÈô§‰∫ÜÊñá‰ª∂Âêç‰ª•‰∏∫ÁöÑÊâÄÊúâÊñá‰ª∂ÂÖÉÊï∞ÊçÆ‰ø°ÊÅØÈÉΩÂ≠òÂÇ®Âú®‰∏Ä‰∏™Âè´Âè´Á¥¢ÂºïËäÇÁÇπinodeÁöÑÂú∞Êñπ„ÄÇÂèØÈÄöËøá<code>stat Êñá‰ª∂Âêç</code>Êü•Áúã inode ‰ø°ÊÅØ</p><p>  ÊØè‰∏™inodeÈÉΩÊúâ‰∏Ä‰∏™Âè∑Á†ÅÔºåÊìç‰ΩúÁ≥ªÁªüÁî®inodeÂè∑Á†ÅÊù•ËØÜÂà´‰∏çÂêåÁöÑÊñá‰ª∂„ÄÇUnix/LinuxÁ≥ªÁªüÂÜÖÈÉ®‰∏ç‰ΩøÁî®Êñá‰ª∂ÂêçÔºåËÄå‰ΩøÁî®inodeÂè∑Á†ÅÊù•ËØÜÂà´Êñá‰ª∂ÔºåÁî®Êà∑ÂèØÈÄöËøá<code>ls -i</code>Êü•ÁúãÊØè‰∏™Êñá‰ª∂ÂØπÂ∫îÁºñÂè∑„ÄÇÂØπ‰∫éÁ≥ªÁªüÊù•ËØ¥Êñá‰ª∂ÂêçÂè™ÊòØinodeÂè∑Á†Å‰æø‰∫éËØÜÂà´ÁöÑÂà´Áß∞ÊàñËÄÖÁª∞Âè∑„ÄÇÁâπÊÆäÂêçÂ≠óÁöÑÊñá‰ª∂‰∏çÂ•ΩÂà†Èô§Êó∂ÂèØ‰ª•Â∞ùËØïÁî®inodeÂè∑Âà†Èô§ÔºåÁßªÂä®Ë∑üÈáçÂëΩÂêç‰∏ç‰ºöÂØºËá¥Êñá‰ª∂inodeÂèòÂåñÔºåÂΩìÁî®Êà∑Â∞ùËØïÊ†πÊçÆÊñá‰ª∂ÂêçÊâìÂºÄÊñá‰ª∂Êó∂ÔºåÂÆûÈôÖ‰∏äÁ≥ªÁªüÂÜÖÈÉ®Â∞ÜËøô‰∏™ËøáÁ®ãÂàÜÊàê‰∏âÊ≠•Ôºö</p><ol><li>Á≥ªÁªüÊâæÂà∞Ëøô‰∏™Êñá‰ª∂ÂêçÂØπÂ∫îÁöÑinodeÂè∑Á†Å„ÄÇ</li><li>ÈÄöËøáinodeÂè∑Á†ÅÔºåËé∑Âèñinode‰ø°ÊÅØÔºåËøõË°åÊùÉÈôêÈ™åËØÅÁ≠âÊìç‰Ωú„ÄÇ</li><li><p>Ê†πÊçÆinode‰ø°ÊÅØÔºåÊâæÂà∞Êñá‰ª∂Êï∞ÊçÆÊâÄÂú®ÁöÑblockÔºåËØªÂá∫Êï∞ÊçÆ„ÄÇ</p><p>ÈúÄÊ≥®ÊÑè inode‰πü‰ºöÊ∂àËÄóÁ°¨ÁõòÁ©∫Èó¥ÔºåÁ°¨ÁõòÊ†ºÂºèÂåñÂêé‰ºöË¢´ÂàÜÊàê<strong>Ë∂ÖÁ∫ßÂùó</strong>„ÄÅ<strong>Á¥¢ÂºïËäÇÁÇπÂå∫</strong>Âíå<strong>Êï∞ÊçÆÂùóÂå∫</strong>‰∏â‰∏™Âå∫ÂüüÔºö</p></li><li><p><code>Ë∂ÖÁ∫ßÂùóÂå∫</code>ÔºöÁî®Êù•Â≠òÂÇ®Êñá‰ª∂Á≥ªÁªüÁöÑËØ¶ÁªÜ‰ø°ÊÅØÔºåÊØîÂ¶ÇÂùóÂ§ßÂ∞èÔºåÂùó‰∏™Êï∞Á≠â‰ø°ÊÅØ„ÄÇ‰∏ÄËà¨Êñá‰ª∂Á≥ªÁªüÊåÇËΩΩÂêéÂ∞±‰ºöÂ∞ÜÊï∞ÊçÆ‰ø°ÊÅØÂêåÊ≠•Âà∞ÂÜÖÂ≠ò„ÄÇ</p></li><li><p><code>Á¥¢ÂºïËäÇÁÇπÂå∫</code>ÔºöÁî®Êù•Â≠òÂÇ®Á¥¢ÂºïËäÇÁÇπ inode  table„ÄÇÊØè‰∏™inode‰∏ÄËà¨‰∏∫128Â≠óËäÇÊàñ256Â≠óËäÇÔºå‰∏ÄËà¨ÊØè1KBÊàñ2KBÊï∞ÊçÆÂ∞±ÈúÄËÆæÁΩÆ‰∏Ä‰∏™inode„ÄÇ‰∏ÄËà¨‰∏∫‰∫ÜÂä†ÈÄüÊü•ËØ¢‰ºöÊääÁ¥¢ÂºïÊï∞ÊçÆÁºìÂ≠òÂà∞ÂÜÖÂ≠ò„ÄÇ</p></li><li><p><code>Êï∞ÊçÆÂùóÂå∫</code>ÔºöÁúüÊ≠£Â≠òÂÇ®Á£ÅÁõòÊï∞ÊçÆÁöÑÂú∞Êñπ„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df -i # Êü•ÁúãÊØè‰∏™Á°¨ÁõòÂàÜÂå∫ÁöÑinodeÊÄªÊï∞ÂíåÂ∑≤Áªè‰ΩøÁî®ÁöÑÊï∞Èáè</span><br><span class="line">sudo dumpe2fs -h /dev/hda | grep &quot;Inode size&quot; # Êü•ÁúãÊØè‰∏™inodeËäÇÁÇπÁöÑÂ§ßÂ∞è</span><br></pre></td></tr></table></figure></li></ol><h5 id="4-2-2-ÁõÆÂΩï"><a href="#4-2-2-ÁõÆÂΩï" class="headerlink" title="4.2.2 ÁõÆÂΩï"></a>4.2.2 ÁõÆÂΩï</h5><p>Unix/LinuxÁ≥ªÁªü‰∏≠<strong>ÁõÆÂΩïdirectory‰πüÊòØ‰∏ÄÁßçÊñá‰ª∂</strong>ÔºåÊâìÂºÄÁõÆÂΩïÂÆûÈôÖ‰∏äÂ∞±ÊòØÊâìÂºÄÁõÆÂΩïÊñá‰ª∂„ÄÇÁõÆÂΩïÊñá‰ª∂ÂÜÖÂÆπÂ∞±ÊòØ‰∏ÄÁ≥ªÂàóÁõÆÂΩïÈ°πÁöÑÂàóÔºåÁõÆÂΩïÈ°πÁöÑÂÜÖÂÆπÂåÖÂê´<strong>Êñá‰ª∂ÁöÑÂêçÂ≠ó„ÄÅÊñá‰ª∂Á±ªÂûã„ÄÅÁ¥¢ÂºïËäÇÁÇπÊåáÈíà‰ª•Âèä‰∏éÂÖ∂‰ªñÁõÆÂΩïÈ°πÁöÑÂ±ÇÁ∫ßÂÖ≥Á≥ª</strong>„ÄÇ</p><p>‰∏∫ÈÅøÂÖçÈ¢ëÁπÅËØªÂèñÁ£ÅÁõòÈáåÁöÑÁõÆÂΩïÊñá‰ª∂ÔºåÂÜÖÊ†∏‰ºöÊääÂ∑≤ÁªèËØªËøáÁöÑÁõÆÂΩïÊñá‰ª∂Áî®<code>ÁõÆÂΩïÈ°π</code>Ëøô‰∏™Êï∞ÊçÆÁªìÊûÑÁºìÂ≠òÂú®ÂÜÖÂ≠òÔºåÊñπ‰æøÁî®Êà∑‰∏ãÊ¨°ËØªÂèñÁõÆÂΩï‰ø°ÊÅØÔºåÁõÆÂΩïÈ°πÂèØÂåÖÂê´ÁõÆÂΩïÊàñÊñá‰ª∂Ôºå‰∏çË¶ÅÊÉäËÆ∂‰∫éÂèØ‰ª•‰øùÂ≠òÁõÆÂΩïÔºåÁõÆÂΩïÊ†ºÂºèÁöÑÁõÆÂΩïÈ°πÈáåÈù¢‰øùÂ≠òÁöÑÊòØÁõÆÂΩïÈáåÈù¢‰∏ÄÈ°π‰∏ÄÈ°πÁöÑÊñá‰ª∂‰ø°ÊÅØ„ÄÇ</p><h5 id="4-2-3-ËΩØËøûÊé•Ë∑üÁ°¨ÈìæÊé•"><a href="#4-2-3-ËΩØËøûÊé•Ë∑üÁ°¨ÈìæÊé•" class="headerlink" title="4.2.3 ËΩØËøûÊé•Ë∑üÁ°¨ÈìæÊé•"></a>4.2.3 ËΩØËøûÊé•Ë∑üÁ°¨ÈìæÊé•</h5><figure class="image-box">                <img src="image-20220208110345265.png" alt="image-20220208110345265" title class>                <p>image-20220208110345265</p>            </figure><p>ËΩØËøûÊé•Ë∑üÁ°¨ÈìæÊé•</p><p><strong>Á°¨ÈìæÊé•</strong>ÔºöËÄÅÊñá‰ª∂AË¢´ÂàõÂª∫Ëã•Âπ≤‰∏™Á°¨ÈìæÊé•B„ÄÅCÂêé„ÄÇA„ÄÅB„ÄÅC‰∏â‰∏™Êñá‰ª∂ÁöÑinodeÊòØÁõ∏ÂêåÁöÑÔºåÊâÄ‰ª•‰∏çËÉΩË∑®Êñá‰ª∂Á≥ªÁªü„ÄÇÂêåÊó∂Âè™ÊúâABCÂÖ®ÈÉ®Âà†Èô§ÔºåÁ≥ªÁªüÊâç‰ºöÂà†Èô§Ê∫êÊñá‰ª∂„ÄÇ<br><strong>ËΩØÈìæÊé•</strong>ÔºöÁõ∏ÂΩì‰∫éÂü∫‰∫éËÄÅÊñá‰ª∂AÊñ∞Âª∫‰∫Ü‰∏™Êñá‰ª∂BÔºåËØ•Êñá‰ª∂BÊúâÊñ∞ÁöÑinodeÔºå‰∏çËøáÊñá‰ª∂BÂÜÖÂÆπÊòØËÄÅÊñá‰ª∂AÁöÑË∑ØÂæÑ„ÄÇÊâÄ‰ª•ËΩØÈìæÊé•ÂèØ‰ª•Ë∑®Êñá‰ª∂Á≥ªÁªü„ÄÇÂΩìËÄÅÊñá‰ª∂AÂà†Èô§ÂêéÔºåÊñá‰ª∂B‰ªçÁÑ∂Â≠òÂú®Ôºå‰∏çËøáÊâæ‰∏çÂà∞ÊåáÂÆöÊñá‰ª∂‰∫Ü„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[sowhat@localhost ~]$ ln [ÈÄâÈ°π] Ê∫êÊñá‰ª∂ ÁõÆÊ†áÊñá‰ª∂</span><br><span class="line">ÈÄâÈ°πÔºö</span><br><span class="line">-sÔºöÂª∫Á´ãËΩØÈìæÊé•Êñá‰ª∂„ÄÇÂ¶ÇÊûú‰∏çÂä† &quot;-s&quot; ÈÄâÈ°πÔºåÂàôÂª∫Á´ãÁ°¨ÈìæÊé•Êñá‰ª∂Ôºõ</span><br><span class="line">-fÔºöÂº∫Âà∂„ÄÇÂ¶ÇÊûúÁõÆÊ†áÊñá‰ª∂Â∑≤ÁªèÂ≠òÂú®ÔºåÂàôÂà†Èô§ÁõÆÊ†áÊñá‰ª∂ÂêéÂÜçÂª∫Á´ãÈìæÊé•Êñá‰ª∂Ôºõ</span><br></pre></td></tr></table></figure><h3 id="4-3-Êñá‰ª∂Â≠òÂÇ®"><a href="#4-3-Êñá‰ª∂Â≠òÂÇ®" class="headerlink" title="4.3 Êñá‰ª∂Â≠òÂÇ®"></a>4.3 Êñá‰ª∂Â≠òÂÇ®</h3><p>ËØ¥Êñá‰ª∂Â≠òÂÇ®ÂâçÈúÄ‰∫ÜËß£<strong>Êñá‰ª∂Á≥ªÁªüÊìç‰ΩúÂü∫Êú¨Âçï‰ΩçÊòØÊï∞ÊçÆÂùó</strong>ÔºåËÄåÂπ≥Â∏∏Áî®Êà∑Êìç‰ΩúÂ≠óËäÇÂà∞Êï∞ÊçÆÂùó‰πãÈó¥ÊòØÈúÄË¶ÅËΩ¨Êç¢ÁöÑÔºåÂΩìÁÑ∂Ëøô‰∫õÊñá‰ª∂Á≥ªÁªüÈÉΩÂ∏ÆÊàë‰ª¨ÂØπÊé•Â•Ω‰∫Ü„ÄÇÊé•‰∏ãÊù•ÁúãÊñá‰ª∂Á≥ªÁªüÊòØÂ¶Ç‰ΩïÊåâÁÖßÊï∞ÊçÆÂùóÔºå Êñá‰ª∂Âú®Á£ÅÁõò‰∏≠Â≠òÂÇ®Êó∂ÂÄô‰∏ªË¶ÅÂàÜ‰∏∫<code>ËøûÁª≠Á©∫Èó¥Â≠òÂÇ®</code>Ë∑ü<code>ÈùûËøûÁª≠Á©∫Èó¥Â≠òÂÇ®</code></p><h5 id="4-3-1-ËøûÁª≠Á©∫Èó¥Â≠òÂÇ®"><a href="#4-3-1-ËøûÁª≠Á©∫Èó¥Â≠òÂÇ®" class="headerlink" title="4.3.1 ËøûÁª≠Á©∫Èó¥Â≠òÂÇ®"></a>4.3.1 ËøûÁª≠Á©∫Èó¥Â≠òÂÇ®</h5><ol><li><p><code>ÂÆûÁé∞</code>ÔºöËøûÁª≠Á©∫Èó¥Â≠òÂÇ®ÁöÑÊÑèÊÄùÂ∞±Ë∑üÊï∞ÁªÑÂ≠òÂÇ®‰∏ÄÊ†∑ÔºåÊâæ‰∏™ËøûÁª≠ÁöÑÁ©∫Èó¥‰∏ÄÊ¨°ÊÄßÊääÊï∞ÊçÆÂ≠òÂÇ®ËøõÂéªÔºå<strong>Êñá‰ª∂Â§¥</strong>Â≠òÂÇ®Ëµ∑Âßã‰ΩçÁΩÆË∑üÊï∞ÊçÆÈïøÂ∫¶Âç≥ÂèØ„ÄÇ</p></li><li><p><code>‰ºòÂäø</code>ÔºöËØªÂÜôÊïàÁéáÈ´òÔºåÁ£ÅÁõòÂØªÂùÄ‰∏ÄÊ¨°Âç≥ÂèØ„ÄÇ</p></li><li><p><code>Âä£Âäø</code>ÔºöÂÆπÊòì‰∫ßÁîüÁ©∫Èó¥Á¢éÁâáÔºåÂπ∂‰∏îÊñá‰ª∂Êâ©ÂÆπ‰∏çÊñπ‰æø„ÄÇ</p><p><img src="image-20220208110358288.png" alt="image-20220208110358288"></p><p>ËøûÁª≠Â≠òÂÇ®</p></li></ol><h5 id="4-3-2-ÈùûËøûÁª≠Á©∫Èó¥Â≠òÂÇ®‰πãÈìæË°®"><a href="#4-3-2-ÈùûËøûÁª≠Á©∫Èó¥Â≠òÂÇ®‰πãÈìæË°®" class="headerlink" title="4.3.2 ÈùûËøûÁª≠Á©∫Èó¥Â≠òÂÇ®‰πãÈìæË°®"></a>4.3.2 ÈùûËøûÁª≠Á©∫Èó¥Â≠òÂÇ®‰πãÈìæË°®</h5><p><strong>ÈöêÂºèÈìæË°®</strong></p><ol><li><code>ÂÆûÁé∞</code>ÔºöÊñá‰ª∂Â§¥ÂåÖÂê´StartBlock„ÄÅEndBlock„ÄÇÊØè‰∏™BLockÊúâÈöêËóèÁöÑnextÊåáÈíàÔºåË∑üÂçïÂêëÈìæË°®‰∏ÄÊ†∑„ÄÇ</li><li><code>Áº∫ÁÇπ</code>ÔºöÂè™ËÉΩÈÄöËøáÈìæÂºè‰∏çÊñ≠ÂæÄ‰∏ãÊü•ÊâæÊï∞ÊçÆÔºå‰∏çÊîØÊåÅÂø´ÈÄüÁõ¥Êé•ËÆøÈóÆ„ÄÇ</li></ol><figure class="image-box">                <img src="image-20220208110410511.png" alt="image-20220208110410511" title class>                <p>image-20220208110410511</p>            </figure><p><strong>ÊòæÂºèÈìæË°®</strong></p><ol><li><p><code>ÂÆûÁé∞</code>ÔºöÊääÊØè‰∏™Block‰∏≠ÁöÑnextÊåáÈíàÂ≠òÂÇ®Âà∞ÂÜÖÂ≠ò<code>Êñá‰ª∂ÂàÜÈÖçË°®</code>‰∏≠ÔºåÈÄöËøáÈÅçÂéÜÊï∞ÁªÑÊñπÂºèÂÆûÁé∞ÊãøÂà∞ÂÖ®ÈÉ®Êï∞ÊçÆ„ÄÇ</p></li><li><p><code>Áº∫ÁÇπ</code>ÔºöÂâçÈù¢ËØ¥1KBÂ∞±Êúâ‰∏™inodeÊåáÈíàÔºåÂ¶ÇÊûúÁ£ÅÁõòÊï∞ÊçÆÂæàÂ§ßÈÇ£Â∞±ÈúÄË¶ÅÂæàÂ§ßÁöÑ<strong>Êñá‰ª∂ÂàÜÈÖçË°®</strong>Êù•Â≠òÂÇ®Êò†Â∞ÑÂÖ≥Á≥ª‰∫ÜÔºå</p><p><img src="image-20220208110425596.png" alt="image-20220208110425596"><br>ÊòæÁ§∫ÈìæË°®</p></li></ol><h5 id="4-3-3-ÈùûËøûÁª≠Á©∫Èó¥Â≠òÂÇ®‰πãÁ¥¢Âºï"><a href="#4-3-3-ÈùûËøûÁª≠Á©∫Èó¥Â≠òÂÇ®‰πãÁ¥¢Âºï" class="headerlink" title="4.3.3 ÈùûËøûÁª≠Á©∫Èó¥Â≠òÂÇ®‰πãÁ¥¢Âºï"></a>4.3.3 ÈùûËøûÁª≠Á©∫Èó¥Â≠òÂÇ®‰πãÁ¥¢Âºï</h5><ol><li><code>ÂÆûÁé∞</code>ÔºöÊï¥‰∏™Êñá‰ª∂Á±ªÂûã‰∏ÄÊú¨Êñ∞ÂçéÂ≠óÂÖ∏ÔºåÁúüÂÆûÁöÑÊï∞ÊçÆÂùóÂú®ËØçÂÖ∏ÂÆûÈôÖ‰ΩçÁΩÆÂ≠òÂÇ®ÁùÄÔºå‰ΩÜÊñá‰ª∂ÊâÄÈúÄÊï∞ÊçÆÂùóÁöÑÁ¥¢Âºï‰ΩçÁΩÆ‰ºöË¢´Ê±áÊÄªËµ∑Êù•ÂΩ¢ÊàêÁõÆÂΩïÁ¥¢ÂºïÊîæÂú®Â≠óÂÖ∏ÂâçÂ§¥„ÄÇ</li><li><code>‰ºòÂäø</code>Ôºö‰∏ç‰ºö‰∫ßÁîüÁ¢éÁâáÔºåÊñá‰ª∂ÂèØÂä®ÊÄÅÊâ©ÂÆπÔºåÂπ∂‰∏îÊîØÊåÅÈ°∫Â∫èË∑üÈöèÊú∫ËØªÂÜô„ÄÇ</li><li><code>Âä£Âäø</code>ÔºöÂèØËÉΩ‰∏Ä‰∏™Â∞èÊñá‰ª∂ÈÉΩË¶ÅÂç†Áî®‰∏Ä‰∏™ÁõÆÂΩïÁ¥¢ÂºïÔºåÊñá‰ª∂ËøáÂ§ßÂØºËá¥Á¥¢ÂºïÊåáÈíà‰∏Ä‰∏™ÂÆπ‰∏ç‰∏ãÔºåÂèØËÉΩËøòÈúÄË¶ÅÊúâ<code>Â§öÁ∫ßÁ¥¢Âºï</code>Êàñ<code>Á¥¢Âºï+ÈìæË°®</code>Ê®°Âºè„ÄÇ</li></ol><figure class="image-box">                <img src="image-20220208110436521.png" alt="image-20220208110436521" title class>                <p>image-20220208110436521</p>            </figure><p>  Á¥¢ÂºïÂ≠òÂÇ®</p><p>Ëøô‰∫õÂ≠òÂÇ®ÊñπÂºèÂêÑÊúâÂà©ÂºäÔºåÊâÄ‰ª•Êìç‰ΩúÁ≥ªÁªüÊâçÂ≠òÂÇ®ÁöÑÊó∂ÂÄô‰∏ÄËà¨ÊòØÊ†πÊçÆÊñá‰ª∂ÁöÑÂ§ßÂ∞èËøõË°åÂä®ÊÄÅÁöÑÂèòÂåñÂ≠òÂÇ®ÊñπÂºèÁöÑÔºåË∑üSTL‰∏≠ÁöÑÂø´ÊéíÂ∫ïÂ±Ç = Âø´Êéí + ÊèíÂÖ•ÊéíÂ∫è + Â†ÜÊéí ‰∏ÄÊ†∑ÁöÑÈÅìÁêÜ„ÄÇ</p><h5 id="4-3-4-Á©∫Èó≤Á©∫Èó¥ÁÆ°ÁêÜ"><a href="#4-3-4-Á©∫Èó≤Á©∫Èó¥ÁÆ°ÁêÜ" class="headerlink" title="4.3.4 Á©∫Èó≤Á©∫Èó¥ÁÆ°ÁêÜ"></a>4.3.4 Á©∫Èó≤Á©∫Èó¥ÁÆ°ÁêÜ</h5><p>‰∏∫‰∫ÜÈÅøÂÖçÁî®Êà∑Â≠òÂÇ®Êï∞ÊçÆÊó∂ÂÄôÈÅçÂéÜÂÖ®ÈÉ®Á£ÅÁõòÁ©∫Èó¥Êù•ÂØªÊâæÂèØ‰ª•Êï∞ÊçÆÂùóÔºå‰∏ÄËà¨ÊúâÂ¶Ç‰∏ãÂá†ÁßçËÆ∞ÂΩïÊñπÊ≥ï„ÄÇ</p><ol><li><p><code>Á©∫Èó≤Ë°®</code>ÔºöÂä®ÊÄÅÁöÑÁª¥Êä§‰∏Ä‰∏™Á©∫Èó≤Êï∞ÊçÆÂùóÂàóË°®ÔºåÊØèË°åÂ≠òÂÇ®Á©∫Èó≤ÂùóÁöÑÂºÄÂßã‰ΩçÁΩÆË∑üÁ©∫Èó≤ÈïøÂ∫¶„ÄÇÈÄÇÂêàÂ∞ëÈáèÊúâÂ∞ëÈáèÁ©∫Èó≤Êï∞ÊçÆÂùóÊó∂„ÄÇ</p><p><img src="image-20220208110452631.png" alt="image-20220208110452631"><br>Á©∫Èó≤Ë°®</p></li><li><p><code>Á©∫Èó≤ÈìæË°®</code>ÔºöÂ∞ÜÁ©∫Èó≤ÁöÑÊï∞ÊçÆÂ∫ìÁî®nextÊåáÈíà‰∏≤ËÅîËµ∑Êù•ÔºåÁº∫ÁÇπÊòØ‰∏çËÉΩÈöèÊú∫ËÆøÈóÆ„ÄÇ</p><p><img src="image-20220208110504160.png" alt="image-20220208110504160"><br>Á©∫Èó≤ÈìæË°®</p></li><li><p><code>‰ΩçÂõæÊ≥ï</code>ÔºöÂà©Áî®BitÁöÑ 01 Ë°®Á§∫Êï∞ÊçÆÂùóÂèØÁî®Ë∑ü‰∏çÂèØÁî®ÔºåÁÆÄÂçïÊñπ‰æøÔºå<strong>inodeË∑üÁ©∫Èó≤Êï∞ÊçÆÂ∫ìÈÉΩÁî®ÁöÑÊ≠§ÊñπÊ≥ï</strong>„ÄÇ</p><p><img src="image-20220208110514002.png" alt="image-20220208110514002"><br>‰ΩçÂõæÊ≥ï</p></li></ol><h1 id="5-ËæìÂÖ•ËæìÂá∫ÁÆ°ÁêÜ"><a href="#5-ËæìÂÖ•ËæìÂá∫ÁÆ°ÁêÜ" class="headerlink" title="5  ËæìÂÖ•ËæìÂá∫ÁÆ°ÁêÜ"></a>5  ËæìÂÖ•ËæìÂá∫ÁÆ°ÁêÜ</h1><h3 id="5-1-ËÆæÂ§áÊéßÂà∂Âô®Ë∑üÈ©±Âä®Á®ãÂ∫è"><a href="#5-1-ËÆæÂ§áÊéßÂà∂Âô®Ë∑üÈ©±Âä®Á®ãÂ∫è" class="headerlink" title="5.1 ËÆæÂ§áÊéßÂà∂Âô®Ë∑üÈ©±Âä®Á®ãÂ∫è"></a>5.1 ËÆæÂ§áÊéßÂà∂Âô®Ë∑üÈ©±Âä®Á®ãÂ∫è</h3><h5 id="5-1-1-ËÆæÂ§áÊéßÂà∂Âô®"><a href="#5-1-1-ËÆæÂ§áÊéßÂà∂Âô®" class="headerlink" title="5.1.1 ËÆæÂ§áÊéßÂà∂Âô®"></a>5.1.1 ËÆæÂ§áÊéßÂà∂Âô®</h5><figure class="image-box">                <img src="image-20220208110525266.png" alt="image-20220208110525266" title class>                <p>image-20220208110525266</p>            </figure><p>  ËÆæÂ§áÊéßÂà∂Âô®</p><p>Êìç‰ΩúÁ≥ªÁªü‰∏∫Áªü‰∏ÄÁÆ°ÁêÜ‰ºóÂ§öÁöÑËÆæÂ§áÂπ∂‰∏îÂ±èËîΩËÆæÂ§á‰πãÈó¥ÁöÑÂ∑ÆÂºÇÔºåÁªôÊØè‰∏™ËÆæÂ§áÈÉΩÂÆâË£Ö‰∫Ü‰∏™Â∞èCPUÂè´<strong>ËÆæÂ§áÊéßÂà∂Âô®</strong>„ÄÇÊØè‰∏™ËÆæÂ§áÊéßÂà∂Âô®ÈÉΩÁü•ÈÅìËá™Â∑±ÂØπÂ∫îÂ§ñËÆæÁöÑÂäüËÉΩË∑üÁî®Ê≥ïÔºåÂπ∂‰∏îÊØè‰∏™<strong>ËÆæÂ§áÊéßÂà∂Âô®</strong>ÈÉΩÊúâÁã¨ÊúâÁöÑÂØÑÂ≠òÂô®Áî®Êù•Ë∑üCPUÈÄö‰ø°„ÄÇ</p><ol><li>ËØªËÆæÂ§áÂØÑÂ≠òÂô®ÂÄº‰∫ÜËß£ËÆæÂ§áÁä∂ÊÄÅÔºåÊòØÂê¶ÂèØ‰ª•Êé•Êî∂Êñ∞Êåá‰ª§„ÄÇ</li><li>Êìç‰ΩúÁ≥ªÁªüÁªôËÆæÂ§áÂØÑÂ≠òÂô®ÂÜôÂÖ•‰∏Ä‰∫õÊåá‰ª§ÂèØ‰ª•ÂÆûÁé∞ÂèëÈÄÅÊï∞ÊçÆ„ÄÅÊé•Êî∂Êï∞ÊçÆÁ≠âÁ≠âÊìç‰Ωú„ÄÇ</li></ol><p>ÊéßÂà∂Âô®‰∏ÄËà¨ÂàÜ‰∏∫<strong>Êï∞ÊçÆÂØÑÂ≠òÂô®„ÄÅÂëΩ‰ª§ÂØÑÂ≠òÂô®Ë∑üÁä∂ÊÄÅÂØÑÂ≠òÂô®</strong>ÔºåCPU ÈÄöËøáËØª„ÄÅÂÜôËÆæÂ§áÊéßÂà∂Âô®‰∏≠ÁöÑÂØÑÂ≠òÂô®Êù•‰æøÊç∑ÁöÑÊéßÂà∂ËÆæÂ§áÔºö</p><ol><li><code>Êï∞ÊçÆÂØÑÂ≠òÂô®</code>ÔºöCPU Âêë I/O ËÆæÂ§áÂÜôÂÖ•ÈúÄË¶Å‰º†ËæìÁöÑÊï∞ÊçÆÔºåÊØîÂ¶ÇÊâìÂç∞whatÔºåCPU Â∞±Ë¶ÅÂÖàÂèëÈÄÅ‰∏Ä‰∏™wÂ≠óÁ¨¶ÁªôÂà∞ÂØπÂ∫îÁöÑ I/O ËÆæÂ§á„ÄÇ</li><li><code>ÂëΩ‰ª§ÂØÑÂ≠òÂô®</code>ÔºöCPU ÂèëÈÄÅÂëΩ‰ª§Êù•ÂëäËØâ I/O ËÆæÂ§áË¶ÅËøõË°åËæìÂÖ•/ËæìÂá∫Êìç‰ΩúÔºå‰∫éÊòØÂ∞±‰ºö‰∫§Áªô I/O ËÆæÂ§áÂéªÂ∑•‰ΩúÔºå‰ªªÂä°ÂÆåÊàêÂêéÔºå‰ºöÊääÁä∂ÊÄÅÂØÑÂ≠òÂô®ÈáåÈù¢ÁöÑÁä∂ÊÄÅÊ†áËÆ∞‰∏∫ÂÆåÊàê„ÄÇ</li><li><code>Áä∂ÊÄÅÂØÑÂ≠òÂô®</code>ÔºöÁî®Êù•ÂëäËØâ CPU Áé∞Âú®Â∑≤ÁªèÂú®Â∑•‰ΩúÊàñÂ∑•‰ΩúÂ∑≤ÁªèÂÆåÊàêÔºåÂè™ÊúâÁä∂ÊÄÅÂØÑÂ≠òÊ†áËÆ∞ÊàêÂ∑≤ÂÆåÊàêÔºåCPU ÊâçËÉΩÂèëÈÄÅ‰∏ã‰∏Ä‰∏™Â≠óÁ¨¶ÂíåÂëΩ‰ª§„ÄÇ</li></ol><p>ÂêåÊó∂ËæìÂÖ•ËæìÂá∫ËÆæÂ§áÂèØÂàÜ‰∏∫<code>ÂùóËÆæÂ§á</code>Ë∑ü<code>Â≠óÁ¨¶ËÆæÂ§á</code>„ÄÇ</p><ol><li><code>ÂùóËÆæÂ§á</code>ÔºöÁî®Êù•ÊääÊï∞ÊçÆÂ≠òÂÇ®Âú®Âõ∫ÂÆöÂ§ßÂ∞èÁöÑÂùó‰∏≠ÔºåÊØè‰∏™ÂùóÊúâËá™Â∑±ÁöÑÂú∞ÂùÄÔºåÁ°¨Áõò„ÄÅUÁõòÁ≠âÊòØÂ∏∏ËßÅÁöÑÂùóËÆæÂ§á„ÄÇÂùóËÆæÂ§á‰∏ÄËà¨Êï∞ÊçÆ‰º†ËæìËæÉÂ§ß‰∏∫ÈÅøÂÖçÈ¢ëÁπÅIOÔºåÊéßÂà∂Âô®‰∏≠Êúâ‰∏™ÂèØËØªÂÜôÁ≠â<strong>Êï∞ÊçÆÁºìÂÜ≤Âå∫</strong>„ÄÇLinuxÊìç‰ΩúÁ≥ªÁªü‰∏∫Â±èËîΩ‰∏çÂêåÂùóËÆæÂ§áÂ∏¶Êù•ÁöÑÂ∑ÆÂºÇÂºïÂÖ•‰∫Ü<strong>ÈÄöÁî®ÂùóÂ±Ç</strong>Ôºå<strong>ÈÄöÁî®ÂùóÂ±Ç</strong>ÊòØÂ§Ñ‰∫éÊñá‰ª∂Á≥ªÁªüÂíåÁ£ÅÁõòÈ©±Âä®‰∏≠Èó¥ÁöÑ‰∏Ä‰∏™ÂùóËÆæÂ§áÊäΩË±°Â±ÇÔºå‰∏ªË¶ÅÊèê‰æõÂ¶Ç‰∏ã‰ø©ÂäüËÉΩÔºö</li></ol><blockquote><ol><li>Âêë‰∏ä‰∏∫Êñá‰ª∂Á≥ªÁªüÂíåÂ∫îÁî®Á®ãÂ∫èÔºåÊèê‰æõËÆøÈóÆÂùóËÆæÂ§áÁöÑÊ†áÂáÜÊé•Âè£ÔºåÂêë‰∏ãÊääÂêÑÁßç‰∏çÂêåÁöÑÁ£ÅÁõòËÆæÂ§áÊäΩË±°‰∏∫Áªü‰∏ÄÁöÑÂùóËÆæÂ§áÔºåÂπ∂Âú®ÂÜÖÊ†∏Â±ÇÈù¢Êèê‰æõ‰∏Ä‰∏™Ê°ÜÊû∂Êù•ÁÆ°ÁêÜËøô‰∫õËÆæÂ§áÁöÑÈ©±Âä®Á®ãÂ∫è„ÄÇ</li><li>ÈÄöÁî®Â±ÇËøò‰ºöÁªôÊñá‰ª∂Á≥ªÁªüÂíåÂ∫îÁî®Á®ãÂ∫èÂèëÊù•ÁöÑ I/OËøõË°å<strong>Ë∞ÉÂ∫¶</strong>Ôºå‰∏ªË¶ÅÁõÆÁöÑÊòØ‰∏∫‰∫ÜÊèêÈ´òÁ£ÅÁõòËØªÂÜôÁöÑÊïàÁéá„ÄÇ</li></ol></blockquote><ol><li><code>Â≠óÁ¨¶ËÆæÂ§á</code>Ôºö‰ª•Â≠óÁ¨¶‰∏∫Âçï‰ΩçÂèëÈÄÅÊàñÊé•Êî∂‰∏Ä‰∏™Â≠óÁ¨¶ÊµÅÔºåÂ≠óÁ¨¶ËÆæÂ§áÊòØ‰∏çÂèØÂØªÂùÄÁöÑÔºå‰πüÊ≤°Êúâ‰ªª‰ΩïÂØªÈÅìÊìç‰ΩúÔºåÈº†Ê†áÊòØÂ∏∏ËßÅÁöÑÂ≠óÁ¨¶ËÆæÂ§á„ÄÇ</li></ol><p>CPU‰∏ÄËà¨ÈÄöËøá<strong>IOÁ´ØÂè£</strong>Ë∑ü<strong>ÂÜÖÂ≠òÊò†Â∞ÑIO</strong>Êù•Ë∑üËÆæÂ§áÁöÑÊéßÂà∂ÂØÑÂ≠òÂô®ÂíåÊï∞ÊçÆÁºìÂÜ≤Âå∫ËøõË°åÈÄö‰ø°</p><ol><li><code>IOÁ´ØÂè£</code>ÔºöÊØè‰∏™ÊéßÂà∂ÂØÑÂ≠òÂô®Ë¢´ÂàÜÈÖç‰∏Ä‰∏™ I/O Á´ØÂè£ÔºåÂèØ‰ª•ÈÄöËøáÁâπÊÆäÁöÑÊ±áÁºñÊåá‰ª§Êìç‰ΩúËøô‰∫õÂØÑÂ≠òÂô®ÔºåÊØîÂ¶Ç in/out Á±ª‰ººÁöÑÊåá‰ª§„ÄÇ</li><li><code>ÂÜÖÂ≠òÊò†Â∞ÑIO</code>ÔºöÂ∞ÜÊâÄÊúâÊéßÂà∂ÂØÑÂ≠òÂô®Êò†Â∞ÑÂà∞ÂÜÖÂ≠òÁ©∫Èó¥‰∏≠ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂÉèËØªÂÜôÂÜÖÂ≠ò‰∏ÄÊ†∑ËØªÂÜôÊï∞ÊçÆÁºìÂÜ≤Âå∫„ÄÇ</li></ol><h5 id="5-1-2-È©±Âä®Êé•Âè£"><a href="#5-1-2-È©±Âä®Êé•Âè£" class="headerlink" title="5.1.2 È©±Âä®Êé•Âè£"></a>5.1.2 È©±Âä®Êé•Âè£</h5><figure class="image-box">                <img src="image-20220208110540638.png" alt="image-20220208110540638" title class>                <p>image-20220208110540638</p>            </figure><p>  È©±Âä®Á®ãÂ∫è</p><p>ËÆæÂ§áÊéßÂà∂Âô®Â±èËîΩ‰∫ÜËÆæÂ§áÁªÜËäÇÔºå‰ΩÜÊØèÁßçËÆæÂ§áÁöÑÊéßÂà∂Âô®ÁöÑÂØÑÂ≠òÂô®„ÄÅÁºìÂÜ≤Âå∫Á≠â‰ΩøÁî®Ê®°ÂºèÈÉΩÊòØ‰∏çÂêåÁöÑÔºåÂÆÉÂ±û‰∫éÁ°¨‰ª∂„ÄÇÂú®Êìç‰ΩúÁ≥ªÁªüÂõæËåÉÁï¥ÂÜÖ‰∏∫‰∫ÜÂ±èËîΩËÆæÂ§áÊéßÂà∂Âô®ÁöÑÂ∑ÆÂºÇÔºåÂºïÂÖ•‰∫Ü<strong>ËÆæÂ§áÈ©±Âä®Á®ãÂ∫è</strong>Ôºå<strong>‰∏çÂêåËÆæÂ§áÂà∞È©±Âä®Á®ãÂ∫è‰ºöÊèê‰æõÁªü‰∏ÄÊé•Âè£ÁªôÊìç‰ΩúÁ≥ªÁªüÊù•Ë∞ÉÁî®</strong>ÔºåËøôÊ†∑Êìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏‰ºöÂÉèË∞ÉÁî®Êú¨Âú∞‰ª£Á†Å‰∏ÄÊ†∑‰ΩøÁî®ËÆæÂ§áÈ©±Âä®Á®ãÂ∫èÊé•Âè£„ÄÇ</p><p>ËÆæÂ§áÂèëÂá∫IOËØ∑Ê±ÇÂ∞±ÊòØÂú®<strong>ËÆæÂ§áÈ©±Âä®Á®ãÂ∫è</strong>‰∏≠Êù•ÂìçÂ∫îÂà∞ÔºåÂÆÉ‰ºöÊ†πÊçÆ‰∏≠Êñ≠Á±ªÂûãË∞ÉÁî®ÂìçÂ∫îÂà∞‰∏≠Êñ≠Â§ÑÁêÜÁ®ãÂ∫èËøõË°åÂ§ÑÁêÜ„ÄÇ</p><figure class="image-box">                <img src="image-20220208110624410.png" alt="image-20220208110624410" title class>                <p>image-20220208110624410</p>            </figure><p>  ‰∏≠Êñ≠ËØ∑Ê±ÇÊµÅÁ®ã</p><h3 id="5-2-IO-ÊéßÂà∂"><a href="#5-2-IO-ÊéßÂà∂" class="headerlink" title="5.2 IO ÊéßÂà∂"></a>5.2 IO ÊéßÂà∂</h3><p>CPUÂèëÈÄÅÊåá‰ª§ËÆ©ÈÇ£‰∏™ËÆæÂ§áÊéßÂà∂Âô®ÂéªËØªÂÜôÊï∞ÊçÆÔºåÂÆåÊØïÂêéÂ¶Ç‰ΩïÈÄöÁü•CPUÂë¢Ôºü</p><h5 id="5-2-1-ËΩÆËØ¢Ê®°Âºè"><a href="#5-2-1-ËΩÆËØ¢Ê®°Âºè" class="headerlink" title="5.2.1 ËΩÆËØ¢Ê®°Âºè"></a>5.2.1 ËΩÆËØ¢Ê®°Âºè</h5><p>ÊéßÂà∂Âô®‰∏≠Êúâ‰∏™<strong>Áä∂ÊÄÅÂØÑÂ≠òÂô®</strong>ÔºåCPU‰∏çÊñ≠<strong>ËΩÆ</strong>ËØ¢Êü•ÁúãÂØÑÂ≠òÂô®Áä∂ÊÄÅÔºåËØ•Ê®°Âºè‰ºöÂÇªÁìúÂºèÁöÑ‰∏ÄÁõ¥Âç†Áî®CPU„ÄÇ</p><figure class="image-box">                <img src="image-20220208110635167.png" alt="image-20220208110635167" title class>                <p>image-20220208110635167</p>            </figure><p>  ËΩÆËØ¢Ê®°Âºè</p><h5 id="5-2-2-IO-‰∏≠Êñ≠ËØ∑Ê±Ç"><a href="#5-2-2-IO-‰∏≠Êñ≠ËØ∑Ê±Ç" class="headerlink" title="5.2.2 IO ‰∏≠Êñ≠ËØ∑Ê±Ç"></a>5.2.2 IO ‰∏≠Êñ≠ËØ∑Ê±Ç</h5><figure class="image-box">                <img src="image-20220208110646262.png" alt="image-20220208110646262" title class>                <p>image-20220208110646262</p>            </figure><p>  ‰∏≠Êñ≠Ê®°Âºè</p><p>ÊéßÂà∂Âô®Êúâ‰∏™‰∏≠Êñ≠ÊéßÂà∂Âô®ÔºåÂΩìËÆæÂ§áÂÆåÊàê‰ªªÂä°ÂêéËß¶Âèë‰∏≠Êñ≠Âà∞‰∏≠Êñ≠ÊéßÂà∂Âô®Ôºå‰∏≠Êñ≠ÊéßÂà∂Âô®Â∞±ÈÄöÁü• CPUÊù•Â§ÑÁêÜ‰∏≠Êñ≠ËØ∑Ê±Ç„ÄÇ‰∏≠Êñ≠Êúâ‰∏§ÁßçÔºå‰∏ÄÁßçÊòØ<strong>ËΩØ‰∏≠Êñ≠</strong>ÔºåÊØîÂ¶Ç‰ª£Á†ÅË∞ÉÁî® INT Êåá‰ª§Ëß¶Âèë„ÄÇ‰∏ÄÁßçÊòØ<strong>Á°¨‰ª∂‰∏≠Êñ≠</strong>ÔºåÁ°¨‰ª∂ÈÄöËøá‰∏≠Êñ≠ÊéßÂà∂Âô®Ëß¶ÂèëÁöÑ„ÄÇ‰ΩÜ‰∏≠Êñ≠ÊñπÂºèÂØπ‰∫éÈ¢ëÁπÅËØªÂÜôÁ£ÅÁõòÊï∞ÊçÆÁöÑÊìç‰ΩúÂ∞±‰∏çÂ§™ÂèãÂ•Ω‰∫ÜÔºå‰ºöÈ¢ëÁπÅÊâìÊñ≠CPU„ÄÇ</p><p>ËøôÈáåËØ¥‰∏ãÁ£ÅÁõòÈ´òÈÄüÁºìÂ≠ò <strong>PageCache</strong>ÔºåÂÆÉÊòØÁî®Êù•ÁºìÂ≠òÊúÄËøëË¢´CPUËÆøÈóÆÁöÑÊï∞ÊçÆÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåÂπ∂‰∏îËøòÂÖ∑ÊúâÈ¢ÑËØªÂäüËÉΩÔºåÂèØËÉΩ‰Ω†ËØªÂâç16KBÊï∞ÊçÆÔºåÂ∑≤ÁªèÊääÂêé16KBÊï∞ÊçÆÁªô‰Ω†ÁºìÂ≠òÂ•Ω‰∫Ü„ÄÇ</p><blockquote><ol><li><strong>pagecache</strong> : È°µÁºìÂ≠òÔºåÂΩìËøõÁ®ãÈúÄËØªÂèñÁ£ÅÁõòÊñá‰ª∂Êó∂ÔºålinuxÂÖàÂàÜÈÖç‰∏Ä‰∫õÂÜÖÂ≠òÔºåÂ∞ÜÊï∞ÊçÆ‰ªéÁ£ÅÁõòËØªÂå∫Âà∞ÂÜÖÂ≠ò‰∏≠ÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÊï∞ÊçÆ‰º†ÁªôËøõÁ®ã„ÄÇÂΩìËøõÁ®ãÈúÄÂÜôÊï∞ÊçÆÂà∞Á£ÅÁõòÊó∂ÔºålinuxÂÖàÂàÜÈÖçÂÜÖÂ≠òÊé•Êî∂Áî®Êà∑Êï∞ÊçÆÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÊï∞ÊçÆ‰ªéÂÜÖÂ≠òÂÜôÂà∞Á£ÅÁõò„ÄÇÂêåÊó∂pagecacheÁî±‰∫éÂ§ßÂ∞èÂèóÈôêÔºåÊâÄ‰ª•‰∏ÄËà¨Âè™ÁºìÂ≠òÊúÄËøëË¢´ËÆøÈóÆÁöÑÊï∞ÊçÆÔºåÊï∞ÊçÆ‰∏çË∂≥Êó∂ËøòÈúÄËÆøÈóÆÁ£ÅÁõò„ÄÇ</li></ol></blockquote><h5 id="5-2-3-DMA-Ê®°Âºè"><a href="#5-2-3-DMA-Ê®°Âºè" class="headerlink" title="5.2.3 DMA Ê®°Âºè"></a>5.2.3 DMA Ê®°Âºè</h5><p><code>Direct Memory Access</code> Áõ¥Êé•ÂÜÖÂ≠òËÆøÈóÆÔºåÂú®Á°¨‰ª∂DMAÊéßÂà∂Âô®ÁöÑÊîØÊåÅ‰∏ãÔºå<strong>Âú®ËøõË°å I/O ËÆæÂ§áÂíåÂÜÖÂ≠òÁöÑÊï∞ÊçÆ‰º†ËæìÁöÑÊó∂ÂÄôÔºåÊï∞ÊçÆÊê¨ËøêÁöÑÂ∑•‰ΩúÂÖ®ÈÉ®‰∫§Áªô DMA ÊéßÂà∂Âô®ÔºåËÄå CPU ‰∏çÂÜçÂèÇ‰∏é‰ªª‰Ωï‰∏éÊï∞ÊçÆÊê¨ËøêÁõ∏ÂÖ≥ÁöÑ‰∫ãÊÉÖÔºåËÆ©CPU ÂéªÂ§ÑÁêÜÂà´ÁöÑ‰∫ã</strong>„ÄÇ</p><figure class="image-box">                <img src="image-20220208110700883.png" alt="image-20220208110700883" title class>                <p>image-20220208110700883</p>            </figure><p>  DMAÊ®°Âºè</p><p>ÂèØ‰ª•ÂèëÁé∞Êï¥‰∏™Êï∞ÊçÆ‰º†ËæìËøáÁ®ã‰∏≠CPUÊòØ‰∏ç‰ºöÁõ¥Êé•ÂèÇ‰∏éÊï∞ÊçÆÊê¨ËøêÂ∑•‰ΩúÔºåÁî±DMAÊù•Áõ¥Êé•Ë¥üË¥£Êï∞ÊçÆËØªÂèñÂ∑•‰ΩúÔºåÁé∞Â¶Ç‰ªäÊØè‰∏™IOËÆæÂ§á‰∏ÄËà¨ÈÉΩËá™Â∏¶DMAÊéßÂà∂Âô®„ÄÇËØªÊï∞ÊçÆÊó∂ÂÄô‰ªÖ‰ªÖÂú®‰º†ÈÄÅÂºÄÂßãË∑üÁªìÊùüÊó∂ÈúÄË¶ÅCPUÂπ≤È¢Ñ„ÄÇ</p><h5 id="5-2-4-Zero-Copy"><a href="#5-2-4-Zero-Copy" class="headerlink" title="5.2.4 Zero Copy"></a>5.2.4 Zero Copy</h5><p>Zero Copy ÂÖ®Á®ã‰∏ç‰ºöÈÄöËøá CPU Êù•Êê¨ËøêÊï∞ÊçÆÔºåÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩÊòØÈÄöËøá DMA Êù•ËøõË°å‰º†ËæìÁöÑÔºå‰∏≠Èó¥Âè™ÈúÄË¶ÅÁªèËøá2Ê¨°‰∏ä‰∏ãÊñáÂàáÊç¢Ë∑ü2Ê¨°DMAÊï∞ÊçÆÊã∑Ë¥ùÔºåÁõ∏ÊØîÊúÄÂéüÂßãËØªÂÜôÊñπÂºèËá≥Â∞ëÈÄüÂ∫¶ÁøªÂÄç„ÄÇÂÖ∂ÂÆûÂú®Kafka‰∏≠Â∑≤ÁªèËÆ≤ËøáZero Copy‰∫Ü„ÄÇ</p><h6 id="5-2-4-1-ËÄÅÁâàÊú¨ËØªÂÜô"><a href="#5-2-4-1-ËÄÅÁâàÊú¨ËØªÂÜô" class="headerlink" title="5.2.4.1 ËÄÅÁâàÊú¨ËØªÂÜô"></a>5.2.4.1 ËÄÅÁâàÊú¨ËØªÂÜô</h6><p>ËÄÅÁâàÊú¨ÁöÑÁÆÄÂçïËØªÂÜôÊìç‰Ωú‰∏≠Èó¥‰∏çÂØπÊï∞ÊçÆÂÅö‰ªª‰ΩïÊìç‰Ωú„ÄÇÊúüÈó¥‰ºöÂèëÁîü<strong>4Ê¨°Áî®Êà∑ÊÄÅË∑üÂÜÖÊ†∏ÊÄÅÁöÑÂàáÊç¢„ÄÇ2Ê¨°DMAÊï∞ÊçÆÊã∑Ë¥ùÔºå2Ê¨°CPUÊï∞ÊçÆÊã∑Ë¥ù</strong>„ÄÇ</p><figure class="image-box">                <img src="image-20220208110717472.png" alt="image-20220208110717472" title class>                <p>image-20220208110717472</p>            </figure><p>  ËÄÅÂºèËØªÂÜô</p><p>ÊèêÈÄüÊñπÊ≥ïÂ∞±ÊòØÈúÄÂáèÂ∞ëÁî®Êà∑ÊÄÅ‰∏éÂÜÖÊ†∏ÊÄÅÁöÑ‰∏ä‰∏ãÊñáÂàáÊç¢ÂíåÂÜÖÂ≠òÊã∑Ë¥ùÁöÑÊ¨°Êï∞„ÄÇÊï∞ÊçÆ‰º†ËæìÊó∂‰ªéÂÜÖÊ†∏ÁöÑËØªÁºìÂÜ≤Âå∫Êã∑Ë¥ùÂà∞Áî®Êà∑ÁöÑÁºìÂÜ≤Âå∫ÔºåÂÜç‰ªéÁî®Êà∑ÁºìÂÜ≤Âå∫Êã∑Ë¥ùÂà∞ socket ÁºìÂÜ≤Âå∫ÁöÑËøô‰∏™ËøáÁ®ãÊòØÊ≤°ÊúâÂøÖË¶ÅÁöÑ„ÄÇÊé•‰∏ãÊù•</p><p>Êé•‰∏ãÊù•ÊåâÁÖß‰∏â‰∏™ÁâàÊú¨ËØ¥‰∏ãZero Copy ÂèëÂ±ïÂè≤„ÄÇ</p><h6 id="5-2-4-2-mmap-Ë∑ü-write"><a href="#5-2-4-2-mmap-Ë∑ü-write" class="headerlink" title="5.2.4.2  mmap Ë∑ü write"></a>5.2.4.2  mmap Ë∑ü write</h6><figure class="image-box">                <img src="image-20220208110728516.png" alt="image-20220208110728516" title class>                <p>image-20220208110728516</p>            </figure><p>  mmap + write</p><p>ÊÄùË∑ØÂ∞±ÊòØÁî®<strong>mmap</strong>Êõø‰ª£readÂáΩÊï∞ÔºåmmapË∞ÉÁî®Êó∂‰ºö<strong>Áõ¥Êé•ÊääÂÜÖÊ†∏ÁºìÂÜ≤Âå∫ÈáåÁöÑÊï∞ÊçÆÊò†Â∞ÑÂà∞Áî®Êà∑Á©∫Èó¥</strong>ÔºåÊ≠§Êó∂ÂáèÂ∞ë‰∫Ü‰∏ÄÊ¨°Êï∞ÊçÆÊã∑Ë¥ùÔºå‰ΩÜ‰ªçÁÑ∂ÈúÄË¶ÅÈÄöËøá CPU ÊääÂÜÖÊ†∏ÁºìÂÜ≤Âå∫ÁöÑÊï∞ÊçÆÊã∑Ë¥ùÂà∞ socket ÁºìÂÜ≤Âå∫ÈáåÔºåËÄå‰∏î‰ªçÁÑ∂ÈúÄË¶Å 4 Ê¨°‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÂõ†‰∏∫Á≥ªÁªüË∞ÉÁî®ËøòÊòØ 2 Ê¨°„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">buf = mmap(file, len);</span><br><span class="line">write(sockfd, buf, len);</span><br></pre></td></tr></table></figure><h6 id="5-2-4-3-sendfile"><a href="#5-2-4-3-sendfile" class="headerlink" title="5.2.4.3 sendfile"></a>5.2.4.3 sendfile</h6><p>Linux ÂÜÖÊ†∏ÁâàÊú¨ 2.1ÁâàÊú¨Êèê‰æõ‰∫ÜÂáΩÊï∞ <strong>sendfile()</strong>„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ssize_t sendfile(int out_fd, int in_fd, off_t *offset, size_t count);</span><br><span class="line">out_fd : ÁõÆÁöÑÊñá‰ª∂ÊèèËø∞Á¨¶</span><br><span class="line">in_fd:Ê∫êÊñá‰ª∂ÊèèËø∞Á¨¶</span><br><span class="line">offset:Ê∫êÊñá‰ª∂ÂÜÖÂÅèÁßªÈáè</span><br><span class="line">count:ÊâìÁÆóÂ§çÂà∂Êï∞ÊçÆÈïøÂ∫¶</span><br><span class="line">ssize_t:ÂÆûÈôÖ‰∏äÂ§çÂà∂Êï∞ÊçÆÁöÑÈïøÂ∫¶</span><br></pre></td></tr></table></figure><p>ÂèØ‰ª•ÂèëÁé∞‰∏Ä‰∏™ sendfile = read + writeÔºåÈÅøÂÖç‰∫Ü2Ê¨°Áî®Êà∑ÊÄÅË∑üÂÜÖÊ†∏ÊÄÅÊù•ÂõûÂàáÊç¢ÔºåÂπ∂‰∏îÂèØ‰ª•Áõ¥Êé•ÊääÂÜÖÊ†∏ÁºìÂÜ≤Âå∫ÈáåÁöÑÊï∞ÊçÆÊã∑Ë¥ùÂà∞ socket ÁºìÂÜ≤Âå∫ÈáåÔºåËøôÊ†∑Â∞±Âè™Êúâ 2 Ê¨°‰∏ä‰∏ãÊñáÂàáÊç¢ÔºåÂíå 3 Ê¨°Êï∞ÊçÆÊã∑Ë¥ù„ÄÇ</p><figure class="image-box">                <img src="image-20220208110742002.png" alt="image-20220208110742002" title class>                <p>image-20220208110742002</p>            </figure><p> sendfileÊ®°Âºè</p><h6 id="5-2-4-4-ÁúüÊ≠£ÁöÑÈõ∂Êã∑Ë¥ù"><a href="#5-2-4-4-ÁúüÊ≠£ÁöÑÈõ∂Êã∑Ë¥ù" class="headerlink" title="5.2.4.4 ÁúüÊ≠£ÁöÑÈõ∂Êã∑Ë¥ù"></a>5.2.4.4 ÁúüÊ≠£ÁöÑÈõ∂Êã∑Ë¥ù</h6><p>Linux ÂÜÖÊ†∏ 2.4Â¶ÇÊûúÁΩëÂç°ÊîØÊåÅSG-DMA ÊäÄÊúØÔºåÂèØ‰ª•ÂáèÂ∞ëÈÄöËøá CPU ÊääÂÜÖÊ†∏ÁºìÂÜ≤Âå∫ÈáåÁöÑÊï∞ÊçÆÊã∑Ë¥ùÂà∞ socket ÁºìÂÜ≤Âå∫ÁöÑËøáÁ®ã„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ethtool -k eth0 | grep scatter-gather</span><br><span class="line">scatter-gather: on</span><br></pre></td></tr></table></figure><p>SG-DMA ÊäÄÊúØÂèØ‰ª•Áõ¥Êé•Â∞ÜÂÜÖÊ†∏ÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆÊã∑Ë¥ùÂà∞ÁΩëÂç°ÁöÑÁºìÂÜ≤Âå∫ÈáåÔºåÊ≠§ËøáÁ®ã‰∏çÈúÄË¶ÅÂ∞ÜÊï∞ÊçÆ‰ªéÊìç‰ΩúÁ≥ªÁªüÂÜÖÊ†∏ÁºìÂÜ≤Âå∫Êã∑Ë¥ùÂà∞ socket ÁºìÂÜ≤Âå∫‰∏≠ÔºåËøôÊ†∑Â∞±ÂáèÂ∞ë‰∫Ü‰∏ÄÊ¨°Êï∞ÊçÆÊã∑Ë¥ù„ÄÇ</p><figure class="image-box">                <img src="image-20220208110800158.png" alt="image-20220208110800158" title class>                <p>image-20220208110800158</p>            </figure><p>  ZeroCopy</p><h6 id="5-2-4-5-Êñá‰ª∂‰º†ËæìËßÑÂàô"><a href="#5-2-4-5-Êñá‰ª∂‰º†ËæìËßÑÂàô" class="headerlink" title="5.2.4.5 Êñá‰ª∂‰º†ËæìËßÑÂàô"></a>5.2.4.5 Êñá‰ª∂‰º†ËæìËßÑÂàô</h6><p>‰∏çË¶Å‰ª•‰∏∫‰ºö‰∫ÜZero CopyÂêéÔºåÊó†ËÆ∫Â§ßÂ∞èÊñá‰ª∂ÈÉΩÁî®Zero Copy„ÄÇÂÆûÈôÖÂ∑•‰Ωú‰∏≠‰∏ÄËà¨Â∞èÊñá‰ª∂ÈááÁî®Zero CopyÊäÄÊúØÔºåËÄåÂ§ßÊñá‰ª∂‰ºöÁî®ÂºÇÊ≠•IO„ÄÇËá≥‰∫é‰∏∫Âï•Ôºå‰∏îÁúãÂ¶Ç‰∏ãÂàÜÊûêÔºö</p><p>ÂâçÈù¢ËØ¥ÁöÑÊï∞ÊçÆ‰ªéÁ£ÅÁõòËØªÂà∞ÂÜÖÊ†∏ÁºìÂÜ≤Âå∫Â∞±ÊòØËØªÂà∞PageCache‰∏≠ÔºåPageCacheÂÖ∑ÊúâÁºìÂ≠òË∑üÈ¢ÑËØªÂäüËÉΩ„ÄÇ‰ΩÜÂΩì‰º†ËæìË∂ÖÂ§ßÊñá‰ª∂Êó∂PageCache‰ºö‰∏çÂ§±ÊïàÔºåÂõ†‰∏∫Â§ßÊñá‰ª∂‰ºöÂø´ÈÄüÂç†Êª°PageCacheÂå∫Ôºå‰ΩÜËøô‰∫õÊñá‰ª∂ÂèàÂè™ÊòØ‰∏ÄÊ¨°ËÆøÈóÆÔºå‰ºöÈÄ†ÊàêÂÖ∂‰ªñÁÉ≠ÁÇπÂ∞èÊñá‰ª∂Êó†Ê≥ï‰ΩøÁî®PageCacheÔºåÊâÄ‰ª•Á¥¢ÊÄß‰∏çÁî®PageCacheÔºå‰ΩøÁî®ÂºÇÊ≠•IOÁöÑ‰∫Ü„ÄÇËá≥‰∫éÂºÇÊ≠•IOÊòØÂï•Âë¢Ôºü‰∏ãÊñáÂú®ËØ¥„ÄÇ</p><h3 id="5-3-IOÂàÜÂ±Ç"><a href="#5-3-IOÂàÜÂ±Ç" class="headerlink" title="5.3 IOÂàÜÂ±Ç"></a>5.3 IOÂàÜÂ±Ç</h3><figure class="image-box">                <img src="image-20220208110811235.png" alt="image-20220208110811235" title class>                <p>image-20220208110811235</p>            </figure><p>  IOÂàÜÂ±Ç</p><p>Linux Â≠òÂÇ®Á≥ªÁªüÁöÑ I/O Áî±‰∏äÂà∞‰∏ãÂèØ‰ª•ÂàÜ‰∏∫<strong>Êñá‰ª∂Á≥ªÁªüÂ±Ç</strong>„ÄÅ<strong>ÈÄöÁî®ÂùóÂ±Ç</strong>„ÄÅ<strong>ËÆæÂ§áÂ±Ç</strong>„ÄÇ</p><ol><li>Êñá‰ª∂Á≥ªÁªüÂ±ÇÂêë‰∏ä‰∏∫Â∫îÁî®Á®ãÂ∫èÁªü‰∏ÄÊèê‰æõ‰∫ÜÊ†áÂáÜÁöÑÊñá‰ª∂ËÆøÈóÆÊé•Âè£ÔºåÂêë‰∏ã‰ºöÈÄöËøáÈÄöÁî®ÂùóÂ±ÇÊù•Â≠òÂÇ®ÂíåÁÆ°ÁêÜÁ£ÅÁõòÊï∞ÊçÆ„ÄÇ</li><li>ÈÄöÁî®ÂùóÂ±ÇÂåÖÊã¨ÂùóËÆæÂ§áÁöÑ I/O ÈòüÂàóÂíå I/O Ë∞ÉÂ∫¶Âô®ÔºåÈÄöËøáIOË∞ÉÂ∫¶Âô®Â§ÑÁêÜIOËØ∑Ê±Ç„ÄÇ</li><li>ËÆæÂ§áÂ±ÇÂåÖÊã¨Á°¨‰ª∂ËÆæÂ§á„ÄÅËÆæÂ§áÊéßÂà∂Âô®ÂíåÈ©±Âä®Á®ãÂ∫èÔºåË¥üË¥£ÊúÄÁªàÁâ©ÁêÜËÆæÂ§áÁöÑ I/O Êìç‰Ωú„ÄÇ</li></ol><p>LinuxÁ≥ªÁªü‰∏≠ÁöÑIO<strong>ËØªÂèñÊèêÈÄü</strong>Ôºö</p><ol><li>‰∏∫ÊèêÈ´òÊñá‰ª∂ËÆøÈóÆÊïàÁéá‰ºö‰ΩøÁî®È°µÁºìÂ≠ò„ÄÅÁ¥¢ÂºïËäÇÁÇπÁºìÂ≠ò„ÄÅÁõÆÂΩïÈ°πÁºìÂ≠òÁ≠âÂ§öÁßçÁºìÂ≠òÊú∫Âà∂ÔºåÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂáèÂ∞ëÂØπÂùóËÆæÂ§áÁöÑÁõ¥Êé•Ë∞ÉÁî®„ÄÇ</li><li>‰∏∫‰∫ÜÊèêÈ´òÂùóËÆæÂ§áÁöÑËÆøÈóÆÊïàÁéáÔºå ‰ºö‰ΩøÁî®ÁºìÂÜ≤Âå∫ÔºåÊù•ÁºìÂ≠òÂùóËÆæÂ§áÁöÑÊï∞ÊçÆ„ÄÇ</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;1-ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ª&quot;&gt;&lt;a href=&quot;#1-ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ª&quot; class=&quot;headerlink&quot; title=&quot;1 ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ª&quot;&gt;&lt;/a&gt;1 ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ª&lt;/h1&gt;&lt;h3 id=&quot;1-1-ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ªÁÆÄ‰ªã&quot;&gt;&lt;a href=&quot;#1-1-ÂÜØËØ∫‰ºäÊõº‰ΩìÁ≥ªÁÆÄ‰ªã&quot; cla</summary>
      
    
    
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/categories/ÊäÄÊúØ/"/>
    
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/tags/ÊäÄÊúØ/"/>
    
    <category term="ÂéüÁêÜ" scheme="https://github.com/missionOdd/tags/ÂéüÁêÜ/"/>
    
    <category term="Êìç‰ΩúÁ≥ªÁªü" scheme="https://github.com/missionOdd/tags/Êìç‰ΩúÁ≥ªÁªü/"/>
    
  </entry>
  
  <entry>
    <title>Ê∂àÊÅØÈòüÂàó| kafka‰∏≠Èó¥‰ª∂ÂéüÁêÜ &amp;&amp; Áü•ËØÜÁÇπ</title>
    <link href="https://github.com/missionOdd/2021/12/08/kafka-notes/"/>
    <id>https://github.com/missionOdd/2021/12/08/kafka-notes/</id>
    <published>2021-12-08T05:50:37.000Z</published>
    <updated>2022-02-16T10:35:53.269Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Ê∂àÊÅØÈòüÂàó"><a href="#Ê∂àÊÅØÈòüÂàó" class="headerlink" title="Ê∂àÊÅØÈòüÂàó"></a>Ê∂àÊÅØÈòüÂàó</h1><p>È¶ñÂÖà‰∫ÜËß£‰∏Ä‰∏ã‰ΩøÁî®ÂàÜÂ∏ÉÂºèÊ∂àÊÅØÈòüÂàóÁöÑ‰ºòÁÇπÔºåÊÄªÁªì‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢Ôºö</p><ul><li><p>Ëß£ËÄ¶ tags: None</p><p>Âú®È°πÁõÆÂêØÂä®‰πãÂàùÊù•È¢ÑÊµãÂ∞ÜÊù•È°πÁõÆ‰ºöÁ¢∞Âà∞‰ªÄ‰πàÈúÄÊ±ÇÔºåÊòØÊûÅÂÖ∂Âõ∞ÈöæÁöÑ„ÄÇÊ∂àÊÅØÁ≥ªÁªüÂú®Â§ÑÁêÜËøáÁ®ã‰∏≠Èó¥ÊèíÂÖ•‰∫Ü‰∏Ä‰∏™ÈöêÂê´ÁöÑ„ÄÅÂü∫‰∫éÊï∞ÊçÆÁöÑÊé•Âè£Â±ÇÔºå‰∏§ËæπÁöÑÂ§ÑÁêÜËøáÁ®ãÈÉΩË¶ÅÂÆûÁé∞Ëøô‰∏ÄÊé•Âè£„ÄÇËøôÂÖÅËÆ∏‰Ω†Áã¨Á´ãÁöÑÊâ©Â±ïÊàñ‰øÆÊîπ‰∏§ËæπÁöÑÂ§ÑÁêÜËøáÁ®ãÔºåÂè™Ë¶ÅÁ°Æ‰øùÂÆÉ‰ª¨ÈÅµÂÆàÂêåÊ†∑ÁöÑÊé•Âè£Á∫¶Êùü„ÄÇ</p></li><li><p>ÂÜó‰Ωô</p><p>Êúâ‰∫õÊÉÖÂÜµ‰∏ãÔºåÂ§ÑÁêÜÊï∞ÊçÆÁöÑËøáÁ®ã‰ºöÂ§±Ë¥•„ÄÇÈô§ÈùûÊï∞ÊçÆË¢´ÊåÅ‰πÖÂåñÔºåÂê¶ÂàôÂ∞ÜÈÄ†Êàê‰∏¢Â§±„ÄÇÊ∂àÊÅØÈòüÂàóÊääÊï∞ÊçÆËøõË°åÊåÅ‰πÖÂåñÁõ¥Âà∞ÂÆÉ‰ª¨Â∑≤ÁªèË¢´ÂÆåÂÖ®Â§ÑÁêÜÔºåÈÄöËøáËøô‰∏ÄÊñπÂºèËßÑÈÅø‰∫ÜÊï∞ÊçÆ‰∏¢Â§±È£éÈô©„ÄÇËÆ∏Â§öÊ∂àÊÅØÈòüÂàóÊâÄÈááÁî®ÁöÑ‚ÄùÊèíÂÖ•-Ëé∑Âèñ-Âà†Èô§‚ÄùËåÉÂºè‰∏≠ÔºåÂú®Êää‰∏Ä‰∏™Ê∂àÊÅØ‰ªéÈòüÂàó‰∏≠Âà†Èô§‰πãÂâçÔºåÈúÄË¶Å‰Ω†ÁöÑÂ§ÑÁêÜÁ≥ªÁªüÊòéÁ°ÆÁöÑÊåáÂá∫ËØ•Ê∂àÊÅØÂ∑≤ÁªèË¢´Â§ÑÁêÜÂÆåÊØïÔºå‰ªéËÄåÁ°Æ‰øù‰Ω†ÁöÑÊï∞ÊçÆË¢´ÂÆâÂÖ®ÁöÑ‰øùÂ≠òÁõ¥Âà∞‰Ω†‰ΩøÁî®ÂÆåÊØï„ÄÇ</p></li><li><p>Êâ©Â±ïÊÄß</p><p>Âõ†‰∏∫Ê∂àÊÅØÈòüÂàóËß£ËÄ¶‰∫Ü‰Ω†ÁöÑÂ§ÑÁêÜËøáÁ®ãÔºåÊâÄ‰ª•Â¢ûÂ§ßÊ∂àÊÅØÂÖ•ÈòüÂíåÂ§ÑÁêÜÁöÑÈ¢ëÁéáÊòØÂæàÂÆπÊòìÁöÑÔºåÂè™Ë¶ÅÂè¶Â§ñÂ¢ûÂä†Â§ÑÁêÜËøáÁ®ãÂç≥ÂèØ„ÄÇ‰∏çÈúÄË¶ÅÊîπÂèò‰ª£Á†Å„ÄÅ‰∏çÈúÄË¶ÅË∞ÉËäÇÂèÇÊï∞„ÄÇÊâ©Â±ïÂ∞±ÂÉèË∞ÉÂ§ßÁîµÂäõÊåâÈíÆ‰∏ÄÊ†∑ÁÆÄÂçï„ÄÇ</p></li><li><p>ÁÅµÊ¥ªÊÄß &amp; Â≥∞ÂÄºÂ§ÑÁêÜËÉΩÂäõ</p><p>Âú®ËÆøÈóÆÈáèÂâßÂ¢ûÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∫îÁî®‰ªçÁÑ∂ÈúÄË¶ÅÁªßÁª≠ÂèëÊå•‰ΩúÁî®Ôºå‰ΩÜÊòØËøôÊ†∑ÁöÑÁ™ÅÂèëÊµÅÈáèÂπ∂‰∏çÂ∏∏ËßÅÔºõÂ¶ÇÊûú‰∏∫‰ª•ËÉΩÂ§ÑÁêÜËøôÁ±ªÂ≥∞ÂÄºËÆøÈóÆ‰∏∫Ê†áÂáÜÊù•ÊäïÂÖ•ËµÑÊ∫êÈöèÊó∂ÂæÖÂëΩÊó†ÁñëÊòØÂ∑®Â§ßÁöÑÊµ™Ë¥π„ÄÇ‰ΩøÁî®Ê∂àÊÅØÈòüÂàóËÉΩÂ§ü‰ΩøÂÖ≥ÈîÆÁªÑ‰ª∂È°∂‰ΩèÁ™ÅÂèëÁöÑËÆøÈóÆÂéãÂäõÔºåËÄå‰∏ç‰ºöÂõ†‰∏∫Á™ÅÂèëÁöÑË∂ÖË¥üËç∑ÁöÑËØ∑Ê±ÇËÄåÂÆåÂÖ®Â¥©Ê∫É„ÄÇ</p></li><li><p>ÂèØÊÅ¢Â§çÊÄß</p><p>Á≥ªÁªüÁöÑ‰∏ÄÈÉ®ÂàÜÁªÑ‰ª∂Â§±ÊïàÊó∂Ôºå‰∏ç‰ºöÂΩ±ÂìçÂà∞Êï¥‰∏™Á≥ªÁªü„ÄÇÊ∂àÊÅØÈòüÂàóÈôç‰Ωé‰∫ÜËøõÁ®ãÈó¥ÁöÑËÄ¶ÂêàÂ∫¶ÔºåÊâÄ‰ª•Âç≥‰Ωø‰∏Ä‰∏™Â§ÑÁêÜÊ∂àÊÅØÁöÑËøõÁ®ãÊåÇÊéâÔºåÂä†ÂÖ•ÈòüÂàó‰∏≠ÁöÑÊ∂àÊÅØ‰ªçÁÑ∂ÂèØ‰ª•Âú®Á≥ªÁªüÊÅ¢Â§çÂêéË¢´Â§ÑÁêÜ„ÄÇ</p></li><li><p>È°∫Â∫è‰øùËØÅ</p><p>Âú®Â§ßÂ§ö‰ΩøÁî®Âú∫ÊôØ‰∏ãÔºåÊï∞ÊçÆÂ§ÑÁêÜÁöÑÈ°∫Â∫èÈÉΩÂæàÈáçË¶Å„ÄÇÂ§ßÈÉ®ÂàÜÊ∂àÊÅØÈòüÂàóÊú¨Êù•Â∞±ÊòØÊéíÂ∫èÁöÑÔºåÂπ∂‰∏îËÉΩ‰øùËØÅÊï∞ÊçÆ‰ºöÊåâÁÖßÁâπÂÆöÁöÑÈ°∫Â∫èÊù•Â§ÑÁêÜ„ÄÇÔºªKafka‰øùËØÅ‰∏Ä‰∏™PartitionÂÜÖÁöÑÊ∂àÊÅØÁöÑÊúâÂ∫èÊÄßÔºõnsq‰∏ç‰øùËØÅÊ∂àÊÅØÁöÑÈ°∫Â∫èÊÄßÔºΩ</p></li><li><p>ÁºìÂÜ≤</p><p>Âú®‰ªª‰ΩïÈáçË¶ÅÁöÑÁ≥ªÁªü‰∏≠ÔºåÈÉΩ‰ºöÊúâÈúÄË¶Å‰∏çÂêåÁöÑÂ§ÑÁêÜÊó∂Èó¥ÁöÑÂÖÉÁ¥†„ÄÇ‰æãÂ¶ÇÔºåÂä†ËΩΩ‰∏ÄÂº†ÂõæÁâáÊØîÂ∫îÁî®ËøáÊª§Âô®Ëä±Ë¥πÊõ¥Â∞ëÁöÑÊó∂Èó¥„ÄÇÊ∂àÊÅØÈòüÂàóÈÄöËøá‰∏Ä‰∏™ÁºìÂÜ≤Â±ÇÊù•Â∏ÆÂä©‰ªªÂä°ÊúÄÈ´òÊïàÁéáÁöÑÊâßË°å‚Äî‚Äî‚ÄîÂÜôÂÖ•ÈòüÂàóÁöÑÂ§ÑÁêÜ‰ºöÂ∞ΩÂèØËÉΩÁöÑÂø´ÈÄü„ÄÇËØ•ÁºìÂÜ≤ÊúâÂä©‰∫éÊéßÂà∂Âíå‰ºòÂåñÊï∞ÊçÆÊµÅÁªèËøáÁ≥ªÁªüÁöÑÈÄüÂ∫¶„ÄÇ</p></li><li><p>ÂºÇÊ≠•ÈÄö‰ø°<br>ÂæàÂ§öÊó∂ÂÄôÔºåÁî®Êà∑‰∏çÊÉ≥‰πü‰∏çÈúÄË¶ÅÁ´ãÂç≥Â§ÑÁêÜÊ∂àÊÅØ„ÄÇÊ∂àÊÅØÈòüÂàóÊèê‰æõ‰∫ÜÂºÇÊ≠•Â§ÑÁêÜÊú∫Âà∂ÔºåÂÖÅËÆ∏Áî®Êà∑Êää‰∏Ä‰∏™Ê∂àÊÅØÊîæÂÖ•ÈòüÂàóÔºå‰ΩÜÂπ∂‰∏çÁ´ãÂç≥Â§ÑÁêÜÂÆÉ„ÄÇÊÉ≥ÂêëÈòüÂàó‰∏≠ÊîæÂÖ•Â§öÂ∞ëÊ∂àÊÅØÂ∞±ÊîæÂ§öÂ∞ëÔºåÁÑ∂ÂêéÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÂÜçÂéªÂ§ÑÁêÜÂÆÉ‰ª¨„ÄÇ</p></li></ul><p>‰∏çÂêåÁöÑMessage QueueÂêÑÂÖ∑ÁâπËâ≤ÔºåÊ≠§Â§Ñ‰ª•nsqÂíåkafkaËøô‰∏§ÁßçÂπ≥Âè∞‰∏∫‰æãÔºåÂÅöÁÆÄË¶Å‰ªãÁªç</p><h3 id="NSQ"><a href="#NSQ" class="headerlink" title="NSQ"></a>NSQ</h3><p>NSQÊòØÂü∫‰∫éGoËØ≠Ë®ÄÂºÄÂèëÁöÑÂÆûÊó∂ÁöÑÂàÜÂ∏ÉÂºèÊ∂àÊÅØÂπ≥Âè∞ÔºåÂÖ∑ÊúâÂàÜÂ∏ÉÂºèÂíåÂéª‰∏≠ÂøÉÂåñÊãìÊâëÁªìÊûÑÔºåËØ•ÁªìÊûÑÂÖ∑ÊúâÊó†ÂçïÁÇπÊïÖÈöú„ÄÅÊïÖÈöúÂÆπÈîô„ÄÅÈ´òÂèØÁî®ÊÄß‰ª•ÂèäËÉΩÂ§ü‰øùËØÅÊ∂àÊÅØÁöÑÂèØÈù†‰º†ÈÄíÁöÑÁâπÂæÅ„ÄÇ</p><p>Âõõ‰∏™ÈáçË¶ÅÁªÑ‰ª∂Ôºö</p><ul><li>nsqdÔºö‰∏Ä‰∏™Ë¥üË¥£Êé•Êî∂„ÄÅÊéíÈòü„ÄÅËΩ¨ÂèëÊ∂àÊÅØÂà∞ÂÆ¢Êà∑Á´ØÁöÑÂÆàÊä§ËøõÁ®ã</li><li>nsqlookupdÔºöÁÆ°ÁêÜÊãìÊâë‰ø°ÊÅØÂπ∂Êèê‰æõÊúÄÁªà‰∏ÄËá¥ÊÄßÁöÑÂèëÁé∞ÊúçÂä°ÁöÑÂÆàÊä§ËøõÁ®ã</li><li>nsqadminÔºö‰∏ÄÂ•óWebÁî®Êà∑ÁïåÈù¢ÔºåÂèØÂÆûÊó∂Êü•ÁúãÈõÜÁæ§ÁöÑÁªüËÆ°Êï∞ÊçÆÂíåÊâßË°åÂêÑÁßçÂêÑÊ†∑ÁöÑÁÆ°ÁêÜ‰ªªÂä°</li><li>utilitiesÔºöÂ∏∏ËßÅÂü∫Á°ÄÂäüËÉΩ„ÄÅÊï∞ÊçÆÊµÅÂ§ÑÁêÜÂ∑•ÂÖ∑ÔºåÂ¶Çnsq_stat„ÄÅnsq_tail„ÄÅnsq_to_file„ÄÅnsq_to_http„ÄÅnsq_to_nsq„ÄÅto_nsq</li></ul><h4 id="ÁâπÊÄßÔºö"><a href="#ÁâπÊÄßÔºö" class="headerlink" title="ÁâπÊÄßÔºö"></a>ÁâπÊÄßÔºö</h4><ul><li>ÊîØÊåÅÊó† SPOF ÁöÑÂàÜÂ∏ÉÂºèÊãìÊâë</li><li>Ê∞¥Âπ≥Êâ©Â±ï(Ê≤°Êúâ‰∏≠Èó¥‰ª∂ÔºåÊó†ÁºùÂú∞Ê∑ªÂä†Êõ¥Â§öÁöÑËäÇÁÇπÂà∞ÈõÜÁæ§)</li><li>‰ΩéÂª∂ËøüÊ∂àÊÅØ‰º†ÈÄí (ÊÄßËÉΩ)</li><li>ÁªìÂêàË¥üËΩΩÂùáË°°ÂíåÂ§öÊí≠Ê∂àÊÅØË∑ØÁî±</li><li>ÊìÖÈïøÈù¢ÂêëÊµÅ(È´òÂêûÂêêÈáè)Âíå‰ªªÂä°(‰ΩéÂêûÂêêÈáè)Â∑•‰ΩúË¥üËΩΩ</li><li>‰∏ªË¶ÅÊòØÂÜÖÂ≠ò‰∏≠(Èô§‰∫ÜÈ´òÊ∞¥‰ΩçÁ∫øÊ∂àÊÅØÈÄèÊòéÂú∞‰øùÂ≠òÂú®Á£ÅÁõò‰∏ä)</li><li>ËøêË°åÊó∂‰∏∫Ê∂àË¥πËÄÖÊèê‰æõÂèëÁé∞Áîü‰∫ßËÄÖÁöÑÊúçÂä°(nsqlookupd)</li><li>‰º†ËæìÂ±ÇÂÆâÂÖ®ÊÄß (TLS)</li><li>Êï∞ÊçÆÊ†ºÂºè‰∏çÂèØÁü•</li><li>ËæÉÂ∞ë‰æùËµñ(ÂÆπÊòìÈÉ®ÁΩ≤)ÂíåÂÅ•ÂÖ®ÁöÑ„ÄÅÊúâÁïå„ÄÅÈªòËÆ§ÈÖçÁΩÆ</li><li>ÁÆÄÂçï TCP ÂçèËÆÆÔºåÂèØ‰ª•ÊîØÊåÅ‰ªª‰ΩïËØ≠Ë®ÄÁöÑÂÆ¢Êà∑Á´ØÂ∫ì</li><li>HTTP Êé•Âè£ÁªüËÆ°„ÄÅÁÆ°ÁêÜË°å‰∏∫ÂíåÁîü‰∫ßËÄÖ(‰∏çÈúÄË¶ÅÂÆ¢Êà∑Á´ØÂ∫ìÂèëÂ∏É)</li><li>ÈõÜÊàê‰∫ÜstatsdÊù•ÂÆûÁé∞ÂÆûÊó∂Ê£ÄÊµã</li><li>ÂÅ•Â£ÆÁöÑÈõÜÁæ§ÁÆ°ÁêÜÁïåÈù¢ (nsqadmin)</li></ul><h4 id="ÊãÖ‰øùÔºö"><a href="#ÊãÖ‰øùÔºö" class="headerlink" title="ÊãÖ‰øùÔºö"></a>ÊãÖ‰øùÔºö</h4><ul><li>ÊîØÊåÅÊ∂àÊÅØÂÜÖÂ≠òÈòüÂàóÁöÑÂ§ßÂ∞èËÆæÁΩÆÔºåÈªòËÆ§ÂÆåÂÖ®ÊåÅ‰πÖÂåñÔºàÂÄº‰∏∫0ÔºâÔºåÊ∂àÊÅØÂç≥ÂèØÊåÅ‰πÖÂà∞Á£ÅÁõò‰πüÂèØ‰ª•‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠</li><li>‰øùËØÅÊ∂àÊÅØËá≥Â∞ë‰º†ÈÄí‰∏ÄÊ¨°,‰ª•Á°Æ‰øùÊ∂àÊÅØÂèØ‰ª•ÊúÄÁªàÊàêÂäüÂèëÈÄÅ</li><li>Êî∂Âà∞ÁöÑÊ∂àÊÅØÊòØÊó†Â∫èÁöÑ, ÂÆûÁé∞‰∫ÜÊùæÊï£ËÆ¢Ë¥≠</li><li>ÂèëÁé∞ÊúçÂä°nsqlookupdÂÖ∑ÊúâÊúÄÁªà‰∏ÄËá¥ÊÄß,Ê∂àÊÅØÊúÄÁªàËÉΩÂ§üÊâæÂà∞ÊâÄÊúâTopicÁîü‰∫ßËÄÖ</li></ul><h4 id="ÁªìÊûÑÔºö"><a href="#ÁªìÊûÑÔºö" class="headerlink" title="ÁªìÊûÑÔºö"></a>ÁªìÊûÑÔºö</h4><p>NSQ‰∏≠ÁöÑÊï∞ÊçÆÊµÅÊ®°ÂûãÊòØÁî±streamÂíåconsumerÁªÑÊàê„ÄÇTopicÊòØ‰∏ÄÁßçÁã¨ÁâπÁöÑstreamÔºåChannelÊòØ‰∏Ä‰∏™ËÆ¢ÈòÖ‰∫ÜÁªôÂÆöTopicÁöÑconsumerÈÄªËæëÂàÜÁªÑ„ÄÇNSQÁöÑÊï∞ÊçÆÊµÅÊ®°ÂûãÁªìÊûÑÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p><figure class="image-box">                <img src="uigd95fik9.gif" alt="uigd95fik9" title class>                <p>uigd95fik9</p>            </figure><p>‰ªé‰∏äÂõæÂèØ‰ª•ÁúãÂá∫ÔºåÂçï‰∏™nsqdÂèØ‰ª•ÊúâÂ§ö‰∏™TopicÔºåÊØè‰∏™TopicÂèàÂèØ‰ª•ÊúâÂ§ö‰∏™Channel„ÄÇ</p><p>ChannelËÉΩÂ§üÊé•Êî∂TopicÊâÄÊúâÊ∂àÊÅØÁöÑÂâØÊú¨Ôºå‰ªéËÄåÂÆûÁé∞‰∫ÜÊ∂àÊÅØÂ§öÊí≠ÂàÜÂèëÔºõ</p><p>ËÄåChannel‰∏äÁöÑÊØè‰∏™Ê∂àÊÅØË¢´ÂàÜÂèëÁªôÂÆÉÁöÑËÆ¢ÈòÖËÄÖÔºå‰ªéËÄåÂÆûÁé∞Ë¥üËΩΩÂùáË°°ÔºåÊâÄÊúâËøô‰∫õÂ∞±ÁªÑÊàê‰∫Ü‰∏Ä‰∏™ÂèØ‰ª•Ë°®Á§∫ÂêÑÁßçÁÆÄÂçïÂíåÂ§çÊùÇÊãìÊâëÁªìÊûÑÁöÑÂº∫Â§ßÊ°ÜÊû∂„ÄÇ</p><h3 id="kafka"><a href="#kafka" class="headerlink" title="kafka"></a>kafka</h3><h4 id="ÁâπÊÄßÔºö-1"><a href="#ÁâπÊÄßÔºö-1" class="headerlink" title="ÁâπÊÄßÔºö"></a>ÁâπÊÄßÔºö</h4><ul><li>‰ª•Êó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)ÁöÑÊñπÂºèÊèê‰æõÊ∂àÊÅØÊåÅ‰πÖÂåñËÉΩÂäõÔºåÂç≥‰ΩøÂØπTBÁ∫ß‰ª•‰∏äÊï∞ÊçÆ‰πüËÉΩ‰øùËØÅÂ∏∏Êï∞Êó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑËÆøÈóÆÊÄßËÉΩ„ÄÇ</li><li>È´òÂêûÂêêÁéá„ÄÇÂç≥‰ΩøÂú®ÈùûÂ∏∏Âªâ‰ª∑ÁöÑÂïÜÁî®Êú∫Âô®‰∏ä‰πüËÉΩÂÅöÂà∞ÂçïÊú∫ÊîØÊåÅÊØèÁßí100KÊù°‰ª•‰∏äÊ∂àÊÅØÁöÑ‰º†Ëæì„ÄÇ</li><li>ÊîØÊåÅKafka ServerÈó¥ÁöÑÊ∂àÊÅØÂàÜÂå∫ÔºåÂèäÂàÜÂ∏ÉÂºèÊ∂àË¥πÔºåÂêåÊó∂‰øùËØÅÊØè‰∏™PartitionÂÜÖÁöÑÊ∂àÊÅØÈ°∫Â∫è‰º†Ëæì„ÄÇ</li><li>ÂêåÊó∂ÊîØÊåÅÁ¶ªÁ∫øÊï∞ÊçÆÂ§ÑÁêÜÂíåÂÆûÊó∂Êï∞ÊçÆÂ§ÑÁêÜ„ÄÇ</li><li>Scale outÔºöÊîØÊåÅÂú®Á∫øÊ∞¥Âπ≥Êâ©Â±ï„ÄÇ</li></ul><h4 id="KafkaÊû∂ÊûÑ"><a href="#KafkaÊû∂ÊûÑ" class="headerlink" title="KafkaÊû∂ÊûÑ"></a>KafkaÊû∂ÊûÑ</h4><ul><li>BrokerÔºöKafkaÈõÜÁæ§ÂåÖÂê´‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÊúçÂä°Âô®ÔºåËøôÁßçÊúçÂä°Âô®Ë¢´Áß∞‰∏∫broker</li><li>TopicÔºöÊØèÊù°ÂèëÂ∏ÉÂà∞KafkaÈõÜÁæ§ÁöÑÊ∂àÊÅØÈÉΩÊúâ‰∏Ä‰∏™Á±ªÂà´ÔºåËøô‰∏™Á±ªÂà´Ë¢´Áß∞‰∏∫Topic„ÄÇÔºàÁâ©ÁêÜ‰∏ä‰∏çÂêåTopicÁöÑÊ∂àÊÅØÂàÜÂºÄÂ≠òÂÇ®ÔºåÈÄªËæë‰∏ä‰∏Ä‰∏™TopicÁöÑÊ∂àÊÅØËôΩÁÑ∂‰øùÂ≠ò‰∫é‰∏Ä‰∏™ÊàñÂ§ö‰∏™broker‰∏ä‰ΩÜÁî®Êà∑Âè™ÈúÄÊåáÂÆöÊ∂àÊÅØÁöÑTopicÂç≥ÂèØÁîü‰∫ßÊàñÊ∂àË¥πÊï∞ÊçÆËÄå‰∏çÂøÖÂÖ≥ÂøÉÊï∞ÊçÆÂ≠ò‰∫é‰ΩïÂ§ÑÔºâ</li><li>PartitionÔºöParitionÊòØÁâ©ÁêÜ‰∏äÁöÑÊ¶ÇÂøµÔºåÊØè‰∏™TopicÂåÖÂê´‰∏Ä‰∏™ÊàñÂ§ö‰∏™Partition.</li><li>ProducerÔºöË¥üË¥£ÂèëÂ∏ÉÊ∂àÊÅØÂà∞Kafka broker</li><li>ConsumerÔºöÊ∂àÊÅØÊ∂àË¥πËÄÖÔºåÂêëKafka brokerËØªÂèñÊ∂àÊÅØÁöÑÂÆ¢Êà∑Á´Ø„ÄÇ</li><li>Consumer GroupÔºöÊØè‰∏™ConsumerÂ±û‰∫é‰∏Ä‰∏™ÁâπÂÆöÁöÑConsumer GroupÔºàÂèØ‰∏∫ÊØè‰∏™ConsumerÊåáÂÆögroup nameÔºåËã•‰∏çÊåáÂÆögroup nameÂàôÂ±û‰∫éÈªòËÆ§ÁöÑgroupÔºâ„ÄÇ</li></ul><h4 id="KafkaÊãìÊâëÁªìÊûÑ"><a href="#KafkaÊãìÊâëÁªìÊûÑ" class="headerlink" title="KafkaÊãìÊâëÁªìÊûÑ"></a>KafkaÊãìÊâëÁªìÊûÑ</h4><figure class="image-box">                <img src="1025005-20160924125839231-370630847.png" alt="kafkaÊû∂ÊûÑÂõæ" title class>                <p>kafkaÊû∂ÊûÑÂõæ</p>            </figure><p>Â¶Ç‰∏äÂõæÊâÄÁ§∫Ôºå‰∏Ä‰∏™ÂÖ∏ÂûãÁöÑKafkaÈõÜÁæ§‰∏≠ÂåÖÂê´Ëã•Âπ≤ProducerÔºàÂèØ‰ª•ÊòØwebÂâçÁ´Ø‰∫ßÁîüÁöÑPage ViewÔºåÊàñËÄÖÊòØÊúçÂä°Âô®Êó•ÂøóÔºåÁ≥ªÁªüCPU„ÄÅMemoryÁ≠âÔºâÔºåËã•Âπ≤brokerÔºàKafkaÊîØÊåÅÊ∞¥Âπ≥Êâ©Â±ïÔºå‰∏ÄËà¨brokerÊï∞ÈáèË∂äÂ§öÔºåÈõÜÁæ§ÂêûÂêêÁéáË∂äÈ´òÔºâÔºåËã•Âπ≤Consumer GroupÔºå‰ª•Âèä‰∏Ä‰∏™ZookeeperÈõÜÁæ§„ÄÇKafkaÈÄöËøáZookeeperÁÆ°ÁêÜÈõÜÁæ§ÈÖçÁΩÆÔºåÈÄâ‰∏æleaderÔºå‰ª•ÂèäÂú®Consumer GroupÂèëÁîüÂèòÂåñÊó∂ËøõË°årebalance„ÄÇProducer‰ΩøÁî®pushÊ®°ÂºèÂ∞ÜÊ∂àÊÅØÂèëÂ∏ÉÂà∞brokerÔºåConsumer‰ΩøÁî®pullÊ®°Âºè‰ªébrokerËÆ¢ÈòÖÂπ∂Ê∂àË¥πÊ∂àÊÅØ„ÄÇ</p><h4 id="Topic-amp-Partition"><a href="#Topic-amp-Partition" class="headerlink" title="Topic &amp; Partition"></a>Topic &amp; Partition</h4><p>TopicÂú®ÈÄªËæë‰∏äÂèØ‰ª•Ë¢´ËÆ§‰∏∫ÊòØ‰∏Ä‰∏™queueÔºåÊØèÊù°Ê∂àË¥πÈÉΩÂøÖÈ°ªÊåáÂÆöÂÆÉÁöÑTopicÔºåÂèØ‰ª•ÁÆÄÂçïÁêÜËß£‰∏∫ÂøÖÈ°ªÊåáÊòéÊääËøôÊù°Ê∂àÊÅØÊîæËøõÂì™‰∏™queueÈáå„ÄÇ‰∏∫‰∫Ü‰ΩøÂæóKafkaÁöÑÂêûÂêêÁéáÂèØ‰ª•Á∫øÊÄßÊèêÈ´òÔºåÁâ©ÁêÜ‰∏äÊääTopicÂàÜÊàê‰∏Ä‰∏™ÊàñÂ§ö‰∏™PartitionÔºåÊØè‰∏™PartitionÂú®Áâ©ÁêÜ‰∏äÂØπÂ∫î‰∏Ä‰∏™Êñá‰ª∂Â§πÔºåËØ•Êñá‰ª∂Â§π‰∏ãÂ≠òÂÇ®Ëøô‰∏™PartitionÁöÑÊâÄÊúâÊ∂àÊÅØÂíåÁ¥¢ÂºïÊñá‰ª∂„ÄÇ</p><h4 id="ProducerÊ∂àÊÅØË∑ØÁî±"><a href="#ProducerÊ∂àÊÅØË∑ØÁî±" class="headerlink" title="ProducerÊ∂àÊÅØË∑ØÁî±"></a>ProducerÊ∂àÊÅØË∑ØÁî±</h4><p>ProducerÂèëÈÄÅÊ∂àÊÅØÂà∞brokerÊó∂Ôºå‰ºöÊ†πÊçÆParititionÊú∫Âà∂ÈÄâÊã©Â∞ÜÂÖ∂Â≠òÂÇ®Âà∞Âì™‰∏Ä‰∏™Partition„ÄÇÂ¶ÇÊûúPartitionÊú∫Âà∂ËÆæÁΩÆÂêàÁêÜÔºåÊâÄÊúâÊ∂àÊÅØÂèØ‰ª•ÂùáÂåÄÂàÜÂ∏ÉÂà∞‰∏çÂêåÁöÑPartitionÈáåÔºåËøôÊ†∑Â∞±ÂÆûÁé∞‰∫ÜË¥üËΩΩÂùáË°°„ÄÇ</p><p>Âú®ÂèëÈÄÅ‰∏ÄÊù°Ê∂àÊÅØÊó∂ÔºåÂèØ‰ª•ÊåáÂÆöËøôÊù°Ê∂àÊÅØÁöÑkeyÔºåProducerÊ†πÊçÆËøô‰∏™keyÂíåPartitionÊú∫Âà∂Êù•Âà§Êñ≠Â∫îËØ•Â∞ÜËøôÊù°Ê∂àÊÅØÂèëÈÄÅÂà∞Âì™‰∏™Parition„ÄÇ</p><h4 id="Consumer-Group"><a href="#Consumer-Group" class="headerlink" title="Consumer Group"></a>Consumer Group</h4><p>ÔºàÊú¨ËäÇÊâÄÊúâÊèèËø∞ÈÉΩÊòØÂü∫‰∫éConsumer hight level APIËÄåÈùûlow level APIÔºâ„ÄÇ</p><p>‰ΩøÁî®Consumer high level APIÊó∂ÔºåÂêå‰∏ÄTopicÁöÑ‰∏ÄÊù°Ê∂àÊÅØÂè™ËÉΩË¢´Âêå‰∏Ä‰∏™Consumer GroupÂÜÖÁöÑ‰∏Ä‰∏™ConsumerÊ∂àË¥πÔºå‰ΩÜÂ§ö‰∏™Consumer GroupÂèØÂêåÊó∂Ê∂àË¥πËøô‰∏ÄÊ∂àÊÅØ„ÄÇ</p><figure class="image-box">                <img src="70.png" alt="img" title class>                <p>img</p>            </figure><p>ËøôÊòØKafkaÁî®Êù•ÂÆûÁé∞‰∏Ä‰∏™TopicÊ∂àÊÅØÁöÑÂπøÊí≠ÔºàÂèëÁªôÊâÄÊúâÁöÑConsumerÔºâÂíåÂçïÊí≠ÔºàÂèëÁªôÊüê‰∏Ä‰∏™ConsumerÔºâÁöÑÊâãÊÆµ„ÄÇ‰∏Ä‰∏™TopicÂèØ‰ª•ÂØπÂ∫îÂ§ö‰∏™Consumer Group„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÂÆûÁé∞ÂπøÊí≠ÔºåÂè™Ë¶ÅÊØè‰∏™ConsumerÊúâ‰∏Ä‰∏™Áã¨Á´ãÁöÑGroupÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇË¶ÅÂÆûÁé∞ÂçïÊí≠Âè™Ë¶ÅÊâÄÊúâÁöÑConsumerÂú®Âêå‰∏Ä‰∏™GroupÈáå„ÄÇÁî®Consumer GroupËøòÂèØ‰ª•Â∞ÜConsumerËøõË°åËá™Áî±ÁöÑÂàÜÁªÑËÄå‰∏çÈúÄË¶ÅÂ§öÊ¨°ÂèëÈÄÅÊ∂àÊÅØÂà∞‰∏çÂêåÁöÑTopic„ÄÇ</p><h3 id="NSQ-vs-Kafka"><a href="#NSQ-vs-Kafka" class="headerlink" title="NSQ vs Kafka"></a>NSQ vs Kafka</h3><table><thead><tr><th></th><th>NSQ</th><th>Kafka</th></tr></thead><tbody><tr><td>ËØ≠Ë®Ä</td><td>Go</td><td>Scala</td></tr><tr><td>Ê∂àÊÅØÂ≠òÂÇ®</td><td>ÂÜÖÂ≠ò&amp;&amp;Á£ÅÁõò</td><td>Á£ÅÁõòÔºåÊñá‰ª∂ÊñπÂºè</td></tr><tr><td>È°∫Â∫è‰øùËØÅ</td><td>Êó†Â∫èÔºåÊùæÊï£ËÆ¢ÈòÖ</td><td>‰øùËØÅÊúâÂ∫è</td></tr></tbody></table><p>Ëá≥‰∫éÂú®ÂÆûÈôÖÂ∫îÁî®‰∏≠Ôºå‰∏§ÁßçÊ∂àÊÅØÈòüÂàóÂ¶Ç‰ΩïÈÄâÊã©ÔºåË¶ÅÊ†πÊçÆ‰∏öÂä°ÈúÄÊ±ÇÂíåÊ∂àÊÅØÈòüÂàóÁöÑÁâπÊÄßÂÅöÂá∫ÂêàÁêÜÈÄâÊã©„ÄÇ‰ª•‚ÄúÈóÆÁ≠î‚ÄùÊúçÂä°Á´Ø‰∏∫‰æãÔºåÁõÆÂâçNSQÂíåKafka‰∏§ÁßçÊ∂àÊÅØÈòüÂàóÈÉΩÂú®‰ΩøÁî®‰∏≠Ôºö</p><p>ÊØîÂ¶ÇÂØπÁî®Êà∑Ë°å‰∏∫ËøõË°åÁªüËÆ°ÁöÑÁõ∏ÂÖ≥Ê∂àÊÅØÔºåÊàë‰ª¨ÈááÁî®nsqÔºå‰∏ªË¶ÅÊòØÂõ†‰∏∫nsqÊ∂àÊÅØ‰∏ªË¶Å‰øùÂ≠òÂú®ÂÜÖÂ≠òÔºåÂÆÉÂú®Â§ÑÁêÜÊ∂àÊÅØ‰∏äÊõ¥Âø´ÔºõÂπ∂‰∏îÁªüËÆ°Áî®Êà∑Ë°å‰∏∫ÁöÑÊ∂àÊÅØÔºåÂè™ÈúÄË¶ÅÂØπÊ∂àÊÅØ‰∫ã‰ª∂ËÆ∞ÂΩïÂç≥ÂèØÔºåÂπ∂‰∏çË¶ÅÊ±Ç‰∏•Ê†ºÁöÑÈ°∫Â∫è„ÄÇ</p><p>ËÄåÂØπ‰∫éÊèê‰∫§Á±ªÁöÑ‰∫ã‰ª∂ÔºåÂ∞±ÈúÄË¶Å‰øùËØÅ‰∏•Ê†ºÁöÑÈ°∫Â∫èÊÄß„ÄÇÊØîÂ¶ÇÁî®Êà∑Êèê‰∫§‰∏Ä‰∏™Á≠îÊ°àÔºåÈöèÂêéÂèàÁ´ãÂàªÂà†Èô§ÔºõÁî±‰∫éÂêéÂè∞ÂíådataÁõ∏ÂÖ≥‰∏öÂä°ÊñπÊòØÊ†πÊçÆÂèëÈÄÅÁöÑÊ∂àÊÅØ‰ΩúÁõ∏ÂÖ≥Â§ÑÁêÜÔºåÂ¶ÇÊûúÂà†Èô§Á≠îÊ°àÁöÑÊ∂àÊÅØÂÖàÂèëÈÄÅÔºåÂêéÂè∞ÂíådataÁõ∏ÂÖ≥‰∏öÂä°ÊñπÂ∞Ü‰ºöÂá∫Áé∞ÈîôËØØÔºõÂØπ‰∫éÊ≠§Á±ªÈúÄË¶Å‰∏•Ê†º‰øùËØÅÊ∂àÊÅØÈ°∫Â∫èÁöÑ‰∫ã‰ª∂ÔºåÊàë‰ª¨Â∞±ÈááÁî®kafka„ÄÇ</p><hr><h1 id="Âü∫Á°ÄÊû∂ÊûÑ"><a href="#Âü∫Á°ÄÊû∂ÊûÑ" class="headerlink" title="Âü∫Á°ÄÊû∂ÊûÑ"></a>Âü∫Á°ÄÊû∂ÊûÑ</h1><h2 id="KafkaServer"><a href="#KafkaServer" class="headerlink" title="KafkaServer"></a>KafkaServer</h2><p>‰ΩøÁî®Ê∂àÊÅØÈòüÂàóÁöÑ‰∏ªË¶ÅÂ•ΩÂ§ÑÊúâÔºö</p><ul><li>Ëß£ËÄ¶</li><li>Â≥∞ÂÄºÂ§ÑÁêÜËÉΩÂäõ„ÄÅÂºÇÊ≠•</li><li>ÊåÅ‰πÖÂåñ</li><li>È°∫Â∫è‰øùËØÅ</li><li>Êâ©Â±ïÊÄß</li></ul><h2 id="1-Êû∂ÊûÑ"><a href="#1-Êû∂ÊûÑ" class="headerlink" title="1. Êû∂ÊûÑ"></a>1. Êû∂ÊûÑ</h2><h3 id="1-1-Ê¶ÇÂøµ"><a href="#1-1-Ê¶ÇÂøµ" class="headerlink" title="1.1 Ê¶ÇÂøµ"></a>1.1 Ê¶ÇÂøµ</h3><p><strong>BrokerÔºö</strong></p><p>KafkaÈõÜÁæ§‰∏≠ÁöÑ‰∏ÄÂè∞ÊúçÂä°Âô®„ÄÇ</p><p><strong>TopicÔºö</strong></p><p>‰∏ªÈ¢ò„ÄÇÊ∂àÊÅØÁöÑÂàÜÁ±ªÔºåÊòØÈÄªËæë‰∏äÁöÑÊ¶ÇÂøµÔºåÂÆûÈôÖ‰ª•partitionÁöÑÂΩ¢ÂºèÂ≠òÊîæÂú®ÂêÑBrokerÊúçÂä°Âô®‰∏ä„ÄÇ</p><p><strong>PartitionÔºö</strong></p><ul><li>ÂàÜÂå∫„ÄÇÊòØÁâ©ÁêÜ‰∏äÁöÑÊ¶ÇÂøµÔºåÁªÑÊàêTopicÁöÑÂçï‰Ωç„ÄÇ</li></ul><p><strong>ReplicaÔºö</strong></p><p>ÂâØÊú¨„ÄÇÊòØÂÖ∑‰ΩìÁöÑÂàÜÂå∫ÔºåÊØîPartitionÊõ¥ÂÖ∑‰ΩìÁöÑÁâ©ÁêÜÊ¶ÇÂøµÔºå‰∏Ä‰∏™ÁúüÂÆûÁöÑÁõÆÂΩïÔºåÂ≠òÊîæÂú®‰∏ÄÂè∞BrokerÊúçÂä°Âô®‰∏ä„ÄÇÂú®‰ª£Á†Å‰∏≠ÂèàÂàÜ‰∏∫leaderÂíåfollower„ÄÇ</p><p><strong>ProducerÔºö</strong></p><ul><li>Áîü‰∫ßËÄÖ„ÄÇË¥üË¥£ÂèëÈÄÅÊ∂àÊÅØÂà∞Broker„ÄÇ</li></ul><p><strong>ConsumerÔºö</strong></p><ul><li>Ê∂àË¥πËÄÖ„ÄÇË¥üË¥£ËÆ¢ÈòÖTopicÂπ∂ÊãâÂèñÊ∂àÊÅØ„ÄÇ</li></ul><p><strong>CousumerGroupÔºö</strong></p><p>Ê∂àË¥πËÄÖÁªÑ„ÄÇÊØèÊù°Ê∂àÊÅØÂè™Ë¢´ÁªÑÂÜÖÊàêÂëòÊ∂àË¥π‰∏ÄÊ¨°„ÄÇ</p><h3 id="1-2-ÈÄªËæëÊû∂ÊûÑ"><a href="#1-2-ÈÄªËæëÊû∂ÊûÑ" class="headerlink" title="1.2 ÈÄªËæëÊû∂ÊûÑ"></a>1.2 ÈÄªËæëÊû∂ÊûÑ</h3><figure class="image-box">                <img src="60af40353a110cbc9948067b4502a75d.png" alt="image" title class>                <p>image</p>            </figure><h3 id="1-3-Áâ©ÁêÜÊû∂ÊûÑ"><a href="#1-3-Áâ©ÁêÜÊû∂ÊûÑ" class="headerlink" title="1.3 Áâ©ÁêÜÊû∂ÊûÑ"></a>1.3 Áâ©ÁêÜÊû∂ÊûÑ</h3><h4 id="1-3-1-ÈõÜÁæ§Áâ©ÁêÜÊû∂ÊûÑ"><a href="#1-3-1-ÈõÜÁæ§Áâ©ÁêÜÊû∂ÊûÑ" class="headerlink" title="1.3.1 ÈõÜÁæ§Áâ©ÁêÜÊû∂ÊûÑ"></a>1.3.1 ÈõÜÁæ§Áâ©ÁêÜÊû∂ÊûÑ</h4><ul><li>*<figure class="image-box">                <img src="0993d208eeb5dfe12a9e6f132e9d0eef.png" alt="image" title class>                <p>image</p>            </figure></li></ul><p>Â¶Ç‰∏äÂõæÔºåÊú¨ÈõÜÁæ§ÊúâÔºö</p><ul><li>4Âè∞broker„ÄÇbroker_1 Âà∞ broker_4</li><li>2‰∏™topic„ÄÇtopic_AÂíåtopic_B</li><li>topic_AÁöÑÂàÜÂå∫Êï∞ÊòØ4„ÄÇtopicA_0 Âà∞ topic_3</li><li>topic_AÁöÑÂâØÊú¨Âõ†Â≠êÊòØ2„ÄÇ‰æãÂ¶ÇtopicA_0Ëøô‰∏™ÂàÜÂå∫ÔºåÊúâ‰∏§‰∏™ÂâØÊú¨ÔºåÂàÜÂà´ÂàÜÂ∏ÉÂú®broker_1Âíåbroker_3‰∏§Âè∞Êú∫Âô®‰∏ä„ÄÇ</li></ul><h4 id="1-3-2-‰∏Ä‰∏™ÂâØÊú¨ÁõÆÂΩïÁªìÊûÑ"><a href="#1-3-2-‰∏Ä‰∏™ÂâØÊú¨ÁõÆÂΩïÁªìÊûÑ" class="headerlink" title="1.3.2 ‰∏Ä‰∏™ÂâØÊú¨ÁõÆÂΩïÁªìÊûÑ"></a>1.3.2 ‰∏Ä‰∏™ÂâØÊú¨ÁõÆÂΩïÁªìÊûÑ</h4><p>‰∏äÂõæ‰∏≠ÁöÑtopicA-0ÊòØ‰∏Ä‰∏™partitionÔºåÂáÜÁ°ÆÁöÑËØ¥Â∫îËØ•Áß∞‰πã‰∏∫‰∏Ä‰∏™ÂâØÊú¨ÔºåÂç≥Replica„ÄÇÂÆÉÊòØbroker_1ÊúçÂä°Âô®‰∏äÁöÑ‰∏Ä‰∏™Êó•ÂøóÁõÆÂΩïÔºåÂÖ∂ÂÜÖÈÉ®Áî±Â§ö‰∏™segmentÊñá‰ª∂ÁªÑÊàê„ÄÇtopicA-0ÁõÆÂΩïÁªìÊûÑÔºö</p><ul><li>*<figure class="image-box">                <img src="15917459e5a10f3a6839bc535f0afbc6.png" alt="image" title class>                <p>image</p>            </figure></li></ul><p><strong>*.logÊñá‰ª∂</strong>ÔºöÊó•ÂøóÊñá‰ª∂</p><p><strong>*.indexÊñá‰ª∂</strong>ÔºöÁ®ÄÁñèÁ¥¢ÂºïÊñá‰ª∂</p><p><strong>*.timeindexÊñá‰ª∂</strong>ÔºöÊó∂Èó¥Êà≥Á¥¢ÂºïÊñá‰ª∂„ÄÇÊ†πÊçÆÊó∂Èó¥Êà≥Âø´ÈÄüÂÆö‰ΩçÊ∂àÊÅØÊâÄÂú®‰ΩçÁΩÆ„ÄÇÔºàKafka API offsetsForTimesÊñπÊ≥ïÊâÄ‰ΩøÁî®Ôºâ</p><p>indexÊñá‰ª∂‰∏élogÊñá‰ª∂ÂÖ≥Á≥ª:</p><ul><li>*<figure class="image-box">                <img src="42a9581fb80035875abcaff0e6902542.png" alt="image" title class>                <p>image</p>            </figure></li></ul><h3 id="1-4-‰ª£Á†ÅÊû∂ÊûÑ"><a href="#1-4-‰ª£Á†ÅÊû∂ÊûÑ" class="headerlink" title="1.4 ‰ª£Á†ÅÊû∂ÊûÑ"></a>1.4 ‰ª£Á†ÅÊû∂ÊûÑ</h3><h4 id="1-4-1-Á∫øÁ®ãÊ±†"><a href="#1-4-1-Á∫øÁ®ãÊ±†" class="headerlink" title="1.4.1 Á∫øÁ®ãÊ±†"></a>1.4.1 Á∫øÁ®ãÊ±†</h4><p>KafkaServerÂú®ÂêØÂä®Êó∂ÔºåÂàùÂßãÂåñKafkaRequestHandlerPoolÁ∫øÁ®ãÊ±†</p><p>KafkaRequestHandlerPoolÔºàÁ∫øÁ®ãÊ±†ÔºâÁî±KafkaRequestHandlerÁªÑÊàê</p><p>KafkaRequestHandlerË∞ÉÁî®KafkaApisÂ§ÑÁêÜrequest</p><p>‰∏ãÂõæÔºöKafkaÂ§ÑÁêÜrequestÁöÑÁ∫øÁ®ãÊ±†</p><ul><li>*<figure class="image-box">                <img src="83fbd9155e52d987bb704a028f719772.png" alt="image" title class>                <p>image</p>            </figure></li></ul><p>kafkaServerÊé•Êî∂ÁöÑËØ∑Ê±ÇÔºåÂåÖÊã¨Êù•Ëá™ÂÆ¢Êà∑Á´ØÁöÑËØ∑Ê±ÇÂíåÊù•Ëá™ÂÖ∂‰ªñserverÁöÑËØ∑Ê±Ç„ÄÇÂÆ¢Êà∑Á´ØËØ∑Ê±Ç‰æãÂ¶ÇproducerÂèëÈÄÅÊ∂àÊÅØËØ∑Ê±Ç„ÄÅconsumerÊ∂àË¥πÊ∂àÊÅØËØ∑Ê±Ç„ÄÇÂÖ∂‰ªñbrokerËØ∑Ê±Ç‰æãÂ¶ÇÂâØÊú¨ÂêåÊ≠•Êó•ÂøóËØ∑Ê±Ç„ÄÇËØ∑Ê±ÇÁ±ªÂûãÊúâ21‰∏™Êûö‰∏æÂÄº„ÄÇ</p><p>ÊâÄÊúâÁöÑËØ∑Ê±ÇÊúÄÁªà‰ºöÊî∂ÊïõÂà∞BrokerÊúçÂä°Âô®‰∏äÁöÑKafkaApis.handleÊñπÊ≥ïÔºåÂ¶Ç‰∏ãÂõæÔºö</p><ul><li>*<figure class="image-box">                <img src="9fb206ff88bb93e7d92cf7dced0e540b.png" alt="image" title class>                <p>image</p>            </figure></li></ul><h4 id="1-4-2-Â§ÑÁêÜrequestÁöÑÁªÑ‰ª∂"><a href="#1-4-2-Â§ÑÁêÜrequestÁöÑÁªÑ‰ª∂" class="headerlink" title="1.4.2 Â§ÑÁêÜrequestÁöÑÁªÑ‰ª∂"></a>1.4.2 Â§ÑÁêÜrequestÁöÑÁªÑ‰ª∂</h4><p>Êúâ3‰∏™ÈáçË¶ÅÁªÑ‰ª∂Â§ÑÁêÜ‰∏äÂõæ21ÁßçËØ∑Ê±ÇÔºåÂÆÉ‰ª¨ÂàÜÂà´ÊòØÔºö</p><ul><li><strong>ReplicaManager</strong><ul><li>ÊääProduceÊó•ÂøóÂÜôÂÖ•Á£ÅÁõò</li><li>Â¶ÇÊûúÂâØÊú¨ÊòØfollowerÔºåÂêØÂä®ÂâØÊú¨ÂêåÊ≠•Á∫øÁ®ãÔºåÂèëÈÄÅfetchËØ∑Ê±Ç</li><li>Â¶ÇÊûúÂâØÊú¨ÊòØleaderÔºåÂ§ÑÁêÜÊù•Ëá™ÂâØÊú¨ÁöÑfetchËØ∑Ê±Ç</li></ul></li><li><strong>Coordinator</strong><ul><li>ÁÆ°ÁêÜConsumerÁöÑbalance</li></ul></li><li><strong>KafkaController</strong><ul><li>Broker ÁöÑ‰∏äÁ∫ø„ÄÅ‰∏ãÁ∫ø</li><li>Êñ∞Âª∫ topic ÊàñÂ∑≤Êúâ topic ÁöÑÊâ©ÂÆπÔºåtopic Âà†Èô§</li><li>Â§ÑÁêÜreplicaÁöÑÂàÜÈÖç„ÄÅËøÅÁßª„ÄÅleader ÈÄâ‰∏æ„ÄÅleader ÂàáÊç¢</li></ul></li></ul><p>‰∏ãÂõæÔºöÂ§ÑÁêÜrequestËØ∑Ê±Ç</p><ul><li>*<figure class="image-box">                <img src="d85330c319388dddad5de8b90e743c9a.png" alt="image" title class>                <p>image</p>            </figure></li></ul><h2 id="2-ÂèØÁî®ÊÄß„ÄÅÂèØÈù†ÊÄß‰øùÈöú"><a href="#2-ÂèØÁî®ÊÄß„ÄÅÂèØÈù†ÊÄß‰øùÈöú" class="headerlink" title="2. ÂèØÁî®ÊÄß„ÄÅÂèØÈù†ÊÄß‰øùÈöú"></a>2. ÂèØÁî®ÊÄß„ÄÅÂèØÈù†ÊÄß‰øùÈöú</h2><h3 id="2-1-ÈõÜÁæ§È´òÂèØÁî®ÊÄß"><a href="#2-1-ÈõÜÁæ§È´òÂèØÁî®ÊÄß" class="headerlink" title="2.1 ÈõÜÁæ§È´òÂèØÁî®ÊÄß"></a>2.1 ÈõÜÁæ§È´òÂèØÁî®ÊÄß</h3><p>Âú®Â∫îÂØπÂçïÁÇπÊïÖÈöúÊó∂Ôºåkafka‰ªçÁÑ∂ËÉΩÂ§üÂØπÂ§ñÊèê‰æõÊúçÂä°Ôºå‰∏ªË¶ÅÈÄöËøá‰ª•‰∏ãÁâπÊÄß‰øùËØÅÔºö</p><ul><li>ÂàÜÂ∏ÉÂºèÈõÜÁæ§Ê®°ÂºèÔºåÂ§öÂè∞ÊúçÂä°Âô®ÔºåÂàÜÊï£ÂçïÊúçÂä°Âô®ÂéãÂäõ„ÄÇ</li><li>‰∏Ä‰∏™topicÊãÜÂàÜÊàêÂ§öpartitionÂàÜÂå∫</li><li>‰∏Ä‰∏™partitionÂª∫Á´ãn‰∏™ÂâØÊú¨ÔºåÂàÜ‰∏∫leaderÂíåfollowerÔºå‰øùÊåÅÂêåÊ≠•„ÄÇleader‰∏ÄÊó¶ÂÆïÊú∫‰ªéfollowerÈÄâ‰∏æÂá∫Êñ∞ÁöÑleaderÊèê‰æõËØªÂÜôÊó•ÂøóÊúçÂä°„ÄÇ</li></ul><h3 id="2-2-Ê∂àÊÅØÂèØÈù†ÊÄß‰∏é‰∏ÄËá¥ÊÄß"><a href="#2-2-Ê∂àÊÅØÂèØÈù†ÊÄß‰∏é‰∏ÄËá¥ÊÄß" class="headerlink" title="2.2 Ê∂àÊÅØÂèØÈù†ÊÄß‰∏é‰∏ÄËá¥ÊÄß"></a><strong>2.2 Ê∂àÊÅØÂèØÈù†ÊÄß‰∏é‰∏ÄËá¥ÊÄß</strong></h3><p>Èù¢ÂØπÊïÖÈöúÊó∂ÊòØÂê¶‰ªçÁÑ∂‰øùÊåÅÊúÄÁªà‰∏ÄËá¥„ÄÇ</p><ul><li>producer.ACKS = [ -1, 0, 1] ‰øùËØÅÊó•ÂøóÁîü‰∫ßÁöÑÂáÜÁ°ÆÊÄß„ÄÇ</li><li>HWÂíåLEOÊú∫Âà∂„ÄÇ‰øùËØÅÊó•ÂøóÂêåÊ≠•ÁöÑÂáÜÁ°ÆÊÄß„ÄÇ</li></ul><h4 id="2-2-1-producer-ACKs"><a href="#2-2-1-producer-ACKs" class="headerlink" title="2.2.1 producer.ACKs"></a>2.2.1 producer.ACKs</h4><p><strong>ACKs=1</strong></p><ul><li>producerÂèëÈÄÅÊó•ÂøóÔºåÂè™Ë¶ÅLeaderÂÜôÂÖ•ÊàêÂäüÔºåÂàôËøîÂõûproducerÊàêÂäü</li></ul><p><strong>ACKs=0</strong></p><ul><li>producerÂèëÈÄÅÊó•ÂøóÔºå‰∏çÈúÄË¶ÅÁ≠âÂæÖleaderËøîÂõûÊàêÂäü</li><li>‰º†ËæìÊïàÁéáÊúÄÈ´òÔºåÂèØÈù†ÊÄßÊúÄÂ∑Æ</li></ul><p><strong>ACKs=-1</strong></p><ul><li>producerÂèëÈÄÅÊó•ÂøóÔºåLeaderÈúÄË¶ÅÁ≠âÂæÖISR‰∏≠ÊâÄÊúâÁöÑReplicaÂêåÊ≠•ÂÆåÊàêÂêéÔºåÊâçËøîÂõûÁªôÂÆ¢Êà∑Á´ØÊàêÂäü</li><li>ÂèØÈù†ÊÄßÊúÄÈ´òÔºåÊïàÁéáÊúÄÂ∑Æ„ÄÇÈõÜÁæ§ÁöÑÁì∂È¢àÂç°Âú®‰∫ÜÊúÄÂ∑ÆÁöÑÈÇ£Âè∞Êú∫Âô®</li></ul><h4 id="2-2-2-HWÂíåLEO"><a href="#2-2-2-HWÂíåLEO" class="headerlink" title="2.2.2 HWÂíåLEO"></a>2.2.2 HWÂíåLEO</h4><p><strong>LEO</strong></p><ul><li>LogEndOffsetÔºåÊó•ÂøóÊú´Á´ØÂÅèÁßªÈáè</li><li>ÊØè‰∏™ReplicaÊúÄÂêé‰∏ÄÊù°logÊâÄÂú®ÁöÑ‰ΩçÁΩÆ</li></ul><p><strong>HW</strong></p><ul><li>HighWaterMarkÔºåÈ´òÊ∞¥‰Ωç</li><li>HW = min( ISR.LEO )</li><li>Â∑≤ÁªèË¢´ISRÂÆåÊàêÂêåÊ≠•ÁöÑÊ∂àÊÅØÁöÑ‰ΩçÁΩÆ</li><li>ConsumerÊúÄÂ§öÂè™ËÉΩÊ∂àË¥πÂà∞HWÊâÄÂú®ÁöÑ‰ΩçÁΩÆ</li><li>ÂØπ‰∫éÂÜÖÈÉ®ReplicaÁöÑÂêåÊ≠•Ê∂àÊÅØËØ∑Ê±ÇÔºåÊ≤°ÊúâHWÁöÑÈôêÂà∂</li></ul><p>Â¶Ç‰∏ãÂõæÔºåHW‰∏éLEO‰ΩçÁΩÆÁ§∫ÊÑèÔºö</p><figure class="image-box">                <img src="b9466c871eb1de0157d41377cd06d94a.png" alt="image" title class>                <p>image</p>            </figure><p><strong>HW‰∏éLEOÊõ¥Êñ∞ËøáÁ®ãÔºö</strong></p><figure class="image-box">                <img src="d64eb94018321663dfe38c6ea278bbde.png" alt="image" title class>                <p>image</p>            </figure><p><strong>HW‰∏éLEOÊõ¥Êñ∞ËøáÁ®ãÔºàËØ¶ÁªÜÔºâÔºö</strong></p><p>HW‰∏éLEOÂ≠òÂú®‰∫éÊØè‰∏Ä‰∏™ÂâØÊú¨ÔºåÂπ∂‰∏ç‰ªÖ‰ªÖÂ≠òÂú®‰∫éleader„ÄÇ</p><p>leader‰∏≠Áª¥Êä§‰∫Ü‰∏§Â•óLEOÔºå‰∏ÄÂ•óÊòØËá™Â∑±ÁöÑÔºåÂè¶‰∏ÄÂ•óÊòØfollowerÁöÑ„ÄÇ</p><p>ÂÅáËÆæÁõÆÂâçÊ∂àÊÅØÈòüÂàó‰∏∫Á©∫ÔºåfollowerÂêØÂä®ÁöÑÂêåÊ≠•Ê∂àÊÅØÁ∫øÁ®ãÔºå‰∏ç‰ºöËé∑ÂèñÂà∞‰ªª‰ΩïÊ∂àÊÅØÔºå‰πü‰∏ç‰ºöÊõ¥Êñ∞HWÂíåLEO</p><ul><li>*<figure class="image-box">                <img src="https://cdn.jsdelivr.net/gh/mafulong/mdPic@master/images/ec19a2cae1dc96baef8fe646f758b97a.png" alt="image" title class>                <p>image</p>            </figure></li></ul><p>Ê≠§Êó∂ÔºåProducerÁªôleaderÂèëÈÄÅ‰∫Ü‰∏ÄÊù°Êó•Âøó</p><ol><li>leaderÁöÑLEO + 1</li><li>leaderÂ∞ùËØïÊõ¥Êñ∞HWÔºåHW = min(LEO)Ôºå‰ªçÁÑ∂ÊòØ0</li></ol><ul><li>*<figure class="image-box">                <img src="https://cdn.jsdelivr.net/gh/mafulong/mdPic@master/images/219fab4d24791360c434d96ad75c71e8.png" alt="image" title class>                <p>image</p>            </figure></li></ul><p>followerÂèëÈÄÅfetchËØ∑Ê±ÇÔºö</p><ul><li>*<figure class="image-box">                <img src="65578cc63bfff21a8529caed7fd904ff.png" alt="image" title class>                <p>image</p>            </figure></li></ul><ol><li>reqÁöÑoffsetÂèÇÊï∞ÊòØ0ÔºåË°®Á§∫‰ªéÁ¨¨0‰∏™Ê∂àÊÅØÂºÄÂßãfetch</li><li>leaderÊõ¥Êñ∞remote LEO=0ÔºåËøôÊòØÂõ†‰∏∫follower requestÁöÑoffsetÊòØ0</li><li>leaderÂ∞ùËØïÊõ¥Êñ∞HWÔºåHW = min(LEO)Ôºå‰ªçÁÑ∂ÊòØ0</li><li>leaderÊääÊï∞ÊçÆÂíåÊ≠§Êó∂ÁöÑleader HWËøîÂõûÁªôfollower</li><li>followerÊé•Êî∂Âà∞respsonseÔºåÊõ¥Êñ∞LEO=1ÔºåÊõ¥Êñ∞HW‰ªçÁÑ∂ÊòØ0</li></ol><p>followerÂèëÈÄÅÁ¨¨‰∫åËΩÆfetchËØ∑Ê±Ç:</p><figure class="image-box">                <img src="a730c7a7e7b6ea34fa9d3a71e1911f57.png" alt="image" title class>                <p>image</p>            </figure><ol><li>reqÁöÑoffsetÂèÇÊï∞ÊòØ1ÔºåË°®Á§∫ËØ∑Ê±ÇÂêåÊ≠•Á¨¨‰∏Ä‰∏™Ê∂àÊÅØ</li><li>leaderÊõ¥Êñ∞remote LEO=1ÔºåÂõ†‰∏∫follower requestÁöÑoffsetÊòØ1</li><li>leaderÂ∞ùËØïÊõ¥Êñ∞HWÔºåHW=min(LEO)Ôºå<strong>Ê≠§Êó∂Êõ¥Êñ∞HW=1</strong></li><li>leaderÊääÊï∞ÊçÆÂíåÊ≠§Êó∂ÁöÑleader HWËøîÂõûÁªôfollower</li><li>followerÊé•Êî∂Âà∞respsonseÔºåÊõ¥Êñ∞HWÔºå<strong>Ê≠§Êó∂Êõ¥Êñ∞HW=1</strong></li></ol><p>Ëá≥Ê≠§ÔºåproducerÁîü‰∫ßÁöÑÊ∂àÊÅØÂ∑≤Áªè‰øùÂ≠òÂà∞kafkaÁöÑÂêÑ‰∏™ÂâØÊú¨‰∏ä‰∫ÜÔºåConsumerÂ∑≤ÁªèÂèØ‰ª•Ê∂àË¥πÂà∞HW‰ΩçÁΩÆ‰∫Ü„ÄÇ</p><p>‰∏Ä‰∏™Ê∂àÊÅØ‰ªéÂÜôÂÖ•kafkaÂà∞ÂÆåÊàêÊõ¥Êñ∞HWÔºåÈúÄË¶ÅfollowerÂèëÈÄÅ‰∏§ËΩÆfetchËØ∑Ê±Ç„ÄÇ Á¨¨‰∏ÄËΩÆfetchÊòØfollowÂëäËØâleaderËá™Â∑±ÁöÑleo, ‰ª•ÂèäÊõ¥Êñ∞offset‰ª•Âèäleo. Á¨¨‰∫åËΩÆfetchÊòØÂëäËØâproducerËá™Â∑±ÊúÄÊñ∞ÁöÑleoÁî®‰∫éleaderÊõ¥Êñ∞hw.</p><h2 id="3-Â∏∏ËßÅÁöÑÈÄâ‰∏æ„ÄÅÂàÜÈÖç„ÄÅRebalance"><a href="#3-Â∏∏ËßÅÁöÑÈÄâ‰∏æ„ÄÅÂàÜÈÖç„ÄÅRebalance" class="headerlink" title="3. Â∏∏ËßÅÁöÑÈÄâ‰∏æ„ÄÅÂàÜÈÖç„ÄÅRebalance"></a>3. Â∏∏ËßÅÁöÑÈÄâ‰∏æ„ÄÅÂàÜÈÖç„ÄÅRebalance</h2><p>KafkaÈõÜÁæ§‰æùËµñZookeeperÔºåZookeeperÁöÑÊï∞ÊçÆÊ®°ÂûãÊòØ‰∏ÄÊ£µÊ†ëÔºåkafkaÁöÑÁªÑ‰ª∂ÊääÂõûË∞ÉÂáΩÊï∞Ê≥®ÂÜåÂà∞zkÊ†ëËäÇÁÇπ‰∏ãÔºåÂú®ËäÇÁÇπÂèëÁîüÂèòÊõ¥Êó∂ÔºåzkÈÄöËøáÂõûË∞ÉÈÄöÁü•kafka„ÄÇ</p><h3 id="3-1-ControllerÈÄâ‰∏æ"><a href="#3-1-ControllerÈÄâ‰∏æ" class="headerlink" title="3.1 ControllerÈÄâ‰∏æ"></a>3.1 ControllerÈÄâ‰∏æ</h3><p>KafkaControllerÁöÑÈÄâ‰∏æËøáÁ®ãÊØîËæÉÁÆÄÂçïÔºåÊâÄÊúâÁöÑbrokerÂêØÂä®Êó∂ÔºåÊä¢Âç†Ê≥®ÂÜåZookeeperÁöÑ/ControllerËäÇÁÇπÔºåÊ≥®ÂÜåÊàêÂäüÂç≥Êàê‰∏∫Controller„ÄÇ‰º™‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">def elect: Boolean = &#123;</span><br><span class="line">    leaderId = getControllerID   // Êü•ËØ¢ÂΩìÂâçÈõÜÁæ§ControllerId</span><br><span class="line"></span><br><span class="line">    if(leaderId != -1) &#123;  // ControllerÊó©Â∑≤Â≠òÂú®‰∫Ü</span><br><span class="line">       return amILeader</span><br><span class="line">    &#125;</span><br><span class="line">    try &#123;</span><br><span class="line">        zkCheckedEphemeral.create()  // Ê≥®ÂÜåÂà∞zookeeper leaderËäÇÁÇπ</span><br><span class="line">    &#125; catch &#123;</span><br><span class="line">        case _: ZkNodeExistsException =&gt;   // leaderË¢´Âà´‰∫∫Ê≥®ÂÜåÔºåÊäõÂºÇÂ∏∏</span><br><span class="line">        leaderId = getControllerID</span><br><span class="line">    &#125;</span><br><span class="line">    return amILeader</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-2-ConsumerÂêØÂä®Ëß¶ÂèëRebalance"><a href="#3-2-ConsumerÂêØÂä®Ëß¶ÂèëRebalance" class="headerlink" title="3.2 ConsumerÂêØÂä®Ëß¶ÂèëRebalance"></a>3.2 ConsumerÂêØÂä®Ëß¶ÂèëRebalance</h3><p>Áî±‰∫éBrokerÊï∞ÈáèÈÄöÂ∏∏‰∏ç‰ºöÂæàÂ§öÔºåÊâÄ‰ª•ControllerÈÄâ‰∏æÈááÁî®Êä¢Âç†Ê≥®ÂÜåÁöÑÊñπÂºè‰∏ç‰ºöÁªôzookeeperÂ∏¶Êù•ÂæàÂ§ßÂéãÂäõ„ÄÇ</p><p>‰ΩÜÊòØÂØπ‰∫éConsumerËÄåË®ÄÔºå‰∏Ä‰∏™Â§ßÁöÑTopicÂèØËÉΩÂØπÂ∫îÂàõÂª∫‰∫ÜÊï∞ÈáèÂ∫ûÂ§ßÁöÑConsumerÔºåKafkaËÄÅÁâàÊú¨‰πüÁ°ÆÂÆûÊòØËøô‰πàÂÆûÁé∞ÁöÑÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÂ≠òÂú®‰∏§‰∏™ÈóÆÈ¢òÔºö</p><ul><li>ÁæäÁæ§ÊïàÂ∫îÔºö‰ªª‰Ωï‰∏Ä‰∏™ConsumerÁöÑÂ¢ûÂáèÈÉΩ‰ºöËß¶ÂèëÊâÄÊúâConsumerÁöÑRebalance</li><li>ËÑëË£ÇÊïàÂ∫îÔºöÊØè‰∏™ConsumerÂàÜÂà´ÂçïÁã¨ÈÄöËøáZookeeperÂà§Êñ≠Âì™‰∫õConsumer ÂÆïÊú∫‰∫ÜÔºåÈÇ£‰πà‰∏çÂêåConsumerÂú®Âêå‰∏ÄÊó∂Âàª‰ªéZookeeperÁúãÂà∞ÁöÑËßÜËßíÂ∞±ÂèØËÉΩ‰∏ç‰∏ÄÊ†∑„ÄÇËøôÂ∞±‰ºöÈÄ†Êàê‰∏çÊ≠£Á°ÆÁöÑReblanceÂ∞ùËØï„ÄÇ</li></ul><p>Êñ∞ÁâàÊú¨ÁöÑKafkaÂØπÊ≠§ÂÅö‰∫Ü‰ºòÂåñÔºå‰ΩøÁî®‰∫Ü‚ÄúÂçèË∞ÉÂëò‚ÄùËøô‰∏ÄËßíËâ≤Ôºå‰Ωú‰∏∫‚ÄúÊùÉÂ®Å‚Äù‚ÄúÊåáÊå•‚ÄùConsumer Rebalance</p><p>Êñ∞ÁâàÊú¨ÔºåConsumerÂêØÂä®ËøáÁ®ãÂ¶Ç‰∏ãÔºö</p><figure class="image-box">                <img src="5849ad51359fe5c181c7c4673b8f6da8.png" alt="image" title class>                <p>image</p>            </figure><ol><li>ConsumerÂêØÂä®ÔºåÂêë‰ªªÊÑè‰∏ÄÂè∞brokerÂèëÈÄÅËØ∑Ê±ÇÔºåÂæóÂà∞ÂìçÂ∫î„ÄÇÂìçÂ∫îÂÜÖÂÆπ‰∏∫‚ÄúÂçèË∞ÉÂëòÁöÑÂú∞ÂùÄ‚Äù„ÄÇ</li><li>ConsumerÊâæÂà∞Ëá™Â∑±ÁöÑCoordinatorÔºå<strong>ÊåÅÁª≠</strong>ÂèëÈÄÅÂøÉË∑≥ËØ∑Ê±Ç</li><li>ConsumerÂà§Êñ≠ÂøÉË∑≥ËØ∑Ê±ÇÁöÑÂìçÂ∫îÁöÑErrorCodeÔºåÂ¶ÇÊûúÊ≤°ÊúâÂºÇÂ∏∏ÂàôÊ∂àË¥πÊï∞ÊçÆ„ÄÇÂ¶ÇÊûúÊúâIllegalGenerationÂºÇÂ∏∏ÔºåËØ¥ÊòéCoordinatorÊ≠£Âú®ËÆ°ÁÆórebalanceÔºåÁªü‰∏ÄÁªôConsumerÂàÜÈÖçPartition„ÄÇ</li><li>ConsumerÁªôCoordinatorÂèëÈÄÅJonGroupËØ∑Ê±ÇÔºåÂæóÂà∞ÂìçÂ∫îÔºåÂæóÁü•Ëá™Â∑±Ë¢´ÂàÜÈÖç‰∫ÜÂì™‰∏™PartitionÔºåËøûÊé•ÈÇ£‰∏™partitionËøõË°åÊ∂àË¥π„ÄÇ</li></ol><h3 id="3-3-Leader-ReplicaÂÆïÊú∫Ëß¶ÂèëRebalance"><a href="#3-3-Leader-ReplicaÂÆïÊú∫Ëß¶ÂèëRebalance" class="headerlink" title="3.3 Leader ReplicaÂÆïÊú∫Ëß¶ÂèëRebalance"></a>3.3 Leader ReplicaÂÆïÊú∫Ëß¶ÂèëRebalance</h3><figure class="image-box">                <img src="c981ddff865953bf37066940aa92cc28.png" alt="image" title class>                <p>image</p>            </figure><p>ÂõæÔºöbrokerÂÆïÊú∫Ëß¶ÂèëreplicaÈÄâ‰∏æ</p><p>ReplicaÂàÜÂ∏ÉÂú®broker‰∏äÔºåReplica leaderÊéâÁ∫øÂÖ∂ÂÆûÂ∞±ÊòØleaderÊâÄÂú®ÁöÑbrokerÁöÑÂÆïÊú∫Ôºå‰ªéÂÆïÊú∫Âà∞ÈõÜÁæ§ÊÅ¢Â§çÁ®≥ÂÆöÊÄÅËøáÁ®ãÔºö</p><ol><li>BrokerÂêØÂä®ÔºåÂú®zookeeperÁöÑbroker/idsË∑ØÂæÑÊ≥®ÂÜå‰∏¥Êó∂ËäÇÁÇπ</li><li>ControllerÂêØÂä®ÔºåÊ≥®ÂÜåwatcherÂáΩÊï∞ÔºåÁõëÂê¨zookeeper‰∏äËø∞Ë∑ØÂæÑÁöÑËäÇÁÇπÂèòÂåñ</li><li>BrokerÂõ†‰∏∫ÁΩëÁªú„ÄÅÊñ≠Áîµ„ÄÅÊú∫Âô®ÊïÖÈöúÁ≠âÂéüÂõ†ÂÆïÊú∫</li><li>zookeeperÁõëÂê¨Âà∞brokerËäÇÁÇπÊéâÁ∫øÔºåËß¶ÂèëcontrollerÊ≥®ÂÜåÁöÑwatcherÔºåÈÄöËøáÂõûË∞ÉÂáΩÊï∞ÈÄöÁü•Controller</li><li>ControllerÂÜ≥ÂÆö‰∏Ä‰∏™set_pÈõÜÂêàÔºåÂåÖÂê´ÂÆïÊú∫broker‰∏äÁöÑÊâÄÊúâpartition</li><li>ÂØπ‰∫é‰∏äËø∞ÁöÑpartitionÔºåController‰ªé/brokers/topics/[topic]/partitions/[partition]/stateËØªÂèñËØ• Partition ÂΩìÂâçÁöÑ ISR</li><li>Controller‰ªé‰∏äËø∞ISR‰∏≠ÈÄâÂá∫Leader„ÄÇÈÄâ‰∏æÁÆóÊ≥ïÊòØquorumÔºàÊ≥ïÂÆö‰∫∫Êï∞ÔºâÁÆóÊ≥ïÔºåÈÄöËøáÊï∞ÊçÆÂÜó‰ΩôÊù•‰øùËØÅÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÁöÑÊäïÁ•®ÁÆóÊ≥ï„ÄÇÂØπ‰∫éKafkaËÄåË®ÄÔºåÈÄâ‰∏æ‰∫∫Êï∞Â∞±ÊòØISR„ÄÇ</li><li>ControllerÂ∞ÜÊñ∞ÁöÑ Leader„ÄÅISR ÂíåÊñ∞ÁöÑleader_epochÂèäcontroller_epochÂÜôÂÖ•/brokers/topics/[topic]/partitions/[partition]/state</li><li>Âêëset_pÁõ∏ÂÖ≥ÁöÑbrokerÂèëÈÄÅLeaderAndIsrRequestÈÄöÁü•ÂèóÂΩ±ÂìçÁöÑbrokerÊõ¥Êñ∞‰ø°ÊÅØ</li></ol><h3 id="3-4-topicÂàÜÈÖçÂà∞broker"><a href="#3-4-topicÂàÜÈÖçÂà∞broker" class="headerlink" title="3.4 topicÂàÜÈÖçÂà∞broker"></a>3.4 topicÂàÜÈÖçÂà∞broker</h3><ol><li>Áî®Êà∑Ë∞ÉÁî®ËÑöÊú¨ÂàõÂª∫topicÔºåÊåáÂÆöÂàÜÂå∫Êï∞ÂíåÂâØÊú¨Êï∞</li><li>ControllerÊé•Êî∂CreateTopicËØ∑Ê±ÇÔºåËÆ°ÁÆóbroker‰∏épartitionÁöÑÂØπÂ∫îÂÖ≥Á≥ª</li><li>ControllerÂêëBrokerÂèëÈÄÅLeaderAndIsrËØ∑Ê±ÇÔºåÈÄöÁü•BrokerÊúâ‰∫ÜÊñ∞ÁöÑTopicÔºåÂêÑbrokerË¥üË¥£ÂàõÂª∫Partition</li></ol><p>ÂâØÊú¨ÂàÜÈÖçÁÆóÊ≥ïÔºö</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">* To achieve this goal for replica assignment without considering racks, we:</span><br><span class="line">* 1. Assign the first replica of each partition by round-robin, starting from a random position in the broker list.</span><br><span class="line">* 2. Assign the remaining replicas of each partition with an increasing shift.</span><br><span class="line">*</span><br><span class="line">* Here is an example of assigning</span><br><span class="line">* broker-0  broker-1  broker-2  broker-3  broker-4</span><br><span class="line">* p0        p1        p2        p3        p4       (1st replica)</span><br><span class="line">* p5        p6        p7        p8        p9       (1st replica)</span><br><span class="line">* p4        p0        p1        p2        p3       (2nd replica)</span><br><span class="line">* p8        p9        p5        p6        p7       (2nd replica)</span><br><span class="line">* p3        p4        p0        p1        p2       (3nd replica)</span><br><span class="line">* p7        p8        p9        p5        p6       (3nd replica)</span><br></pre></td></tr></table></figure><hr><h1 id="Áü•ËØÜÁÇπ"><a href="#Áü•ËØÜÁÇπ" class="headerlink" title="Áü•ËØÜÁÇπ"></a>Áü•ËØÜÁÇπ</h1><ul><li><p>kafka‰ΩøÁî®tcp, ioÂ§öË∑ØÂ§çÁî®Âç≥‰ø°Âè∑È©±Âä®io, Áîü‰∫ßËÄÖÊúâÂêåÊ≠•ÂíåÂºÇÊ≠•2ÁßçÁ±ªÂûã</p></li><li><p>ÈÄâÊã©Áî±producerÂêëbroker pushÊ∂àÊÅØÂπ∂Áî±consumer‰ªébroker pullÊ∂àÊÅØ„ÄÇ</p></li><li><p>kafkaÂíånsqÂØπÊØîÔºö</p><ul><li>kafkaÊòØpullÔºåÊúâÂ∫èÔºåÂêûÂêêÈ´òÔºõnsqÊ∂àÊÅØÊòØÊó†Â∫èÁöÑÔºåÂêûÂêê‰ΩéÔºåÊúârequeueÂíådeferÂäüËÉΩÔºå‰∏çÊåÅ‰πÖÂåñÔºå‰∏çÂèØÂõûÊ∫ØÔºåpullÔºåÁî®ÂÜÖÂ≠òÔºåÊâÄ‰ª•ÈÄüÂ∫¶Âø´„ÄÇ</li></ul></li><li><p>kafkaÊï∞ÊçÆÂèØÈù†ÊÄßÂíåÈáçÂ§çÊ∂àË¥π</p><ol><li>ÈúÄË¶ÅÊ∂àË¥πËÄÖÊìç‰ΩúÂπÇÁ≠âÔºåÊù•‰øùËØÅÈáçÂ§çÊ∂àË¥πÊó†ÂΩ±Âìç</li><li>Â§ÑÁêÜÂêéÊèê‰∫§commitÔºå‰øùËØÅÊ∂àÊÅØË¢´Ê∂àË¥πÂà∞Ôºå‰∫ãÂä°‰øùËØÅ</li><li>Áîü‰∫ßËÄÖÁîü‰∫ßÊ∂àÊÅØÂ§±Ë¥•Êó∂ÔºåÊä•error„ÄÇ</li><li>Â¶ÇÊûúË¶Å‰øùËØÅÊúâÂ∫èÔºåËÆ©Ê∂àÊÅØÂà∞1‰∏™partitionÂ∞±Ë°å‰∫ÜÔºåpartitionÂÜÖÈÉ®Ê∂àË¥πÊòØÊúâÂ∫èÁöÑ</li></ol></li><li><p>kafkaÂü∫‰∫ézk.</p></li><li><p>kafkaÊòØÂèëÂ∏É-ËÆ¢ÈòÖÊ®°Âûã„ÄÇ</p></li><li><p>Zookeeper ‰∏ªË¶Å‰∏∫ Kafka ÂÅö‰∫Ü‰∏ãÈù¢Ëøô‰∫õ‰∫ãÊÉÖÔºö</p><ol><li><strong>Broker Ê≥®ÂÜå</strong> ÔºöÂú® Zookeeper ‰∏ä‰ºöÊúâ‰∏Ä‰∏™‰∏ìÈó®<strong>Áî®Êù•ËøõË°å Broker ÊúçÂä°Âô®ÂàóË°®ËÆ∞ÂΩï</strong>ÁöÑËäÇÁÇπ„ÄÇÊØè‰∏™ Broker Âú®ÂêØÂä®Êó∂ÔºåÈÉΩ‰ºöÂà∞ Zookeeper ‰∏äËøõË°åÊ≥®ÂÜåÔºåÂç≥Âà∞/brokers/ids ‰∏ãÂàõÂª∫Â±û‰∫éËá™Â∑±ÁöÑËäÇÁÇπ„ÄÇÊØè‰∏™ Broker Â∞±‰ºöÂ∞ÜËá™Â∑±ÁöÑ IP Âú∞ÂùÄÂíåÁ´ØÂè£Á≠â‰ø°ÊÅØËÆ∞ÂΩïÂà∞ËØ•ËäÇÁÇπ‰∏≠Âéª</li><li><strong>Topic Ê≥®ÂÜå</strong> Ôºö Âú® Kafka ‰∏≠ÔºåÂêå‰∏Ä‰∏™<strong>Topic ÁöÑÊ∂àÊÅØ‰ºöË¢´ÂàÜÊàêÂ§ö‰∏™ÂàÜÂå∫</strong>Âπ∂Â∞ÜÂÖ∂ÂàÜÂ∏ÉÂú®Â§ö‰∏™ Broker ‰∏äÔºå<strong>Ëøô‰∫õÂàÜÂå∫‰ø°ÊÅØÂèä‰∏é Broker ÁöÑÂØπÂ∫îÂÖ≥Á≥ª</strong>‰πüÈÉΩÊòØÁî± Zookeeper Âú®Áª¥Êä§„ÄÇÊØîÂ¶ÇÊàëÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂêçÂ≠ó‰∏∫ my-topic ÁöÑ‰∏ªÈ¢òÂπ∂‰∏îÂÆÉÊúâ‰∏§‰∏™ÂàÜÂå∫ÔºåÂØπÂ∫îÂà∞ zookeeper ‰∏≠‰ºöÂàõÂª∫Ëøô‰∫õÊñá‰ª∂Â§πÔºö<code>/brokers/topics/my-topic/Partitions/0</code>„ÄÅ<code>/brokers/topics/my-topic/Partitions/1</code></li><li><strong>Ë¥üËΩΩÂùáË°°</strong> Ôºö‰∏äÈù¢‰πüËØ¥Ëøá‰∫Ü Kafka ÈÄöËøáÁªôÁâπÂÆö Topic ÊåáÂÆöÂ§ö‰∏™ Partition, ËÄåÂêÑ‰∏™ Partition ÂèØ‰ª•ÂàÜÂ∏ÉÂú®‰∏çÂêåÁöÑ Broker ‰∏ä, ËøôÊ†∑‰æøËÉΩÊèê‰æõÊØîËæÉÂ•ΩÁöÑÂπ∂ÂèëËÉΩÂäõ„ÄÇ ÂØπ‰∫éÂêå‰∏Ä‰∏™ Topic ÁöÑ‰∏çÂêå PartitionÔºåKafka ‰ºöÂ∞ΩÂäõÂ∞ÜËøô‰∫õ Partition ÂàÜÂ∏ÉÂà∞‰∏çÂêåÁöÑ Broker ÊúçÂä°Âô®‰∏ä„ÄÇÂΩìÁîü‰∫ßËÄÖ‰∫ßÁîüÊ∂àÊÅØÂêé‰πü‰ºöÂ∞ΩÈáèÊäïÈÄíÂà∞‰∏çÂêå Broker ÁöÑ Partition ÈáåÈù¢„ÄÇÂΩì Consumer Ê∂àË¥πÁöÑÊó∂ÂÄôÔºåZookeeper ÂèØ‰ª•Ê†πÊçÆÂΩìÂâçÁöÑ Partition Êï∞Èáè‰ª•Âèä Consumer Êï∞ÈáèÊù•ÂÆûÁé∞Âä®ÊÄÅË¥üËΩΩÂùáË°°„ÄÇ</li><li>‚Ä¶‚Ä¶</li></ol></li><li><p>ISR:In-Sync Replicas ÂâØÊú¨ÂêåÊ≠•ÈòüÂàó AR:Assigned Replicas ÊâÄÊúâÂâØÊú¨</p><p>HW:High Watermark È´òÊ∞¥‰ΩçÔºåÂèñ‰∏Ä‰∏™partitionÂØπÂ∫îÁöÑISR‰∏≠ÊúÄÂ∞èÁöÑLEO‰Ωú‰∏∫HWÔºåconsumerÊúÄÂ§öÂè™ËÉΩÊ∂àË¥πÂà∞HWÊâÄÂú®ÁöÑ‰ΩçÁΩÆ‰∏ä‰∏ÄÊù°‰ø°ÊÅØ„ÄÇ</p><p>LEO:LogEndOffset ÂΩìÂâçÊó•ÂøóÊñá‰ª∂‰∏≠‰∏ã‰∏ÄÊù°ÂæÖÂÜô‰ø°ÊÅØÁöÑoffset</p><p>HW/LEOËøô‰∏§‰∏™ÈÉΩÊòØÊåáÊúÄÂêé‰∏ÄÊù°ÁöÑ‰∏ã‰∏ÄÊù°ÁöÑ‰ΩçÁΩÆËÄå‰∏çÊòØÊåáÊúÄÂêé‰∏ÄÊù°ÁöÑ‰ΩçÁΩÆ„ÄÇ</p><p>LSO:Last Stable Offset ÂØπÊú™ÂÆåÊàêÁöÑ‰∫ãÂä°ËÄåË®ÄÔºåLSO ÁöÑÂÄºÁ≠â‰∫é‰∫ãÂä°‰∏≠Á¨¨‰∏ÄÊù°Ê∂àÊÅØÁöÑ‰ΩçÁΩÆ(firstUnstableOffset)ÔºåÂØπÂ∑≤ÂÆåÊàêÁöÑ‰∫ãÂä°ËÄåË®ÄÔºåÂÆÉÁöÑÂÄºÂêå HW Áõ∏Âêå</p><p>LW:Low Watermark ‰ΩéÊ∞¥‰Ωç, ‰ª£Ë°® AR ÈõÜÂêà‰∏≠ÊúÄÂ∞èÁöÑ logStartOffset ÂÄº</p></li></ul><h2 id="Èù¢ËØïÈ¢ò"><a href="#Èù¢ËØïÈ¢ò" class="headerlink" title="Èù¢ËØïÈ¢ò"></a>Èù¢ËØïÈ¢ò</h2><ul><li><a href="https://juejin.cn/post/6844903889003610119" target="_blank" rel="noopener">kafkaÈù¢ËØïÈ¢ò</a></li><li><a href="https://github.com/Snailclimb/JavaGuide/blob/master/docs/system-design/distributed-system/message-queue/KafkaÂ∏∏ËßÅÈù¢ËØïÈ¢òÊÄªÁªì.md">kafkaÈù¢ËØïÈ¢ò2</a></li><li><a href="http://trumandu.github.io/2019/04/13/KafkaÈù¢ËØïÈ¢ò‰∏éÁ≠îÊ°àÂÖ®Â•óÊï¥ÁêÜ/" target="_blank" rel="noopener">Êï¥ÁêÜÔºåÁ≠îÊ°à‰∏çÂÖ®ÁöÑ</a></li><li><a href="https://cloud.tencent.com/developer/article/1541215" target="_blank" rel="noopener">Èù¢ËØïÈ¢ò3</a></li></ul><h2 id="ÊéßÂà∂Âô®Controller"><a href="#ÊéßÂà∂Âô®Controller" class="headerlink" title="ÊéßÂà∂Âô®Controller"></a>ÊéßÂà∂Âô®Controller</h2><ul><li><p>ÊéßÂà∂Âô®ÊòØÂ¶Ç‰ΩïË¢´ÈÄâÂá∫Êù•ÁöÑÔºü</p><ul><li><p>‰Ω†‰∏ÄÂÆöÂæàÊÉ≥Áü•ÈÅìÔºåÊéßÂà∂Âô®ÊòØÂ¶Ç‰ΩïË¢´ÈÄâÂá∫Êù•ÁöÑÂë¢ÔºüÊàë‰ª¨ÂàöÂàöÂú®ÂâçÈù¢ËØ¥ËøáÔºåÊØèÂè∞ Broker ÈÉΩËÉΩÂÖÖÂΩìÊéßÂà∂Âô®ÔºåÈÇ£‰πàÔºåÂΩìÈõÜÁæ§ÂêØÂä®ÂêéÔºåKafka ÊÄé‰πàÁ°ÆËÆ§ÊéßÂà∂Âô®‰Ωç‰∫éÂì™Âè∞ Broker Âë¢Ôºü</p><p>ÂÆûÈôÖ‰∏äÔºåBroker Âú®ÂêØÂä®Êó∂Ôºå‰ºöÂ∞ùËØïÂéª ZooKeeper ‰∏≠ÂàõÂª∫ /controller ËäÇÁÇπ„ÄÇKafka ÂΩìÂâçÈÄâ‰∏æÊéßÂà∂Âô®ÁöÑËßÑÂàôÊòØÔºöÁ¨¨‰∏Ä‰∏™ÊàêÂäüÂàõÂª∫ /controller ËäÇÁÇπÁöÑ Broker ‰ºöË¢´ÊåáÂÆö‰∏∫ÊéßÂà∂Âô®„ÄÇ</p></li></ul></li><li><p>ÊéßÂà∂Âô®ÊòØÂÅö‰ªÄ‰πàÁöÑÔºü</p><ul><li><p>1.‰∏ªÈ¢òÁÆ°ÁêÜÔºàÂàõÂª∫„ÄÅÂà†Èô§„ÄÅÂ¢ûÂä†ÂàÜÂå∫Ôºâ</p><p>2.ÂàÜÂå∫ÈáçÂàÜÈÖç</p><p>3.Preferred È¢ÜÂØºËÄÖÈÄâ‰∏æ</p><p>4.ÈõÜÁæ§ÊàêÂëòÁÆ°ÁêÜÔºàÊñ∞Â¢û Broker„ÄÅBroker ‰∏ªÂä®ÂÖ≥Èó≠„ÄÅBroker ÂÆïÊú∫Ôºâ</p><p>5.Êï∞ÊçÆÊúçÂä°</p></li></ul></li><li><p>‰øùÂ≠òÁöÑÊï∞ÊçÆÔºö</p></li><li><figure class="image-box">                <img src="20210523170815.png" alt="image-20210523170815843" title class>                <p>image-20210523170815843</p>            </figure></li></ul><h2 id="consumerÁÆ°ÁêÜoffset"><a href="#consumerÁÆ°ÁêÜoffset" class="headerlink" title="consumerÁÆ°ÁêÜoffset"></a>consumerÁÆ°ÁêÜoffset</h2><p><strong>kafkaÂÜÖÈÉ®Êúâ‰∏™‰∏ªÈ¢òÔºå__consumer_offset</strong></p><p>ËÄÅÁâàÊú¨ Consumer ÁöÑ‰ΩçÁßªÁÆ°ÁêÜÊòØ‰æùÊâò‰∫é Apache ZooKeeper ÁöÑÔºåÂÆÉ‰ºöËá™Âä®ÊàñÊâãÂä®Âú∞Â∞Ü‰ΩçÁßªÊï∞ÊçÆÊèê‰∫§Âà∞ ZooKeeper ‰∏≠‰øùÂ≠ò„ÄÇÂΩì Consumer ÈáçÂêØÂêéÔºåÂÆÉËÉΩËá™Âä®‰ªé ZooKeeper ‰∏≠ËØªÂèñ‰ΩçÁßªÊï∞ÊçÆÔºå‰ªéËÄåÂú®‰∏äÊ¨°Ê∂àË¥πÊà™Ê≠¢ÁöÑÂú∞ÊñπÁªßÁª≠Ê∂àË¥π„ÄÇËøôÁßçËÆæËÆ°‰ΩøÂæó Kafka Broker ‰∏çÈúÄË¶Å‰øùÂ≠ò‰ΩçÁßªÊï∞ÊçÆÔºåÂáèÂ∞ë‰∫Ü Broker Á´ØÈúÄË¶ÅÊåÅÊúâÁöÑÁä∂ÊÄÅÁ©∫Èó¥ÔºåÂõ†ËÄåÊúâÂà©‰∫éÂÆûÁé∞È´ò‰º∏Áº©ÊÄß„ÄÇ</p><p>‰ΩÜÊòØÔºåZooKeeper ÂÖ∂ÂÆûÂπ∂‰∏çÈÄÇÁî®‰∫éËøôÁßçÈ´òÈ¢ëÁöÑÂÜôÊìç‰ΩúÔºåÂõ†Ê≠§ÔºåKafka Á§æÂå∫Ëá™ 0.8.2.x ÁâàÊú¨ÂºÄÂßãÔºåÂ∞±Âú®ÈÖùÈÖø‰øÆÊîπËøôÁßçËÆæËÆ°ÔºåÂπ∂ÊúÄÁªàÂú®Êñ∞ÁâàÊú¨ Consumer ‰∏≠Ê≠£ÂºèÊé®Âá∫‰∫ÜÂÖ®Êñ∞ÁöÑ‰ΩçÁßªÁÆ°ÁêÜÊú∫Âà∂ÔºåËá™ÁÑ∂‰πüÂåÖÊã¨Ëøô‰∏™Êñ∞ÁöÑ‰ΩçÁßª‰∏ªÈ¢ò„ÄÇ</p><p>Êñ∞ÁâàÊú¨ Consumer ÁöÑ‰ΩçÁßªÁÆ°ÁêÜÊú∫Âà∂ÂÖ∂ÂÆû‰πüÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÂ∞Ü Consumer ÁöÑ‰ΩçÁßªÊï∞ÊçÆ‰Ωú‰∏∫‰∏ÄÊù°Êù°ÊôÆÈÄöÁöÑ Kafka Ê∂àÊÅØÔºåÊèê‰∫§Âà∞ <strong>consumer_offsets ‰∏≠„ÄÇÂèØ‰ª•Ëøô‰πàËØ¥Ôºå</strong>consumer_offsets ÁöÑ‰∏ªË¶Å‰ΩúÁî®ÊòØ‰øùÂ≠ò Kafka Ê∂àË¥πËÄÖÁöÑ‰ΩçÁßª‰ø°ÊÅØ„ÄÇÂÆÉË¶ÅÊ±ÇËøô‰∏™Êèê‰∫§ËøáÁ®ã‰∏ç‰ªÖË¶ÅÂÆûÁé∞È´òÊåÅ‰πÖÊÄßÔºåËøòË¶ÅÊîØÊåÅÈ´òÈ¢ëÁöÑÂÜôÊìç‰Ωú„ÄÇÊòæÁÑ∂ÔºåKafka ÁöÑ‰∏ªÈ¢òËÆæËÆ°Â§©ÁÑ∂Â∞±Êª°Ë∂≥Ëøô‰∏§‰∏™Êù°‰ª∂ÔºåÂõ†Ê≠§Ôºå‰ΩøÁî® Kafka ‰∏ªÈ¢òÊù•‰øùÂ≠ò‰ΩçÁßªËøô‰ª∂‰∫ãÊÉÖÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØ‰∏Ä‰∏™Ê∞¥Âà∞Ê∏†ÊàêÁöÑÊÉ≥Ê≥ï‰∫Ü„ÄÇ</p><p>‰ΩçÁßª‰∏ªÈ¢òÁöÑ Key ‰∏≠Â∫îËØ•‰øùÂ≠ò 3 ÈÉ®ÂàÜÂÜÖÂÆπÔºögourpId, topic, partitionId</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Ê∂àÊÅØÈòüÂàó&quot;&gt;&lt;a href=&quot;#Ê∂àÊÅØÈòüÂàó&quot; class=&quot;headerlink&quot; title=&quot;Ê∂àÊÅØÈòüÂàó&quot;&gt;&lt;/a&gt;Ê∂àÊÅØÈòüÂàó&lt;/h1&gt;&lt;p&gt;È¶ñÂÖà‰∫ÜËß£‰∏Ä‰∏ã‰ΩøÁî®ÂàÜÂ∏ÉÂºèÊ∂àÊÅØÈòüÂàóÁöÑ‰ºòÁÇπÔºåÊÄªÁªì‰∏ªË¶ÅÂåÖÊã¨‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢Ôºö&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Ëß£ËÄ¶ tags: None</summary>
      
    
    
    
    <category term="‰∏≠Èó¥‰ª∂" scheme="https://github.com/missionOdd/categories/‰∏≠Èó¥‰ª∂/"/>
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/categories/‰∏≠Èó¥‰ª∂/ÊäÄÊúØ/"/>
    
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/tags/ÊäÄÊúØ/"/>
    
    <category term="ÂéüÁêÜ" scheme="https://github.com/missionOdd/tags/ÂéüÁêÜ/"/>
    
    <category term="Ê∂àÊÅØÈòüÂàó" scheme="https://github.com/missionOdd/tags/Ê∂àÊÅØÈòüÂàó/"/>
    
    <category term="kafka" scheme="https://github.com/missionOdd/tags/kafka/"/>
    
  </entry>
  
  <entry>
    <title>TomcatÊû∂ÊûÑÂéüÁêÜËß£ÊûêÂà∞Êû∂ÊûÑËÆæËÆ°ÂÄüÈâ¥</title>
    <link href="https://github.com/missionOdd/2021/12/06/tomcat-architecture/"/>
    <id>https://github.com/missionOdd/2021/12/06/tomcat-architecture/</id>
    <published>2021-12-06T05:50:37.000Z</published>
    <updated>2022-02-08T02:32:05.699Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Tomcat-Êû∂ÊûÑÂéüÁêÜËß£ÊûêÂà∞Êû∂ÊûÑËÆæËÆ°ÂÄüÈâ¥"><a href="#Tomcat-Êû∂ÊûÑÂéüÁêÜËß£ÊûêÂà∞Êû∂ÊûÑËÆæËÆ°ÂÄüÈâ¥" class="headerlink" title="Tomcat Êû∂ÊûÑÂéüÁêÜËß£ÊûêÂà∞Êû∂ÊûÑËÆæËÆ°ÂÄüÈâ¥"></a>Tomcat Êû∂ÊûÑÂéüÁêÜËß£ÊûêÂà∞Êû∂ÊûÑËÆæËÆ°ÂÄüÈâ¥</h1><blockquote><p>Tomcat ÂèëÂ±ïËøô‰πàÂ§öÂπ¥ÔºåÂ∑≤ÁªèÊØîËæÉÊàêÁÜüÁ®≥ÂÆö„ÄÇÂú®Â¶Ç‰ªä„ÄéËøΩÊñ∞Ê±ÇÂø´„ÄèÁöÑÊó∂‰ª£ÔºåTomcat ‰Ωú‰∏∫ Java Web ÂºÄÂèëÂøÖÂ§áÁöÑÂ∑•ÂÖ∑‰ºº‰πéÂèòÊàê‰∫Ü„ÄéÁÜüÊÇâÁöÑÈôåÁîü‰∫∫„ÄèÔºåÈöæÈÅìËØ¥Â¶Ç‰ªäÂ∞±Ê≤°ÊúâÂøÖË¶ÅÊ∑±ÂÖ•Â≠¶‰π†ÂÆÉ‰∫Ü‰πàÔºüÂ≠¶‰π†ÂÆÉÊàë‰ª¨ÂèàÊúâ‰ªÄ‰πàÊî∂Ëé∑Âë¢Ôºü</p></blockquote><p><strong>Èùô‰∏ãÂøÉÊù•ÔºåÁªÜÁªÜÂìÅÂë≥ÁªèÂÖ∏ÁöÑÂºÄÊ∫ê‰ΩúÂìÅ</strong> „ÄÇÊèêÂçáÊàë‰ª¨ÁöÑ„ÄåÂÜÖÂäü„ÄçÔºåÂÖ∑‰ΩìÊù•ËØ¥Â∞±ÊòØÂ≠¶‰π†Â§ßÁâõ‰ª¨Â¶Ç‰ΩïËÆæËÆ°„ÄÅÊû∂ÊûÑ‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Á≥ªÁªüÔºåÂπ∂‰∏îËÆ©Ëøô‰∫õÁªèÈ™å‰∏∫ÊàëÊâÄÁî®„ÄÇ</p><p>ÁæéÂ•ΩÁöÑ‰∫ãÁâ©ÂæÄÂæÄÊòØÊï¥Ê¥ÅËÄå‰ºòÈõÖÁöÑ„ÄÇ‰ΩÜËøôÂπ∂‰∏çÁ≠â‰∫éÁÆÄÂçïÔºåËÄåÊòØË¶ÅÂ∞ÜÂ§çÊùÇÁöÑÁ≥ªÁªüÂàÜËß£Êàê‰∏Ä‰∏™‰∏™Â∞èÊ®°ÂùóÔºåÂπ∂‰∏îÂêÑ‰∏™Ê®°ÂùóÁöÑËÅåË¥£ÂàíÂàÜ‰πüË¶ÅÊ∏ÖÊô∞ÂêàÁêÜ„ÄÇ</p><p>‰∏éÊ≠§Áõ∏ÂèçÁöÑÊòØÂáå‰π±Êó†Â∫èÔºåÊØîÂ¶Ç‰Ω†ÁúãÂà∞Âüé‰∏≠Êùë‰∏ÄÂ†Ü‰∫íÁõ∏Á∫†Áº†Âú®‰∏ÄËµ∑ÁöÑÁîµÁ∫øÔºåÂèØËÉΩ‰ºöÊÑüÂà∞‰∏çÈÄÇ„ÄÇÁª¥Êä§ÁöÑ‰ª£Á†Å‰∏Ä‰∏™Á±ªÂá†ÂçÉË°å„ÄÅ‰∏Ä‰∏™ÊñπÊ≥ïÂ•ΩÂá†ÁôæË°å„ÄÇÊñπÊ≥ï‰πãÈó¥Áõ∏‰∫íËÄ¶ÂêàÁ≥ÖÊùÇÂú®‰∏ÄËµ∑Ôºå‰Ω†ÂèØËÉΩ‰ºöËØ¥ what the f*kÔºÅ</p><figure class="image-box">                <img src="1f3cb57ab959b4592513f10ba9cbd1ed.webp" alt="img" title class>                <p>img</p>            </figure><h2 id="Â≠¶‰π†ÁõÆÁöÑ"><a href="#Â≠¶‰π†ÁõÆÁöÑ" class="headerlink" title="Â≠¶‰π†ÁõÆÁöÑ"></a>Â≠¶‰π†ÁõÆÁöÑ</h2><h3 id="ÊéåÊè°-Tomcat-Êû∂ÊûÑËÆæËÆ°‰∏éÂéüÁêÜÊèêÈ´òÂÜÖÂäü"><a href="#ÊéåÊè°-Tomcat-Êû∂ÊûÑËÆæËÆ°‰∏éÂéüÁêÜÊèêÈ´òÂÜÖÂäü" class="headerlink" title="ÊéåÊè° Tomcat Êû∂ÊûÑËÆæËÆ°‰∏éÂéüÁêÜÊèêÈ´òÂÜÖÂäü"></a>ÊéåÊè° Tomcat Êû∂ÊûÑËÆæËÆ°‰∏éÂéüÁêÜÊèêÈ´òÂÜÖÂäü</h3><p><strong>ÂÆèËßÇ‰∏äÁúã</strong></p><p>Tomcat ‰Ωú‰∏∫‰∏Ä‰∏™ „Äå<code>Http</code> ÊúçÂä°Âô® + <code>Servlet</code> ÂÆπÂô®„ÄçÔºåÂØπÊàë‰ª¨Â±èËîΩ‰∫ÜÂ∫îÁî®Â±ÇÂçèËÆÆÂíåÁΩëÁªúÈÄö‰ø°ÁªÜËäÇÔºåÁªôÊàë‰ª¨ÁöÑÊòØÊ†áÂáÜÁöÑ <code>Request</code> Âíå <code>Response</code> ÂØπË±°ÔºõÂØπ‰∫éÂÖ∑‰ΩìÁöÑ‰∏öÂä°ÈÄªËæëÂàô‰Ωú‰∏∫ÂèòÂåñÁÇπÔºå‰∫§ÁªôÊàë‰ª¨Êù•ÂÆûÁé∞„ÄÇÊàë‰ª¨‰ΩøÁî®‰∫Ü<code>SpringMVC</code> ‰πãÁ±ªÁöÑÊ°ÜÊû∂ÔºåÂèØÊòØÂç¥‰ªéÊù•‰∏çÈúÄË¶ÅËÄÉËôë <code>TCP</code> ËøûÊé•„ÄÅ <code>Http</code> ÂçèËÆÆÁöÑÊï∞ÊçÆÂ§ÑÁêÜ‰∏éÂìçÂ∫î„ÄÇÂ∞±ÊòØÂõ†‰∏∫ Tomcat Â∑≤Áªè‰∏∫Êàë‰ª¨ÂÅöÂ•Ω‰∫ÜËøô‰∫õÔºåÊàë‰ª¨Âè™ÈúÄË¶ÅÂÖ≥Ê≥®ÊØè‰∏™ËØ∑Ê±ÇÁöÑÂÖ∑‰Ωì‰∏öÂä°ÈÄªËæë„ÄÇ</p><p><strong>ÂæÆËßÇ‰∏äÁúã</strong></p><p><code>Tomcat</code> ÂÜÖÈÉ®‰πüÈöîÁ¶ª‰∫ÜÂèòÂåñÁÇπ‰∏é‰∏çÂèòÁÇπÔºå‰ΩøÁî®‰∫ÜÁªÑ‰ª∂ÂåñËÆæËÆ°ÔºåÁõÆÁöÑÂ∞±ÊòØ‰∏∫‰∫ÜÂÆûÁé∞„Äå‰øÑÁΩóÊñØÂ•óÂ®ÉÂºè„ÄçÁöÑÈ´òÂ∫¶ÂÆöÂà∂ÂåñÔºàÁªÑÂêàÊ®°ÂºèÔºâÔºåËÄåÊØè‰∏™ÁªÑ‰ª∂ÁöÑÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜÂèàÊúâ‰∏Ä‰∫õÂÖ±ÊÄßÁöÑ‰∏úË•øÔºåÂàôË¢´ÊèêÂèñÂá∫Êù•Êàê‰∏∫Êé•Âè£ÂíåÊäΩË±°Á±ªÔºåËÆ©ÂÖ∑‰ΩìÂ≠êÁ±ªÂÆûÁé∞ÂèòÂåñÁÇπÔºå‰πüÂ∞±ÊòØÊ®°ÊùøÊñπÊ≥ïËÆæËÆ°Ê®°Âºè„ÄÇ</p><p>ÂΩì‰ªäÊµÅË°åÁöÑÂæÆÊúçÂä°‰πüÊòØËøô‰∏™ÊÄùË∑ØÔºåÊåâÁÖßÂäüËÉΩÂ∞ÜÂçï‰ΩìÂ∫îÁî®ÊãÜÊàê„ÄåÂæÆÊúçÂä°„ÄçÔºåÊãÜÂàÜËøáÁ®ãË¶ÅÂ∞ÜÂÖ±ÊÄßÊèêÂèñÂá∫Êù•ÔºåËÄåËøô‰∫õÂÖ±ÊÄßÂ∞±‰ºöÊàê‰∏∫Ê†∏ÂøÉÁöÑÂü∫Á°ÄÊúçÂä°ÊàñËÄÖÈÄöÁî®Â∫ì„ÄÇ„Äå‰∏≠Âè∞„ÄçÊÄùÊÉ≥‰∫¶ÊòØÂ¶ÇÊ≠§„ÄÇ</p><p>ËÆæËÆ°Ê®°ÂºèÂæÄÂæÄÂ∞±ÊòØÂ∞ÅË£ÖÂèòÂåñÁöÑ‰∏ÄÊääÂà©Âô®ÔºåÂêàÁêÜÁöÑËøêÁî®ËÆæËÆ°Ê®°ÂºèËÉΩËÆ©Êàë‰ª¨ÁöÑ‰ª£Á†Å‰∏éÁ≥ªÁªüËÆæËÆ°ÂèòÂæó‰ºòÈõÖ‰∏îÊï¥Ê¥Å„ÄÇ</p><p>ËøôÂ∞±ÊòØÂ≠¶‰π†‰ºòÁßÄÂºÄÊ∫êËΩØ‰ª∂ËÉΩËé∑ÂæóÁöÑ„ÄåÂÜÖÂäü„ÄçÔºå‰ªé‰∏ç‰ºöËøáÊó∂ÔºåÂÖ∂‰∏≠ÁöÑËÆæËÆ°ÊÄùÊÉ≥‰∏éÂì≤Â≠¶ÊâçÊòØÊ†πÊú¨‰πãÈÅì„ÄÇ‰ªé‰∏≠ÂÄüÈâ¥ËÆæËÆ°ÁªèÈ™åÔºåÂêàÁêÜËøêÁî®ËÆæËÆ°Ê®°ÂºèÂ∞ÅË£ÖÂèò‰∏é‰∏çÂèòÔºåÊõ¥ËÉΩ‰ªéÂÆÉ‰ª¨ÁöÑÊ∫êÁ†Å‰∏≠Ê±≤ÂèñÁªèÈ™åÔºåÊèêÂçáËá™Â∑±ÁöÑÁ≥ªÁªüËÆæËÆ°ËÉΩÂäõ„ÄÇ</p><h3 id="ÂÆèËßÇÁêÜËß£‰∏Ä‰∏™ËØ∑Ê±ÇÂ¶Ç‰Ωï‰∏é-Spring-ËÅîÁ≥ªËµ∑Êù•"><a href="#ÂÆèËßÇÁêÜËß£‰∏Ä‰∏™ËØ∑Ê±ÇÂ¶Ç‰Ωï‰∏é-Spring-ËÅîÁ≥ªËµ∑Êù•" class="headerlink" title="ÂÆèËßÇÁêÜËß£‰∏Ä‰∏™ËØ∑Ê±ÇÂ¶Ç‰Ωï‰∏é Spring ËÅîÁ≥ªËµ∑Êù•"></a>ÂÆèËßÇÁêÜËß£‰∏Ä‰∏™ËØ∑Ê±ÇÂ¶Ç‰Ωï‰∏é Spring ËÅîÁ≥ªËµ∑Êù•</h3><p>Âú®Â∑•‰ΩúËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨ÂØπ Java ËØ≠Ê≥ïÂ∑≤ÁªèÂæàÁÜüÊÇâ‰∫ÜÔºåÁîöËá≥„ÄåËÉå„ÄçËøá‰∏Ä‰∫õËÆæËÆ°Ê®°ÂºèÔºåÁî®ËøáÂæàÂ§ö Web Ê°ÜÊû∂Ôºå‰ΩÜÊòØÂæàÂ∞ëÊúâÊú∫‰ºöÂ∞Ü‰ªñ‰ª¨Áî®Âà∞ÂÆûÈôÖÈ°πÁõÆ‰∏≠ÔºåËÆ©Ëá™Â∑±Áã¨Á´ãËÆæËÆ°‰∏Ä‰∏™Á≥ªÁªü‰ºº‰πé‰πüÊòØÊ†πÊçÆÈúÄÊ±Ç‰∏Ä‰∏™‰∏™ Service ÂÆûÁé∞ËÄåÂ∑≤„ÄÇËÑëÂ≠êÈáå‰ºº‰πéÊ≤°Êúâ‰∏ÄÂº† Java Web ÂºÄÂèëÂÖ®ÊôØÂõæÔºåÊØîÂ¶ÇÊàëÂπ∂‰∏çÁü•ÈÅìÊµèËßàÂô®ÁöÑËØ∑Ê±ÇÊòØÊÄé‰πàË∑ü Spring ‰∏≠ÁöÑ‰ª£Á†ÅËÅîÁ≥ªËµ∑Êù•ÁöÑ„ÄÇ</p><p>‰∏∫‰∫ÜÁ™ÅÁ†¥Ëøô‰∏™Áì∂È¢àÔºå‰∏∫‰Ωï‰∏çÁ´ôÂú®Â∑®‰∫∫ÁöÑËÇ©ËÜÄ‰∏äÂ≠¶‰π†‰ºòÁßÄÁöÑÂºÄÊ∫êÁ≥ªÁªüÔºåÁúãÂ§ßÁâõ‰ª¨ÊòØÂ¶Ç‰ΩïÊÄùËÄÉËøô‰∫õÈóÆÈ¢ò„ÄÇ</p><p>Â≠¶‰π† Tomcat ÁöÑÂéüÁêÜÔºåÊàëÂèëÁé∞ <code>Servlet</code> ÊäÄÊúØÊòØ Web ÂºÄÂèëÁöÑÂéüÁÇπÔºåÂá†‰πéÊâÄÊúâÁöÑ Java Web Ê°ÜÊû∂ÔºàÊØîÂ¶Ç SpringÔºâÈÉΩÊòØÂü∫‰∫é <code>Servlet</code> ÁöÑÂ∞ÅË£ÖÔºåSpring Â∫îÁî®Êú¨Ë∫´Â∞±ÊòØ‰∏Ä‰∏™ <code>Servlet</code>Ôºà<code>DispatchSevlet</code>ÔºâÔºåËÄå Tomcat Âíå Jetty ËøôÊ†∑ÁöÑ Web ÂÆπÂô®ÔºåË¥üË¥£Âä†ËΩΩÂíåËøêË°å <code>Servlet</code>„ÄÇÂ¶ÇÂõæÊâÄÁ§∫Ôºö</p><figure class="image-box">                <img src="fb04017c2304f79fd043ed4a9e90190f.webp" alt="img" title class>                <p>img</p>            </figure><h3 id="ÊèêÂçáËá™Â∑±ÁöÑÁ≥ªÁªüËÆæËÆ°ËÉΩÂäõ"><a href="#ÊèêÂçáËá™Â∑±ÁöÑÁ≥ªÁªüËÆæËÆ°ËÉΩÂäõ" class="headerlink" title="ÊèêÂçáËá™Â∑±ÁöÑÁ≥ªÁªüËÆæËÆ°ËÉΩÂäõ"></a>ÊèêÂçáËá™Â∑±ÁöÑÁ≥ªÁªüËÆæËÆ°ËÉΩÂäõ</h3><p>Â≠¶‰π† Tomcat ÔºåÊàëËøòÂèëÁé∞Áî®Âà∞‰∏çÂ∞ë Java È´òÁ∫ßÊäÄÊúØÔºåÊØîÂ¶Ç Java Â§öÁ∫øÁ®ãÂπ∂ÂèëÁºñÁ®ã„ÄÅSocket ÁΩëÁªúÁºñÁ®ã‰ª•ÂèäÂèçÂ∞ÑÁ≠â„ÄÇ‰πãÂâç‰πüÂè™ÊòØ‰∫ÜËß£Ëøô‰∫õÊäÄÊúØÔºå‰∏∫‰∫ÜÈù¢ËØï‰πüËÉåËøá‰∏Ä‰∫õÈ¢ò„ÄÇ‰ΩÜÊòØÊÄªÊÑüËßâ„ÄåÁü•ÈÅì„Äç‰∏é‰ºöÁî®‰πãÈó¥Â≠òÂú®‰∏ÄÈÅìÊ≤üÂ£ëÔºåÈÄöËøáÂØπ Tomcat Ê∫êÁ†ÅÂ≠¶‰π†ÔºåÊàëÂ≠¶‰ºö‰∫Ü‰ªÄ‰πàÂú∫ÊôØÂéª‰ΩøÁî®Ëøô‰∫õÊäÄÊúØ„ÄÇ</p><p>ËøòÊúâÂ∞±ÊòØÁ≥ªÁªüËÆæËÆ°ËÉΩÂäõÔºåÊØîÂ¶ÇÈù¢ÂêëÊé•Âè£ÁºñÁ®ã„ÄÅÁªÑ‰ª∂ÂåñÁªÑÂêàÊ®°Âºè„ÄÅÈ™®Êû∂ÊäΩË±°Á±ª„ÄÅ‰∏ÄÈîÆÂºèÂêØÂÅú„ÄÅÂØπË±°Ê±†ÊäÄÊúØ‰ª•ÂèäÂêÑÁßçËÆæËÆ°Ê®°ÂºèÔºåÊØîÂ¶ÇÊ®°ÊùøÊñπÊ≥ï„ÄÅËßÇÂØüËÄÖÊ®°Âºè„ÄÅË¥£‰ªªÈìæÊ®°ÂºèÁ≠âÔºå‰πãÂêéÊàë‰πüÂºÄÂßãÊ®°‰ªøÂÆÉ‰ª¨Âπ∂ÊääËøô‰∫õËÆæËÆ°ÊÄùÊÉ≥ËøêÁî®Âà∞ÂÆûÈôÖÁöÑÂ∑•‰Ωú‰∏≠„ÄÇ</p><h2 id="Êï¥‰ΩìÊû∂ÊûÑËÆæËÆ°"><a href="#Êï¥‰ΩìÊû∂ÊûÑËÆæËÆ°" class="headerlink" title="Êï¥‰ΩìÊû∂ÊûÑËÆæËÆ°"></a>Êï¥‰ΩìÊû∂ÊûÑËÆæËÆ°</h2><p>‰ªäÂ§©Âí±‰ª¨Â∞±Êù•‰∏ÄÊ≠•‰∏ÄÊ≠•ÂàÜÊûê Tomcat ÁöÑËÆæËÆ°ÊÄùË∑ØÔºå‰∏ÄÊñπÈù¢Êàë‰ª¨ÂèØ‰ª•Â≠¶Âà∞ Tomcat ÁöÑÊÄª‰ΩìÊû∂ÊûÑÔºåÂ≠¶‰ºö‰ªéÂÆèËßÇ‰∏äÊÄé‰πàÂéªËÆæËÆ°‰∏Ä‰∏™Â§çÊùÇÁ≥ªÁªüÔºåÊÄé‰πàËÆæËÆ°È°∂Â±ÇÊ®°ÂùóÔºå‰ª•ÂèäÊ®°Âùó‰πãÈó¥ÁöÑÂÖ≥Á≥ªÔºõÂè¶‰∏ÄÊñπÈù¢‰πü‰∏∫Êàë‰ª¨Ê∑±ÂÖ•Â≠¶‰π† Tomcat ÁöÑÂ∑•‰ΩúÂéüÁêÜÊâì‰∏ãÂü∫Á°Ä„ÄÇ</p><p>Tomcat ÂêØÂä®ÊµÅÁ®ãÔºö<code>startup.sh -&gt; catalina.sh start -&gt;java -jar org.apache.catalina.startup.Bootstrap.main()</code></p><p>Tomcat ÂÆûÁé∞ÁöÑ 2 ‰∏™Ê†∏ÂøÉÂäüËÉΩÔºö</p><ul><li>Â§ÑÁêÜ <code>Socket</code> ËøûÊé•ÔºåË¥üË¥£ÁΩëÁªúÂ≠óËäÇÊµÅ‰∏é <code>Request</code> Âíå <code>Response</code> ÂØπË±°ÁöÑËΩ¨Âåñ„ÄÇ</li><li>Âä†ËΩΩÂπ∂ÁÆ°ÁêÜ <code>Servlet</code> Ôºå‰ª•ÂèäÂ§ÑÁêÜÂÖ∑‰ΩìÁöÑ <code>Request</code> ËØ∑Ê±Ç„ÄÇ</li></ul><p><strong>ÊâÄ‰ª• Tomcat ËÆæËÆ°‰∫Ü‰∏§‰∏™Ê†∏ÂøÉÁªÑ‰ª∂ËøûÊé•Âô®ÔºàConnectorÔºâÂíåÂÆπÂô®ÔºàContainerÔºâ„ÄÇËøûÊé•Âô®Ë¥üË¥£ÂØπÂ§ñ‰∫§ÊµÅÔºåÂÆπÂô®Ë¥üË¥£ÂÜÖÈÉ® Â§ÑÁêÜ</strong></p><p><code>Tomcat</code>‰∏∫‰∫ÜÂÆûÁé∞ÊîØÊåÅÂ§öÁßç <code>I/O</code> Ê®°ÂûãÂíåÂ∫îÁî®Â±ÇÂçèËÆÆÔºå‰∏Ä‰∏™ÂÆπÂô®ÂèØËÉΩÂØπÊé•Â§ö‰∏™ËøûÊé•Âô®ÔºåÂ∞±Â•ΩÊØî‰∏Ä‰∏™ÊàøÈó¥ÊúâÂ§ö‰∏™Èó®„ÄÇ</p><figure class="image-box">                <img src="4e76498e3179b855b480be0924de5da5.webp" alt="img" title class>                <p>img</p>            </figure>TomcatÊï¥‰ΩìÊû∂ÊûÑ<br><br>- Server ÂØπÂ∫îÁöÑÂ∞±ÊòØ‰∏Ä‰∏™ Tomcat ÂÆû‰æã„ÄÇ<br>- Service ÈªòËÆ§Âè™Êúâ‰∏Ä‰∏™Ôºå‰πüÂ∞±ÊòØ‰∏Ä‰∏™ Tomcat ÂÆû‰æãÈªòËÆ§‰∏Ä‰∏™ Service„ÄÇ<br>- ConnectorÔºö‰∏Ä‰∏™ Service ÂèØËÉΩÂ§ö‰∏™ ËøûÊé•Âô®ÔºåÊé•Âèó‰∏çÂêåËøûÊé•ÂçèËÆÆ„ÄÇ<br>- Container: Â§ö‰∏™ËøûÊé•Âô®ÂØπÂ∫î‰∏Ä‰∏™ÂÆπÂô®ÔºåÈ°∂Â±ÇÂÆπÂô®ÂÖ∂ÂÆûÂ∞±ÊòØ Engine„ÄÇ<br><br><strong>ÊØè‰∏™ÁªÑ‰ª∂ÈÉΩÊúâÂØπÂ∫îÁöÑÁîüÂëΩÂë®ÊúüÔºåÈúÄË¶ÅÂêØÂä®ÔºåÂêåÊó∂ËøòË¶ÅÂêØÂä®Ëá™Â∑±ÂÜÖÈÉ®ÁöÑÂ≠êÁªÑ‰ª∂ÔºåÊØîÂ¶Ç‰∏Ä‰∏™ Tomcat ÂÆû‰æãÂåÖÂê´‰∏Ä‰∏™ ServiceÔºå‰∏Ä‰∏™ Service ÂåÖÂê´Â§ö‰∏™ËøûÊé•Âô®Âíå‰∏Ä‰∏™ÂÆπÂô®„ÄÇËÄå‰∏Ä‰∏™ÂÆπÂô®ÂåÖÂê´Â§ö‰∏™ HostÔºå Host ÂÜÖÈÉ®ÂèØËÉΩÊúâÂ§ö‰∏™ Contex t ÂÆπÂô®ÔºåËÄå‰∏Ä‰∏™ Context ‰πü‰ºöÂåÖÂê´Â§ö‰∏™ ServletÔºåÊâÄ‰ª• Tomcat Âà©Áî®ÁªÑÂêàÊ®°ÂºèÁÆ°ÁêÜÁªÑ‰ª∂ÊØè‰∏™ÁªÑ‰ª∂ÔºåÂØπÂæÖËøá‰∏™‰πüÊÉ≥ÂØπÂæÖÂçï‰∏™ÁªÑ‰∏ÄÊ†∑ÂØπÂæÖ</strong>„ÄÇÊï¥‰Ωì‰∏äÊØè‰∏™ÁªÑ‰ª∂ËÆæËÆ°Â∞±ÂÉèÊòØ„Äå‰øÑÁΩóÊñØÂ•óÂ®É„Äç‰∏ÄÊ†∑„ÄÇ<br><br>### ËøûÊé•Âô®<br><br>Âú®ÂºÄÂßãËÆ≤ËøûÊé•Âô®ÂâçÔºåÊàëÂÖàÈì∫Âû´‰∏Ä‰∏ã <code>Tomcat</code>ÊîØÊåÅÁöÑÂ§öÁßç <code>I/O</code> Ê®°ÂûãÂíåÂ∫îÁî®Â±ÇÂçèËÆÆ„ÄÇ<br><br><code>Tomcat</code>ÊîØÊåÅÁöÑ <code>I/O</code> Ê®°ÂûãÊúâÔºö<br><br>- <code>NIO</code>ÔºöÈùûÈòªÂ°û <code>I/O</code>ÔºåÈááÁî® <code>Java NIO</code> Á±ªÂ∫ìÂÆûÁé∞„ÄÇ<br>- <code>NIO2</code>ÔºöÂºÇÊ≠•<code>I/O</code>ÔºåÈááÁî® <code>JDK 7</code> ÊúÄÊñ∞ÁöÑ <code>NIO2</code> Á±ªÂ∫ìÂÆûÁé∞„ÄÇ<br>- <code>APR</code>ÔºöÈááÁî® <code>Apache</code>ÂèØÁßªÊ§çËøêË°åÂ∫ìÂÆûÁé∞ÔºåÊòØ <code>C/C++</code> ÁºñÂÜôÁöÑÊú¨Âú∞Â∫ì„ÄÇ<br><br>Tomcat ÊîØÊåÅÁöÑÂ∫îÁî®Â±ÇÂçèËÆÆÊúâÔºö<br><br>- <code>HTTP/1.1</code>ÔºöËøôÊòØÂ§ßÈÉ®ÂàÜ Web Â∫îÁî®ÈááÁî®ÁöÑËÆøÈóÆÂçèËÆÆ„ÄÇ<br>- <code>AJP</code>ÔºöÁî®‰∫éÂíå Web ÊúçÂä°Âô®ÈõÜÊàêÔºàÂ¶Ç ApacheÔºâ„ÄÇ<br>- <code>HTTP/2</code>ÔºöHTTP 2.0 Â§ßÂπÖÂ∫¶ÁöÑÊèêÂçá‰∫Ü Web ÊÄßËÉΩ„ÄÇ<br><br>ÊâÄ‰ª•‰∏Ä‰∏™ÂÆπÂô®ÂèØËÉΩÂØπÊé•Â§ö‰∏™ËøûÊé•Âô®„ÄÇËøûÊé•Âô®ÂØπ <code>Servlet</code> ÂÆπÂô®Â±èËîΩ‰∫ÜÁΩëÁªúÂçèËÆÆ‰∏é <code>I/O</code> Ê®°ÂûãÁöÑÂå∫Âà´ÔºåÊó†ËÆ∫ÊòØ <code>Http</code> ËøòÊòØ <code>AJP</code>ÔºåÂú®ÂÆπÂô®‰∏≠Ëé∑ÂèñÂà∞ÁöÑÈÉΩÊòØ‰∏Ä‰∏™Ê†áÂáÜÁöÑ <code>ServletRequest</code> ÂØπË±°„ÄÇ<br><br>ÁªÜÂåñËøûÊé•Âô®ÁöÑÂäüËÉΩÈúÄÊ±ÇÂ∞±ÊòØÔºö<br><br>- ÁõëÂê¨ÁΩëÁªúÁ´ØÂè£„ÄÇ<br>- Êé•ÂèóÁΩëÁªúËøûÊé•ËØ∑Ê±Ç„ÄÇ<br>- ËØªÂèñËØ∑Ê±ÇÁΩëÁªúÂ≠óËäÇÊµÅ„ÄÇ<br>- Ê†πÊçÆÂÖ∑‰ΩìÂ∫îÁî®Â±ÇÂçèËÆÆÔºà<code>HTTP/AJP</code>ÔºâËß£ÊûêÂ≠óËäÇÊµÅÔºåÁîüÊàêÁªü‰∏ÄÁöÑ <code>Tomcat Request</code> ÂØπË±°„ÄÇ<br>- Â∞Ü <code>Tomcat Request</code> ÂØπË±°ËΩ¨ÊàêÊ†áÂáÜÁöÑ <code>ServletRequest</code>„ÄÇ<br>- Ë∞ÉÁî® <code>Servlet</code>ÂÆπÂô®ÔºåÂæóÂà∞ <code>ServletResponse</code>„ÄÇ<br>- Â∞Ü <code>ServletResponse</code>ËΩ¨Êàê <code>Tomcat Response</code> ÂØπË±°„ÄÇ<br>- Â∞Ü <code>Tomcat Response</code> ËΩ¨ÊàêÁΩëÁªúÂ≠óËäÇÊµÅ„ÄÇ<br>- Â∞ÜÂìçÂ∫îÂ≠óËäÇÊµÅÂÜôÂõûÁªôÊµèËßàÂô®„ÄÇ<br><br>ÈúÄÊ±ÇÂàóÊ∏ÖÊ•öÂêéÔºåÊàë‰ª¨Ë¶ÅËÄÉËôëÁöÑ‰∏ã‰∏Ä‰∏™ÈóÆÈ¢òÊòØÔºåËøûÊé•Âô®Â∫îËØ•ÊúâÂì™‰∫õÂ≠êÊ®°ÂùóÔºü‰ºòÁßÄÁöÑÊ®°ÂùóÂåñËÆæËÆ°Â∫îËØ•ËÄÉËôë<strong>È´òÂÜÖËÅö„ÄÅ‰ΩéËÄ¶Âêà</strong>„ÄÇ<br><br>- <strong>È´òÂÜÖËÅö</strong>ÊòØÊåáÁõ∏ÂÖ≥Â∫¶ÊØîËæÉÈ´òÁöÑÂäüËÉΩË¶ÅÂ∞ΩÂèØËÉΩÈõÜ‰∏≠Ôºå‰∏çË¶ÅÂàÜÊï£„ÄÇ<br>- <strong>‰ΩéËÄ¶Âêà</strong>ÊòØÊåá‰∏§‰∏™Áõ∏ÂÖ≥ÁöÑÊ®°ÂùóË¶ÅÂ∞ΩÂèØËÉΩÂáèÂ∞ë‰æùËµñÁöÑÈÉ®ÂàÜÂíåÈôç‰Ωé‰æùËµñÁöÑÁ®ãÂ∫¶Ôºå‰∏çË¶ÅËÆ©‰∏§‰∏™Ê®°Âùó‰∫ßÁîüÂº∫‰æùËµñ„ÄÇ<br><br>Êàë‰ª¨ÂèëÁé∞ËøûÊé•Âô®ÈúÄË¶ÅÂÆåÊàê 3 ‰∏™<strong>È´òÂÜÖËÅö</strong>ÁöÑÂäüËÉΩÔºö<br><br>- ÁΩëÁªúÈÄö‰ø°„ÄÇ<br>- Â∫îÁî®Â±ÇÂçèËÆÆËß£Êûê„ÄÇ<br>- <code>Tomcat Request/Response</code> ‰∏é <code>ServletRequest/ServletResponse</code> ÁöÑËΩ¨Âåñ„ÄÇ<br><br>Âõ†Ê≠§ Tomcat ÁöÑËÆæËÆ°ËÄÖËÆæËÆ°‰∫Ü 3 ‰∏™ÁªÑ‰ª∂Êù•ÂÆûÁé∞Ëøô 3 ‰∏™ÂäüËÉΩÔºåÂàÜÂà´ÊòØ <code>EndPoint„ÄÅProcessor Âíå Adapter</code>„ÄÇ<br><br>ÁΩëÁªúÈÄö‰ø°ÁöÑ I/O Ê®°ÂûãÊòØÂèòÂåñÁöÑ, Â∫îÁî®Â±ÇÂçèËÆÆ‰πüÊòØÂèòÂåñÁöÑÔºå‰ΩÜÊòØÊï¥‰ΩìÁöÑÂ§ÑÁêÜÈÄªËæëÊòØ‰∏çÂèòÁöÑÔºå<code>EndPoint</code> Ë¥üË¥£Êèê‰æõÂ≠óËäÇÊµÅÁªô <code>Processor</code>Ôºå<code>Processor</code>Ë¥üË¥£Êèê‰æõ <code>Tomcat Request</code> ÂØπË±°Áªô <code>Adapter</code>Ôºå<code>Adapter</code>Ë¥üË¥£Êèê‰æõ <code>ServletRequest</code>ÂØπË±°ÁªôÂÆπÂô®„ÄÇ<br><br><strong>Â∞ÅË£ÖÂèò‰∏é‰∏çÂèò</strong><br><br>Âõ†Ê≠§ Tomcat ËÆæËÆ°‰∫Ü‰∏ÄÁ≥ªÂàóÊäΩË±°Âü∫Á±ªÊù•<strong>Â∞ÅË£ÖËøô‰∫õÁ®≥ÂÆöÁöÑÈÉ®ÂàÜ</strong>ÔºåÊäΩË±°Âü∫Á±ª <code>AbstractProtocol</code>ÂÆûÁé∞‰∫Ü <code>ProtocolHandler</code>Êé•Âè£„ÄÇÊØè‰∏ÄÁßçÂ∫îÁî®Â±ÇÂçèËÆÆÊúâËá™Â∑±ÁöÑÊäΩË±°Âü∫Á±ªÔºåÊØîÂ¶Ç <code>AbstractAjpProtocol</code>Âíå <code>AbstractHttp11Protocol</code>ÔºåÂÖ∑‰ΩìÂçèËÆÆÁöÑÂÆûÁé∞Á±ªÊâ©Â±ï‰∫ÜÂçèËÆÆÂ±ÇÊäΩË±°Âü∫Á±ª„ÄÇ<br><br>ËøôÂ∞±ÊòØÊ®°ÊùøÊñπÊ≥ïËÆæËÆ°Ê®°ÂºèÁöÑËøêÁî®„ÄÇ<br><br><figure class="image-box">                <img src="30457ee2c65903a81f033e32c5e60251.webp" alt="img" title class>                <p>img</p>            </figure>Â∫îÁî®Â±ÇÂçèËÆÆÊäΩË±°<br><br>ÊÄªÁªì‰∏ãÊù•ÔºåËøûÊé•Âô®ÁöÑ‰∏â‰∏™Ê†∏ÂøÉÁªÑ‰ª∂ <code>Endpoint</code>„ÄÅ<code>Processor</code>Âíå <code>Adapter</code>Êù•ÂàÜÂà´ÂÅö‰∏â‰ª∂‰∫ãÊÉÖÔºåÂÖ∂‰∏≠ <code>Endpoint</code>Âíå <code>Processor</code>ÊîæÂú®‰∏ÄËµ∑ÊäΩË±°Êàê‰∫Ü <code>ProtocolHandler</code>ÁªÑ‰ª∂ÔºåÂÆÉ‰ª¨ÁöÑÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÊâÄÁ§∫„ÄÇ<br><br><figure class="image-box">                <img src="88f9b28eb4cef2749e180bc4517d470d.webp" alt="img" title class>                <p>img</p>            </figure>ËøûÊé•Âô®<br><br>#### ProtocolHandler ÁªÑ‰ª∂<br><br>‰∏ªË¶ÅÂ§ÑÁêÜ <strong>ÁΩëÁªúËøûÊé•</strong> Âíå <strong>Â∫îÁî®Â±ÇÂçèËÆÆ</strong> ÔºåÂåÖÂê´‰∫Ü‰∏§‰∏™ÈáçË¶ÅÈÉ®‰ª∂ EndPoint Âíå ProcessorÔºå‰∏§‰∏™ÁªÑ‰ª∂ÁªÑÂêàÂΩ¢Êàê ProtocoHandlerÔºå‰∏ãÈù¢ÊàëÊù•ËØ¶ÁªÜ‰ªãÁªçÂÆÉ‰ª¨ÁöÑÂ∑•‰ΩúÂéüÁêÜ„ÄÇ<br><br>##### EndPoint<br><br><code>EndPoint</code>ÊòØÈÄö‰ø°Á´ØÁÇπÔºåÂç≥ÈÄö‰ø°ÁõëÂê¨ÁöÑÊé•Âè£ÔºåÊòØÂÖ∑‰ΩìÁöÑ Socket Êé•Êî∂ÂíåÂèëÈÄÅÂ§ÑÁêÜÂô®ÔºåÊòØÂØπ‰º†ËæìÂ±ÇÁöÑÊäΩË±°ÔºåÂõ†Ê≠§ <code>EndPoint</code>ÊòØÁî®Êù•ÂÆûÁé∞ <code>TCP/IP</code> ÂçèËÆÆÊï∞ÊçÆËØªÂÜôÁöÑÔºåÊú¨Ë¥®Ë∞ÉÁî®Êìç‰ΩúÁ≥ªÁªüÁöÑ socket Êé•Âè£„ÄÇ<br><br><code>EndPoint</code>ÊòØ‰∏Ä‰∏™Êé•Âè£ÔºåÂØπÂ∫îÁöÑÊäΩË±°ÂÆûÁé∞Á±ªÊòØ <code>AbstractEndpoint</code>ÔºåËÄå <code>AbstractEndpoint</code>ÁöÑÂÖ∑‰ΩìÂ≠êÁ±ªÔºåÊØîÂ¶ÇÂú® <code>NioEndpoint</code>Âíå <code>Nio2Endpoint</code>‰∏≠ÔºåÊúâ‰∏§‰∏™ÈáçË¶ÅÁöÑÂ≠êÁªÑ‰ª∂Ôºö<code>Acceptor</code>Âíå <code>SocketProcessor</code>„ÄÇ<br><br>ÂÖ∂‰∏≠ Acceptor Áî®‰∫éÁõëÂê¨ Socket ËøûÊé•ËØ∑Ê±Ç„ÄÇ<code>SocketProcessor</code>Áî®‰∫éÂ§ÑÁêÜ <code>Acceptor</code> Êé•Êî∂Âà∞ÁöÑ <code>Socket</code>ËØ∑Ê±ÇÔºåÂÆÉÂÆûÁé∞ <code>Runnable</code>Êé•Âè£ÔºåÂú® <code>Run</code>ÊñπÊ≥ïÈáåË∞ÉÁî®Â∫îÁî®Â±ÇÂçèËÆÆÂ§ÑÁêÜÁªÑ‰ª∂ <code>Processor</code> ËøõË°åÂ§ÑÁêÜ„ÄÇ‰∏∫‰∫ÜÊèêÈ´òÂ§ÑÁêÜËÉΩÂäõÔºå<code>SocketProcessor</code>Ë¢´Êèê‰∫§Âà∞Á∫øÁ®ãÊ±†Êù•ÊâßË°å„ÄÇ<br><br>Êàë‰ª¨Áü•ÈÅìÔºåÂØπ‰∫é Java ÁöÑÂ§öË∑ØÂ§çÁî®Âô®ÁöÑ‰ΩøÁî®ÔºåÊó†ÈùûÊòØ‰∏§Ê≠•Ôºö<br><br>1. ÂàõÂª∫‰∏Ä‰∏™ SeletorÔºåÂú®ÂÆÉË∫´‰∏äÊ≥®ÂÜåÂêÑÁßçÊÑüÂÖ¥Ë∂£ÁöÑ‰∫ã‰ª∂ÔºåÁÑ∂ÂêéË∞ÉÁî® select ÊñπÊ≥ïÔºåÁ≠âÂæÖÊÑüÂÖ¥Ë∂£ÁöÑ‰∫ãÊÉÖÂèëÁîü„ÄÇ<br>2. ÊÑüÂÖ¥Ë∂£ÁöÑ‰∫ãÊÉÖÂèëÁîü‰∫ÜÔºåÊØîÂ¶ÇÂèØ‰ª•ËØª‰∫ÜÔºåËøôÊó∂‰æøÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ∫øÁ®ã‰ªé Channel ‰∏≠ËØªÊï∞ÊçÆ„ÄÇ<br><br>Âú® Tomcat ‰∏≠ <code>NioEndpoint</code> ÂàôÊòØ <code>AbstractEndpoint</code> ÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåÈáåÈù¢ÁªÑ‰ª∂ËôΩÁÑ∂ÂæàÂ§öÔºå‰ΩÜÊòØÂ§ÑÁêÜÈÄªËæëËøòÊòØÂâçÈù¢‰∏§Ê≠•„ÄÇÂÆÉ‰∏ÄÂÖ±ÂåÖÂê´ <code>LimitLatch</code>„ÄÅ<code>Acceptor</code>„ÄÅ<code>Poller</code>„ÄÅ<code>SocketProcessor</code>Âíå <code>Executor</code> ÂÖ± 5 ‰∏™ÁªÑ‰ª∂ÔºåÂàÜÂà´ÂàÜÂ∑•Âêà‰ΩúÂÆûÁé∞Êï¥‰∏™ TCP/IP ÂçèËÆÆÁöÑÂ§ÑÁêÜ„ÄÇ<br><br>- LimitLatch ÊòØËøûÊé•ÊéßÂà∂Âô®ÔºåÂÆÉË¥üË¥£ÊéßÂà∂ÊúÄÂ§ßËøûÊé•Êï∞ÔºåNIO Ê®°Âºè‰∏ãÈªòËÆ§ÊòØ 10000ÔºåËææÂà∞Ëøô‰∏™ÈòàÂÄºÂêéÔºåËøûÊé•ËØ∑Ê±ÇË¢´ÊãíÁªù„ÄÇ<br>- <code>Acceptor</code>Ë∑ëÂú®‰∏Ä‰∏™ÂçïÁã¨ÁöÑÁ∫øÁ®ãÈáåÔºåÂÆÉÂú®‰∏Ä‰∏™Ê≠ªÂæ™ÁéØÈáåË∞ÉÁî® <code>accept</code>ÊñπÊ≥ïÊù•Êé•Êî∂Êñ∞ËøûÊé•Ôºå‰∏ÄÊó¶ÊúâÊñ∞ÁöÑËøûÊé•ËØ∑Ê±ÇÂà∞Êù•Ôºå<code>accept</code>ÊñπÊ≥ïËøîÂõû‰∏Ä‰∏™ <code>Channel</code> ÂØπË±°ÔºåÊé•ÁùÄÊää <code>Channel</code>ÂØπË±°‰∫§Áªô Poller ÂéªÂ§ÑÁêÜ„ÄÇ<br>- <code>Poller</code> ÁöÑÊú¨Ë¥®ÊòØ‰∏Ä‰∏™ <code>Selector</code>Ôºå‰πüË∑ëÂú®ÂçïÁã¨Á∫øÁ®ãÈáå„ÄÇ<code>Poller</code>Âú®ÂÜÖÈÉ®Áª¥Êä§‰∏Ä‰∏™ <code>Channel</code>Êï∞ÁªÑÔºåÂÆÉÂú®‰∏Ä‰∏™Ê≠ªÂæ™ÁéØÈáå‰∏çÊñ≠Ê£ÄÊµã <code>Channel</code>ÁöÑÊï∞ÊçÆÂ∞±Áª™Áä∂ÊÄÅÔºå‰∏ÄÊó¶Êúâ <code>Channel</code>ÂèØËØªÔºåÂ∞±ÁîüÊàê‰∏Ä‰∏™ <code>SocketProcessor</code>‰ªªÂä°ÂØπË±°ÊâîÁªô <code>Executor</code>ÂéªÂ§ÑÁêÜ„ÄÇ<br>- SocketProcessor ÂÆûÁé∞‰∫Ü Runnable Êé•Âè£ÔºåÂÖ∂‰∏≠ run ÊñπÊ≥ï‰∏≠ÁöÑ <code>getHandler().process(socketWrapper, SocketEvent.CONNECT_FAIL);</code> ‰ª£Á†ÅÂàôÊòØËé∑Âèñ handler Âπ∂ÊâßË°åÂ§ÑÁêÜ socketWrapperÔºåÊúÄÂêéÈÄöËøá socket Ëé∑ÂèñÂêàÈÄÇÂ∫îÁî®Â±ÇÂçèËÆÆÂ§ÑÁêÜÂô®Ôºå‰πüÂ∞±ÊòØË∞ÉÁî® Http11Processor ÁªÑ‰ª∂Êù•Â§ÑÁêÜËØ∑Ê±Ç„ÄÇHttp11Processor ËØªÂèñ Channel ÁöÑÊï∞ÊçÆÊù•ÁîüÊàê ServletRequest ÂØπË±°ÔºåHttp11Processor Âπ∂‰∏çÊòØÁõ¥Êé•ËØªÂèñ Channel ÁöÑ„ÄÇËøôÊòØÂõ†‰∏∫ Tomcat ÊîØÊåÅÂêåÊ≠•ÈùûÈòªÂ°û I/O Ê®°ÂûãÂíåÂºÇÊ≠• I/O Ê®°ÂûãÔºåÂú® Java API ‰∏≠ÔºåÁõ∏Â∫îÁöÑ Channel Á±ª‰πüÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑÔºåÊØîÂ¶ÇÊúâ AsynchronousSocketChannel Âíå SocketChannelÔºå‰∏∫‰∫ÜÂØπ Http11Processor Â±èËîΩËøô‰∫õÂ∑ÆÂºÇÔºåTomcat ËÆæËÆ°‰∫Ü‰∏Ä‰∏™ÂåÖË£ÖÁ±ªÂè´‰Ωú SocketWrapperÔºåHttp11Processor Âè™Ë∞ÉÁî® SocketWrapper ÁöÑÊñπÊ≥ïÂéªËØªÂÜôÊï∞ÊçÆ„ÄÇ<br>- <code>Executor</code>Â∞±ÊòØÁ∫øÁ®ãÊ±†ÔºåË¥üË¥£ËøêË°å <code>SocketProcessor</code>‰ªªÂä°Á±ªÔºå<code>SocketProcessor</code> ÁöÑ <code>run</code>ÊñπÊ≥ï‰ºöË∞ÉÁî® <code>Http11Processor</code> Êù•ËØªÂèñÂíåËß£ÊûêËØ∑Ê±ÇÊï∞ÊçÆ„ÄÇÊàë‰ª¨Áü•ÈÅìÔºå<code>Http11Processor</code>ÊòØÂ∫îÁî®Â±ÇÂçèËÆÆÁöÑÂ∞ÅË£ÖÔºåÂÆÉ‰ºöË∞ÉÁî®ÂÆπÂô®Ëé∑ÂæóÂìçÂ∫îÔºåÂÜçÊääÂìçÂ∫îÈÄöËøá <code>Channel</code>ÂÜôÂá∫„ÄÇ<br><br>Â∑•‰ΩúÊµÅÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö<br><br><figure class="image-box">                <img src="3c0b315759fc82801d7ddc156969113e.webp" alt="img" title class>                <p>img</p>            </figure>NioEndPoint<br><br>##### Processor<br><br>Processor Áî®Êù•ÂÆûÁé∞ HTTP ÂçèËÆÆÔºåProcessor Êé•Êî∂Êù•Ëá™ EndPoint ÁöÑ SocketÔºåËØªÂèñÂ≠óËäÇÊµÅËß£ÊûêÊàê Tomcat Request Âíå Response ÂØπË±°ÔºåÂπ∂ÈÄöËøá Adapter Â∞ÜÂÖ∂Êèê‰∫§Âà∞ÂÆπÂô®Â§ÑÁêÜÔºåProcessor ÊòØÂØπÂ∫îÁî®Â±ÇÂçèËÆÆÁöÑÊäΩË±°„ÄÇ<br><br><figure class="image-box">                <img src="9bcbb1ffd832ab7098eb70981a0e368f.webp" alt="img" title class>                <p>img</p>            </figure><p><strong>‰ªéÂõæ‰∏≠Êàë‰ª¨ÁúãÂà∞ÔºåEndPoint Êé•Êî∂Âà∞ Socket ËøûÊé•ÂêéÔºåÁîüÊàê‰∏Ä‰∏™ SocketProcessor ‰ªªÂä°Êèê‰∫§Âà∞Á∫øÁ®ãÊ±†ÂéªÂ§ÑÁêÜÔºåSocketProcessor ÁöÑ Run ÊñπÊ≥ï‰ºöË∞ÉÁî® HttpProcessor ÁªÑ‰ª∂ÂéªËß£ÊûêÂ∫îÁî®Â±ÇÂçèËÆÆÔºåProcessor ÈÄöËøáËß£ÊûêÁîüÊàê Request ÂØπË±°ÂêéÔºå‰ºöË∞ÉÁî® Adapter ÁöÑ Service ÊñπÊ≥ïÔºåÊñπÊ≥ïÂÜÖÈÉ®ÈÄöËøá ‰ª•‰∏ã‰ª£Á†ÅÂ∞ÜËØ∑Ê±Ç‰º†ÈÄíÂà∞ÂÆπÂô®‰∏≠„ÄÇ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Calling the container</span></span><br><span class="line">connector.getService().getContainer().getPipeline().getFirst().invoke(request, response);</span><br></pre></td></tr></table></figure><h4 id="Adapter-ÁªÑ‰ª∂"><a href="#Adapter-ÁªÑ‰ª∂" class="headerlink" title="Adapter ÁªÑ‰ª∂"></a>Adapter ÁªÑ‰ª∂</h4><p>Áî±‰∫éÂçèËÆÆÁöÑ‰∏çÂêåÔºåTomcat ÂÆö‰πâ‰∫ÜËá™Â∑±ÁöÑ <code>Request</code> Á±ªÊù•Â≠òÊîæËØ∑Ê±Ç‰ø°ÊÅØÔºåËøôÈáåÂÖ∂ÂÆû‰ΩìÁé∞‰∫ÜÈù¢ÂêëÂØπË±°ÁöÑÊÄùÁª¥„ÄÇ‰ΩÜÊòØËøô‰∏™ Request ‰∏çÊòØÊ†áÂáÜÁöÑ <code>ServletRequest</code> ÔºåÊâÄ‰ª•‰∏çËÉΩÁõ¥Êé•‰ΩøÁî® Tomcat ÂÆö‰πâ Request ‰Ωú‰∏∫ÂèÇÊï∞Áõ¥Êé•ÂÆπÂô®„ÄÇ</p><p>Tomcat ËÆæËÆ°ËÄÖÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØÂºïÂÖ• <code>CoyoteAdapter</code>ÔºåËøôÊòØÈÄÇÈÖçÂô®Ê®°ÂºèÁöÑÁªèÂÖ∏ËøêÁî®ÔºåËøûÊé•Âô®Ë∞ÉÁî® <code>CoyoteAdapter</code> ÁöÑ <code>Sevice</code> ÊñπÊ≥ïÔºå‰º†ÂÖ•ÁöÑÊòØ <code>Tomcat Request</code> ÂØπË±°Ôºå<code>CoyoteAdapter</code>Ë¥üË¥£Â∞Ü <code>Tomcat Request</code> ËΩ¨Êàê <code>ServletRequest</code>ÔºåÂÜçË∞ÉÁî®ÂÆπÂô®ÁöÑ <code>Service</code>ÊñπÊ≥ï„ÄÇ</p><h3 id="ÂÆπÂô®"><a href="#ÂÆπÂô®" class="headerlink" title="ÂÆπÂô®"></a>ÂÆπÂô®</h3><p>ËøûÊé•Âô®Ë¥üË¥£Â§ñÈÉ®‰∫§ÊµÅÔºåÂÆπÂô®Ë¥üË¥£ÂÜÖÈÉ®Â§ÑÁêÜ„ÄÇÂÖ∑‰ΩìÊù•ËØ¥Â∞±ÊòØÔºåËøûÊé•Âô®Â§ÑÁêÜ Socket ÈÄö‰ø°ÂíåÂ∫îÁî®Â±ÇÂçèËÆÆÁöÑËß£ÊûêÔºåÂæóÂà∞ <code>Servlet</code>ËØ∑Ê±ÇÔºõËÄåÂÆπÂô®ÂàôË¥üË¥£Â§ÑÁêÜ <code>Servlet</code>ËØ∑Ê±Ç„ÄÇ</p><p>ÂÆπÂô®ÔºöÈ°æÂêçÊÄù‰πâÂ∞±ÊòØÊãøÊù•Ë£Ö‰∏úË•øÁöÑÔºå ÊâÄ‰ª• Tomcat ÂÆπÂô®Â∞±ÊòØÊãøÊù•Ë£ÖËΩΩ <code>Servlet</code>„ÄÇ</p><p>Tomcat ËÆæËÆ°‰∫Ü 4 ÁßçÂÆπÂô®ÔºåÂàÜÂà´ÊòØ <code>Engine</code>„ÄÅ<code>Host</code>„ÄÅ<code>Context</code>Âíå <code>Wrapper</code>„ÄÇ<code>Server</code> ‰ª£Ë°® Tomcat ÂÆû‰æã„ÄÇ</p><p>Ë¶ÅÊ≥®ÊÑèÁöÑÊòØËøô 4 ÁßçÂÆπÂô®‰∏çÊòØÂπ≥Ë°åÂÖ≥Á≥ªÔºåÂ±û‰∫éÁà∂Â≠êÂÖ≥Á≥ªÔºåÂ¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºö</p><figure class="image-box">                <img src="4e5eb57d725c843208604aa7369cb4c2.webp" alt="img" title class>                <p>img</p>            </figure>ÂÆπÂô®<br><br>‰Ω†ÂèØËÉΩ‰ºöÈóÆÔºå‰∏∫Âï•Ë¶ÅËÆæËÆ°Ëøô‰πàÂ§öÂ±ÇÊ¨°ÁöÑÂÆπÂô®ÔºåËøô‰∏çÊòØÂ¢ûÂä†Â§çÊùÇÂ∫¶‰πàÔºüÂÖ∂ÂÆûËøôËÉåÂêéÁöÑËÄÉËôëÊòØÔºå<strong>Tomcat ÈÄöËøá‰∏ÄÁßçÂàÜÂ±ÇÁöÑÊû∂ÊûÑÔºå‰ΩøÂæó Servlet ÂÆπÂô®ÂÖ∑ÊúâÂæàÂ•ΩÁöÑÁÅµÊ¥ªÊÄß„ÄÇÂõ†‰∏∫ËøôÈáåÊ≠£Â•ΩÁ¨¶Âêà‰∏Ä‰∏™ Host Â§ö‰∏™ ContextÔºå ‰∏Ä‰∏™ Context ‰πüÂåÖÂê´Â§ö‰∏™ ServletÔºåËÄåÊØè‰∏™ÁªÑ‰ª∂ÈÉΩÈúÄË¶ÅÁªü‰∏ÄÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜÔºåÊâÄ‰ª•ÁªÑÂêàÊ®°ÂºèËÆæËÆ°Ëøô‰∫õÂÆπÂô®</strong><br><br><code>Wrapper</code> Ë°®Á§∫‰∏Ä‰∏™ <code>Servlet</code> Ôºå<code>Context</code> Ë°®Á§∫‰∏Ä‰∏™ Web Â∫îÁî®Á®ãÂ∫èÔºåËÄå‰∏Ä‰∏™ Web Á®ãÂ∫èÂèØËÉΩÊúâÂ§ö‰∏™ <code>Servlet</code> Ôºõ<code>Host</code> Ë°®Á§∫‰∏Ä‰∏™ËôöÊãü‰∏ªÊú∫ÔºåÊàñËÄÖËØ¥‰∏Ä‰∏™Á´ôÁÇπÔºå‰∏Ä‰∏™ Tomcat ÂèØ‰ª•ÈÖçÁΩÆÂ§ö‰∏™Á´ôÁÇπÔºàHostÔºâÔºõ‰∏Ä‰∏™Á´ôÁÇπÔºà HostÔºâ ÂèØ‰ª•ÈÉ®ÁΩ≤Â§ö‰∏™ Web Â∫îÁî®Ôºõ<code>Engine</code> ‰ª£Ë°® ÂºïÊìéÔºåÁî®‰∫éÁÆ°ÁêÜÂ§ö‰∏™Á´ôÁÇπÔºàHostÔºâÔºå‰∏Ä‰∏™ Service Âè™ËÉΩÊúâ ‰∏Ä‰∏™ <code>Engine</code>„ÄÇ<br><br>ÂèØÈÄöËøá Tomcat ÈÖçÁΩÆÊñá‰ª∂Âä†Ê∑±ÂØπÂÖ∂Â±ÇÊ¨°ÂÖ≥Á≥ªÁêÜËß£„ÄÇ<br><br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Server</span> <span class="attr">port</span>=<span class="string">"8005"</span> <span class="attr">shutdown</span>=<span class="string">"SHUTDOWN"</span>&gt;</span> // È°∂Â±ÇÁªÑ‰ª∂ÔºåÂèØÂåÖÂê´Â§ö‰∏™ ServiceÔºå‰ª£Ë°®‰∏Ä‰∏™ Tomcat ÂÆû‰æã</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">Service</span> <span class="attr">name</span>=<span class="string">"Catalina"</span>&gt;</span>  // È°∂Â±ÇÁªÑ‰ª∂ÔºåÂåÖÂê´‰∏Ä‰∏™ Engine ÔºåÂ§ö‰∏™ËøûÊé•Âô®</span><br><span class="line">    <span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8080"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8009"</span> <span class="attr">protocol</span>=<span class="string">"AJP/1.3"</span> <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span>  // ËøûÊé•Âô®</span><br><span class="line"></span><br><span class="line"> // ÂÆπÂô®ÁªÑ‰ª∂Ôºö‰∏Ä‰∏™ Engine Â§ÑÁêÜ Service ÊâÄÊúâËØ∑Ê±ÇÔºåÂåÖÂê´Â§ö‰∏™ Host</span><br><span class="line">    <span class="tag">&lt;<span class="name">Engine</span> <span class="attr">name</span>=<span class="string">"Catalina"</span> <span class="attr">defaultHost</span>=<span class="string">"localhost"</span>&gt;</span></span><br><span class="line">   // ÂÆπÂô®ÁªÑ‰ª∂ÔºöÂ§ÑÁêÜÊåáÂÆöHost‰∏ãÁöÑÂÆ¢Êà∑Á´ØËØ∑Ê±ÇÔºå ÂèØÂåÖÂê´Â§ö‰∏™ Context</span><br><span class="line">      <span class="tag">&lt;<span class="name">Host</span> <span class="attr">name</span>=<span class="string">"localhost"</span>  <span class="attr">appBase</span>=<span class="string">"webapps"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">unpackWARs</span>=<span class="string">"true"</span> <span class="attr">autoDeploy</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">   // ÂÆπÂô®ÁªÑ‰ª∂ÔºöÂ§ÑÁêÜÁâπÂÆö Context WebÂ∫îÁî®ÁöÑÊâÄÊúâÂÆ¢Êà∑Á´ØËØ∑Ê±Ç</span><br><span class="line">   <span class="tag">&lt;<span class="name">Context</span>&gt;</span>Context&gt;</span><br><span class="line">      Host&gt;</span><br><span class="line">    Engine&gt;</span><br><span class="line">  Service&gt;</span><br><span class="line">Server&gt;</span><br></pre></td></tr></table></figure><p>Â¶Ç‰ΩïÁÆ°ÁêÜËøô‰∫õÂÆπÂô®ÔºüÊàë‰ª¨ÂèëÁé∞ÂÆπÂô®‰πãÈó¥ÂÖ∑ÊúâÁà∂Â≠êÂÖ≥Á≥ªÔºåÂΩ¢Êàê‰∏Ä‰∏™Ê†ëÂΩ¢ÁªìÊûÑÔºåÊòØ‰∏çÊòØÊÉ≥Âà∞‰∫ÜËÆæËÆ°Ê®°Âºè‰∏≠ÁöÑ <strong>ÁªÑÂêàÊ®°Âºè</strong> „ÄÇ</p><p>Tomcat Â∞±ÊòØÁî®ÁªÑÂêàÊ®°ÂºèÊù•ÁÆ°ÁêÜËøô‰∫õÂÆπÂô®ÁöÑ„ÄÇÂÖ∑‰ΩìÂÆûÁé∞ÊñπÊ≥ïÊòØÔºå<strong>ÊâÄÊúâÂÆπÂô®ÁªÑ‰ª∂ÈÉΩÂÆûÁé∞‰∫Ü <code>Container</code>Êé•Âè£ÔºåÂõ†Ê≠§ÁªÑÂêàÊ®°ÂºèÂèØ‰ª•‰ΩøÂæóÁî®Êà∑ÂØπÂçïÂÆπÂô®ÂØπË±°ÂíåÁªÑÂêàÂÆπÂô®ÂØπË±°ÁöÑ‰ΩøÁî®ÂÖ∑Êúâ‰∏ÄËá¥ÊÄß</strong>„ÄÇËøôÈáåÂçïÂÆπÂô®ÂØπË±°ÊåáÁöÑÊòØÊúÄÂ∫ïÂ±ÇÁöÑ <code>Wrapper</code>ÔºåÁªÑÂêàÂÆπÂô®ÂØπË±°ÊåáÁöÑÊòØ‰∏äÈù¢ÁöÑ <code>Context</code>„ÄÅ<code>Host</code>ÊàñËÄÖ <code>Engine</code>„ÄÇ<code>Container</code> Êé•Âè£ÂÆö‰πâÂ¶Ç‰∏ãÔºö</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public interface Container extends Lifecycle &#123;</span><br><span class="line">    public void setName(String name);</span><br><span class="line">    public Container getParent();</span><br><span class="line">    public void setParent(Container container);</span><br><span class="line">    public void addChild(Container child);</span><br><span class="line">    public void removeChild(Container child);</span><br><span class="line">    public Container findChild(String name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Êàë‰ª¨ÁúãÂà∞‰∫Ü<code>getParent</code>„ÄÅ<code>SetParent</code>„ÄÅ<code>addChild</code>Âíå <code>removeChild</code>Á≠âÊñπÊ≥ïÔºåËøôÈáåÊ≠£Â•ΩÈ™åËØÅ‰∫ÜÊàë‰ª¨ËØ¥ÁöÑÁªÑÂêàÊ®°Âºè„ÄÇÊàë‰ª¨ËøòÁúãÂà∞ <code>Container</code>Êé•Âè£ÊãìÂ±ï‰∫Ü <code>Lifecycle</code> ÔºåTomcat Â∞±ÊòØÈÄöËøá <code>Lifecycle</code> Áªü‰∏ÄÁÆ°ÁêÜÊâÄÊúâÂÆπÂô®ÁöÑÁªÑ‰ª∂ÁöÑÁîüÂëΩÂë®Êúü„ÄÇÈÄöËøáÁªÑÂêàÊ®°ÂºèÁÆ°ÁêÜÊâÄÊúâÂÆπÂô®ÔºåÊãìÂ±ï <code>Lifecycle</code> ÂÆûÁé∞ÂØπÊØè‰∏™ÁªÑ‰ª∂ÁöÑÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜ Ôºå<code>Lifecycle</code> ‰∏ªË¶ÅÂåÖÂê´ÁöÑÊñπÊ≥ï<code>init()„ÄÅstart()„ÄÅstop() Âíå destroy()</code>„ÄÇ</p><h4 id="ËØ∑Ê±ÇÂÆö‰Ωç-Servlet-ÁöÑËøáÁ®ã"><a href="#ËØ∑Ê±ÇÂÆö‰Ωç-Servlet-ÁöÑËøáÁ®ã" class="headerlink" title="ËØ∑Ê±ÇÂÆö‰Ωç Servlet ÁöÑËøáÁ®ã"></a>ËØ∑Ê±ÇÂÆö‰Ωç Servlet ÁöÑËøáÁ®ã</h4><p>‰∏Ä‰∏™ËØ∑Ê±ÇÊòØÂ¶Ç‰ΩïÂÆö‰ΩçÂà∞ËÆ©Âì™‰∏™ <code>Wrapper</code> ÁöÑ <code>Servlet</code> Â§ÑÁêÜÁöÑÔºüÁ≠îÊ°àÊòØÔºåTomcat ÊòØÁî® Mapper ÁªÑ‰ª∂Êù•ÂÆåÊàêËøô‰∏™‰ªªÂä°ÁöÑ„ÄÇ</p><p><code>Mapper</code> ÁªÑ‰ª∂ÁöÑÂäüËÉΩÂ∞±ÊòØÂ∞ÜÁî®Êà∑ËØ∑Ê±ÇÁöÑ <code>URL</code> ÂÆö‰ΩçÂà∞‰∏Ä‰∏™ <code>Servlet</code>ÔºåÂÆÉÁöÑÂ∑•‰ΩúÂéüÁêÜÊòØÔºö<code>Mapper</code>ÁªÑ‰ª∂Èáå‰øùÂ≠ò‰∫Ü Web Â∫îÁî®ÁöÑÈÖçÁΩÆ‰ø°ÊÅØÔºåÂÖ∂ÂÆûÂ∞±ÊòØ<strong>ÂÆπÂô®ÁªÑ‰ª∂‰∏éËÆøÈóÆË∑ØÂæÑÁöÑÊò†Â∞ÑÂÖ≥Á≥ª</strong>ÔºåÊØîÂ¶Ç <code>Host</code>ÂÆπÂô®ÈáåÈÖçÁΩÆÁöÑÂüüÂêç„ÄÅ<code>Context</code>ÂÆπÂô®ÈáåÁöÑ <code>Web</code>Â∫îÁî®Ë∑ØÂæÑÔºå‰ª•Âèä <code>Wrapper</code>ÂÆπÂô®Èáå <code>Servlet</code> Êò†Â∞ÑÁöÑË∑ØÂæÑÔºå‰Ω†ÂèØ‰ª•ÊÉ≥Ë±°Ëøô‰∫õÈÖçÁΩÆ‰ø°ÊÅØÂ∞±ÊòØ‰∏Ä‰∏™Â§öÂ±ÇÊ¨°ÁöÑ <code>Map</code>„ÄÇ</p><p>ÂΩì‰∏Ä‰∏™ËØ∑Ê±ÇÂà∞Êù•Êó∂Ôºå<code>Mapper</code> ÁªÑ‰ª∂ÈÄöËøáËß£ÊûêËØ∑Ê±Ç URL ÈáåÁöÑÂüüÂêçÂíåË∑ØÂæÑÔºåÂÜçÂà∞Ëá™Â∑±‰øùÂ≠òÁöÑ Map ÈáåÂéªÊü•ÊâæÔºåÂ∞±ËÉΩÂÆö‰ΩçÂà∞‰∏Ä‰∏™ <code>Servlet</code>„ÄÇËØ∑‰Ω†Ê≥®ÊÑèÔºå‰∏Ä‰∏™ËØ∑Ê±Ç URL ÊúÄÂêéÂè™‰ºöÂÆö‰ΩçÂà∞‰∏Ä‰∏™ <code>Wrapper</code>ÂÆπÂô®Ôºå‰πüÂ∞±ÊòØ‰∏Ä‰∏™ <code>Servlet</code>„ÄÇ</p><figure class="image-box">                <img src="c7c4351fa0f7cdfacb2d2dd1d531b863.webp" alt="img" title class>                <p>img</p>            </figure><p>ÂÅáÂ¶ÇÊúâÁî®Êà∑ËÆøÈóÆ‰∏Ä‰∏™ URLÔºåÊØîÂ¶ÇÂõæ‰∏≠ÁöÑ<code>http://user.shopping.com:8080/order/buy</code>ÔºåTomcat Â¶Ç‰ΩïÂ∞ÜËøô‰∏™ URL ÂÆö‰ΩçÂà∞‰∏Ä‰∏™ Servlet Âë¢Ôºü</p><ol><li><strong>È¶ñÂÖàÊ†πÊçÆÂçèËÆÆÂíåÁ´ØÂè£Âè∑Á°ÆÂÆö Service Âíå Engine</strong>„ÄÇTomcat ÈªòËÆ§ÁöÑ HTTP ËøûÊé•Âô®ÁõëÂê¨ 8080 Á´ØÂè£„ÄÅÈªòËÆ§ÁöÑ AJP ËøûÊé•Âô®ÁõëÂê¨ 8009 Á´ØÂè£„ÄÇ‰∏äÈù¢‰æãÂ≠ê‰∏≠ÁöÑ URL ËÆøÈóÆÁöÑÊòØ 8080 Á´ØÂè£ÔºåÂõ†Ê≠§Ëøô‰∏™ËØ∑Ê±Ç‰ºöË¢´ HTTP ËøûÊé•Âô®Êé•Êî∂ÔºåËÄå‰∏Ä‰∏™ËøûÊé•Âô®ÊòØÂ±û‰∫é‰∏Ä‰∏™ Service ÁªÑ‰ª∂ÁöÑÔºåËøôÊ†∑ Service ÁªÑ‰ª∂Â∞±Á°ÆÂÆö‰∫Ü„ÄÇÊàë‰ª¨ËøòÁü•ÈÅì‰∏Ä‰∏™ Service ÁªÑ‰ª∂ÈáåÈô§‰∫ÜÊúâÂ§ö‰∏™ËøûÊé•Âô®ÔºåËøòÊúâ‰∏Ä‰∏™ÂÆπÂô®ÁªÑ‰ª∂ÔºåÂÖ∑‰ΩìÊù•ËØ¥Â∞±ÊòØ‰∏Ä‰∏™ Engine ÂÆπÂô®ÔºåÂõ†Ê≠§ Service Á°ÆÂÆö‰∫Ü‰πüÂ∞±ÊÑèÂë≥ÁùÄ Engine ‰πüÁ°ÆÂÆö‰∫Ü„ÄÇ</li><li><strong>Ê†πÊçÆÂüüÂêçÈÄâÂÆö Host„ÄÇ</strong> Service Âíå Engine Á°ÆÂÆöÂêéÔºåMapper ÁªÑ‰ª∂ÈÄöËøá URL ‰∏≠ÁöÑÂüüÂêçÂéªÊü•ÊâæÁõ∏Â∫îÁöÑ Host ÂÆπÂô®ÔºåÊØîÂ¶Ç‰æãÂ≠ê‰∏≠ÁöÑ URL ËÆøÈóÆÁöÑÂüüÂêçÊòØ<code>user.shopping.com</code>ÔºåÂõ†Ê≠§ Mapper ‰ºöÊâæÂà∞ Host2 Ëøô‰∏™ÂÆπÂô®„ÄÇ</li><li><strong>Ê†πÊçÆ URL Ë∑ØÂæÑÊâæÂà∞ Context ÁªÑ‰ª∂„ÄÇ</strong> Host Á°ÆÂÆö‰ª•ÂêéÔºåMapper Ê†πÊçÆ URL ÁöÑË∑ØÂæÑÊù•ÂåπÈÖçÁõ∏Â∫îÁöÑ Web Â∫îÁî®ÁöÑË∑ØÂæÑÔºåÊØîÂ¶Ç‰æãÂ≠ê‰∏≠ËÆøÈóÆÁöÑÊòØ /orderÔºåÂõ†Ê≠§ÊâæÂà∞‰∫Ü Context4 Ëøô‰∏™ Context ÂÆπÂô®„ÄÇ</li><li><strong>Ê†πÊçÆ URL Ë∑ØÂæÑÊâæÂà∞ WrapperÔºàServletÔºâ„ÄÇ</strong> Context Á°ÆÂÆöÂêéÔºåMapper ÂÜçÊ†πÊçÆ web.xml ‰∏≠ÈÖçÁΩÆÁöÑ Servlet Êò†Â∞ÑË∑ØÂæÑÊù•ÊâæÂà∞ÂÖ∑‰ΩìÁöÑ Wrapper Âíå Servlet„ÄÇ</li></ol><p>ËøûÊé•Âô®‰∏≠ÁöÑ Adapter ‰ºöË∞ÉÁî®ÂÆπÂô®ÁöÑ Service ÊñπÊ≥ïÊù•ÊâßË°å ServletÔºåÊúÄÂÖàÊãøÂà∞ËØ∑Ê±ÇÁöÑÊòØ Engine ÂÆπÂô®ÔºåEngine ÂÆπÂô®ÂØπËØ∑Ê±ÇÂÅö‰∏Ä‰∫õÂ§ÑÁêÜÂêéÔºå‰ºöÊääËØ∑Ê±Ç‰º†ÁªôËá™Â∑±Â≠êÂÆπÂô® Host ÁªßÁª≠Â§ÑÁêÜÔºå‰æùÊ¨°Á±ªÊé®ÔºåÊúÄÂêéËøô‰∏™ËØ∑Ê±Ç‰ºö‰º†Áªô Wrapper ÂÆπÂô®ÔºåWrapper ‰ºöË∞ÉÁî®ÊúÄÁªàÁöÑ Servlet Êù•Â§ÑÁêÜ„ÄÇÈÇ£‰πàËøô‰∏™Ë∞ÉÁî®ËøáÁ®ãÂÖ∑‰ΩìÊòØÊÄé‰πàÂÆûÁé∞ÁöÑÂë¢ÔºüÁ≠îÊ°àÊòØ‰ΩøÁî® Pipeline-Valve ÁÆ°ÈÅì„ÄÇ</p><p><code>Pipeline-Valve</code> ÊòØË¥£‰ªªÈìæÊ®°ÂºèÔºåË¥£‰ªªÈìæÊ®°ÂºèÊòØÊåáÂú®‰∏Ä‰∏™ËØ∑Ê±ÇÂ§ÑÁêÜÁöÑËøáÁ®ã‰∏≠ÊúâÂæàÂ§öÂ§ÑÁêÜËÄÖ‰æùÊ¨°ÂØπËØ∑Ê±ÇËøõË°åÂ§ÑÁêÜÔºåÊØè‰∏™Â§ÑÁêÜËÄÖË¥üË¥£ÂÅöËá™Â∑±Áõ∏Â∫îÁöÑÂ§ÑÁêÜÔºåÂ§ÑÁêÜÂÆå‰πãÂêéÂ∞ÜÂÜçË∞ÉÁî®‰∏ã‰∏Ä‰∏™Â§ÑÁêÜËÄÖÁªßÁª≠Â§ÑÁêÜÔºåValve Ë°®Á§∫‰∏Ä‰∏™Â§ÑÁêÜÁÇπÔºà‰πüÂ∞±ÊòØ‰∏Ä‰∏™Â§ÑÁêÜÈòÄÈó®ÔºâÔºåÂõ†Ê≠§ <code>invoke</code>ÊñπÊ≥ïÂ∞±ÊòØÊù•Â§ÑÁêÜËØ∑Ê±ÇÁöÑ„ÄÇ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Valve</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Valve <span class="title">getNext</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNext</span><span class="params">(Valve valve)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">invoke</span><span class="params">(Request request, Response response)</span></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure><p>ÁªßÁª≠Áúã Pipeline Êé•Âè£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Pipeline</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addValve</span><span class="params">(Valve valve)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Valve <span class="title">getBasic</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBasic</span><span class="params">(Valve valve)</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Valve <span class="title">getFirst</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Pipeline</code>‰∏≠Êúâ <code>addValve</code>ÊñπÊ≥ï„ÄÇPipeline ‰∏≠Áª¥Êä§‰∫Ü <code>Valve</code>ÈìæË°®Ôºå<code>Valve</code>ÂèØ‰ª•ÊèíÂÖ•Âà∞ <code>Pipeline</code>‰∏≠ÔºåÂØπËØ∑Ê±ÇÂÅöÊüê‰∫õÂ§ÑÁêÜ„ÄÇÊàë‰ª¨ËøòÂèëÁé∞ Pipeline ‰∏≠Ê≤°Êúâ invoke ÊñπÊ≥ïÔºåÂõ†‰∏∫Êï¥‰∏™Ë∞ÉÁî®ÈìæÁöÑËß¶ÂèëÊòØ Valve Êù•ÂÆåÊàêÁöÑÔºå<code>Valve</code>ÂÆåÊàêËá™Â∑±ÁöÑÂ§ÑÁêÜÂêéÔºåË∞ÉÁî® <code>getNext.invoke()</code> Êù•Ëß¶Âèë‰∏ã‰∏Ä‰∏™ Valve Ë∞ÉÁî®„ÄÇ</p><p>ÂÖ∂ÂÆûÊØè‰∏™ÂÆπÂô®ÈÉΩÊúâ‰∏Ä‰∏™ Pipeline ÂØπË±°ÔºåÂè™Ë¶ÅËß¶Âèë‰∫ÜËøô‰∏™ Pipeline ÁöÑÁ¨¨‰∏Ä‰∏™ ValveÔºåËøô‰∏™ÂÆπÂô®Èáå <code>Pipeline</code>‰∏≠ÁöÑ Valve Â∞±ÈÉΩ‰ºöË¢´Ë∞ÉÁî®Âà∞„ÄÇ‰ΩÜÊòØÔºå‰∏çÂêåÂÆπÂô®ÁöÑ Pipeline ÊòØÊÄé‰πàÈìæÂºèËß¶ÂèëÁöÑÂë¢ÔºåÊØîÂ¶Ç Engine ‰∏≠ Pipeline ÈúÄË¶ÅË∞ÉÁî®‰∏ãÂ±ÇÂÆπÂô® Host ‰∏≠ÁöÑ Pipeline„ÄÇ</p><p>ËøôÊòØÂõ†‰∏∫ <code>Pipeline</code>‰∏≠ËøòÊúâ‰∏™ <code>getBasic</code>ÊñπÊ≥ï„ÄÇËøô‰∏™ <code>BasicValve</code>Â§Ñ‰∫é <code>Valve</code>ÈìæË°®ÁöÑÊú´Á´ØÔºåÂÆÉÊòØ <code>Pipeline</code>‰∏≠ÂøÖ‰∏çÂèØÂ∞ëÁöÑ‰∏Ä‰∏™ <code>Valve</code>ÔºåË¥üË¥£Ë∞ÉÁî®‰∏ãÂ±ÇÂÆπÂô®ÁöÑ Pipeline ÈáåÁöÑÁ¨¨‰∏Ä‰∏™ Valve„ÄÇ</p><figure class="image-box">                <img src="ebb0f141d836202a2f7f9a174b40e584.webp" alt="img" title class>                <p>img</p>            </figure><p>Êï¥‰∏™ËøáÁ®ãÂàÜÊòØÈÄöËøáËøûÊé•Âô®‰∏≠ÁöÑ <code>CoyoteAdapter</code> Ëß¶ÂèëÔºåÂÆÉ‰ºöË∞ÉÁî® Engine ÁöÑÁ¨¨‰∏Ä‰∏™ ValveÔºö</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">service</span><span class="params">(org.apache.coyote.Request req, org.apache.coyote.Response res)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ÁúÅÁï•ÂÖ∂‰ªñ‰ª£Á†Å</span></span><br><span class="line">    <span class="comment">// Calling the container</span></span><br><span class="line">    connector.getService().getContainer().getPipeline().getFirst().invoke(</span><br><span class="line">        request, response);</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Wrapper ÂÆπÂô®ÁöÑÊúÄÂêé‰∏Ä‰∏™ Valve ‰ºöÂàõÂª∫‰∏Ä‰∏™ Filter ÈìæÔºåÂπ∂Ë∞ÉÁî® <code>doFilter()</code> ÊñπÊ≥ïÔºåÊúÄÁªà‰ºöË∞ÉÂà∞ <code>Servlet</code>ÁöÑ <code>service</code>ÊñπÊ≥ï„ÄÇ</p><p>ÂâçÈù¢Êàë‰ª¨‰∏çÊòØËÆ≤Âà∞‰∫Ü <code>Filter</code>Ôºå‰ºº‰πé‰πüÊúâÁõ∏‰ººÁöÑÂäüËÉΩÔºåÈÇ£ <code>Valve</code> Âíå <code>Filter</code>Êúâ‰ªÄ‰πàÂå∫Âà´ÂêóÔºüÂÆÉ‰ª¨ÁöÑÂå∫Âà´ÊòØÔºö</p><ul><li><code>Valve</code>ÊòØ <code>Tomcat</code>ÁöÑÁßÅÊúâÊú∫Âà∂Ôºå‰∏é Tomcat ÁöÑÂü∫Á°ÄÊû∂ÊûÑ <code>API</code>ÊòØÁ¥ßËÄ¶ÂêàÁöÑ„ÄÇ<code>Servlet API</code>ÊòØÂÖ¨ÊúâÁöÑÊ†áÂáÜÔºåÊâÄÊúâÁöÑ Web ÂÆπÂô®ÂåÖÊã¨ Jetty ÈÉΩÊîØÊåÅ Filter Êú∫Âà∂„ÄÇ</li><li>Âè¶‰∏Ä‰∏™ÈáçË¶ÅÁöÑÂå∫Âà´ÊòØ <code>Valve</code>Â∑•‰ΩúÂú® Web ÂÆπÂô®Á∫ßÂà´ÔºåÊã¶Êà™ÊâÄÊúâÂ∫îÁî®ÁöÑËØ∑Ê±ÇÔºõËÄå <code>Servlet Filter</code> Â∑•‰ΩúÂú®Â∫îÁî®Á∫ßÂà´ÔºåÂè™ËÉΩÊã¶Êà™Êüê‰∏™ <code>Web</code> Â∫îÁî®ÁöÑÊâÄÊúâËØ∑Ê±Ç„ÄÇÂ¶ÇÊûúÊÉ≥ÂÅöÊï¥‰∏™ <code>Web</code>ÂÆπÂô®ÁöÑÊã¶Êà™Âô®ÔºåÂøÖÈ°ªÈÄöËøá <code>Valve</code>Êù•ÂÆûÁé∞„ÄÇ</li></ul><h4 id="Lifecycle-ÁîüÂëΩÂë®Êúü"><a href="#Lifecycle-ÁîüÂëΩÂë®Êúü" class="headerlink" title="Lifecycle ÁîüÂëΩÂë®Êúü"></a>Lifecycle ÁîüÂëΩÂë®Êúü</h4><p>ÂâçÈù¢Êàë‰ª¨ÁúãÂà∞ <code>Container</code>ÂÆπÂô® ÁªßÊâø‰∫Ü <code>Lifecycle</code> ÁîüÂëΩÂë®Êúü„ÄÇÂ¶ÇÊûúÊÉ≥ËÆ©‰∏Ä‰∏™Á≥ªÁªüËÉΩÂ§üÂØπÂ§ñÊèê‰æõÊúçÂä°ÔºåÊàë‰ª¨ÈúÄË¶ÅÂàõÂª∫„ÄÅÁªÑË£ÖÂπ∂ÂêØÂä®Ëøô‰∫õÁªÑ‰ª∂ÔºõÂú®ÊúçÂä°ÂÅúÊ≠¢ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ËøòÈúÄË¶ÅÈáäÊîæËµÑÊ∫êÔºåÈîÄÊØÅËøô‰∫õÁªÑ‰ª∂ÔºåÂõ†Ê≠§ËøôÊòØ‰∏Ä‰∏™Âä®ÊÄÅÁöÑËøáÁ®ã„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåTomcat ÈúÄË¶ÅÂä®ÊÄÅÂú∞ÁÆ°ÁêÜËøô‰∫õÁªÑ‰ª∂ÁöÑÁîüÂëΩÂë®Êúü„ÄÇ</p><p>Â¶Ç‰ΩïÁªü‰∏ÄÁÆ°ÁêÜÁªÑ‰ª∂ÁöÑÂàõÂª∫„ÄÅÂàùÂßãÂåñ„ÄÅÂêØÂä®„ÄÅÂÅúÊ≠¢ÂíåÈîÄÊØÅÔºüÂ¶Ç‰ΩïÂÅöÂà∞‰ª£Á†ÅÈÄªËæëÊ∏ÖÊô∞ÔºüÂ¶Ç‰ΩïÊñπ‰æøÂú∞Ê∑ªÂä†ÊàñËÄÖÂà†Èô§ÁªÑ‰ª∂ÔºüÂ¶Ç‰ΩïÂÅöÂà∞ÁªÑ‰ª∂ÂêØÂä®ÂíåÂÅúÊ≠¢‰∏çÈÅóÊºè„ÄÅ‰∏çÈáçÂ§çÔºü</p><h5 id="‰∏ÄÈîÆÂºèÂêØÂÅúÔºöLifeCycle-Êé•Âè£"><a href="#‰∏ÄÈîÆÂºèÂêØÂÅúÔºöLifeCycle-Êé•Âè£" class="headerlink" title="‰∏ÄÈîÆÂºèÂêØÂÅúÔºöLifeCycle Êé•Âè£"></a>‰∏ÄÈîÆÂºèÂêØÂÅúÔºöLifeCycle Êé•Âè£</h5><p>ËÆæËÆ°Â∞±ÊòØË¶ÅÊâæÂà∞Á≥ªÁªüÁöÑÂèòÂåñÁÇπÂíå‰∏çÂèòÁÇπ„ÄÇËøôÈáåÁöÑ‰∏çÂèòÁÇπÂ∞±ÊòØÊØè‰∏™ÁªÑ‰ª∂ÈÉΩË¶ÅÁªèÂéÜÂàõÂª∫„ÄÅÂàùÂßãÂåñ„ÄÅÂêØÂä®ËøôÂá†‰∏™ËøáÁ®ãÔºåËøô‰∫õÁä∂ÊÄÅ‰ª•ÂèäÁä∂ÊÄÅÁöÑËΩ¨ÂåñÊòØ‰∏çÂèòÁöÑ„ÄÇËÄåÂèòÂåñÁÇπÊòØÊØè‰∏™ÂÖ∑‰ΩìÁªÑ‰ª∂ÁöÑÂàùÂßãÂåñÊñπÊ≥ïÔºå‰πüÂ∞±ÊòØÂêØÂä®ÊñπÊ≥ïÊòØ‰∏ç‰∏ÄÊ†∑ÁöÑ„ÄÇ</p><p>Âõ†Ê≠§ÔºåTomcat Êää‰∏çÂèòÁÇπÊäΩË±°Âá∫Êù•Êàê‰∏∫‰∏Ä‰∏™Êé•Âè£ÔºåËøô‰∏™Êé•Âè£Ë∑üÁîüÂëΩÂë®ÊúüÊúâÂÖ≥ÔºåÂè´‰Ωú LifeCycle„ÄÇLifeCycle Êé•Âè£ÈáåÂÆö‰πâËøô‰πàÂá†‰∏™ÊñπÊ≥ïÔºö<code>init()„ÄÅstart()„ÄÅstop() Âíå destroy()</code>ÔºåÊØè‰∏™ÂÖ∑‰ΩìÁöÑÁªÑ‰ª∂Ôºà‰πüÂ∞±ÊòØÂÆπÂô®ÔºâÂéªÂÆûÁé∞Ëøô‰∫õÊñπÊ≥ï„ÄÇ</p><p>Âú®Áà∂ÁªÑ‰ª∂ÁöÑ <code>init()</code> ÊñπÊ≥ïÈáåÈúÄË¶ÅÂàõÂª∫Â≠êÁªÑ‰ª∂Âπ∂Ë∞ÉÁî®Â≠êÁªÑ‰ª∂ÁöÑ <code>init()</code> ÊñπÊ≥ï„ÄÇÂêåÊ†∑ÔºåÂú®Áà∂ÁªÑ‰ª∂ÁöÑ <code>start()</code>ÊñπÊ≥ïÈáå‰πüÈúÄË¶ÅË∞ÉÁî®Â≠êÁªÑ‰ª∂ÁöÑ <code>start()</code> ÊñπÊ≥ïÔºåÂõ†Ê≠§Ë∞ÉÁî®ËÄÖÂèØ‰ª•Êó†Â∑ÆÂà´ÁöÑË∞ÉÁî®ÂêÑÁªÑ‰ª∂ÁöÑ <code>init()</code> ÊñπÊ≥ïÂíå <code>start()</code> ÊñπÊ≥ïÔºåËøôÂ∞±ÊòØ<strong>ÁªÑÂêàÊ®°Âºè</strong>ÁöÑ‰ΩøÁî®ÔºåÂπ∂‰∏îÂè™Ë¶ÅË∞ÉÁî®ÊúÄÈ°∂Â±ÇÁªÑ‰ª∂Ôºå‰πüÂ∞±ÊòØ Server ÁªÑ‰ª∂ÁöÑ <code>init()</code>Âíå<code>start()</code> ÊñπÊ≥ïÔºåÊï¥‰∏™ Tomcat Â∞±Ë¢´ÂêØÂä®Ëµ∑Êù•‰∫Ü„ÄÇÊâÄ‰ª• Tomcat ÈááÂèñÁªÑÂêàÊ®°ÂºèÁÆ°ÁêÜÂÆπÂô®ÔºåÂÆπÂô®ÁªßÊâø LifeCycle Êé•Âè£ÔºåËøôÊ†∑Â∞±ÂèØ‰ª•ÂêëÈíàÂØπÂçï‰∏™ÂØπË±°‰∏ÄÊ†∑‰∏ÄÈîÆÁÆ°ÁêÜÂêÑ‰∏™ÂÆπÂô®ÁöÑÁîüÂëΩÂë®ÊúüÔºåÊï¥‰∏™ Tomcat Â∞±ÂêØÂä®Ëµ∑Êù•„ÄÇ</p><h5 id="ÂèØÊâ©Â±ïÊÄßÔºöLifeCycle-‰∫ã‰ª∂"><a href="#ÂèØÊâ©Â±ïÊÄßÔºöLifeCycle-‰∫ã‰ª∂" class="headerlink" title="ÂèØÊâ©Â±ïÊÄßÔºöLifeCycle ‰∫ã‰ª∂"></a>ÂèØÊâ©Â±ïÊÄßÔºöLifeCycle ‰∫ã‰ª∂</h5><p>Êàë‰ª¨ÂÜçÊù•ËÄÉËôëÂè¶‰∏Ä‰∏™ÈóÆÈ¢òÔºåÈÇ£Â∞±ÊòØÁ≥ªÁªüÁöÑÂèØÊâ©Â±ïÊÄß„ÄÇÂõ†‰∏∫ÂêÑ‰∏™ÁªÑ‰ª∂<code>init()</code> Âíå <code>start()</code> ÊñπÊ≥ïÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÊòØÂ§çÊùÇÂ§öÂèòÁöÑÔºåÊØîÂ¶ÇÂú® Host ÂÆπÂô®ÁöÑÂêØÂä®ÊñπÊ≥ïÈáåÈúÄË¶ÅÊâ´Êèè webapps ÁõÆÂΩï‰∏ãÁöÑ Web Â∫îÁî®ÔºåÂàõÂª∫Áõ∏Â∫îÁöÑ Context ÂÆπÂô®ÔºåÂ¶ÇÊûúÂ∞ÜÊù•ÈúÄË¶ÅÂ¢ûÂä†Êñ∞ÁöÑÈÄªËæëÔºåÁõ¥Êé•‰øÆÊîπ<code>start()</code> ÊñπÊ≥ïÔºüËøôÊ†∑‰ºöËøùÂèçÂºÄÈó≠ÂéüÂàôÔºåÈÇ£Â¶Ç‰ΩïËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂë¢ÔºüÂºÄÈó≠ÂéüÂàôËØ¥ÁöÑÊòØ‰∏∫‰∫ÜÊâ©Â±ïÁ≥ªÁªüÁöÑÂäüËÉΩÔºå‰Ω†‰∏çËÉΩÁõ¥Êé•‰øÆÊîπÁ≥ªÁªü‰∏≠Â∑≤ÊúâÁöÑÁ±ªÔºå‰ΩÜÊòØ‰Ω†ÂèØ‰ª•ÂÆö‰πâÊñ∞ÁöÑÁ±ª„ÄÇ</p><p><strong>ÁªÑ‰ª∂ÁöÑ <code>init()</code> Âíå <code>start()</code> Ë∞ÉÁî®ÊòØÁî±ÂÆÉÁöÑÁà∂ÁªÑ‰ª∂ÁöÑÁä∂ÊÄÅÂèòÂåñËß¶ÂèëÁöÑÔºå‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑÂàùÂßãÂåñ‰ºöËß¶ÂèëÂ≠êÁªÑ‰ª∂ÁöÑÂàùÂßãÂåñÔºå‰∏äÂ±ÇÁªÑ‰ª∂ÁöÑÂêØÂä®‰ºöËß¶ÂèëÂ≠êÁªÑ‰ª∂ÁöÑÂêØÂä®ÔºåÂõ†Ê≠§Êàë‰ª¨ÊääÁªÑ‰ª∂ÁöÑÁîüÂëΩÂë®ÊúüÂÆö‰πâÊàê‰∏Ä‰∏™‰∏™Áä∂ÊÄÅÔºåÊääÁä∂ÊÄÅÁöÑËΩ¨ÂèòÁúã‰ΩúÊòØ‰∏Ä‰∏™‰∫ã‰ª∂„ÄÇËÄå‰∫ã‰ª∂ÊòØÊúâÁõëÂê¨Âô®ÁöÑÔºåÂú®ÁõëÂê¨Âô®ÈáåÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∫õÈÄªËæëÔºåÂπ∂‰∏îÁõëÂê¨Âô®‰πüÂèØ‰ª•Êñπ‰æøÁöÑÊ∑ªÂä†ÂíåÂà†Èô§</strong>ÔºåËøôÂ∞±ÊòØÂÖ∏ÂûãÁöÑ<strong>ËßÇÂØüËÄÖÊ®°Âºè</strong>„ÄÇ</p><p>‰ª•‰∏ãÂ∞±ÊòØ <code>Lyfecycle</code> Êé•Âè£ÁöÑÂÆö‰πâ:</p><p><img src="6c0d1f851e590155176af9ad27f92a6f.webp" alt="img"><code>Lyfecycle</code></p><h5 id="ÈáçÁî®ÊÄßÔºöLifeCycleBase-ÊäΩË±°Âü∫Á±ª"><a href="#ÈáçÁî®ÊÄßÔºöLifeCycleBase-ÊäΩË±°Âü∫Á±ª" class="headerlink" title="ÈáçÁî®ÊÄßÔºöLifeCycleBase ÊäΩË±°Âü∫Á±ª"></a>ÈáçÁî®ÊÄßÔºöLifeCycleBase ÊäΩË±°Âü∫Á±ª</h5><p>ÂÜçÊ¨°ÁúãÂà∞ÊäΩË±°Ê®°ÊùøËÆæËÆ°Ê®°Âºè„ÄÇ</p><p>Êúâ‰∫ÜÊé•Âè£ÔºåÊàë‰ª¨Â∞±Ë¶ÅÁî®Á±ªÂéªÂÆûÁé∞Êé•Âè£„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÂÆûÁé∞Á±ª‰∏çÊ≠¢‰∏Ä‰∏™Ôºå‰∏çÂêåÁöÑÁ±ªÂú®ÂÆûÁé∞Êé•Âè£Êó∂ÂæÄÂæÄ‰ºöÊúâ‰∏Ä‰∫õÁõ∏ÂêåÁöÑÈÄªËæëÔºåÂ¶ÇÊûúËÆ©ÂêÑ‰∏™Â≠êÁ±ªÈÉΩÂéªÂÆûÁé∞‰∏ÄÈÅçÔºåÂ∞±‰ºöÊúâÈáçÂ§ç‰ª£Á†Å„ÄÇÈÇ£Â≠êÁ±ªÂ¶Ç‰ΩïÈáçÁî®ËøôÈÉ®ÂàÜÈÄªËæëÂë¢ÔºüÂÖ∂ÂÆûÂ∞±ÊòØÂÆö‰πâ‰∏Ä‰∏™Âü∫Á±ªÊù•ÂÆûÁé∞ÂÖ±ÂêåÁöÑÈÄªËæëÔºåÁÑ∂ÂêéËÆ©ÂêÑ‰∏™Â≠êÁ±ªÂéªÁªßÊâøÂÆÉÔºåÂ∞±ËææÂà∞‰∫ÜÈáçÁî®ÁöÑÁõÆÁöÑ„ÄÇ</p><p>Tomcat ÂÆö‰πâ‰∏Ä‰∏™Âü∫Á±ª LifeCycleBase Êù•ÂÆûÁé∞ LifeCycle Êé•Âè£ÔºåÊää‰∏Ä‰∫õÂÖ¨ÂÖ±ÁöÑÈÄªËæëÊîæÂà∞Âü∫Á±ª‰∏≠ÂéªÔºåÊØîÂ¶ÇÁîüÂëΩÁä∂ÊÄÅÁöÑËΩ¨Âèò‰∏éÁª¥Êä§„ÄÅÁîüÂëΩ‰∫ã‰ª∂ÁöÑËß¶Âèë‰ª•ÂèäÁõëÂê¨Âô®ÁöÑÊ∑ªÂä†ÂíåÂà†Èô§Á≠âÔºåËÄåÂ≠êÁ±ªÂ∞±Ë¥üË¥£ÂÆûÁé∞Ëá™Â∑±ÁöÑÂàùÂßãÂåñ„ÄÅÂêØÂä®ÂíåÂÅúÊ≠¢Á≠âÊñπÊ≥ï„ÄÇ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">public abstract class LifecycleBase implements Lifecycle&#123;</span><br><span class="line">    // ÊåÅÊúâÊâÄÊúâÁöÑËßÇÂØüËÄÖ</span><br><span class="line">    private final List lifecycleListeners = new CopyOnWriteArrayList&lt;&gt;();</span><br><span class="line">    /**</span><br><span class="line">     * ÂèëÂ∏É‰∫ã‰ª∂</span><br><span class="line">     *</span><br><span class="line">     * @param type  Event type</span><br><span class="line">     * @param data  Data associated with event.</span><br><span class="line">     */</span><br><span class="line">    protected void fireLifecycleEvent(String type, Object data) &#123;</span><br><span class="line">        LifecycleEvent event = new LifecycleEvent(this, type, data);</span><br><span class="line">        for (LifecycleListener listener : lifecycleListeners) &#123;</span><br><span class="line">            listener.lifecycleEvent(event);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // Ê®°ÊùøÊñπÊ≥ïÂÆö‰πâÊï¥‰∏™ÂêØÂä®ÊµÅÁ®ãÔºåÂêØÂä®ÊâÄÊúâÂÆπÂô®</span><br><span class="line">    @Override</span><br><span class="line">    public final synchronized void init() throws LifecycleException &#123;</span><br><span class="line">        //1. Áä∂ÊÄÅÊ£ÄÊü•</span><br><span class="line">        if (!state.equals(LifecycleState.NEW)) &#123;</span><br><span class="line">            invalidTransition(Lifecycle.BEFORE_INIT_EVENT);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            //2. Ëß¶Âèë INITIALIZING ‰∫ã‰ª∂ÁöÑÁõëÂê¨Âô®</span><br><span class="line">            setStateInternal(LifecycleState.INITIALIZING, null, false);</span><br><span class="line">            // 3. Ë∞ÉÁî®ÂÖ∑‰ΩìÂ≠êÁ±ªÁöÑÂàùÂßãÂåñÊñπÊ≥ï</span><br><span class="line">            initInternal();</span><br><span class="line">            // 4. Ëß¶Âèë INITIALIZED ‰∫ã‰ª∂ÁöÑÁõëÂê¨Âô®</span><br><span class="line">            setStateInternal(LifecycleState.INITIALIZED, null, false);</span><br><span class="line">        &#125; catch (Throwable t) &#123;</span><br><span class="line">            ExceptionUtils.handleThrowable(t);</span><br><span class="line">            setStateInternal(LifecycleState.FAILED, null, false);</span><br><span class="line">            throw new LifecycleException(</span><br><span class="line">                    sm.getString(&quot;lifecycleBase.initFail&quot;,toString()), t);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Tomcat ‰∏∫‰∫ÜÂÆûÁé∞‰∏ÄÈîÆÂºèÂêØÂÅú‰ª•Âèä‰ºòÈõÖÁöÑÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜÔºåÂπ∂ËÄÉËôëÂà∞‰∫ÜÂèØÊâ©Â±ïÊÄßÂíåÂèØÈáçÁî®ÊÄßÔºåÂ∞ÜÈù¢ÂêëÂØπË±°ÊÄùÊÉ≥ÂíåËÆæËÆ°Ê®°ÂºèÂèëÊå•Âà∞‰∫ÜÊûÅËá¥Ôºå<code>Containaer</code>Êé•Âè£Áª¥Êä§‰∫ÜÂÆπÂô®ÁöÑÁà∂Â≠êÂÖ≥Á≥ªÔºå<code>Lifecycle</code> ÁªÑÂêàÊ®°ÂºèÂÆûÁé∞ÁªÑ‰ª∂ÁöÑÁîüÂëΩÂë®ÊúüÁª¥Êä§ÔºåÁîüÂëΩÂë®ÊúüÊØè‰∏™ÁªÑ‰ª∂ÊúâÂèò‰∏é‰∏çÂèòÁöÑÁÇπÔºåËøêÁî®Ê®°ÊùøÊñπÊ≥ïÊ®°Âºè„ÄÇÂàÜÂà´ËøêÁî®‰∫Ü<strong>ÁªÑÂêàÊ®°Âºè„ÄÅËßÇÂØüËÄÖÊ®°Âºè„ÄÅÈ™®Êû∂ÊäΩË±°Á±ªÂíåÊ®°ÊùøÊñπÊ≥ï</strong>„ÄÇ</p><p>Â¶ÇÊûú‰Ω†ÈúÄË¶ÅÁª¥Êä§‰∏ÄÂ†ÜÂÖ∑ÊúâÁà∂Â≠êÂÖ≥Á≥ªÁöÑÂÆû‰ΩìÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®ÁªÑÂêàÊ®°Âºè„ÄÇ</p><p>ËßÇÂØüËÄÖÊ®°ÂºèÂê¨Ëµ∑Êù• ‚ÄúÈ´òÂ§ß‰∏ä‚ÄùÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂΩì‰∏Ä‰∏™‰∫ã‰ª∂ÂèëÁîüÂêéÔºåÈúÄË¶ÅÊâßË°å‰∏ÄËøû‰∏≤Êõ¥Êñ∞Êìç‰Ωú„ÄÇÂÆûÁé∞‰∫Ü‰ΩéËÄ¶Âêà„ÄÅÈùû‰æµÂÖ•ÂºèÁöÑÈÄöÁü•‰∏éÊõ¥Êñ∞Êú∫Âà∂„ÄÇ</p><figure class="image-box">                <img src="844ce454077ebe51f60e86504dde3f8f.webp" alt="img" title class>                <p>img</p>            </figure><p><code>Container</code> ÁªßÊâø‰∫Ü LifeCycleÔºåStandardEngine„ÄÅStandardHost„ÄÅStandardContext Âíå StandardWrapper ÊòØÁõ∏Â∫îÂÆπÂô®ÁªÑ‰ª∂ÁöÑÂÖ∑‰ΩìÂÆûÁé∞Á±ªÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÈÉΩÊòØÂÆπÂô®ÔºåÊâÄ‰ª•ÁªßÊâø‰∫Ü ContainerBase ÊäΩË±°Âü∫Á±ªÔºåËÄå ContainerBase ÂÆûÁé∞‰∫Ü Container Êé•Âè£Ôºå‰πüÁªßÊâø‰∫Ü LifeCycleBase Á±ªÔºåÂÆÉ‰ª¨ÁöÑÁîüÂëΩÂë®ÊúüÁÆ°ÁêÜÊé•Âè£ÂíåÂäüËÉΩÊé•Âè£ÊòØÂàÜÂºÄÁöÑÔºåËøô‰πüÁ¨¶ÂêàËÆæËÆ°‰∏≠<strong>Êé•Âè£ÂàÜÁ¶ªÁöÑÂéüÂàô</strong>„ÄÇ</p><h3 id="Tomcat-‰∏∫‰ΩïÊâìÁ†¥Âèå‰∫≤ÂßîÊ¥æÊú∫Âà∂"><a href="#Tomcat-‰∏∫‰ΩïÊâìÁ†¥Âèå‰∫≤ÂßîÊ¥æÊú∫Âà∂" class="headerlink" title="Tomcat ‰∏∫‰ΩïÊâìÁ†¥Âèå‰∫≤ÂßîÊ¥æÊú∫Âà∂"></a>Tomcat ‰∏∫‰ΩïÊâìÁ†¥Âèå‰∫≤ÂßîÊ¥æÊú∫Âà∂</h3><h4 id="Âèå‰∫≤ÂßîÊ¥æ"><a href="#Âèå‰∫≤ÂßîÊ¥æ" class="headerlink" title="Âèå‰∫≤ÂßîÊ¥æ"></a>Âèå‰∫≤ÂßîÊ¥æ</h4><p>Êàë‰ª¨Áü•ÈÅì <code>JVM</code>ÁöÑÁ±ªÂä†ËΩΩÂô®Âä†ËΩΩ Class ÁöÑÊó∂ÂÄôÂü∫‰∫éÂèå‰∫≤ÂßîÊ¥æÊú∫Âà∂Ôºå‰πüÂ∞±ÊòØ‰ºöÂ∞ÜÂä†ËΩΩ‰∫§ÁªôËá™Â∑±ÁöÑÁà∂Âä†ËΩΩÂô®Âä†ËΩΩÔºåÂ¶ÇÊûú Áà∂Âä†ËΩΩÂô®‰∏∫Á©∫ÂàôÊü•Êâæ<code>Bootstrap</code> ÊòØÂê¶Âä†ËΩΩËøáÔºåÂΩìÊó†Ê≥ïÂä†ËΩΩÁöÑÊó∂ÂÄôÊâçËÆ©Ëá™Â∑±Âä†ËΩΩ„ÄÇJDK Êèê‰æõ‰∏Ä‰∏™ÊäΩË±°Á±ª <code>ClassLoader</code>ÔºåËøô‰∏™ÊäΩË±°Á±ª‰∏≠ÂÆö‰πâ‰∫Ü‰∏â‰∏™ÂÖ≥ÈîÆÊñπÊ≥ï„ÄÇÂØπÂ§ñ‰ΩøÁî®<code>loadClass(String name) Áî®‰∫éÂ≠êÁ±ªÈáçÂÜôÊâìÁ†¥Âèå‰∫≤ÂßîÊ¥æÔºöloadClass(String name, boolean resolve)</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Class <span class="title">loadClass</span><span class="params">(String name)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> loadClass(name, <span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">protected</span> Class <span class="title">loadClass</span><span class="params">(String name, <span class="keyword">boolean</span> resolve)</span></span></span><br><span class="line"><span class="function">    <span class="keyword">throws</span> ClassNotFoundException</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (getClassLoadingLock(name)) &#123;</span><br><span class="line">        <span class="comment">// Êü•ÊâæËØ• class ÊòØÂê¶Â∑≤ÁªèË¢´Âä†ËΩΩËøá</span></span><br><span class="line">        Class c = findLoadedClass(name);</span><br><span class="line">        <span class="comment">// Â¶ÇÊûúÊ≤°ÊúâÂä†ËΩΩËøá</span></span><br><span class="line">        <span class="keyword">if</span> (c == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// ÂßîÊâòÁªôÁà∂Âä†ËΩΩÂô®ÂéªÂä†ËΩΩÔºåÈÄíÂΩíË∞ÉÁî®</span></span><br><span class="line">            <span class="keyword">if</span> (parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">                c = parent.loadClass(name, <span class="keyword">false</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// Â¶ÇÊûúÁà∂Âä†ËΩΩÂô®‰∏∫Á©∫ÔºåÊü•Êâæ Bootstrap ÊòØÂê¶Âä†ËΩΩËøá</span></span><br><span class="line">                c = findBootstrapClassOrNull(name);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// Ëã•Êûú‰æùÁÑ∂Âä†ËΩΩ‰∏çÂà∞ÔºåÂàôË∞ÉÁî®Ëá™Â∑±ÁöÑ findClass ÂéªÂä†ËΩΩ</span></span><br><span class="line">            <span class="keyword">if</span> (c == <span class="keyword">null</span>) &#123;</span><br><span class="line">                c = findClass(name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (resolve) &#123;</span><br><span class="line">            resolveClass(c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">protected</span> Class <span class="title">findClass</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">    <span class="comment">//1. Ê†πÊçÆ‰º†ÂÖ•ÁöÑÁ±ªÂêç nameÔºåÂà∞Âú®ÁâπÂÆöÁõÆÂΩï‰∏ãÂéªÂØªÊâæÁ±ªÊñá‰ª∂ÔºåÊää.class Êñá‰ª∂ËØªÂÖ•ÂÜÖÂ≠ò</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. Ë∞ÉÁî® defineClass Â∞ÜÂ≠óËäÇÊï∞ÁªÑËΩ¨Êàê Class ÂØπË±°</span></span><br><span class="line">        <span class="keyword">return</span> defineClass(buf, off, len)Ôºõ</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Â∞ÜÂ≠óËäÇÁ†ÅÊï∞ÁªÑËß£ÊûêÊàê‰∏Ä‰∏™ Class ÂØπË±°ÔºåÁî® native ÊñπÊ≥ïÂÆûÁé∞</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">final</span> Class <span class="title">defineClass</span><span class="params">(<span class="keyword">byte</span>[] b, <span class="keyword">int</span> off, <span class="keyword">int</span> len)</span></span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>JDK ‰∏≠Êúâ 3 ‰∏™Á±ªÂä†ËΩΩÂô®ÔºåÂè¶Â§ñ‰Ω†‰πüÂèØ‰ª•Ëá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®ÔºåÂÆÉ‰ª¨ÁöÑÂÖ≥Á≥ªÂ¶Ç‰∏ãÂõæÊâÄÁ§∫„ÄÇ</p><figure class="image-box">                <img src="bfaaa526706997606a0cb622dfc35396.webp" alt="img" title class>                <p>img</p>            </figure>Á±ªÂä†ËΩΩÂô®<br><br>- <code>BootstrapClassLoader</code>ÊòØÂêØÂä®Á±ªÂä†ËΩΩÂô®ÔºåÁî± C ËØ≠Ë®ÄÂÆûÁé∞ÔºåÁî®Êù•Âä†ËΩΩ <code>JVM</code>ÂêØÂä®Êó∂ÊâÄÈúÄË¶ÅÁöÑÊ†∏ÂøÉÁ±ªÔºåÊØîÂ¶Ç<code>rt.jar</code>„ÄÅ<code>resources.jar</code>Á≠â„ÄÇ<br>- <code>ExtClassLoader</code>ÊòØÊâ©Â±ïÁ±ªÂä†ËΩΩÂô®ÔºåÁî®Êù•Âä†ËΩΩ<code>\jre\lib\ext</code>ÁõÆÂΩï‰∏ã JAR ÂåÖ„ÄÇ<br>- <code>AppClassLoader</code>ÊòØÁ≥ªÁªüÁ±ªÂä†ËΩΩÂô®ÔºåÁî®Êù•Âä†ËΩΩ <code>classpath</code>‰∏ãÁöÑÁ±ªÔºåÂ∫îÁî®Á®ãÂ∫èÈªòËÆ§Áî®ÂÆÉÊù•Âä†ËΩΩÁ±ª„ÄÇ<br>- Ëá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô®ÔºåÁî®Êù•Âä†ËΩΩËá™ÂÆö‰πâË∑ØÂæÑ‰∏ãÁöÑÁ±ª„ÄÇ<br><br>Ëøô‰∫õÁ±ªÂä†ËΩΩÂô®ÁöÑÂ∑•‰ΩúÂéüÁêÜÊòØ‰∏ÄÊ†∑ÁöÑÔºåÂå∫Âà´ÊòØÂÆÉ‰ª¨ÁöÑÂä†ËΩΩË∑ØÂæÑ‰∏çÂêåÔºå‰πüÂ∞±ÊòØËØ¥ <code>findClass</code>Ëøô‰∏™ÊñπÊ≥ïÊü•ÊâæÁöÑË∑ØÂæÑ‰∏çÂêå„ÄÇÂèå‰∫≤ÂßîÊâòÊú∫Âà∂ÊòØ‰∏∫‰∫Ü‰øùËØÅ‰∏Ä‰∏™ Java Á±ªÂú® JVM ‰∏≠ÊòØÂîØ‰∏ÄÁöÑÔºåÂÅáÂ¶Ç‰Ω†‰∏çÂ∞èÂøÉÂÜô‰∫Ü‰∏Ä‰∏™‰∏é JRE Ê†∏ÂøÉÁ±ªÂêåÂêçÁöÑÁ±ªÔºåÊØîÂ¶Ç <code>Object</code>Á±ªÔºåÂèå‰∫≤ÂßîÊâòÊú∫Âà∂ËÉΩ‰øùËØÅÂä†ËΩΩÁöÑÊòØ <code>JRE</code>ÈáåÁöÑÈÇ£‰∏™ <code>Object</code>Á±ªÔºåËÄå‰∏çÊòØ‰Ω†ÂÜôÁöÑ <code>Object</code>Á±ª„ÄÇËøôÊòØÂõ†‰∏∫ <code>AppClassLoader</code>Âú®Âä†ËΩΩ‰Ω†ÁöÑ Object Á±ªÊó∂Ôºå‰ºöÂßîÊâòÁªô <code>ExtClassLoader</code>ÂéªÂä†ËΩΩÔºåËÄå <code>ExtClassLoader</code>Âèà‰ºöÂßîÊâòÁªô <code>BootstrapClassLoader</code>Ôºå<code>BootstrapClassLoader</code>ÂèëÁé∞Ëá™Â∑±Â∑≤ÁªèÂä†ËΩΩËøá‰∫Ü <code>Object</code>Á±ªÔºå‰ºöÁõ¥Êé•ËøîÂõûÔºå‰∏ç‰ºöÂéªÂä†ËΩΩ‰Ω†ÂÜôÁöÑ <code>Object</code>Á±ª„ÄÇÊàë‰ª¨ÊúÄÂ§öÂè™ËÉΩ Ëé∑ÂèñÂà∞ <code>ExtClassLoader</code>ËøôÈáåÊ≥®ÊÑè‰∏ã„ÄÇ<br><br>#### Tomcat ÁÉ≠Âä†ËΩΩ<br><br>Tomcat Êú¨Ë¥®ÊòØÈÄöËøá‰∏Ä‰∏™ÂêéÂè∞Á∫øÁ®ãÂÅöÂë®ÊúüÊÄßÁöÑ‰ªªÂä°ÔºåÂÆöÊúüÊ£ÄÊµãÁ±ªÊñá‰ª∂ÁöÑÂèòÂåñÔºåÂ¶ÇÊûúÊúâÂèòÂåñÂ∞±ÈáçÊñ∞Âä†ËΩΩÁ±ª„ÄÇÊàë‰ª¨Êù•Áúã <code>ContainerBackgroundProcessor</code>ÂÖ∑‰ΩìÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑ„ÄÇ<br><br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="class"><span class="keyword">class</span> <span class="title">ContainerBackgroundProcessor</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ËØ∑Ê≥®ÊÑèËøôÈáå‰º†ÂÖ•ÁöÑÂèÇÊï∞ÊòØ " ÂÆø‰∏ªÁ±ª " ÁöÑÂÆû‰æã</span></span><br><span class="line">        processChildren(ContainerBase.<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">processChildren</span><span class="params">(Container container)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//1. Ë∞ÉÁî®ÂΩìÂâçÂÆπÂô®ÁöÑ backgroundProcess ÊñπÊ≥ï„ÄÇ</span></span><br><span class="line">            container.backgroundProcess();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//2. ÈÅçÂéÜÊâÄÊúâÁöÑÂ≠êÂÆπÂô®ÔºåÈÄíÂΩíË∞ÉÁî® processChildrenÔºå</span></span><br><span class="line">            <span class="comment">// ËøôÊ†∑ÂΩìÂâçÂÆπÂô®ÁöÑÂ≠êÂ≠ôÈÉΩ‰ºöË¢´Â§ÑÁêÜ</span></span><br><span class="line">            Container[] children = container.findChildren();</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; children.length; i++) &#123;</span><br><span class="line">            <span class="comment">// ËøôÈáåËØ∑‰Ω†Ê≥®ÊÑèÔºåÂÆπÂô®Âü∫Á±ªÊúâ‰∏™ÂèòÈáèÂè´ÂÅö backgroundProcessorDelayÔºåÂ¶ÇÊûúÂ§ß‰∫é 0ÔºåË°®ÊòéÂ≠êÂÆπÂô®ÊúâËá™Â∑±ÁöÑÂêéÂè∞Á∫øÁ®ãÔºåÊó†ÈúÄÁà∂ÂÆπÂô®Êù•Ë∞ÉÁî®ÂÆÉÁöÑ processChildren ÊñπÊ≥ï„ÄÇ</span></span><br><span class="line">                <span class="keyword">if</span> (children[i].getBackgroundProcessorDelay() &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    processChildren(children[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable t) &#123; ... &#125;</span><br></pre></td></tr></table></figure><p>Tomcat ÁöÑÁÉ≠Âä†ËΩΩÂ∞±ÊòØÂú® Context ÂÆπÂô®ÂÆûÁé∞Ôºå‰∏ªË¶ÅÊòØË∞ÉÁî®‰∫Ü Context ÂÆπÂô®ÁöÑ reload ÊñπÊ≥ï„ÄÇÊäõÂºÄÁªÜËäÇ‰ªéÂÆèËßÇ‰∏äÁúã‰∏ªË¶ÅÂÆåÊàê‰ª•‰∏ã‰ªªÂä°Ôºö</p><ol><li>ÂÅúÊ≠¢ÂíåÈîÄÊØÅ Context ÂÆπÂô®ÂèäÂÖ∂ÊâÄÊúâÂ≠êÂÆπÂô®ÔºåÂ≠êÂÆπÂô®ÂÖ∂ÂÆûÂ∞±ÊòØ WrapperÔºå‰πüÂ∞±ÊòØËØ¥ Wrapper ÈáåÈù¢ Servlet ÂÆû‰æã‰πüË¢´ÈîÄÊØÅ‰∫Ü„ÄÇ</li><li>ÂÅúÊ≠¢ÂíåÈîÄÊØÅ Context ÂÆπÂô®ÂÖ≥ËÅîÁöÑ Listener Âíå Filter„ÄÇ</li><li>ÂÅúÊ≠¢ÂíåÈîÄÊØÅ Context ‰∏ãÁöÑ Pipeline ÂíåÂêÑÁßç Valve„ÄÇ</li><li>ÂÅúÊ≠¢ÂíåÈîÄÊØÅ Context ÁöÑÁ±ªÂä†ËΩΩÂô®Ôºå‰ª•ÂèäÁ±ªÂä†ËΩΩÂô®Âä†ËΩΩÁöÑÁ±ªÊñá‰ª∂ËµÑÊ∫ê„ÄÇ</li><li>ÂêØÂä® Context ÂÆπÂô®ÔºåÂú®Ëøô‰∏™ËøáÁ®ã‰∏≠‰ºöÈáçÊñ∞ÂàõÂª∫ÂâçÈù¢ÂõõÊ≠•Ë¢´ÈîÄÊØÅÁöÑËµÑÊ∫ê„ÄÇ</li></ol><p>Âú®Ëøô‰∏™ËøáÁ®ã‰∏≠ÔºåÁ±ªÂä†ËΩΩÂô®ÂèëÊå•ÁùÄÂÖ≥ÈîÆ‰ΩúÁî®„ÄÇ‰∏Ä‰∏™ Context ÂÆπÂô®ÂØπÂ∫î‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®ÔºåÁ±ªÂä†ËΩΩÂô®Âú®ÈîÄÊØÅÁöÑËøáÁ®ã‰∏≠‰ºöÊääÂÆÉÂä†ËΩΩÁöÑÊâÄÊúâÁ±ª‰πüÂÖ®ÈÉ®ÈîÄÊØÅ„ÄÇContext ÂÆπÂô®Âú®ÂêØÂä®ËøáÁ®ã‰∏≠Ôºå‰ºöÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÁ±ªÂä†ËΩΩÂô®Êù•Âä†ËΩΩÊñ∞ÁöÑÁ±ªÊñá‰ª∂„ÄÇ</p><h4 id="Tomcat-ÁöÑÁ±ªÂä†ËΩΩÂô®"><a href="#Tomcat-ÁöÑÁ±ªÂä†ËΩΩÂô®" class="headerlink" title="Tomcat ÁöÑÁ±ªÂä†ËΩΩÂô®"></a>Tomcat ÁöÑÁ±ªÂä†ËΩΩÂô®</h4><p>Tomcat ÁöÑËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô® <code>WebAppClassLoader</code>ÊâìÁ†¥‰∫ÜÂèå‰∫≤ÂßîÊâòÊú∫Âà∂ÔºåÂÆÉ<strong>È¶ñÂÖàËá™Â∑±Â∞ùËØïÂéªÂä†ËΩΩÊüê‰∏™Á±ªÔºåÂ¶ÇÊûúÊâæ‰∏çÂà∞ÂÜç‰ª£ÁêÜÁªôÁà∂Á±ªÂä†ËΩΩÂô®</strong>ÔºåÂÖ∂ÁõÆÁöÑÊòØ‰ºòÂÖàÂä†ËΩΩ Web Â∫îÁî®Ëá™Â∑±ÂÆö‰πâÁöÑÁ±ª„ÄÇÂÖ∑‰ΩìÂÆûÁé∞Â∞±ÊòØÈáçÂÜô <code>ClassLoader</code>ÁöÑ‰∏§‰∏™ÊñπÊ≥ïÔºö<code>findClass</code>Âíå <code>loadClass</code>„ÄÇ</p><h5 id="findClass-ÊñπÊ≥ï"><a href="#findClass-ÊñπÊ≥ï" class="headerlink" title="findClass ÊñπÊ≥ï"></a>findClass ÊñπÊ≥ï</h5><p><code>org.apache.catalina.loader.WebappClassLoaderBase#findClass</code>;‰∏∫‰∫ÜÊñπ‰æøÁêÜËß£ÂíåÈòÖËØªÔºåÊàëÂéªÊéâ‰∫Ü‰∏Ä‰∫õÁªÜËäÇÔºö</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Class <span class="title">findClass</span><span class="params">(String name)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    Class clazz = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//1. ÂÖàÂú® Web Â∫îÁî®ÁõÆÂΩï‰∏ãÊü•ÊâæÁ±ª</span></span><br><span class="line">            clazz = findClassInternal(name);</span><br><span class="line">    &#125;  <span class="keyword">catch</span> (RuntimeException e) &#123;</span><br><span class="line">           <span class="keyword">throw</span> e;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (clazz == <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//2. Â¶ÇÊûúÂú®Êú¨Âú∞ÁõÆÂΩïÊ≤°ÊúâÊâæÂà∞Ôºå‰∫§ÁªôÁà∂Âä†ËΩΩÂô®ÂéªÊü•Êâæ</span></span><br><span class="line">            clazz = <span class="keyword">super</span>.findClass(name);</span><br><span class="line">    &#125;  <span class="keyword">catch</span> (RuntimeException e) &#123;</span><br><span class="line">           <span class="keyword">throw</span> e;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3. Â¶ÇÊûúÁà∂Á±ª‰πüÊ≤°ÊâæÂà∞ÔºåÊäõÂá∫ ClassNotFoundException</span></span><br><span class="line">    <span class="keyword">if</span> (clazz == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> ClassNotFoundException(name);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> clazz;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>ÂÖàÂú® Web Â∫îÁî®Êú¨Âú∞ÁõÆÂΩï‰∏ãÊü•ÊâæË¶ÅÂä†ËΩΩÁöÑÁ±ª„ÄÇ</li><li>Â¶ÇÊûúÊ≤°ÊúâÊâæÂà∞Ôºå‰∫§ÁªôÁà∂Âä†ËΩΩÂô®ÂéªÊü•ÊâæÔºåÂÆÉÁöÑÁà∂Âä†ËΩΩÂô®Â∞±ÊòØ‰∏äÈù¢ÊèêÂà∞ÁöÑÁ≥ªÁªüÁ±ªÂä†ËΩΩÂô® <code>AppClassLoader</code>„ÄÇ</li><li>Â¶Ç‰ΩïÁà∂Âä†ËΩΩÂô®‰πüÊ≤°ÊâæÂà∞Ëøô‰∏™Á±ªÔºåÊäõÂá∫ <code>ClassNotFound</code>ÂºÇÂ∏∏„ÄÇ</li></ol><h5 id="loadClass-ÊñπÊ≥ï"><a href="#loadClass-ÊñπÊ≥ï" class="headerlink" title="loadClass ÊñπÊ≥ï"></a>loadClass ÊñπÊ≥ï</h5><p>ÂÜçÊù•Áúã Tomcat Á±ªÂä†ËΩΩÂô®ÁöÑ <code>loadClass</code>ÊñπÊ≥ïÁöÑÂÆûÁé∞ÔºåÂêåÊ†∑Êàë‰πüÂéªÊéâ‰∫Ü‰∏Ä‰∫õÁªÜËäÇÔºö</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> Class <span class="title">loadClass</span><span class="params">(String name, <span class="keyword">boolean</span> resolve)</span> <span class="keyword">throws</span> ClassNotFoundException </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">synchronized</span> (getClassLoadingLock(name)) &#123;</span><br><span class="line"></span><br><span class="line">        Class clazz = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1. ÂÖàÂú®Êú¨Âú∞ cache Êü•ÊâæËØ•Á±ªÊòØÂê¶Â∑≤ÁªèÂä†ËΩΩËøá</span></span><br><span class="line">        clazz = findLoadedClass0(name);</span><br><span class="line">        <span class="keyword">if</span> (clazz != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (resolve)</span><br><span class="line">                resolveClass(clazz);</span><br><span class="line">            <span class="keyword">return</span> clazz;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2. ‰ªéÁ≥ªÁªüÁ±ªÂä†ËΩΩÂô®ÁöÑ cache ‰∏≠Êü•ÊâæÊòØÂê¶Âä†ËΩΩËøá</span></span><br><span class="line">        clazz = findLoadedClass(name);</span><br><span class="line">        <span class="keyword">if</span> (clazz != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (resolve)</span><br><span class="line">                resolveClass(clazz);</span><br><span class="line">            <span class="keyword">return</span> clazz;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. Â∞ùËØïÁî® ExtClassLoader Á±ªÂä†ËΩΩÂô®Á±ªÂä†ËΩΩÔºå‰∏∫‰ªÄ‰πàÔºü</span></span><br><span class="line">        ClassLoader javaseLoader = getJavaseClassLoader();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            clazz = javaseLoader.loadClass(name);</span><br><span class="line">            <span class="keyword">if</span> (clazz != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (resolve)</span><br><span class="line">                    resolveClass(clazz);</span><br><span class="line">                <span class="keyword">return</span> clazz;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            <span class="comment">// Ignore</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4. Â∞ùËØïÂú®Êú¨Âú∞ÁõÆÂΩïÊêúÁ¥¢ class Âπ∂Âä†ËΩΩ</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            clazz = findClass(name);</span><br><span class="line">            <span class="keyword">if</span> (clazz != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (resolve)</span><br><span class="line">                    resolveClass(clazz);</span><br><span class="line">                <span class="keyword">return</span> clazz;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            <span class="comment">// Ignore</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5. Â∞ùËØïÁî®Á≥ªÁªüÁ±ªÂä†ËΩΩÂô® (‰πüÂ∞±ÊòØ AppClassLoader) Êù•Âä†ËΩΩ</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                clazz = Class.forName(name, <span class="keyword">false</span>, parent);</span><br><span class="line">                <span class="keyword">if</span> (clazz != <span class="keyword">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (resolve)</span><br><span class="line">                        resolveClass(clazz);</span><br><span class="line">                    <span class="keyword">return</span> clazz;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">                <span class="comment">// Ignore</span></span><br><span class="line">            &#125;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//6. ‰∏äËø∞ËøáÁ®ãÈÉΩÂä†ËΩΩÂ§±Ë¥•ÔºåÊäõÂá∫ÂºÇÂ∏∏</span></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> ClassNotFoundException(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>‰∏ªË¶ÅÊúâÂÖ≠‰∏™Ê≠•È™§Ôºö</p><ol><li>ÂÖàÂú®Êú¨Âú∞ Cache Êü•ÊâæËØ•Á±ªÊòØÂê¶Â∑≤ÁªèÂä†ËΩΩËøáÔºå‰πüÂ∞±ÊòØËØ¥ Tomcat ÁöÑÁ±ªÂä†ËΩΩÂô®ÊòØÂê¶Â∑≤ÁªèÂä†ËΩΩËøáËøô‰∏™Á±ª„ÄÇ</li><li>Â¶ÇÊûú Tomcat Á±ªÂä†ËΩΩÂô®Ê≤°ÊúâÂä†ËΩΩËøáËøô‰∏™Á±ªÔºåÂÜçÁúãÁúãÁ≥ªÁªüÁ±ªÂä†ËΩΩÂô®ÊòØÂê¶Âä†ËΩΩËøá„ÄÇ</li><li>Â¶ÇÊûúÈÉΩÊ≤°ÊúâÔºåÂ∞±ËÆ©<strong>ExtClassLoader</strong>ÂéªÂä†ËΩΩÔºåËøô‰∏ÄÊ≠•ÊØîËæÉÂÖ≥ÈîÆÔºåÁõÆÁöÑ <strong>Èò≤Ê≠¢ Web Â∫îÁî®Ëá™Â∑±ÁöÑÁ±ªË¶ÜÁõñ JRE ÁöÑÊ†∏ÂøÉÁ±ª</strong>„ÄÇÂõ†‰∏∫ Tomcat ÈúÄË¶ÅÊâìÁ†¥Âèå‰∫≤ÂßîÊâòÊú∫Âà∂ÔºåÂÅáÂ¶Ç Web Â∫îÁî®ÈáåËá™ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âè´ Object ÁöÑÁ±ªÔºåÂ¶ÇÊûúÂÖàÂä†ËΩΩËøô‰∏™ Object Á±ªÔºåÂ∞±‰ºöË¶ÜÁõñ JRE ÈáåÈù¢ÁöÑÈÇ£‰∏™ Object Á±ªÔºåËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πà Tomcat ÁöÑÁ±ªÂä†ËΩΩÂô®‰ºö‰ºòÂÖàÂ∞ùËØïÁî® <code>ExtClassLoader</code>ÂéªÂä†ËΩΩÔºåÂõ†‰∏∫ <code>ExtClassLoader</code>‰ºöÂßîÊâòÁªô <code>BootstrapClassLoader</code>ÂéªÂä†ËΩΩÔºå<code>BootstrapClassLoader</code>ÂèëÁé∞Ëá™Â∑±Â∑≤ÁªèÂä†ËΩΩ‰∫Ü Object Á±ªÔºåÁõ¥Êé•ËøîÂõûÁªô Tomcat ÁöÑÁ±ªÂä†ËΩΩÂô®ÔºåËøôÊ†∑ Tomcat ÁöÑÁ±ªÂä†ËΩΩÂô®Â∞±‰∏ç‰ºöÂéªÂä†ËΩΩ Web Â∫îÁî®‰∏ãÁöÑ Object Á±ª‰∫ÜÔºå‰πüÂ∞±ÈÅøÂÖç‰∫ÜË¶ÜÁõñ JRE Ê†∏ÂøÉÁ±ªÁöÑÈóÆÈ¢ò„ÄÇ</li><li>Â¶ÇÊûú <code>ExtClassLoader</code>Âä†ËΩΩÂô®Âä†ËΩΩÂ§±Ë¥•Ôºå‰πüÂ∞±ÊòØËØ¥ <code>JRE</code>Ê†∏ÂøÉÁ±ª‰∏≠Ê≤°ÊúâËøôÁ±ªÔºåÈÇ£‰πàÂ∞±Âú®Êú¨Âú∞ Web Â∫îÁî®ÁõÆÂΩï‰∏ãÊü•ÊâæÂπ∂Âä†ËΩΩ„ÄÇ</li><li>Â¶ÇÊûúÊú¨Âú∞ÁõÆÂΩï‰∏ãÊ≤°ÊúâËøô‰∏™Á±ªÔºåËØ¥Êòé‰∏çÊòØ Web Â∫îÁî®Ëá™Â∑±ÂÆö‰πâÁöÑÁ±ªÔºåÈÇ£‰πàÁî±Á≥ªÁªüÁ±ªÂä†ËΩΩÂô®ÂéªÂä†ËΩΩ„ÄÇËøôÈáåËØ∑‰Ω†Ê≥®ÊÑèÔºåWeb Â∫îÁî®ÊòØÈÄöËøá<code>Class.forName</code>Ë∞ÉÁî®‰∫§ÁªôÁ≥ªÁªüÁ±ªÂä†ËΩΩÂô®ÁöÑÔºåÂõ†‰∏∫<code>Class.forName</code>ÁöÑÈªòËÆ§Âä†ËΩΩÂô®Â∞±ÊòØÁ≥ªÁªüÁ±ªÂä†ËΩΩÂô®„ÄÇ</li><li>Â¶ÇÊûú‰∏äËø∞Âä†ËΩΩËøáÁ®ãÂÖ®ÈÉ®Â§±Ë¥•ÔºåÊäõÂá∫ <code>ClassNotFound</code>ÂºÇÂ∏∏„ÄÇ</li></ol><h4 id="Tomcat-Á±ªÂä†ËΩΩÂô®Â±ÇÊ¨°"><a href="#Tomcat-Á±ªÂä†ËΩΩÂô®Â±ÇÊ¨°" class="headerlink" title="Tomcat Á±ªÂä†ËΩΩÂô®Â±ÇÊ¨°"></a>Tomcat Á±ªÂä†ËΩΩÂô®Â±ÇÊ¨°</h4><p>Tomcat ‰Ωú‰∏∫ <code>Servlet</code>ÂÆπÂô®ÔºåÂÆÉË¥üË¥£Âä†ËΩΩÊàë‰ª¨ÁöÑ <code>Servlet</code>Á±ªÔºåÊ≠§Â§ñÂÆÉËøòË¥üË¥£Âä†ËΩΩ <code>Servlet</code>ÊâÄ‰æùËµñÁöÑ JAR ÂåÖ„ÄÇÂπ∂‰∏î <code>Tomcat</code>Êú¨Ë∫´‰πüÊòØ‰πüÊòØ‰∏Ä‰∏™ Java Á®ãÂ∫èÔºåÂõ†Ê≠§ÂÆÉÈúÄË¶ÅÂä†ËΩΩËá™Â∑±ÁöÑÁ±ªÂíå‰æùËµñÁöÑ JAR ÂåÖ„ÄÇÈ¶ñÂÖàËÆ©Êàë‰ª¨ÊÄùËÄÉËøô‰∏Ä‰∏ãËøôÂá†‰∏™ÈóÆÈ¢òÔºö</p><ol><li>ÂÅáÂ¶ÇÊàë‰ª¨Âú® Tomcat ‰∏≠ËøêË°å‰∫Ü‰∏§‰∏™ Web Â∫îÁî®Á®ãÂ∫èÔºå‰∏§‰∏™ Web Â∫îÁî®‰∏≠ÊúâÂêåÂêçÁöÑ <code>Servlet</code>Ôºå‰ΩÜÊòØÂäüËÉΩ‰∏çÂêåÔºåTomcat ÈúÄË¶ÅÂêåÊó∂Âä†ËΩΩÂíåÁÆ°ÁêÜËøô‰∏§‰∏™ÂêåÂêçÁöÑ <code>Servlet</code>Á±ªÔºå‰øùËØÅÂÆÉ‰ª¨‰∏ç‰ºöÂÜ≤Á™ÅÔºåÂõ†Ê≠§ Web Â∫îÁî®‰πãÈó¥ÁöÑÁ±ªÈúÄË¶ÅÈöîÁ¶ª„ÄÇ</li><li>ÂÅáÂ¶Ç‰∏§‰∏™ Web Â∫îÁî®ÈÉΩ‰æùËµñÂêå‰∏Ä‰∏™Á¨¨‰∏âÊñπÁöÑ JAR ÂåÖÔºåÊØîÂ¶Ç <code>Spring</code>ÔºåÈÇ£ <code>Spring</code>ÁöÑ JAR ÂåÖË¢´Âä†ËΩΩÂà∞ÂÜÖÂ≠òÂêéÔºå<code>Tomcat</code>Ë¶Å‰øùËØÅËøô‰∏§‰∏™ Web Â∫îÁî®ËÉΩÂ§üÂÖ±‰∫´Ôºå‰πüÂ∞±ÊòØËØ¥ <code>Spring</code>ÁöÑ JAR ÂåÖÂè™Ë¢´Âä†ËΩΩ‰∏ÄÊ¨°ÔºåÂê¶ÂàôÈöèÁùÄ‰æùËµñÁöÑÁ¨¨‰∏âÊñπ JAR ÂåÖÂ¢ûÂ§öÔºå<code>JVM</code>ÁöÑÂÜÖÂ≠ò‰ºöËÜ®ËÉÄ„ÄÇ</li><li>Ë∑ü JVM ‰∏ÄÊ†∑ÔºåÊàë‰ª¨ÈúÄË¶ÅÈöîÁ¶ª Tomcat Êú¨Ë∫´ÁöÑÁ±ªÂíå Web Â∫îÁî®ÁöÑÁ±ª„ÄÇ</li></ol><figure class="image-box">                <img src="bc3f88a879d635e79609c0f7e1ddb640.webp" alt="img" title class>                <p>img</p>            </figure><h5 id="1-WebAppClassLoader"><a href="#1-WebAppClassLoader" class="headerlink" title="1. WebAppClassLoader"></a>1. WebAppClassLoader</h5><p>Tomcat ÁöÑËß£ÂÜ≥ÊñπÊ°àÊòØËá™ÂÆö‰πâ‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô® <code>WebAppClassLoader</code>Ôºå Âπ∂‰∏îÁªôÊØè‰∏™ Web Â∫îÁî®ÂàõÂª∫‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô®ÂÆû‰æã„ÄÇÊàë‰ª¨Áü•ÈÅìÔºåContext ÂÆπÂô®ÁªÑ‰ª∂ÂØπÂ∫î‰∏Ä‰∏™ Web Â∫îÁî®ÔºåÂõ†Ê≠§ÔºåÊØè‰∏™ <code>Context</code>ÂÆπÂô®Ë¥üË¥£ÂàõÂª∫ÂíåÁª¥Êä§‰∏Ä‰∏™ <code>WebAppClassLoader</code>Âä†ËΩΩÂô®ÂÆû‰æã„ÄÇËøôËÉåÂêéÁöÑÂéüÁêÜÊòØÔºå<strong>‰∏çÂêåÁöÑÂä†ËΩΩÂô®ÂÆû‰æãÂä†ËΩΩÁöÑÁ±ªË¢´ËÆ§‰∏∫ÊòØ‰∏çÂêåÁöÑÁ±ª</strong>ÔºåÂç≥‰ΩøÂÆÉ‰ª¨ÁöÑÁ±ªÂêçÁõ∏Âêå„ÄÇËøôÂ∞±Áõ∏ÂΩì‰∫éÂú® Java ËôöÊãüÊú∫ÂÜÖÈÉ®ÂàõÂª∫‰∫Ü‰∏Ä‰∏™‰∏™Áõ∏‰∫íÈöîÁ¶ªÁöÑ Java Á±ªÁ©∫Èó¥ÔºåÊØè‰∏Ä‰∏™ Web Â∫îÁî®ÈÉΩÊúâËá™Â∑±ÁöÑÁ±ªÁ©∫Èó¥ÔºåWeb Â∫îÁî®‰πãÈó¥ÈÄöËøáÂêÑËá™ÁöÑÁ±ªÂä†ËΩΩÂô®‰∫íÁõ∏ÈöîÁ¶ª„ÄÇ</p><h5 id="2-SharedClassLoader"><a href="#2-SharedClassLoader" class="headerlink" title="2.SharedClassLoader"></a>2.SharedClassLoader</h5><p>Êú¨Ë¥®ÈúÄÊ±ÇÊòØ‰∏§‰∏™ Web Â∫îÁî®‰πãÈó¥ÊÄé‰πàÂÖ±‰∫´Â∫ìÁ±ª,Âπ∂‰∏î‰∏çËÉΩÈáçÂ§çÂä†ËΩΩÁõ∏ÂêåÁöÑÁ±ª„ÄÇÂú®Âèå‰∫≤ÂßîÊâòÊú∫Âà∂ÈáåÔºåÂêÑ‰∏™Â≠êÂä†ËΩΩÂô®ÈÉΩÂèØ‰ª•ÈÄöËøáÁà∂Âä†ËΩΩÂô®ÂéªÂä†ËΩΩÁ±ªÔºåÈÇ£‰πàÊääÈúÄË¶ÅÂÖ±‰∫´ÁöÑÁ±ªÊîæÂà∞Áà∂Âä†ËΩΩÂô®ÁöÑÂä†ËΩΩË∑ØÂæÑ‰∏ã‰∏çÂ∞±Ë°å‰∫ÜÂêó„ÄÇ</p><p>Âõ†Ê≠§ Tomcat ÁöÑËÆæËÆ°ËÄÖÂèàÂä†‰∫Ü‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô® <code>SharedClassLoader</code>Ôºå‰Ωú‰∏∫ <code>WebAppClassLoader</code>ÁöÑÁà∂Âä†ËΩΩÂô®Ôºå‰∏ìÈó®Êù•Âä†ËΩΩ Web Â∫îÁî®‰πãÈó¥ÂÖ±‰∫´ÁöÑÁ±ª„ÄÇÂ¶ÇÊûú <code>WebAppClassLoader</code>Ëá™Â∑±Ê≤°ÊúâÂä†ËΩΩÂà∞Êüê‰∏™Á±ªÔºåÂ∞±‰ºöÂßîÊâòÁà∂Âä†ËΩΩÂô® <code>SharedClassLoader</code>ÂéªÂä†ËΩΩËøô‰∏™Á±ªÔºå<code>SharedClassLoader</code>‰ºöÂú®ÊåáÂÆöÁõÆÂΩï‰∏ãÂä†ËΩΩÂÖ±‰∫´Á±ªÔºå‰πãÂêéËøîÂõûÁªô <code>WebAppClassLoader</code>ÔºåËøôÊ†∑ÂÖ±‰∫´ÁöÑÈóÆÈ¢òÂ∞±Ëß£ÂÜ≥‰∫Ü„ÄÇ</p><h5 id="3-CatalinaClassloader"><a href="#3-CatalinaClassloader" class="headerlink" title="3. CatalinaClassloader"></a>3. CatalinaClassloader</h5><p>Â¶Ç‰ΩïÈöîÁ¶ª Tomcat Êú¨Ë∫´ÁöÑÁ±ªÂíå Web Â∫îÁî®ÁöÑÁ±ªÔºü</p><p>Ë¶ÅÂÖ±‰∫´ÂèØ‰ª•ÈÄöËøáÁà∂Â≠êÂÖ≥Á≥ªÔºåË¶ÅÈöîÁ¶ªÈÇ£Â∞±ÈúÄË¶ÅÂÖÑÂºüÂÖ≥Á≥ª‰∫Ü„ÄÇÂÖÑÂºüÂÖ≥Á≥ªÂ∞±ÊòØÊåá‰∏§‰∏™Á±ªÂä†ËΩΩÂô®ÊòØÂπ≥Ë°åÁöÑÔºåÂÆÉ‰ª¨ÂèØËÉΩÊã•ÊúâÂêå‰∏Ä‰∏™Áà∂Âä†ËΩΩÂô®ÔºåÂü∫‰∫éÊ≠§ Tomcat ÂèàËÆæËÆ°‰∏Ä‰∏™Á±ªÂä†ËΩΩÂô® <code>CatalinaClassloader</code>Ôºå‰∏ìÈó®Êù•Âä†ËΩΩ Tomcat Ëá™Ë∫´ÁöÑÁ±ª„ÄÇ</p><p>ËøôÊ†∑ËÆæËÆ°Êúâ‰∏™ÈóÆÈ¢òÔºåÈÇ£ Tomcat ÂíåÂêÑ Web Â∫îÁî®‰πãÈó¥ÈúÄË¶ÅÂÖ±‰∫´‰∏Ä‰∫õÁ±ªÊó∂ËØ•ÊÄé‰πàÂäûÂë¢Ôºü</p><p>ËÄÅÂäûÊ≥ïÔºåËøòÊòØÂÜçÂ¢ûÂä†‰∏Ä‰∏™ <code>CommonClassLoader</code>Ôºå‰Ωú‰∏∫ <code>CatalinaClassloader</code>Âíå <code>SharedClassLoader</code>ÁöÑÁà∂Âä†ËΩΩÂô®„ÄÇ<code>CommonClassLoader</code>ËÉΩÂä†ËΩΩÁöÑÁ±ªÈÉΩÂèØ‰ª•Ë¢´ <code>CatalinaClassLoader</code>Âíå <code>SharedClassLoader</code>‰ΩøÁî®</p><h2 id="Êï¥‰ΩìÊû∂ÊûÑËÆæËÆ°Ëß£ÊûêÊî∂Ëé∑ÊÄªÁªì"><a href="#Êï¥‰ΩìÊû∂ÊûÑËÆæËÆ°Ëß£ÊûêÊî∂Ëé∑ÊÄªÁªì" class="headerlink" title="Êï¥‰ΩìÊû∂ÊûÑËÆæËÆ°Ëß£ÊûêÊî∂Ëé∑ÊÄªÁªì"></a>Êï¥‰ΩìÊû∂ÊûÑËÆæËÆ°Ëß£ÊûêÊî∂Ëé∑ÊÄªÁªì</h2><p>ÈÄöËøáÂâçÈù¢ÂØπ Tomcat Êï¥‰ΩìÊû∂ÊûÑÁöÑÂ≠¶‰π†ÔºåÁü•ÈÅì‰∫Ü Tomcat ÊúâÂì™‰∫õÊ†∏ÂøÉÁªÑ‰ª∂ÔºåÁªÑ‰ª∂‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇ‰ª•Âèä Tomcat ÊòØÊÄé‰πàÂ§ÑÁêÜ‰∏Ä‰∏™ HTTP ËØ∑Ê±ÇÁöÑ„ÄÇ‰∏ãÈù¢Êàë‰ª¨ÈÄöËøá‰∏ÄÂº†ÁÆÄÂåñÁöÑÁ±ªÂõæÊù•ÂõûÈ°æ‰∏Ä‰∏ãÔºå‰ªéÂõæ‰∏ä‰Ω†ÂèØ‰ª•ÁúãÂà∞ÂêÑÁßçÁªÑ‰ª∂ÁöÑÂ±ÇÊ¨°ÂÖ≥Á≥ªÔºåÂõæ‰∏≠ÁöÑËôöÁ∫øË°®Á§∫‰∏Ä‰∏™ËØ∑Ê±ÇÂú® Tomcat ‰∏≠ÊµÅËΩ¨ÁöÑËøáÁ®ã„ÄÇ</p><figure class="image-box">                <img src="3eea333acf49278cb00d07818fa5d0f8.webp" alt="img" title class>                <p>img</p>            </figure><p>Tomcat Êï¥‰ΩìÁªÑ‰ª∂ÂÖ≥Á≥ª</p><h3 id="ËøûÊé•Âô®"><a href="#ËøûÊé•Âô®" class="headerlink" title="ËøûÊé•Âô®"></a>ËøûÊé•Âô®</h3><p>Tomcat ÁöÑÊï¥‰ΩìÊû∂ÊûÑÂåÖÂê´‰∫Ü‰∏§‰∏™Ê†∏ÂøÉÁªÑ‰ª∂ËøûÊé•Âô®ÂíåÂÆπÂô®„ÄÇËøûÊé•Âô®Ë¥üË¥£ÂØπÂ§ñ‰∫§ÊµÅÔºåÂÆπÂô®Ë¥üË¥£ÂÜÖÈÉ®Â§ÑÁêÜ„ÄÇËøûÊé•Âô®Áî® <code>ProtocolHandler</code>Êé•Âè£Êù•Â∞ÅË£ÖÈÄö‰ø°ÂçèËÆÆÂíå <code>I/O</code>Ê®°ÂûãÁöÑÂ∑ÆÂºÇÔºå<code>ProtocolHandler</code>ÂÜÖÈÉ®ÂèàÂàÜ‰∏∫ <code>EndPoint</code>Âíå <code>Processor</code>Ê®°ÂùóÔºå<code>EndPoint</code>Ë¥üË¥£Â∫ïÂ±Ç <code>Socket</code>ÈÄö‰ø°Ôºå<code>Proccesor</code>Ë¥üË¥£Â∫îÁî®Â±ÇÂçèËÆÆËß£Êûê„ÄÇËøûÊé•Âô®ÈÄöËøáÈÄÇÈÖçÂô® <code>Adapter</code>Ë∞ÉÁî®ÂÆπÂô®„ÄÇ</p><p>ÂØπ Tomcat Êï¥‰ΩìÊû∂ÊûÑÁöÑÂ≠¶‰π†ÔºåÊàë‰ª¨ÂèØ‰ª•ÂæóÂà∞‰∏Ä‰∫õËÆæËÆ°Â§çÊùÇÁ≥ªÁªüÁöÑÂü∫Êú¨ÊÄùË∑Ø„ÄÇ<strong>È¶ñÂÖàË¶ÅÂàÜÊûêÈúÄÊ±ÇÔºåÊ†πÊçÆÈ´òÂÜÖËÅö‰ΩéËÄ¶ÂêàÁöÑÂéüÂàôÁ°ÆÂÆöÂ≠êÊ®°ÂùóÔºåÁÑ∂ÂêéÊâæÂá∫Â≠êÊ®°Âùó‰∏≠ÁöÑÂèòÂåñÁÇπÂíå‰∏çÂèòÁÇπÔºåÁî®Êé•Âè£ÂíåÊäΩË±°Âü∫Á±ªÂéªÂ∞ÅË£Ö‰∏çÂèòÁÇπÔºåÂú®ÊäΩË±°Âü∫Á±ª‰∏≠ÂÆö‰πâÊ®°ÊùøÊñπÊ≥ïÔºåËÆ©Â≠êÁ±ªËá™Ë°åÂÆûÁé∞ÊäΩË±°ÊñπÊ≥ïÔºå‰πüÂ∞±ÊòØÂÖ∑‰ΩìÂ≠êÁ±ªÂéªÂÆûÁé∞ÂèòÂåñÁÇπ„ÄÇ</strong></p><h3 id="ÂÆπÂô®-1"><a href="#ÂÆπÂô®-1" class="headerlink" title="ÂÆπÂô®"></a>ÂÆπÂô®</h3><p>ËøêÁî®‰∫Ü<strong>ÁªÑÂêàÊ®°Âºè ÁÆ°ÁêÜÂÆπÂô®„ÄÅÈÄöËøá ËßÇÂØüËÄÖÊ®°Âºè ÂèëÂ∏ÉÂêØÂä®‰∫ã‰ª∂ËææÂà∞Ëß£ËÄ¶„ÄÅÂºÄÈó≠ÂéüÂàô„ÄÇÈ™®Êû∂ÊäΩË±°Á±ªÂíåÊ®°ÊùøÊñπÊ≥ïÊäΩË±°Âèò‰∏é‰∏çÂèòÔºåÂèòÂåñÁöÑ‰∫§ÁªôÂ≠êÁ±ªÂÆûÁé∞Ôºå‰ªéËÄåÂÆûÁé∞‰ª£Á†ÅÂ§çÁî®Ôºå‰ª•ÂèäÁÅµÊ¥ªÁöÑÊãìÂ±ï</strong>„ÄÇ‰ΩøÁî®Ë¥£‰ªªÈìæÁöÑÊñπÂºèÂ§ÑÁêÜËØ∑Ê±ÇÔºåÊØîÂ¶ÇËÆ∞ÂΩïÊó•ÂøóÁ≠â„ÄÇ</p><h3 id="Á±ªÂä†ËΩΩÂô®"><a href="#Á±ªÂä†ËΩΩÂô®" class="headerlink" title="Á±ªÂä†ËΩΩÂô®"></a>Á±ªÂä†ËΩΩÂô®</h3><p>Tomcat ÁöÑËá™ÂÆö‰πâÁ±ªÂä†ËΩΩÂô® <code>WebAppClassLoader</code>‰∏∫‰∫ÜÈöîÁ¶ª Web Â∫îÁî®ÊâìÁ†¥‰∫ÜÂèå‰∫≤ÂßîÊâòÊú∫Âà∂ÔºåÂÆÉ<strong>È¶ñÂÖàËá™Â∑±Â∞ùËØïÂéªÂä†ËΩΩÊüê‰∏™Á±ªÔºåÂ¶ÇÊûúÊâæ‰∏çÂà∞ÂÜç‰ª£ÁêÜÁªôÁà∂Á±ªÂä†ËΩΩÂô®</strong>ÔºåÂÖ∂ÁõÆÁöÑÊòØ‰ºòÂÖàÂä†ËΩΩ Web Â∫îÁî®Ëá™Â∑±ÂÆö‰πâÁöÑÁ±ª„ÄÇ<strong>Èò≤Ê≠¢ Web Â∫îÁî®Ëá™Â∑±ÁöÑÁ±ªË¶ÜÁõñ JRE ÁöÑÊ†∏ÂøÉÁ±ª</strong>Ôºå‰ΩøÁî® <strong>ExtClassLoader</strong> ÂéªÂä†ËΩΩÔºåËøôÊ†∑Âç≥ÊâìÁ†¥‰∫ÜÂèå‰∫≤ÂßîÊ¥æÔºåÂèàËÉΩÂÆâÂÖ®Âä†ËΩΩ„ÄÇ</p><h2 id="Â¶Ç‰ΩïÈòÖËØªÊ∫êÁ†ÅÊåÅÁª≠Â≠¶‰π†"><a href="#Â¶Ç‰ΩïÈòÖËØªÊ∫êÁ†ÅÊåÅÁª≠Â≠¶‰π†" class="headerlink" title="Â¶Ç‰ΩïÈòÖËØªÊ∫êÁ†ÅÊåÅÁª≠Â≠¶‰π†"></a>Â¶Ç‰ΩïÈòÖËØªÊ∫êÁ†ÅÊåÅÁª≠Â≠¶‰π†</h2><p><strong>Â≠¶‰π†ÊòØ‰∏Ä‰∏™Âèç‰∫∫Á±ªÁöÑËøáÁ®ãÔºåÊòØÊØîËæÉÁóõËã¶ÁöÑ</strong>„ÄÇÂ∞§ÂÖ∂Â≠¶‰π†Êàë‰ª¨Â∏∏Áî®ÁöÑ‰ºòÁßÄÊäÄÊúØÊ°ÜÊû∂Êú¨Ë∫´ÊØîËæÉÂ∫ûÂ§ßÔºåËÆæËÆ°ÊØîËæÉÂ§çÊùÇÔºåÂú®Â≠¶‰π†ÂàùÊúüÂæàÂÆπÊòìÈÅáÂà∞ ‚ÄúÊå´ÊäòÊÑü‚ÄùÔºådebug Ë∑≥Êù•Ë∑≥ÂéªÈô∑ÂÖ•ÊÅêÊÄñÁªÜËäÇ‰πã‰∏≠Êó†Ê≥ïËá™ÊãîÔºåÂæÄÂæÄÂ∞±‰ºöÊîæÂºÉ„ÄÇ</p><p><strong>ÊâæÂà∞ÈÄÇÂêàËá™Â∑±ÁöÑÂ≠¶‰π†ÊñπÊ≥ïÈùûÂ∏∏ÈáçË¶ÅÔºåÂêåÊ†∑ÂÖ≥ÈîÆÁöÑÊòØË¶Å‰øùÊåÅÂ≠¶‰π†ÁöÑÂÖ¥Ë∂£ÂíåÂä®ÂäõÔºåÂπ∂‰∏îÂæóÂà∞Â≠¶‰π†ÂèçÈ¶àÊïàÊûú</strong>„ÄÇ</p><p>Â≠¶‰π†‰ºòÁßÄÊ∫êÁ†ÅÔºåÊàë‰ª¨Êî∂Ëé∑ÁöÑÂ∞±ÊòØÊû∂ÊûÑËÆæËÆ°ËÉΩÂäõÔºåÈÅáÂà∞Â§çÊùÇÈúÄÊ±ÇÊàë‰ª¨Â≠¶‰π†Âà∞ÂèØ‰ª•Âà©Áî®ÂêàÁêÜÊ®°Âºè‰∏éÁªÑ‰ª∂ÊäΩË±°ËÆæËÆ°‰∫ÜÂèØÊãìÂ±ïÊÄßÂº∫ÁöÑ‰ª£Á†ÅËÉΩÂäõ„ÄÇ</p><h3 id="Â¶Ç‰ΩïÈòÖËØª"><a href="#Â¶Ç‰ΩïÈòÖËØª" class="headerlink" title="Â¶Ç‰ΩïÈòÖËØª"></a>Â¶Ç‰ΩïÈòÖËØª</h3><p>ÊØîÂ¶ÇÊàëÊúÄÂàùÂú®Â≠¶‰π† Spring Ê°ÜÊû∂ÁöÑÊó∂ÂÄôÔºå‰∏ÄÂºÄÂßãÂ∞±ÈíªËøõÊüê‰∏™Ê®°ÂùóÂïÉËµ∑Êù•„ÄÇÁÑ∂ËÄåÁî±‰∫é Spring Â§™Â∫ûÂ§ßÔºåÊ®°Âùó‰πãÈó¥‰πüÊúâËÅîÁ≥ªÔºåÊ†πÊú¨‰∏çÊòéÁôΩ‰∏∫Âï•Ë¶ÅËøô‰πàÂÜôÔºåÂè™ËßâÂæó‰∏∫Âï•ËÆæËÆ°Ëøô‰πà ‚ÄúÁªï‚Äù„ÄÇ</p><h4 id="ÈîôËØØÊñπÂºè"><a href="#ÈîôËØØÊñπÂºè" class="headerlink" title="ÈîôËØØÊñπÂºè"></a>ÈîôËØØÊñπÂºè</h4><ul><li>Èô∑ÂÖ•ÁªÜËäÇÔºå‰∏çÁúãÂÖ®Â±ÄÔºö<strong>ÊàëËøòÊ≤°ÂºÑÊ∏ÖÊ•öÊ£ÆÊûóÈïøÂï•Ê†∑ÔºåÂ∞±ÁõØÁùÄÂè∂Â≠êÁúã</strong> ÔºåÁúã‰∏çÂà∞ÂÖ®Ë≤åÂíåÊï¥‰ΩìËÆæËÆ°ÊÄùË∑Ø„ÄÇÊâÄ‰ª•ÈòÖËØªÊ∫êÁ†ÅÂ≠¶‰π†ÁöÑÊó∂ÂÄô‰∏çË¶Å‰∏ÄÂºÄÂßãÂ∞±ËøõÂÖ•ÁªÜËäÇÔºåËÄåÊòØÂÆèËßÇÁúãÂæÖÊï¥‰ΩìÊû∂ÊûÑËÆæËÆ°ÊÄùÊÉ≥ÔºåÊ®°Âùó‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇ</li><li>ËøòÊ≤°Â≠¶‰ºöÁî®Â∞±Á†îÁ©∂Â¶Ç‰ΩïËÆæËÆ°ÔºöÈ¶ñÂÖàÂü∫Êú¨‰∏äÊ°ÜÊû∂ÈÉΩËøêÁî®‰∫ÜËÆæËÆ°Ê®°ÂºèÔºåÊàë‰ª¨ÊúÄËµ∑Á†Å‰πüË¶Å‰∫ÜËß£Â∏∏Áî®ÁöÑËÆæËÆ°Ê®°ÂºèÔºåÂç≥‰ΩøÊòØ‚ÄúËÉå‚ÄùÔºå‰πüÂæó‰∫ÜÁÑ∂‰∫éËÉ∏„ÄÇÂú®Â≠¶‰π†‰∏ÄÈó®ÊäÄÊúØÔºåÊàëÊé®ËçêÂÖàÁúãÂÆòÊñπÊñáÊ°£ÔºåÁúãÁúãÊúâÂì™‰∫õÊ®°Âùó„ÄÅÊï¥‰ΩìËÆæËÆ°ÊÄùÊÉ≥„ÄÇÁÑ∂Âêé‰∏ãËΩΩÁ§∫‰æãË∑ë‰∏ÄÈÅçÔºåÊúÄÂêéÊâçÊòØÁúãÊ∫êÁ†Å„ÄÇ</li><li>ÁúãÊ∫êÁ†ÅÊ∑±Á©∂ÁªÜËäÇÔºöÂà∞‰∫ÜÁúãÂÖ∑‰ΩìÊüê‰∏™Ê®°ÂùóÊ∫êÁ†ÅÁöÑÊó∂ÂÄô‰πüË¶Å‰∏ãÊÑèËØÜÁöÑ‰∏çË¶ÅÂéªÊ∑±ÂÖ•ÁªÜËäÇÔºåÈáçË¶ÅÁöÑÊòØÂ≠¶‰π†ËÆæËÆ°ÊÄùË∑ØÔºåËÄå‰∏çÊòØÂÖ∑‰Ωì‰∏Ä‰∏™ÊñπÊ≥ïÂÆûÁé∞ÈÄªËæë„ÄÇÈô§ÈùûËá™Â∑±Ë¶ÅÂü∫‰∫éÊ∫êÁ†ÅÂÅö‰∫åÊ¨°ÂºÄÂèë„ÄÇ</li></ul><h4 id="Ê≠£Á°ÆÊñπÂºè"><a href="#Ê≠£Á°ÆÊñπÂºè" class="headerlink" title="Ê≠£Á°ÆÊñπÂºè"></a>Ê≠£Á°ÆÊñπÂºè</h4><ul><li>ÂÆöÁÑ¶ÂéüÂàôÔºöÊäì‰∏ªÁ∫øÔºàÊäì‰Ωè‰∏Ä‰∏™Ê†∏ÂøÉÊµÅÁ®ãÂéªÂàÜÊûêÔºå‰∏çË¶ÅÊº´Êó†ÁõÆÁöÑÁöÑÂà∞Â§ÑÈòÖËØªÔºâ„ÄÇ</li><li>ÂÆèËßÇÊÄùÁª¥Ôºö‰ªéÂÖ®Â±ÄÁöÑËßÜËßíÂéªÁúãÂæÖÔºå‰∏äÂ∏ùËßÜËßíÁêÜÂá∫‰∏ªË¶ÅÊ†∏ÂøÉÊû∂ÊûÑËÆæËÆ°ÔºåÂÖàÊ£ÆÊûóÂêéÊ†ëÂè∂„ÄÇÂàáÂãø‰∏çË¶ÅËØïÂõæÂéªÊêûÊòéÁôΩÊØè‰∏ÄË°å‰ª£Á†Å„ÄÇ</li><li>Êñ≠ÁÇπÔºöÂêàÁêÜËøêÁî®Ë∞ÉÁî®Ê†àÔºàËßÇÂØüË∞ÉÁî®ËøáÁ®ã‰∏ä‰∏ãÊñáÔºâ„ÄÇ</li></ul><h3 id="Â∏¶ÁùÄÁõÆÊ†áÂéªÂ≠¶"><a href="#Â∏¶ÁùÄÁõÆÊ†áÂéªÂ≠¶" class="headerlink" title="Â∏¶ÁùÄÁõÆÊ†áÂéªÂ≠¶"></a>Â∏¶ÁùÄÁõÆÊ†áÂéªÂ≠¶</h3><p>ÊØîÂ¶ÇÊüê‰∫õÁü•ËØÜÁÇπÊòØÈù¢ËØïÁöÑÁÉ≠ÁÇπÔºåÈÇ£Â≠¶‰π†ÁõÆÊ†áÂ∞±ÊòØÂΩªÂ∫ïÁêÜËß£ÂíåÊéåÊè°ÂÆÉÔºåÂΩìË¢´ÈóÆÂà∞Áõ∏ÂÖ≥ÈóÆÈ¢òÊó∂Ôºå‰Ω†ÁöÑÂõûÁ≠îËÉΩÂ§ü‰ΩøÂæóÈù¢ËØïÂÆòÂØπ‰Ω†ÂàÆÁõÆÁõ∏ÁúãÔºåÊúâÊó∂ÂÄôÂæÄÂæÄÂá≠ÁùÄÊüê‰∏Ä‰∏™‰∫ÆÁÇπÂ∞±ËÉΩÂΩ±ÂìçÊúÄÂêéÁöÑÂΩïÁî®ÁªìÊûú„ÄÇ</p><p>ÂèàÊàñËÄÖÊé•Âà∞‰∏Ä‰∏™Á®çÂæÆÂ§çÊùÇÁöÑÈúÄÊ±ÇÔºå<strong>Â≠¶‰π†‰ªé‰ºòÁßÄÊ∫êÁ†Å‰∏≠ÂÄüÈâ¥ËÆæËÆ°ÊÄùË∑Ø‰∏é‰ºòÂåñÊäÄÂ∑ß„ÄÇ</strong></p><p><strong>ÊúÄÂêéÂ∞±ÊòØÂä®ÊâãÂÆûË∑µ</strong>ÔºåÂ∞ÜÊâÄÂ≠¶ËøêÁî®Âú®Â∑•‰ΩúÈ°πÁõÆ‰∏≠„ÄÇÂè™ÊúâÂä®ÊâãÂÆûË∑µÊâç‰ºöËÆ©Êàë‰ª¨ÂØπÊäÄÊúØÊúâÊúÄÁõ¥ËßÇÁöÑÊÑüÂèó„ÄÇÊúâÊó∂ÂÄôÊàë‰ª¨Âê¨Âà´‰∫∫ËÆ≤ÁªèÈ™åÂíåÁêÜËÆ∫ÔºåÊÑüËßâ‰ºº‰πéÊáÇ‰∫ÜÔºå‰ΩÜÊòØËøá‰∏ÄÊÆµÊó∂Èó¥‰æøÂèàÂøòËÆ∞‰∫Ü„ÄÇ</p><h2 id="ÂÆûÈôÖÂú∫ÊôØËøêÁî®"><a href="#ÂÆûÈôÖÂú∫ÊôØËøêÁî®" class="headerlink" title="ÂÆûÈôÖÂú∫ÊôØËøêÁî®"></a>ÂÆûÈôÖÂú∫ÊôØËøêÁî®</h2><p>ÁÆÄÂçïÁöÑÂàÜÊûê‰∫Ü Tomcat Êï¥‰ΩìÊû∂ÊûÑËÆæËÆ°Ôºå‰ªé „ÄêËøûÊé•Âô®„Äë Âà∞ „ÄêÂÆπÂô®„ÄëÔºåÂπ∂‰∏îÂàÜÂà´ÁªÜËØ¥‰∫Ü‰∏Ä‰∫õÁªÑ‰ª∂ÁöÑËÆæËÆ°ÊÄùÊÉ≥‰ª•ÂèäËÆæËÆ°Ê®°Âºè„ÄÇÊé•‰∏ãÊù•Â∞±ÊòØÂ¶Ç‰ΩïÂ≠¶‰ª•Ëá¥Áî®ÔºåÂÄüÈâ¥‰ºòÈõÖÁöÑËÆæËÆ°ËøêÁî®Âà∞ÂÆûÈôÖÂ∑•‰ΩúÂºÄÂèë‰∏≠„ÄÇ<strong>Â≠¶‰π†Ôºå‰ªéÊ®°‰ªøÂºÄÂßã„ÄÇ</strong></p><h3 id="Ë¥£‰ªªÈìæÊ®°Âºè"><a href="#Ë¥£‰ªªÈìæÊ®°Âºè" class="headerlink" title="Ë¥£‰ªªÈìæÊ®°Âºè"></a>Ë¥£‰ªªÈìæÊ®°Âºè</h3><p>Âú®Â∑•‰Ωú‰∏≠ÔºåÊúâËøô‰πà‰∏Ä‰∏™ÈúÄÊ±ÇÔºåÁî®Êà∑ÂèØ‰ª•ËæìÂÖ•‰∏Ä‰∫õ‰ø°ÊÅØÂπ∂ÂèØ‰ª•ÈÄâÊã©Êü•È™åËØ•‰ºÅ‰∏öÁöÑ „ÄêÂ∑•ÂïÜ‰ø°ÊÅØ„Äë„ÄÅ„ÄêÂè∏Ê≥ï‰ø°ÊÅØ„Äë„ÄÅ„Äê‰∏≠ÁôªÊÉÖÂÜµ„ÄëÁ≠âÂ¶Ç‰∏ãÂ¶ÇÊâÄÁ§∫ÁöÑ‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Ê®°ÂùóÔºåËÄå‰∏îÊ®°Âùó‰πãÈó¥ËøòÊúâ‰∏Ä‰∫õÂÖ¨ÂÖ±ÁöÑ‰∏úË•øÊòØË¶ÅÂêÑ‰∏™Ê®°ÂùóÂ§çÁî®„ÄÇ</p><p>ËøôÈáåÂ∞±ÂÉè‰∏Ä‰∏™ËØ∑Ê±ÇÔºå‰ºöË¢´Â§ö‰∏™Ê®°ÂùóÂéªÂ§ÑÁêÜ„ÄÇÊâÄ‰ª•ÊØè‰∏™Êü•ËØ¢Ê®°ÂùóÊàë‰ª¨ÂèØ‰ª•ÊäΩË±°‰∏∫ <strong>Â§ÑÁêÜÈòÄÈó®</strong>Ôºå‰ΩøÁî®‰∏Ä‰∏™ List Â∞ÜËøô‰∫õ ÈòÄÈó®‰øùÂ≠òËµ∑Êù•ÔºåËøôÊ†∑Êñ∞Â¢ûÊ®°ÂùóÊàë‰ª¨Âè™ÈúÄË¶ÅÊñ∞Â¢û‰∏Ä‰∏™<strong>ÈòÄÈó®</strong>Âç≥ÂèØÔºåÂÆûÁé∞‰∫Ü<strong>ÂºÄÈó≠ÂéüÂàô</strong>Ôºå<strong>ÂêåÊó∂Â∞Ü‰∏ÄÂ†ÜÊü•È™åÁöÑ‰ª£Á†ÅËß£ËÄ¶Âà∞‰∏çÂêåÁöÑÂÖ∑‰ΩìÈòÄÈó®‰∏≠</strong>Ôºå‰ΩøÁî®ÊäΩË±°Á±ªÊèêÂèñ ‚Äú<strong>‰∏çÂèòÁöÑ</strong>‚ÄùÂäüËÉΩ„ÄÇ</p><figure class="image-box">                <img src="58f80e12c2dd2b9abd20c16b832fd4b4.webp" alt="img" title class>                <p>img</p>            </figure><p>ÂÖ∑‰ΩìÁ§∫‰æã‰ª£Á†ÅÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö</p><p>È¶ñÂÖàÊäΩË±°Êàë‰ª¨ÁöÑÂ§ÑÁêÜÈòÄÈó®Ôºå <code>NetCheckDTO</code>ÊòØËØ∑Ê±Ç‰ø°ÊÅØ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Ë¥£‰ªªÈìæÊ®°ÂºèÔºöÂ§ÑÁêÜÊØè‰∏™Ê®°ÂùóÈòÄÈó®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Valve</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Ë∞ÉÁî®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> netCheckDTO</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">invoke</span><span class="params">(NetCheckDTO netCheckDTO)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÂÆö‰πâÊäΩË±°Âü∫Á±ªÔºåÂ§çÁî®‰ª£Á†Å„ÄÇ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractCheckValve</span> <span class="keyword">implements</span> <span class="title">Valve</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> AnalysisReportLogDO <span class="title">getLatestHistoryData</span><span class="params">(NetCheckDTO netCheckDTO, NetCheckDataTypeEnum checkDataTypeEnum)</span></span>&#123;</span><br><span class="line">        <span class="comment">// Ëé∑ÂèñÂéÜÂè≤ËÆ∞ÂΩïÔºåÁúÅÁï•‰ª£Á†ÅÈÄªËæë</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Ëé∑ÂèñÊü•È™åÊï∞ÊçÆÊ∫êÈÖçÁΩÆ</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title">getModuleSource</span><span class="params">(String querySource, ModuleEnum moduleEnum)</span></span>&#123;</span><br><span class="line">       <span class="comment">// ÁúÅÁï•‰ª£Á†ÅÈÄªËæë</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÂÆö‰πâÂÖ∑‰ΩìÊØè‰∏™Ê®°ÂùóÂ§ÑÁêÜÁöÑ‰∏öÂä°ÈÄªËæëÔºåÊØîÂ¶Ç „ÄêÁôæÂ∫¶Ë¥üÈù¢Êñ∞Èóª„ÄëÂØπÂ∫îÁöÑÂ§ÑÁêÜ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BaiduNegativeValve</span> <span class="keyword">extends</span> <span class="title">AbstractCheckValve</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">invoke</span><span class="params">(NetCheckDTO netCheckDTO)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÊúÄÂêéÂ∞±ÊòØÁÆ°ÁêÜÁî®Êà∑ÈÄâÊã©Ë¶ÅÊü•È™åÁöÑÊ®°ÂùóÔºåÊàë‰ª¨ÈÄöËøá List ‰øùÂ≠ò„ÄÇÁî®‰∫éËß¶ÂèëÊâÄÈúÄË¶ÅÁöÑÊü•È™åÊ®°Âùó</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">NetCheckService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Ê≥®ÂÖ•ÊâÄÊúâÁöÑÈòÄÈó®</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Map valveMap;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ÂèëÈÄÅÊü•È™åËØ∑Ê±Ç</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> netCheckDTO</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Async</span>(<span class="string">"asyncExecutor"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sendCheckRequest</span><span class="params">(NetCheckDTO netCheckDTO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Áî®‰∫é‰øùÂ≠òÂÆ¢Êà∑ÈÄâÊã©Â§ÑÁêÜÁöÑÊ®°ÂùóÈòÄÈó®</span></span><br><span class="line">        List valves = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        CheckModuleConfigDTO checkModuleConfig = netCheckDTO.getCheckModuleConfig();</span><br><span class="line">        <span class="comment">// Â∞ÜÁî®Êà∑ÈÄâÊã©Êü•È™åÁöÑÊ®°ÂùóÊ∑ªÂä†Âà∞ ÈòÄÈó®ÈìæÊù°‰∏≠</span></span><br><span class="line">        <span class="keyword">if</span> (checkModuleConfig.getBaiduNegative()) &#123;</span><br><span class="line">            valves.add(valveMap.get(<span class="string">"baiduNegativeValve"</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ÁúÅÁï•ÈÉ®ÂàÜ‰ª£Á†Å.......</span></span><br><span class="line">        <span class="keyword">if</span> (CollectionUtils.isEmpty(valves)) &#123;</span><br><span class="line">            log.info(<span class="string">"ÁΩëÊü•Êü•È™åÊ®°Âùó‰∏∫Á©∫ÔºåÊ≤°ÊúâÈúÄË¶ÅÊü•È™åÁöÑ‰ªªÂä°"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Ëß¶ÂèëÂ§ÑÁêÜ</span></span><br><span class="line">        valves.forEach(valve -&gt; valve.invoke(netCheckDTO));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Ê®°ÊùøÊñπÊ≥ïÊ®°Âºè"><a href="#Ê®°ÊùøÊñπÊ≥ïÊ®°Âºè" class="headerlink" title="Ê®°ÊùøÊñπÊ≥ïÊ®°Âºè"></a>Ê®°ÊùøÊñπÊ≥ïÊ®°Âºè</h3><p>ÈúÄÊ±ÇÊòØËøôÊ†∑ÁöÑÔºåÂèØÊ†πÊçÆÂÆ¢Êà∑ÂΩïÂÖ•ÁöÑË¥¢Êä• excel Êï∞ÊçÆÊàñËÄÖ‰ºÅ‰∏öÂêçÁß∞ÊâßË°åË¥¢Êä•ÂàÜÊûê„ÄÇ</p><p>ÂØπ‰∫éÈùû‰∏äÂ∏ÇÁöÑÂàôËß£Êûê excel -&gt; Ê†°È™åÊï∞ÊçÆÊòØÂê¶ÂêàÊ≥ï-&gt;ÊâßË°åËÆ°ÁÆó„ÄÇ</p><p>‰∏äÂ∏Ç‰ºÅ‰∏öÔºöÂà§Êñ≠ÂêçÁß∞ÊòØÂê¶Â≠òÂú® Ôºå‰∏çÂ≠òÂú®ÂàôÂèëÈÄÅÈÇÆ‰ª∂Âπ∂‰∏≠Ê≠¢ËÆ°ÁÆó-&gt; ‰ªéÊï∞ÊçÆÂ∫ìÊãâÂèñË¥¢Êä•Êï∞ÊçÆÔºåÂàùÂßãÂåñÊü•È™åÊó•Âøó„ÄÅÁîüÊàê‰∏ÄÊù°Êä•ÂëäËÆ∞ÂΩïÔºåËß¶ÂèëËÆ°ÁÆó-&gt; Ê†πÊçÆÂ§±Ë¥•‰∏éÊàêÂäü‰øÆÊîπ‰ªªÂä°Áä∂ÊÄÅ „ÄÇ</p><figure class="image-box">                <img src="23cf73882200a0622108b396eb8710c3.webp" alt="img" title class>                <p>img</p>            </figure><p>ÈáçË¶ÅÁöÑ ‚ÄùÂèò‚Äú ‰∏é ‚Äù‰∏çÂèò‚ÄúÔºå</p><ul><li><strong>‰∏çÂèò</strong>ÁöÑÊòØÊï¥‰∏™ÊµÅÁ®ãÊòØ<strong>ÂàùÂßãÂåñÊü•È™åÊó•Âøó„ÄÅÂàùÂßãÂåñ‰∏ÄÊù°Êä•Âëä</strong>„ÄÅ<strong>ÂâçÊúüÊ†°È™åÊï∞ÊçÆ</strong>ÔºàËã•ÊòØ‰∏äÂ∏ÇÂÖ¨Âè∏Ê†°È™å‰∏çÈÄöËøáËøòÈúÄË¶ÅÊûÑÂª∫ÈÇÆ‰ª∂Êï∞ÊçÆÂπ∂ÂèëÈÄÅÔºâ„ÄÅ‰ªé‰∏çÂêåÊù•Ê∫êÊãâÂèñË¥¢Êä•Êï∞ÊçÆÂπ∂‰∏îÈÄÇÈÖçÈÄöÁî®Êï∞ÊçÆ„ÄÅÁÑ∂ÂêéËß¶ÂèëËÆ°ÁÆóÔºå‰ªªÂä°ÂºÇÂ∏∏‰∏éÊàêÂäüÈÉΩÈúÄË¶Å‰øÆÊîπÁä∂ÊÄÅ„ÄÇ</li><li><strong>ÂèòÂåñ</strong>ÁöÑÊòØ‰∏äÂ∏Ç‰∏éÈùû‰∏äÂ∏ÇÊ†°È™åËßÑÂàô‰∏ç‰∏ÄÊ†∑ÔºåËé∑ÂèñË¥¢Êä•Êï∞ÊçÆÊñπÂºè‰∏ç‰∏ÄÊ†∑Ôºå‰∏§ÁßçÊñπÂºèÁöÑË¥¢Êä•Êï∞ÊçÆÈúÄË¶ÅÈÄÇÈÖç</li></ul><p>Êï¥‰∏™ÁÆóÊ≥ïÊµÅÁ®ãÊòØÂõ∫ÂÆöÁöÑÊ®°ÊùøÔºå‰ΩÜÊòØÈúÄË¶ÅÂ∞Ü<strong>ÁÆóÊ≥ïÂÜÖÈÉ®ÂèòÂåñÁöÑÈÉ®ÂàÜ</strong>ÂÖ∑‰ΩìÂÆûÁé∞Âª∂ËøüÂà∞‰∏çÂêåÂ≠êÁ±ªÂÆûÁé∞ÔºåËøôÊ≠£ÊòØÊ®°ÊùøÊñπÊ≥ïÊ®°ÂºèÁöÑÊúÄ‰Ω≥Âú∫ÊôØ„ÄÇ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractAnalysisTemplate</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Êèê‰∫§Ë¥¢Êä•ÂàÜÊûêÊ®°ÊùøÊñπÊ≥ïÔºåÂÆö‰πâÈ™®Êû∂ÊµÅÁ®ã</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> reportAnalysisRequest</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">final</span> FinancialAnalysisResultDTO <span class="title">doProcess</span><span class="params">(FinancialReportAnalysisRequest reportAnalysisRequest)</span> </span>&#123;</span><br><span class="line">        FinancialAnalysisResultDTO analysisDTO = <span class="keyword">new</span> FinancialAnalysisResultDTO();</span><br><span class="line">  <span class="comment">// ÊäΩË±°ÊñπÊ≥ïÔºöÊèê‰∫§Êü•È™åÁöÑÂêàÊ≥ïÊ†°È™å</span></span><br><span class="line">        <span class="keyword">boolean</span> prepareValidate = prepareValidate(reportAnalysisRequest, analysisDTO);</span><br><span class="line">        log.info(<span class="string">"prepareValidate Ê†°È™åÁªìÊûú = &#123;&#125; "</span>, prepareValidate);</span><br><span class="line">        <span class="keyword">if</span> (!prepareValidate) &#123;</span><br><span class="line">   <span class="comment">// ÊäΩË±°ÊñπÊ≥ïÔºöÊûÑÂª∫ÈÄöÁü•ÈÇÆ‰ª∂ÊâÄÈúÄË¶ÅÁöÑÊï∞ÊçÆ</span></span><br><span class="line">            buildEmailData(analysisDTO);</span><br><span class="line">            log.info(<span class="string">"ÊûÑÂª∫ÈÇÆ‰ª∂‰ø°ÊÅØÔºådata = &#123;&#125;"</span>, JSON.toJSONString(analysisDTO));</span><br><span class="line">            <span class="keyword">return</span> analysisDTO;</span><br><span class="line">        &#125;</span><br><span class="line">        String reportNo = FINANCIAL_REPORT_NO_PREFIX + reportAnalysisRequest.getUserId() + SerialNumGenerator.getFixLenthSerialNumber();</span><br><span class="line">        <span class="comment">// ÁîüÊàêÂàÜÊûêÊó•Âøó</span></span><br><span class="line">        initFinancialAnalysisLog(reportAnalysisRequest, reportNo);</span><br><span class="line">  <span class="comment">// ÁîüÊàêÂàÜÊûêËÆ∞ÂΩï</span></span><br><span class="line">        initAnalysisReport(reportAnalysisRequest, reportNo);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ÊäΩË±°ÊñπÊ≥ïÔºöÊãâÂèñË¥¢Êä•Êï∞ÊçÆÔºå‰∏çÂêåÂ≠êÁ±ªÂÆûÁé∞</span></span><br><span class="line">            FinancialDataDTO financialData = pullFinancialData(reportAnalysisRequest);</span><br><span class="line">            log.info(<span class="string">"ÊãâÂèñË¥¢Êä•Êï∞ÊçÆÂÆåÊàê, ÂáÜÂ§áÊâßË°åËÆ°ÁÆó"</span>);</span><br><span class="line">            <span class="comment">// ÊµãÁÆóÊåáÊ†á</span></span><br><span class="line">            financialCalcContext.calc(reportAnalysisRequest, financialData, reportNo);</span><br><span class="line">   <span class="comment">// ËÆæÁΩÆÂàÜÊûêÊó•Âøó‰∏∫ÊàêÂäü</span></span><br><span class="line">            successCalc(reportNo);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">"Ë¥¢Êä•ËÆ°ÁÆóÂ≠ê‰ªªÂä°Âá∫Áé∞ÂºÇÂ∏∏"</span>, e);</span><br><span class="line">   <span class="comment">// ËÆæÁΩÆÂàÜÊûêÊó•ÂøóÂ§±Ë¥•</span></span><br><span class="line">            failCalc(reportNo);</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> analysisDTO;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÊúÄÂêéÊñ∞Âª∫‰∏§‰∏™Â≠êÁ±ªÁªßÊâøËØ•Ê®°ÊùøÔºåÂπ∂ÂÆûÁé∞ÊäΩË±°ÊñπÊ≥ï„ÄÇËøôÊ†∑Â∞±Â∞Ü‰∏äÂ∏Ç‰∏éÈùû‰∏äÂ∏Ç‰∏§ÁßçÁ±ªÂûãÁöÑÂ§ÑÁêÜÈÄªËæëËß£ËÄ¶ÔºåÂêåÊó∂ÂèàÂ§çÁî®‰∫Ü‰ª£Á†Å„ÄÇ</p><h3 id="Á≠ñÁï•Ê®°Âºè"><a href="#Á≠ñÁï•Ê®°Âºè" class="headerlink" title="Á≠ñÁï•Ê®°Âºè"></a>Á≠ñÁï•Ê®°Âºè</h3><p>ÈúÄÊ±ÇÊòØËøôÊ†∑ÔºåË¶ÅÂÅö‰∏Ä‰∏™‰∏áËÉΩËØÜÂà´Èì∂Ë°åÊµÅÊ∞¥ÁöÑ excel Êé•Âè£ÔºåÂÅáËÆæÊ†áÂáÜÊµÅÊ∞¥ÂåÖÂê´„Äê‰∫§ÊòìÊó∂Èó¥„ÄÅÊî∂ÂÖ•„ÄÅÊîØÂá∫„ÄÅ‰∫§Êòì‰ΩôÈ¢ù„ÄÅ‰ªòÊ¨æ‰∫∫Ë¥¶Âè∑„ÄÅ‰ªòÊ¨æ‰∫∫ÂêçÂ≠ó„ÄÅÊî∂Ê¨æ‰∫∫ÂêçÁß∞„ÄÅÊî∂Ê¨æ‰∫∫Ë¥¶Âè∑„ÄëÁ≠âÂ≠óÊÆµ„ÄÇÁé∞Âú®Êàë‰ª¨Ëß£ÊûêÂá∫Êù•ÊØè‰∏™ÂøÖË¶ÅÂ≠óÊÆµÊâÄÂú® excel Ë°®Â§¥ÁöÑ‰∏ãÊ†á„ÄÇ‰ΩÜÊòØÊµÅÊ∞¥ÊúâÂ§öÁßçÊÉÖÂÜµÔºö</p><ol><li>‰∏ÄÁßçÂ∞±ÊòØÂåÖÂê´ÊâÄÊúâÊ†áÂáÜÂ≠óÊÆµ„ÄÇ</li><li>Êî∂ÂÖ•„ÄÅÊîØÂá∫‰∏ãÊ†áÊòØÂêå‰∏ÄÂàóÔºåÈÄöËøáÊ≠£Ë¥üÊù•Âå∫ÂàÜÊî∂ÂÖ•‰∏éÊîØÂá∫„ÄÇ</li><li>Êî∂ÂÖ•‰∏éÊîØÂá∫ÊòØÂêå‰∏ÄÂàóÔºåÊúâ‰∏Ä‰∏™‰∫§ÊòìÁ±ªÂûãÁöÑÂ≠óÊÆµÊù•Âå∫ÂàÜ„ÄÇ</li><li>ÁâπÊÆäÈì∂Ë°åÁöÑÁâπÊÆäÂ§ÑÁêÜ„ÄÇ</li></ol><p>‰πüÂ∞±ÊòØÊàë‰ª¨Ë¶Å<strong>Ê†πÊçÆËß£ÊûêÂØπÂ∫îÁöÑ‰∏ãÊ†áÊâæÂà∞ÂØπÂ∫îÁöÑÂ§ÑÁêÜÈÄªËæëÁÆóÊ≥ï</strong>ÔºåÊàë‰ª¨ÂèØËÉΩÂú®‰∏Ä‰∏™ÊñπÊ≥ïÈáåÈù¢ÂÜôË∂ÖÂ§ö <code>if else</code> ÁöÑ‰ª£Á†ÅÔºåÊï¥‰∏™ÊµÅÊ∞¥Â§ÑÁêÜÈÉΩÂÅ∂ÂêàÂú®‰∏ÄËµ∑ÔºåÂÅáÂ¶ÇÊú™Êù•ÂÜçÊù•‰∏ÄÁßçÊñ∞ÁöÑÊµÅÊ∞¥Á±ªÂûãÔºåËøòË¶ÅÁªßÁª≠ÊîπËÄÅ‰ª£Á†Å„ÄÇÊúÄÂêéÂèØËÉΩÂá∫Áé∞ ‚ÄúÂèàËá≠ÂèàÈïøÔºåÈöæ‰ª•Áª¥Êä§‚Äù ÁöÑ‰ª£Á†ÅÂ§çÊùÇÂ∫¶„ÄÇ</p><p>Ëøô‰∏™Êó∂ÂÄôÊàë‰ª¨ÂèØ‰ª•Áî®Âà∞<strong>Á≠ñÁï•Ê®°Âºè</strong>Ôºå<strong>Â∞Ü‰∏çÂêåÊ®°ÊùøÁöÑÊµÅÊ∞¥‰ΩøÁî®‰∏çÂêåÁöÑÂ§ÑÁêÜÂô®Â§ÑÁêÜÔºåÊ†πÊçÆÊ®°ÊùøÊâæÂà∞ÂØπÂ∫îÁöÑÁ≠ñÁï•ÁÆóÊ≥ïÂéªÂ§ÑÁêÜ</strong>„ÄÇÂç≥‰ΩøÊú™Êù•ÂÜçÂä†‰∏ÄÁßçÁ±ªÂûãÔºåÊàë‰ª¨Âè™Ë¶ÅÊñ∞Âä†‰∏ÄÁßçÂ§ÑÁêÜÂô®Âç≥ÂèØÔºåÈ´òÂÜÖËÅö‰ΩéËÄ¶ÂêàÔºå‰∏îÂèØÊãìÂ±ï„ÄÇ</p><figure class="image-box">                <img src="bc69c1f573168ded681da5bc39642a57.webp" alt="img" title class>                <p>img</p>            </figure><p>ÂÆö‰πâÂ§ÑÁêÜÂô®Êé•Âè£Ôºå‰∏çÂêåÂ§ÑÁêÜÂô®ÂéªÂÆûÁé∞Â§ÑÁêÜÈÄªËæë„ÄÇÂ∞ÜÊâÄÊúâÁöÑÂ§ÑÁêÜÂô®Ê≥®ÂÖ•Âà∞ <code>BankFlowDataHandler</code> ÁöÑ<code>data_processor_map</code>‰∏≠ÔºåÊ†πÊçÆ‰∏çÂêåÁöÑÂú∫ÊôØÂèñÂá∫ÂØπÂ∑≤ÁªèÁöÑÂ§ÑÁêÜÂô®Â§ÑÁêÜÊµÅÊ∞¥„ÄÇ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">DataProcessor</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Â§ÑÁêÜÊµÅÊ∞¥Êï∞ÊçÆ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> bankFlowTemplateDO ÊµÅÊ∞¥‰∏ãÊ†áÊï∞ÊçÆ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> row</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">BankTransactionFlowDO <span class="title">doProcess</span><span class="params">(BankFlowTemplateDO bankFlowTemplateDO, List row)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ÊòØÂê¶ÊîØÊåÅÂ§ÑÁêÜËØ•Ê®°Êùø,‰∏çÂêåÁ±ªÂûãÁöÑÊµÅÊ∞¥Á≠ñÁï•Ê†πÊçÆÊ®°ÊùøÊï∞ÊçÆÂà§Êñ≠ÊòØÂê¶ÊîØÊåÅËß£Êûê</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isSupport</span><span class="params">(BankFlowTemplateDO bankFlowTemplateDO)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Â§ÑÁêÜÂô®ÁöÑ‰∏ä‰∏ãÊñá</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BankFlowDataContext</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Â∞ÜÊâÄÊúâÂ§ÑÁêÜÂô®Ê≥®ÂÖ•Âà∞ map ‰∏≠</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> List processors;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ÊâæÂØπÂØπÂ∫îÁöÑÂ§ÑÁêÜÂô®Â§ÑÁêÜÊµÅÊ∞¥</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">process</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         DataProcessor processor = getProcessor(bankFlowTemplateDO);</span><br><span class="line">        <span class="keyword">for</span>(DataProcessor processor Ôºöprocessors) &#123;</span><br><span class="line">           <span class="keyword">if</span> (processor.isSupport(bankFlowTemplateDO)) &#123;</span><br><span class="line">             <span class="comment">// row Â∞±ÊòØ‰∏ÄË°åÊµÅÊ∞¥Êï∞ÊçÆ</span></span><br><span class="line">           processor.doProcess(bankFlowTemplateDO, row);</span><br><span class="line">             <span class="keyword">break</span>;</span><br><span class="line">           &#125;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÂÆö‰πâÈªòËÆ§Â§ÑÁêÜÂô®ÔºåÂ§ÑÁêÜÊ≠£Â∏∏Ê®°ÊùøÔºåÊñ∞Â¢ûÊ®°ÊùøÂè™Ë¶ÅÊñ∞Â¢ûÂ§ÑÁêÜÂô®ÂÆûÁé∞ <code>DataProcessor</code>Âç≥ÂèØ„ÄÇ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ÈªòËÆ§Â§ÑÁêÜÂô®ÔºöÊ≠£ÂØπËßÑËåÉÊµÅÊ∞¥Ê®°Êùø</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span>(<span class="string">"defaultDataProcessor"</span>)</span><br><span class="line"><span class="meta">@Slf</span>4j</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DefaultDataProcessor</span> <span class="keyword">implements</span> <span class="title">DataProcessor</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BankTransactionFlowDO <span class="title">doProcess</span><span class="params">(BankFlowTemplateDO bankFlowTemplateDO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ÁúÅÁï•Â§ÑÁêÜÈÄªËæëÁªÜËäÇ</span></span><br><span class="line">        <span class="keyword">return</span> bankTransactionFlowDO;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">strategy</span><span class="params">(BankFlowTemplateDO bankFlowTemplateDO)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// ÁúÅÁï•Âà§Êñ≠ÊòØÂê¶ÊîØÊåÅËß£ÊûêËØ•ÊµÅÊ∞¥</span></span><br><span class="line">      <span class="keyword">boolean</span> isDefault = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> isDefault;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ÈÄöËøáÁ≠ñÁï•Ê®°ÂºèÔºåÊàë‰ª¨Â∞Ü‰∏çÂêåÂ§ÑÁêÜÈÄªËæëÂàÜÈÖçÂà∞‰∏çÂêåÁöÑÂ§ÑÁêÜÁ±ª‰∏≠ÔºåËøôÊ†∑ÂÆåÂÖ®Ëß£ËÄ¶Ôºå‰æø‰∫éÊãìÂ±ï„ÄÇ</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Tomcat-Êû∂ÊûÑÂéüÁêÜËß£ÊûêÂà∞Êû∂ÊûÑËÆæËÆ°ÂÄüÈâ¥&quot;&gt;&lt;a href=&quot;#Tomcat-Êû∂ÊûÑÂéüÁêÜËß£ÊûêÂà∞Êû∂ÊûÑËÆæËÆ°ÂÄüÈâ¥&quot; class=&quot;headerlink&quot; title=&quot;Tomcat Êû∂ÊûÑÂéüÁêÜËß£ÊûêÂà∞Êû∂ÊûÑËÆæËÆ°ÂÄüÈâ¥&quot;&gt;&lt;/a&gt;Tomcat Êû∂ÊûÑÂéüÁêÜËß£ÊûêÂà∞Êû∂ÊûÑËÆæËÆ°ÂÄüÈâ¥&lt;/h1&gt;&lt;</summary>
      
    
    
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/categories/ÊäÄÊúØ/"/>
    
    
    <category term="ÊäÄÊúØ" scheme="https://github.com/missionOdd/tags/ÊäÄÊúØ/"/>
    
    <category term="ÂéüÁêÜ" scheme="https://github.com/missionOdd/tags/ÂéüÁêÜ/"/>
    
    <category term="tomcat" scheme="https://github.com/missionOdd/tags/tomcat/"/>
    
  </entry>
  
</feed>
